# üöÇ Railway Environment Variables Setup

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: BL_Bot –ø–æ—Ç—Ä–µ–±—É—î OpenAI API Key

### –ü—Ä–æ–±–ª–µ–º–∞
BL_Bot –≤–∏–¥–∞—î –∑–∞–≥–ª—É—à–∫—É –∑–∞–º—ñ—Å—Ç—å —Ä–µ–∞–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π, —Ç–æ–º—É —â–æ `OPENAI_API_KEY` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –≤ Railway environment variables.

### –í–∏—Ä—ñ—à–µ–Ω–Ω—è

1. **–û—Ç—Ä–∏–º–∞–π OpenAI API Key:**
   - –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://platform.openai.com/api-keys
   - –°—Ç–≤–æ—Ä–∏ –Ω–æ–≤–∏–π API key (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π —ñ—Å–Ω—É—é—á–∏–π)
   - –°–∫–æ–ø—ñ—é–π –∫–ª—é—á (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `sk-proj-...`)

2. **–î–æ–¥–∞–π –∫–ª—é—á –≤ Railway:**
   - –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://railway.app
   - –í–∏–±–µ—Ä–∏ —Å–≤—ñ–π –ø—Ä–æ–µ–∫—Ç (Biolab-Logistik-Planner)
   - –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–æ–∑–¥—ñ–ª **Variables**
   - –î–æ–¥–∞–π –Ω–æ–≤—É –∑–º—ñ–Ω–Ω—É:
     ```
     OPENAI_API_KEY=sk-proj-—Ç–≤—ñ–π-—Ä–µ–∞–ª—å–Ω–∏–π-–∫–ª—é—á-—Ç—É—Ç
     ```
   - –ù–∞—Ç–∏—Å–Ω–∏ **Save** –∞–±–æ **Deploy**

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó
   - –ê–±–æ –≤—Ä—É—á–Ω—É –Ω–∞—Ç–∏—Å–Ω–∏ **Restart** –≤ Railway dashboard

4. **–ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏:**
   - –í Railway –ø–µ—Ä–µ–π–¥–∏ –≤ **Deployments** ‚Üí **View Logs**
   - –®—É–∫–∞–π —Ä—è–¥–æ–∫:
     ```
     ‚úÖ BL_Bot initialized successfully
     aiEnabled: true  ‚Üê –ú–ê–Ñ –ë–£–¢–ò true!
     ```

### –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø—Ä–∞—Ü—é—î

1. –í—ñ–¥–∫—Ä–∏–π –º–µ—Å–µ–Ω–¥–∂–µ—Ä –≤ –¥–æ–¥–∞—Ç–∫—É
2. –°—Ç–≤–æ—Ä–∏ –Ω–æ–≤—É —Ä–æ–∑–º–æ–≤—É –∑ BL_Bot (—Ñ—ñ–æ–ª–µ—Ç–æ–≤–∞ –∫–Ω–æ–ø–∫–∞)
3. –ù–∞–¥—ñ—à–ª–∏ –±—É–¥—å-—è–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–Ω–∞–ø—Ä. "–°–∫–∞–∂–∏ –ø—Ä–æ –º–æ—ó –∑–∞–≤–¥–∞–Ω–Ω—è")
4. –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å **–ù–ï** "–í–∏–±–∞—á—Ç–µ, AI-—Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞—Ä–∞–∑ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ..." - **–ø—Ä–∞—Ü—é—î! ‚úÖ**

### –Ü–Ω—à—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –≤ Railway

```bash
# –û–±–æ–≤'—è–∑–∫–æ–≤—ñ
DATABASE_URL=postgresql://... (Railway –¥–æ–¥–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
JWT_SECRET=your-super-secret-jwt-key-change-this
OPENAI_API_KEY=sk-proj-your-key-here

# –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ
REDIS_URL=redis://... (–¥–ª—è online —Å—Ç–∞—Ç—É—Å—ñ–≤)
CLOUDINARY_CLOUD_NAME=your-cloud-name (–¥–ª—è stories –º–µ–¥—ñ–∞)
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
NODE_ENV=production
PORT=5000 (Railway –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
```

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

**–ß–æ–º—É –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–≤ –±–æ—Ç:**

–í `server/services/blBot.js:317-318`:
```javascript
if (!this.openai) {
  return '–í–∏–±–∞—á—Ç–µ, AI-—Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞—Ä–∞–∑ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ...';
}
```

–Ø–∫—â–æ `OPENAI_API_KEY` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π, `this.openai` –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è `null` —ñ –±–æ—Ç –ø–æ–≤–µ—Ä—Ç–∞—î –∑–∞–≥–ª—É—à–∫—É –∑–∞–º—ñ—Å—Ç—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ ChatGPT –∑–∞–ø–∏—Ç—É.

**–ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–ª—é—á–∞:**
```javascript
this.openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY  // ‚úÖ –ü—Ä–∞—Ü—é—î!
});
```

–¢–µ–ø–µ—Ä –Ω–∞ –ª—ñ–Ω—ñ—ó 335-343 –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω–∏–π –∑–∞–ø–∏—Ç –¥–æ ChatGPT API:
```javascript
const completion = await this.openai.chat.completions.create({
  model: 'gpt-4o-mini',
  messages: [
    { role: 'system', content: systemPrompt },
    { role: 'user', content: userMessage }
  ],
  temperature: 0.7,
  max_tokens: 1000
});
```

## üìù Checklist

- [ ] –û—Ç—Ä–∏–º–∞–≤ OpenAI API key
- [ ] –î–æ–¥–∞–≤ `OPENAI_API_KEY` –≤ Railway Variables
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤ —Å–µ—Ä–≤–µ—Ä –≤ Railway
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏–≤ –ª–æ–≥–∏: `aiEnabled: true`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞–≤ –±–æ—Ç–∞ –≤ –º–µ—Å–µ–Ω–¥–∂–µ—Ä—ñ
- [ ] –û—Ç—Ä–∏–º–∞–≤ —Ä–µ–∞–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ ChatGPT (–Ω–µ –∑–∞–≥–ª—É—à–∫—É)

## üÜò –î–æ–ø–æ–º–æ–≥–∞

–Ø–∫—â–æ –ø—ñ—Å–ª—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤ –±–æ—Ç –≤—Å–µ —â–µ –Ω–µ –ø—Ä–∞—Ü—é—î:
1. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏ –≤ Railway ‚Üí —á–∏ —î –ø–æ–º–∏–ª–∫–∏ –≤—ñ–¥ OpenAI
2. –ü–µ—Ä–µ–≤—ñ—Ä —á–∏ –∫–ª—é—á –≤–∞–ª—ñ–¥–Ω–∏–π –Ω–∞ https://platform.openai.com
3. –ü–µ—Ä–µ–≤—ñ—Ä —á–∏ —î –±–∞–ª–∞–Ω—Å –Ω–∞ OpenAI –∞–∫–∞—É–Ω—Ç—ñ
4. –ü–µ—Ä–µ–≤—ñ—Ä —á–∏ –∫–ª—é—á –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –º–æ–¥–µ–ª—ñ `gpt-4o-mini`
