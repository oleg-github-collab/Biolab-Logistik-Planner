/*! For license information please see main.60471b9e.js.LICENSE.txt */
(()=>{var e={52:(e,t,n)=>{var r=n(6463),a=n(2535);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[a(t[n++])];return n&&n==s?e:void 0}},53:(e,t,n)=>{var r=n(4467);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var i=e.apply(this,r);return n.cache=s.set(a,i)||s,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},150:(e,t,n)=>{var r=n(5099),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},166:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(2156);function a(e,t,n){e.closest&&!n&&e.closest(t);var a=e;do{if((0,r.A)(a,t))return a;a=a.parentElement}while(a&&a!==n&&a.nodeType===document.ELEMENT_NODE);return null}},184:(e,t,n)=>{var r=n(2022),a=n(9248);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},202:(e,t,n)=>{var r=n(220)(n(4759),"Promise");e.exports=r},210:(e,t,n)=>{var r=n(516),a=n(4206),s=n(9042),i=n(1235),o=Object.prototype,l=o.hasOwnProperty,u=r(function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&s(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],d=i(c),h=-1,m=d.length;++h<m;){var p=d[h],f=e[p];(void 0===f||a(f,o[p])&&!l.call(e,p))&&(e[p]=c[p])}return e});e.exports=u},215:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(9809);function a(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,a){var s=(0,r.A)(n);if(void 0===a)return s?s[e]:n[t];s?s.scrollTo(s[e],a):n[t]=a}}},220:(e,t,n)=>{var r=n(7949),a=n(8166);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},231:(e,t,n)=>{var r=n(3616),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},291:(e,t,n)=>{var r=n(3965),a=n(5724);e.exports=function(e,t){return e&&r(t,a(t),e)}},314:(e,t,n)=>{var r=n(2588),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},366:(e,t,n)=>{var r=n(8925);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},423:(e,t,n)=>{var r=n(3031),a=n(5724);e.exports=function(e,t){return e&&r(e,t,a)}},475:(e,t,n)=>{var r=n(7101);e.exports=function(e){return r(this,e).has(e)}},516:(e,t,n)=>{var r=n(9002),a=n(4295),s=n(1043);e.exports=function(e,t){return s(a(e,t,r),e+"")}},549:(e,t,n)=>{"use strict";n.d(t,{E:()=>u,Z:()=>l});var r=n(7534),a=(new Date).getTime();var s="clearTimeout",i=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),r=setTimeout(e,n);return a=t,r},o=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.A&&["","webkit","moz","o","ms"].some(function(e){var t=o(e,"request");return t in window&&(s=o(e,"cancel"),i=function(e){return window[t](e)}),!!i});var l=function(e){"function"===typeof window[s]&&window[s](e)},u=i},613:(e,t,n)=>{"use strict";var r=n(4994).default;t.A=void 0;var a=r(n(6795));t.A=a.default},656:(e,t,n)=>{var r=n(184);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,s=e===e,i=r(e),o=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!i&&e>t||i&&o&&u&&!l&&!c||a&&o&&u||!n&&u||!s)return 1;if(!a&&!i&&!c&&e<t||c&&n&&s&&!a&&!i||l&&n&&s||!o&&s||!u)return-1}return 0}},708:(e,t,n)=>{var r=n(7101);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},738:(e,t,n)=>{var r=n(1111),a=n(5661),s=n(1465);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||a),string:new r}}},755:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},i=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,a=t.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!s)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},o=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(a)return a(e,n).value}return e[n]};e.exports=function e(){var t,n,r,a,u,c,d=arguments[0],h=1,m=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<m;++h)if(null!=(t=arguments[h]))for(n in t)r=l(d,n),d!==(a=l(t,n))&&(p&&a&&(i(a)||(u=s(a)))?(u?(u=!1,c=r&&s(r)?r:[]):c=r&&i(r)?r:{},o(d,{name:n,newValue:e(p,c,a)})):"undefined"!==typeof a&&o(d,{name:n,newValue:a}));return d}},756:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.accessor=s,t.wrapAccessor=void 0;var a=r(n(3738));function s(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===(0,a.default)(e)&&null!=e&&t in e&&(n=e[t]),n}t.wrapAccessor=function(e){return function(t){return s(t,e)}}},799:e=>{e.exports=function(e){return this.__data__.has(e)}},927:(e,t,n)=>{var r=n(423),a=n(3267)(r);e.exports=a},943:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},949:e=>{"use strict";e.exports=function(e,t,n,r,a,s,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,s,i,o],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},964:(e,t,n)=>{var r=n(6463),a=n(4578),s=n(2279),i=n(7059),o=n(5776),l=n(2535);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var h=l(t[u]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&o(c)&&i(h,c)&&(s(e)||a(e))}},997:(e,t,n)=>{var r=n(5871),a=n(3863),s=n(1991),i=n(2106),o=n(8463);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return s(e);case"[object Symbol]":return i(e)}}},1043:(e,t,n)=>{var r=n(5148),a=n(2929)(r);e.exports=a},1052:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DnDContext=void 0;var a=r(n(9950));t.DnDContext=a.default.createContext()},1111:(e,t,n)=>{var r=n(6958),a=n(1176),s=n(1787),i=n(231),o=n(7455);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},1132:(e,t,n)=>{var r=n(5901),a=n(9291),s=n(7122),i=n(1869);e.exports=function(e){return r(e)||a(e)||s(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},1176:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1235:(e,t,n)=>{var r=n(7405),a=n(8833),s=n(7840);e.exports=function(e){return s(e)?r(e,!0):a(e)}},1261:(e,t,n)=>{var r=n(6810),a=n(8245),s=n(516),i=n(9042),o=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=o},1288:(e,t,n)=>{var r=n(5461);e.exports=function(e){return r(e)?void 0:e}},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1404:(e,t,n)=>{var r=n(2130),a=n(9248);e.exports=function e(t,n,s,i,o){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,s,i,e,o))}},1416:(e,t,n)=>{var r=n(4635),a=n(8246),s=n(4206),i=n(9757),o=n(943),l=n(6557),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=o;case"[object Set]":var p=1&r;if(m||(m=l),e.size!=t.size&&!p)return!1;var f=h.get(e);if(f)return f==t;r|=2,h.set(e,t);var g=i(m(e),m(t),r,u,d,h);return h.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},1465:(e,t,n)=>{var r=n(220)(n(4759),"Map");e.exports=r},1515:e=>{e.exports=function(){return[]}},1570:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},1581:(e,t,n)=>{var r=n(4635),a=Object.prototype,s=a.hasOwnProperty,i=a.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var a=i.call(e);return r&&(t?e[o]=n:delete e[o]),a}},1582:(e,t,n)=>{var r=n(4635),a=n(1570),s=n(2279),i=n(184),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1641:(e,t,n)=>{var r=n(8183),a=n(5639),s=n(2479),i=s&&s.isTypedArray,o=i?a(i):r;e.exports=o},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<a&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<a&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,m=3,p=!1,f=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,D="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function y(e){if(g=!1,v(e),!f)if(null!==r(u))f=!0,M(w);else{var t=r(c);null!==t&&O(y,t.startTime-e)}}function w(e,n){f=!1,g&&(g=!1,D(A),A=-1),p=!0;var s=m;try{for(v(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!j());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(u)&&a(u),v(n)}else a(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&O(y,d.startTime-n),l=!1}return l}finally{h=null,m=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,F=null,A=-1,k=5,N=-1;function j(){return!(t.unstable_now()-N<k)}function _(){if(null!==F){var e=t.unstable_now();N=e;var n=!0;try{n=F(!0,e)}finally{n?E():(C=!1,F=null)}}else C=!1}if("function"===typeof x)E=function(){x(_)};else if("undefined"!==typeof MessageChannel){var S=new MessageChannel,B=S.port2;S.port1.onmessage=_,E=function(){B.postMessage(null)}}else E=function(){b(_,0)};function M(e){F=e,C||(C=!0,E())}function O(e,n){A=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(D(A),A=-1):g=!0,O(y,s-i))):(e.sortIndex=o,n(u,e),f||p||(f=!0,M(w))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},1787:(e,t,n)=>{var r=n(3616),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},1847:(e,t,n)=>{var r=n(4893);e.exports=function(e,t){if(null==e)return{};var n,a,s=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},1849:(e,t,n)=>{var r=n(3965),a=n(8194);e.exports=function(e,t){return r(e,a(e),t)}},1869:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1935:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,a=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||a.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(i,l):e.replace(s,l)).replace(r,o))}},1942:(e,t,n)=>{e.exports=n(3488)()},1967:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(6999)),a=n(1935);function s(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,function(e,r){e&&r&&(n[(0,a.camelCase)(e,t)]=r)}),n):n}s.default=s,e.exports=s},1991:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},2011:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}e.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9051))},2022:(e,t,n)=>{var r=n(4635),a=n(1581),s=n(5336),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):s(e)}},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function D(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},D.prototype=b.prototype;var v=x.prototype=new D;v.constructor=x,f(v,b.prototype),v.isPureReactComponent=!0;var y=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function F(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,a)&&!C.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+N(l,0):s,y(i)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),j(i,t,a,"",function(e){return e})):null!=i&&(A(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",y(e))for(var u=0;u<e.length;u++){var c=s+N(o=e[u],u);l+=j(o,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=j(o=o.value,t,a,c=s+N(o,u++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],a=0;return j(e,r,"","",function(e){return t.call(n,e,a++)}),r}function S(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},M={transition:null},O={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};function T(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=i,t.PureComponent=x,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=T,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!C.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=F,t.createFactory=function(e){var t=F.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=T,t.useCallback=function(e,t){return B.current.useCallback(e,t)},t.useContext=function(e){return B.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return B.current.useDeferredValue(e)},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(e,t,n){return B.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return B.current.useMemo(e,t)},t.useReducer=function(e,t,n){return B.current.useReducer(e,t,n)},t.useRef=function(e){return B.current.useRef(e)},t.useState=function(e){return B.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return B.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return B.current.useTransition()},t.version="18.3.1"},2064:(e,t,n)=>{var r=n(3965),a=n(1235);e.exports=function(e,t){return e&&r(t,a(t),e)}},2093:(e,t,n)=>{var r=n(1570),a=n(9645),s=n(6949),i=n(6463),o=n(3965),l=n(1288),u=n(5002),c=n(6387),d=u(function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,function(t){return t=i(t,e),u||(u=t.length>1),t}),o(e,c(e),n),u&&(n=a(n,7,l));for(var d=t.length;d--;)s(n,t[d]);return n});e.exports=d},2106:(e,t,n)=>{var r=n(4635),a=r?r.prototype:void 0,s=a?a.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},2130:(e,t,n)=>{var r=n(5535),a=n(9757),s=n(1416),i=n(6195),o=n(5531),l=n(2279),u=n(6794),c=n(1641),d="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,g,b){var D=l(e),x=l(t),v=D?h:o(e),y=x?h:o(t),w=(v=v==d?m:v)==m,E=(y=y==d?m:y)==m,C=v==y;if(C&&u(e)){if(!u(t))return!1;D=!0,w=!1}if(C&&!w)return b||(b=new r),D||c(e)?a(e,t,n,f,g,b):s(e,t,v,n,f,g,b);if(!(1&n)){var F=w&&p.call(e,"__wrapped__"),A=E&&p.call(t,"__wrapped__");if(F||A){var k=F?e.value():e,N=A?t.value():t;return b||(b=new r),g(k,N,n,f,b)}}return!!C&&(b||(b=new r),i(e,t,n,f,g,b))}},2138:e=>{e.exports=function(e){return this.__data__.has(e)}},2156:(e,t,n)=>{"use strict";var r;function a(e,t){if(!r){var n=document.body,a=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;r=function(e,t){return a.call(e,t)}}return r(e,t)}n.d(t,{A:()=>a})},2161:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},2241:e=>{"use strict";var t=function(){};e.exports=t},2253:(e,t,n)=>{var r=n(2621)(Object.getPrototypeOf,Object);e.exports=r},2274:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2279:e=>{var t=Array.isArray;e.exports=t},2373:(e,t,n)=>{"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function a(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}n.d(t,{A:()=>a})},2393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.views=t.navigate=void 0;t.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},t.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}},2413:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(e,t){return r(e.querySelectorAll(t))}},2434:(e,t,n)=>{var r=n(220)(n(4759),"DataView");e.exports=r},2475:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},2479:(e,t,n)=>{e=n.nmd(e);var r=n(6658),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,i=s&&s.exports===a&&r.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o},2535:(e,t,n)=>{var r=n(184);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},2582:(e,t,n)=>{"use strict";var r=n(6305).default,a=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(2897)),i=a(n(1132)),o=a(n(7383)),l=a(n(4579)),u=a(n(5955)),c=a(n(9511)),d=a(n(9950)),h=a(n(6540)),m=r(n(2948)),p=n(5647),f=n(6890),g=n(8516),b=n(1052),D=function(e){function t(){var e;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=(0,u.default)(this,t,[].concat(r))).handleMove=function(t,n,r){if(!(0,f.pointInBox)(n,t))return e.reset();var a=e.context.draggable.dragAndDropAction.event||r,s=e.props,i=s.accessors,o=s.slotMetrics,l=s.rtl,u=s.localizer,c=(0,f.getSlotAtX)(n,t.x,l,o.slots),d=o.getDateForSlot(c),h=(0,g.eventTimes)(a,i,u),m=h.start,p=h.duration;m=u.merge(d,m);var b=u.add(m,p,"milliseconds");e.update(a,m,b)},e.handleDropFromOutside=function(t,n){if(e.context.draggable.onDropFromOutside){var r=e.props,a=r.slotMetrics,s=r.rtl,i=r.localizer,o=(0,f.getSlotAtX)(n,t.x,s,a.slots),l=a.getDateForSlot(o);e.context.draggable.onDropFromOutside({start:l,end:i.add(l,1,"day"),allDay:!1})}},e.handleDragOverFromOutside=function(t,n){var r=e.context.draggable.dragFromOutsideItem?e.context.draggable.dragFromOutsideItem():null;r&&e.handleMove(t,n,r)},e._selectable=function(){var t=e.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),n=t.closest(".rbc-month-view, .rbc-time-view"),r=t.classList.contains("rbc-month-row"),a=e._selector=new m.default(function(){return n},{validContainers:(0,i.default)(r?[]:[".rbc-day-slot",".rbc-allday-cell"])});a.on("beforeSelect",function(n){var r=e.props.isAllDay,a=e.context.draggable.dragAndDropAction.action,s=(0,m.getBoundsForNode)(t),i=(0,f.pointInBox)(s,n);return"move"===a||"resize"===a&&(!r||i)}),a.on("selecting",function(n){var r=(0,m.getBoundsForNode)(t),a=e.context.draggable.dragAndDropAction;"move"===a.action&&e.handleMove(n,r),"resize"===a.action&&e.handleResize(n,r)}),a.on("selectStart",function(){return e.context.draggable.onStart()}),a.on("select",function(n){var r=(0,m.getBoundsForNode)(t);e.state.segment&&((0,f.pointInBox)(r,n)?e.handleInteractionEnd():e.reset())}),a.on("dropFromOutside",function(n){if(e.context.draggable.onDropFromOutside){var r=(0,m.getBoundsForNode)(t);(0,f.pointInBox)(r,n)&&e.handleDropFromOutside(n,r)}}),a.on("dragOverFromOutside",function(n){if(e.context.draggable.dragFromOutsideItem){var r=(0,m.getBoundsForNode)(t);e.handleDragOverFromOutside(n,r)}}),a.on("click",function(){return e.context.draggable.onEnd(null)}),a.on("reset",function(){e.reset(),e.context.draggable.onEnd(null)})},e.handleInteractionEnd=function(){var t=e.props,n=t.resourceId,r=t.isAllDay,a=e.state.segment.event;e.reset(),e.context.draggable.onEnd({start:a.start,end:a.end,resourceId:n,isAllDay:r})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e.state={},e.ref=d.default.createRef(),e}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(e,t,n){var r=(0,p.eventSegments)((0,s.default)((0,s.default)({},e),{},{end:n,start:t,__isPreview:!0}),this.props.slotMetrics.range,g.dragAccessors,this.props.localizer),a=this.state.segment;a&&r.span===a.span&&r.left===a.left&&r.right===a.right||this.setState({segment:r})}},{key:"handleResize",value:function(e,t){var n=this.context.draggable.dragAndDropAction,r=n.event,a=n.direction,s=this.props,i=s.accessors,o=s.slotMetrics,l=s.rtl,u=s.localizer,c=(0,g.eventTimes)(r,i,u),d=c.start,h=c.end,m=(0,f.getSlotAtX)(t,e.x,l,o.slots),p=o.getDateForSlot(m),b=(0,f.pointInBox)(t,e);if("RIGHT"===a){if(b){if(o.last<d)return this.reset();h=u.eq(u.startOf(h,"day"),h)?u.add(p,1,"day"):p}else{if(!(u.inRange(d,o.first,o.last)||t.bottom<e.y&&+o.first>+d))return void this.setState({segment:null});h=u.add(o.last,1,"milliseconds")}var D=i.end(r);h=u.merge(h,D),u.lt(h,d)&&(h=D)}else if("LEFT"===a){if(b){if(o.first>h)return this.reset();d=p}else{if(!(u.inRange(h,o.first,o.last)||t.top>e.y&&u.lt(o.last,h)))return void this.reset();d=u.add(o.first,-1,"milliseconds")}var x=i.start(r);d=u.merge(d,x),u.gt(d,h)&&(d=x)}this.update(r,d,h)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.accessors,r=this.state.segment;return d.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},t,r&&d.default.createElement(h.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[r],accessors:(0,s.default)((0,s.default)({},n),g.dragAccessors)})))}}])}(d.default.Component);D.contextType=b.DnDContext;t.default=D},2588:(e,t,n)=>{var r=n(6914),a=n(4567),s=n(184),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):i.test(e)?NaN:+e}},2596:(e,t,n)=>{"use strict";var r=n(6305).default,a=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(2897)),i=a(n(7383)),o=a(n(4579)),l=a(n(5955)),u=a(n(9511)),c=n(6264),d=a(n(4818)),h=a(n(9950)),m=n(1052),p=r(n(2948)),f=a(n(8905)),g=n(8516),b=function(e){function t(){var e;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=(0,l.default)(this,t,[].concat(r))).handleMove=function(t,n){if(!(0,g.pointInColumn)(n,t))return e.reset();var r=e.context.draggable.dragAndDropAction.event,a=e.props,s=a.accessors,i=a.slotMetrics,o=i.closestSlotFromPoint({y:t.y-e.eventOffsetTop,x:t.x},n),l=(0,g.eventTimes)(r,s,e.props.localizer).duration,u=e.props.localizer.add(o,l,"milliseconds");e.update(r,i.getRange(o,u,!1,!0))},e.handleDropFromOutside=function(t,n){var r=e.props,a=r.slotMetrics,s=r.resource,i=a.closestSlotFromPoint({y:t.y,x:t.x},n),o=e._calculateDnDEnd(i);e.context.draggable.onDropFromOutside({start:i,end:o,allDay:!1,resource:s}),e.reset()},e.handleDragOverFromOutside=function(t,n){var r=e.props.slotMetrics,a=r.closestSlotFromPoint({y:t.y,x:t.x},n),s=e._calculateDnDEnd(a),i=e.context.draggable.dragFromOutsideItem();e.update(i,r.getRange(a,s,!1,!0))},e._calculateDnDEnd=function(t){var n=e.props,r=n.accessors,a=n.slotMetrics,s=n.localizer,i=e.context.draggable.dragFromOutsideItem(),o=(0,g.eventTimes)(i,r,s).duration,l=a.nextSlot(t);if(!isNaN(o)){var u=s.add(t,o,"milliseconds");l=new Date(Math.max(u,l))}return l},e.updateParentScroll=function(e,t){setTimeout(function(){var n=(0,d.default)(t,".rbc-addons-dnd-drag-preview")[0];n&&(n.offsetTop<e.scrollTop?(0,c.scrollTop)(e,Math.max(n.offsetTop,0)):n.offsetTop+n.offsetHeight>e.scrollTop+e.clientHeight&&(0,c.scrollTop)(e,Math.min(n.offsetTop-e.offsetHeight+n.offsetHeight,e.scrollHeight)))})},e._selectable=function(){var t=e.ref.current,n=t.children[0],r=!1,a=e._selector=new p.default(function(){return t.closest(".rbc-time-view")}),s=(0,c.scrollParent)(t);a.on("beforeSelect",function(t){var r=e.context.draggable.dragAndDropAction;if(!r.action)return!1;if("resize"===r.action)return(0,g.pointInColumn)((0,p.getBoundsForNode)(n),t);var a=(0,p.getEventNodeFromPoint)(n,t);if(!a)return!1;e.eventOffsetTop=t.y-(0,p.getBoundsForNode)(a).top}),a.on("selecting",function(t){var r=(0,p.getBoundsForNode)(n),a=e.context.draggable.dragAndDropAction;"move"===a.action&&(e.updateParentScroll(s,n),e.handleMove(t,r)),"resize"===a.action&&(e.updateParentScroll(s,n),e.handleResize(t,r))}),a.on("dropFromOutside",function(t){if(e.context.draggable.onDropFromOutside){var r=(0,p.getBoundsForNode)(n);(0,g.pointInColumn)(r,t)&&e.handleDropFromOutside(t,r)}}),a.on("dragOverFromOutside",function(t){if(e.context.draggable.dragFromOutsideItem?e.context.draggable.dragFromOutsideItem():null){var r=(0,p.getBoundsForNode)(n);if(!(0,g.pointInColumn)(r,t))return e.reset();e.handleDragOverFromOutside(t,r)}}),a.on("selectStart",function(){r=!0,e.context.draggable.onStart()}),a.on("select",function(t){var a=(0,p.getBoundsForNode)(n);if(r=!1,"resize"===e.context.draggable.dragAndDropAction.action)e.handleInteractionEnd();else{if(!e.state.event||!(0,g.pointInColumn)(a,t))return;e.handleInteractionEnd()}}),a.on("click",function(){r&&e.reset(),e.context.draggable.onEnd(null)}),a.on("reset",function(){e.reset(),e.context.draggable.onEnd(null)})},e.handleInteractionEnd=function(){var t=e.props.resource,n=e.state.event;e.reset(),e.context.draggable.onEnd({start:n.start,end:n.end,resourceId:t})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e.state={},e.ref=h.default.createRef(),e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(e,t){var n=t.startDate,r=t.endDate,a=t.top,i=t.height,o=this.state.event;o&&n===o.start&&r===o.end||this.setState({top:a,height:i,event:(0,s.default)((0,s.default)({},e),{},{start:n,end:r})})}},{key:"handleResize",value:function(e,t){var n,r=this.props,a=r.accessors,i=r.slotMetrics,o=r.localizer,l=this.context.draggable.dragAndDropAction,u=l.event,c=l.direction,d=i.closestSlotFromPoint(e,t),h=(0,g.eventTimes)(u,a,o),m=h.start,p=h.end;if("UP"===c){var f=o.min(d,i.closestSlotFromDate(p,-1));n=i.getRange(f,p),n=(0,s.default)((0,s.default)({},n),{},{endDate:p})}else if("DOWN"===c){var b=o.max(d,i.closestSlotFromDate(m));n=i.getRange(m,b),n=(0,s.default)((0,s.default)({},n),{},{startDate:m})}this.update(u,n)}},{key:"renderContent",value:function(){var e=this.props,t=e.children,n=e.accessors,r=e.components,a=e.getters,i=e.slotMetrics,o=e.localizer,l=this.state,u=l.event,c=l.top,d=l.height;if(!u)return t;var m,p=t.props.children,b=u.start,D=u.end,x="eventTimeRangeFormat",v=i.startsBeforeDay(b),y=i.startsAfterDay(D);return v?x="eventTimeRangeEndFormat":y&&(x="eventTimeRangeStartFormat"),m=v&&y?o.messages.allDay:o.format({start:b,end:D},x),h.default.cloneElement(t,{children:h.default.createElement(h.default.Fragment,null,p,u&&h.default.createElement(f.default,{event:u,label:m,className:"rbc-addons-dnd-drag-preview",style:{top:c,height:d,width:100},getters:a,components:r,accessors:(0,s.default)((0,s.default)({},n),g.dragAccessors),continuesPrior:v,continuesAfter:y}))})}},{key:"render",value:function(){return h.default.createElement("div",{ref:this.ref},this.renderContent())}}])}(h.default.Component);b.contextType=m.DnDContext;t.default=b},2621:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},2654:(e,t,n)=>{"use strict";var r=n(9950),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},2757:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8170);function a(e,t){return(0,r.A)(e).getComputedStyle(e,t)}},2791:(e,t,n)=>{var r=n(5661),a=n(1465),s=n(4467);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(i)}return n.set(e,t),this.size=n.size,this}},2803:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,{clsx:()=>a,default:()=>s});const s=a},2839:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}()},2897:(e,t,n)=>{var r=n(3693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2929:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),s=16-(a-r);if(r=a,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},2930:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),a=n(7923),s=n(6058),i=n(5538),o=n(3609),l=n(9241),u=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function c(e,t){var n,c={top:0,left:0};if("fixed"===(0,a.A)(e,"position"))n=e.getBoundingClientRect();else{var d=t||(0,i.A)(e);n=(0,s.A)(e),"html"!==u(d)&&(c=(0,s.A)(d));var h=String((0,a.A)(d,"borderTopWidth")||0);c.top+=parseInt(h,10)-(0,l.A)(d)||0;var m=String((0,a.A)(d,"borderLeftWidth")||0);c.left+=parseInt(m,10)-(0,o.A)(d)||0}var p=String((0,a.A)(e,"marginTop")||0),f=String((0,a.A)(e,"marginLeft")||0);return(0,r.A)({},n,{top:n.top-c.top-(parseInt(p,10)||0),left:n.left-c.left-(parseInt(f,10)||0)})}},2948:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getBoundsForNode=g,t.getEventNodeFromPoint=d,t.getShowMoreNodeFromPoint=h,t.isEvent=function(e,t){return!!d(e,t)},t.isShowMore=function(e,t){return!!h(e,t)},t.objectsCollide=f;var a=r(n(3738)),s=r(n(7383)),i=r(n(4579)),o=r(n(8336)),l=r(n(166)),u=r(n(7410));function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return(0,u.default)(n,e,t,{passive:!1})}function d(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return(0,l.default)(a,".rbc-event",e)}function h(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return(0,l.default)(a,".rbc-show-more",e)}function m(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var p=function(){return(0,i.default)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.global,a=void 0!==r&&r,i=n.longPressThreshold,o=void 0===i?250:i,l=n.validContainers,u=void 0===l?[]:l;(0,s.default)(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=u,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=c("touchmove",function(){},window),this._removeKeyDownListener=c("keydown",this._keyListener),this._removeKeyUpListener=c("keyup",this._keyListener),this._removeDropFromOutsideListener=c("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=c("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()},[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return(this._listeners[e]||[]).forEach(function(e){void 0===a&&(a=e.apply(void 0,n))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&f(t,g(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,a=null,s=null,i=function(t){r=setTimeout(function(){l(),e(t)},n.longPressThreshold),a=c("touchmove",function(){return l()}),s=c("touchend",function(){return l()})},o=c("touchstart",i),l=function(){r&&clearTimeout(r),a&&a(),s&&s(),r=null,a=null,s=null};return t&&i(t),function(){l(),o()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=c("mousedown",function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=c("mousedown",e._handleInitialEvent)}),n=c("touchstart",function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=m(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:a,clientY:s}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=m(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:a,clientY:s}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,n=m(e),r=n.clientX,s=n.clientY,i=n.pageX,l=n.pageY,u=this.container();if(3!==e.which&&2!==e.button&&(h=r,p=s,!(d=u)||(0,o.default)(d,document.elementFromPoint(h,p)))){var d,h,p;if(!this.globalMouse&&u&&!(0,o.default)(u,e.target)){var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==(0,a.default)(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),D=b.top,x=b.left,v=b.bottom,y=b.right;if(!f({top:(t=g(u)).top-D,left:t.left-x,bottom:t.bottom+v,right:t.right+y},{top:l,left:i}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:i,y:l,clientX:r,clientY:s}))switch(e.type){case"mousedown":this._removeEndListener=c("mouseup",this._handleTerminatingEvent),this._onEscListener=c("keydown",this._handleTerminatingEvent),this._removeMoveListener=c("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=c("touchend",this._handleTerminatingEvent),this._removeMoveListener=c("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some(function(e){return!!t.closest(e)})}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,n=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var r=!this.container||(0,o.default)(this.container(),e.target),a=this._isWithinValidContainer(e);return"Escape"!==e.key&&a?!t&&r?this._handleClickEvent(e):t?this.emit("select",n):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=m(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:a,clientY:s})):(this._lastClickData={timestamp:i},this.emit("click",{x:n,y:r,clientX:a,clientY:s}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,a=m(e),s=a.pageX,i=a.pageY,o=Math.abs(n-s),l=Math.abs(r-i),u=Math.min(s,n),c=Math.min(i,r),d=this.selecting,h=this.isClick(s,i);(!h||d||o||l)&&(d||h||this.emit("selectStart",this._initialEventData),h||(this.selecting=!0,this._selectRect={top:c,left:u,x:s,y:i,right:u+o,bottom:c+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,a=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-a)<=5}}])}();function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=g(e),a=r.top,s=r.left,i=r.right,o=void 0===i?s:i,l=r.bottom,u=void 0===l?a:l,c=g(t),d=c.top,h=c.left,m=c.right,p=void 0===m?h:m,f=c.bottom;return!(u-n<d||a+n>(void 0===f?d:f)||o-n<h||s+n>p)}function g(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+b("left"),r=t.top+b("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function b(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}t.default=p},2964:(e,t,n)=>{var r=n(6810);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},3008:(e,t,n)=>{var r=n(2022),a=n(4567);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3012:(e,t,n)=>{var r=n(2022),a=n(9248);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},3031:(e,t,n)=>{var r=n(5211)();e.exports=r},3072:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3077:(e,t,n)=>{var r=n(5099);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},3152:(e,t,n)=>{var r=n(5531),a=n(9248);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},3158:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var n;1===t.length&&t[0].length>0&&(t=t[0]),n=(t=t.filter(function(e){return e}))[0];for(var r=1;r<t.length;r+=1)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n};n.max=function(){var e=[].slice.call(arguments,0);return r("isAfter",e)},n.min=function(){var e=[].slice.call(arguments,0);return r("isBefore",e)}}}()},3267:(e,t,n)=>{var r=n(7840);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var s=n.length,i=t?s:-1,o=Object(n);(t?i--:++i<s)&&!1!==a(o[i],i,o););return n}}},3306:(e,t,n)=>{var r=n(4123),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},3334:(e,t,n)=>{var r=n(9794),a=n(5724);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,r(i)]}return t}},3412:(e,t,n)=>{"use strict";function r(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}n.d(t,{A:()=>r})},3445:e=>{e.exports=function(e,t){return e.has(t)}},3488:(e,t,n)=>{"use strict";var r=n(3959);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},3530:(e,t,n)=>{var r=n(5531),a=n(9248);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},3586:(e,t,n)=>{var r=n(3965),a=n(9653);e.exports=function(e,t){return r(e,a(e),t)}},3609:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(215).A)("pageXOffset")},3616:(e,t,n)=>{var r=n(220)(Object,"create");e.exports=r},3660:(e,t,n)=>{var r=n(4761),a=n(8194),s=n(5724);e.exports=function(e){return r(e,s,a)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3721:e=>{e.exports=function(){return!1}},3734:(e,t,n)=>{var r=n(53);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3863:(e,t,n)=>{var r=n(5871);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3965:(e,t,n)=>{var r=n(7305),a=n(366);e.exports=function(e,t,n,s){var i=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var u=t[o],c=s?s(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),i?a(n,u,c):r(n,u,c)}return n}},3978:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,a=function(e){return e&&(e.indexOf?e:e.s)},s=function(e,t,n,r,s){var i=e.name?e:e.$locale(),o=a(i[t]),l=a(i[n]),u=o||l.map(function(e){return e.slice(0,r)});if(!s)return u;var c=i.weekStart;return u.map(function(e,t){return u[(t+(c||0))%7]})},i=function(){return n.Ls[n.locale()]},o=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):s(e,"months")},monthsShort:function(t){return t?t.format("MMM"):s(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):s(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):s(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):s(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return o(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return l.bind(this)()},n.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return o(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return s(i(),"months")},n.monthsShort=function(){return s(i(),"monthsShort","months",3)},n.weekdays=function(e){return s(i(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return s(i(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return s(i(),"weekdaysMin","weekdays",2,e)}}}()},4008:(e,t,n)=>{var r=n(1582);e.exports=function(e){return null==e?"":r(e)}},4028:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},4102:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},4104:(e,t,n)=>{var r=n(1404),a=n(7946),s=n(5321),i=n(5916),o=n(9794),l=n(4243),u=n(2535);e.exports=function(e,t){return i(e)&&o(t)?l(u(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?s(n,e):r(t,i,3)}}},4123:(e,t,n)=>{var r=n(4759)["__core-js_shared__"];e.exports=r},4181:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,s){for(var i=-1,o=n(t((r-e)/(a||1)),0),l=Array(o);o--;)l[s?o:++i]=e,e+=a;return l}},4189:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=/([A-Z])/g;function a(e){return e.replace(r,"-$1").toLowerCase()}},4205:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function a(e){return!(!e||!r.test(e))}},4206:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},4238:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(9809),a=n(6058);function s(e,t){var n=(0,r.A)(e);return n?n.innerHeight:t?e.clientHeight:(0,a.A)(e).height}},4243:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4295:(e,t,n)=>{var r=n(5507),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,o=a(s.length-t,0),l=Array(o);++i<o;)l[i]=s[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=s[i];return u[t]=n(l),r(e,this,u)}}},4349:(e,t,n)=>{var r=n(5099);e.exports=function(e){return r(this.__data__,e)>-1}},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},4438:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(2897)),s=r(n(7383)),i=r(n(4579)),o=r(n(5955)),l=r(n(9511)),u=r(n(9950)),c=r(n(2803)),d=n(756),h=n(1052),m=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=(0,o.default)(this,t,[].concat(r))).handleResizeUp=function(t){0===t.button&&e.context.draggable.onBeginAction(e.props.event,"resize","UP")},e.handleResizeDown=function(t){0===t.button&&e.context.draggable.onBeginAction(e.props.event,"resize","DOWN")},e.handleResizeLeft=function(t){0===t.button&&e.context.draggable.onBeginAction(e.props.event,"resize","LEFT")},e.handleResizeRight=function(t){0===t.button&&e.context.draggable.onBeginAction(e.props.event,"resize","RIGHT")},e.handleStartDragging=function(t){var n;0===t.button&&((null===(n=t.target.getAttribute("class"))||void 0===n?void 0:n.includes("rbc-addons-dnd-resize"))||((0,a.default)({},e.props.event).sourceResource=e.props.resource,e.context.draggable.onBeginAction(e.props.event,"move")))},e}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderAnchor",value:function(e){var t="Up"===e||"Down"===e?"ns":"ew";return u.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-anchor"),onMouseDown:this["handleResize".concat(e)]},u.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-icon")}))}},{key:"render",value:function(){var e=this.props,t=e.event,n=e.type,r=e.continuesPrior,a=e.continuesAfter,s=e.resizable,i=this.props.children;if(t.__isPreview)return u.default.cloneElement(i,{className:(0,c.default)(i.props.className,"rbc-addons-dnd-drag-preview")});var o=this.context.draggable,l=o.draggableAccessor,h=o.resizableAccessor,m=!l||!!(0,d.accessor)(t,l);if(!m)return i;var p=s&&(!h||!!(0,d.accessor)(t,h));if(p||m){var f={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(p){var g=null,b=null;"date"===n?(g=!r&&this.renderAnchor("Left"),b=!a&&this.renderAnchor("Right")):(g=!r&&this.renderAnchor("Up"),b=!a&&this.renderAnchor("Down")),f.children=u.default.createElement("div",{className:"rbc-addons-dnd-resizable"},g,i.props.children,b)}o.dragAndDropAction.interacting&&o.dragAndDropAction.event===t&&(f.className=(0,c.default)(i.props.className,"rbc-addons-dnd-dragged-event")),i=u.default.cloneElement(i,f)}return i}}])}(u.default.Component);m.contextType=h.DnDContext;t.default=m},4467:(e,t,n)=>{var r=n(738),a=n(708),s=n(6823),i=n(475),o=n(7859);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},4489:(e,t,n)=>{var r=n(5535),a=n(1404);e.exports=function(e,t,n,s){var i=n.length,o=i,l=!s;if(null==e)return!o;for(e=Object(e);i--;){var u=n[i];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var c=(u=n[i])[0],d=e[c],h=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var m=new r;if(s)var p=s(d,h,c,e,t,m);if(!(void 0===p?a(h,d,3,s,m):p))return!1}}return!0}},4567:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},4578:(e,t,n)=>{var r=n(3012),a=n(9248),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},4579:(e,t,n)=>{var r=n(7736);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4591:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},4635:(e,t,n)=>{var r=n(4759).Symbol;e.exports=r},4641:(e,t,n)=>{"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,{A:()=>r})},4672:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4710:(e,t,n)=>{var r=n(5661);e.exports=function(){this.__data__=new r,this.size=0}},4753:(e,t,n)=>{var r=n(52);e.exports=function(e){return function(t){return r(t,e)}}},4759:(e,t,n)=>{var r=n(6658),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},4761:(e,t,n)=>{var r=n(7518),a=n(2279);e.exports=function(e,t,n){var s=t(e);return a(e)?s:r(s,n(e))}},4770:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r,a=n(7534);function s(e){if((!r&&0!==r||e)&&a.A){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}},4801:(e,t,n)=>{var r=n(220)(n(4759),"WeakMap");e.exports=r},4818:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return n(e.querySelectorAll(t))};var n=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4978:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5002:(e,t,n)=>{var r=n(2964),a=n(4295),s=n(1043);e.exports=function(e){return s(a(e,void 0,r),e+"")}},5088:e=>{e.exports=function(){this.__data__=[],this.size=0}},5099:(e,t,n)=>{var r=n(4206);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},5112:(e,t,n)=>{var r=n(2621)(Object.keys,Object);e.exports=r},5127:(e,t,n)=>{var r=n(9769),a=n(4104),s=n(9002),i=n(2279),o=n(8857);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):o(e)}},5148:(e,t,n)=>{var r=n(6800),a=n(8925),s=n(9002),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=i},5171:(e,t,n)=>{var r=n(314);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},5211:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,s=Object(t),i=r(t),o=i.length;o--;){var l=i[e?o:++a];if(!1===n(s[l],l,s))break}return t}}},5244:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(4641);function a(e,t){e.classList?e.classList.add(t):(0,r.A)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},5321:(e,t,n)=>{var r=n(4591),a=n(964);e.exports=function(e,t){return null!=e&&a(e,t,r)}},5336:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},5461:(e,t,n)=>{var r=n(2022),a=n(2253),s=n(9248),i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},5507:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},5531:(e,t,n)=>{var r=n(2434),a=n(1465),s=n(202),i=n(7887),o=n(4801),l=n(2022),u=n(9131),c="[object Map]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",f=u(r),g=u(a),b=u(s),D=u(i),x=u(o),v=l;(r&&v(new r(new ArrayBuffer(1)))!=p||a&&v(new a)!=c||s&&v(s.resolve())!=d||i&&v(new i)!=h||o&&v(new o)!=m)&&(v=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case f:return p;case g:return c;case b:return d;case D:return h;case x:return m}return t}),e.exports=v},5535:(e,t,n)=>{var r=n(5661),a=n(4710),s=n(8384),i=n(7379),o=n(799),l=n(2791);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=s,u.prototype.get=i,u.prototype.has=o,u.prototype.set=l,e.exports=u},5538:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7923),a=n(9815),s=function(e){return!!e&&"offsetParent"in e};function i(e){for(var t=(0,a.A)(e),n=e&&e.offsetParent;s(n)&&"HTML"!==n.nodeName&&"static"===(0,r.A)(n,"position");)n=n.offsetParent;return n||t.documentElement}},5539:(e,t,n)=>{var r=n(8230),a=n(2253),s=n(2161);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(a(e))}},5636:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5639:e=>{e.exports=function(e){return function(t){return e(t)}}},5647:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.endOfRange=i,t.eventLevels=function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,s=[],i=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<s.length&&o(r,s[n]);n++);n>=a?i.push(r):(s[n]||(s[n]=[])).push(r)}for(t=0;t<s.length;t++)s[t].sort(function(e,t){return e.left-t.left});return{levels:s,extra:i}},t.eventSegments=function(e,t,n,r){var a=i({dateRange:t,localizer:r}),o=a.first,l=a.last,u=r.diff(o,l,"day"),c=r.max(r.startOf(n.start(e),"day"),o),d=r.min(r.ceil(n.end(e),"day"),l),h=(0,s.default)(t,function(e){return r.isSameDate(e,c)}),m=r.diff(c,d,"day");return m=Math.min(m,u),m=Math.max(m-r.segmentOffset,1),{event:e,span:m,left:h+1,right:Math.max(h+m,1)}},t.inRange=function(e,t,n,r,a){var s={start:r.start(e),end:r.end(e)},i={start:t,end:n};return a.inEventRange({event:s,range:i})},t.segsOverlap=o,t.sortEvents=l,t.sortWeekEvents=function(e,t,n){var r=(0,a.default)(e),s=[],i=[];r.forEach(function(e){var r=t.start(e),a=t.end(e);n.daySpan(r,a)>1?s.push(e):i.push(e)});var o=s.sort(function(e,r){return l(e,r,t,n)}),u=i.sort(function(e,r){return l(e,r,t,n)});return[].concat((0,a.default)(o),(0,a.default)(u))};var a=r(n(1132)),s=r(n(5695));function i(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function o(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function l(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:s})}},5661:(e,t,n)=>{var r=n(5088),a=n(150),s=n(7889),i=n(4349),o=n(3077);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},5695:(e,t,n)=>{var r=n(6993),a=n(5127),s=n(5171),i=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:s(n);return l<0&&(l=i(o+l,0)),r(e,a(t,3),l)}},5724:(e,t,n)=>{var r=n(7405),a=n(7462),s=n(7840);e.exports=function(e){return s(e)?r(e):a(e)}},5738:(e,t,n)=>{var r=n(3152),a=n(5639),s=n(2479),i=s&&s.isSet,o=i?a(i):r;e.exports=o},5776:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5871:(e,t,n)=>{var r=n(8246);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},5874:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(2897)),s=r(n(1847)),i=r(n(7383)),o=r(n(4579)),l=r(n(5955)),u=r(n(9511)),c=r(n(9950)),d=r(n(2803)),h=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],m=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,t,arguments)}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.event,i=e.selected,o=e.isAllDay,l=e.onSelect,u=e.onDoubleClick,m=e.onKeyPress,p=e.localizer,f=e.continuesPrior,g=e.continuesAfter,b=e.accessors,D=e.getters,x=e.children,v=e.components,y=v.event,w=v.eventWrapper,E=e.slotStart,C=e.slotEnd,F=(0,s.default)(e,h);delete F.resizable;var A=b.title(r),k=b.tooltip(r),N=b.end(r),j=b.start(r),_=b.allDay(r),S=o||_||p.diff(j,p.ceil(N,"day"),"day")>1,B=D.eventProp(r,j,N,i),M=c.default.createElement("div",{className:"rbc-event-content",title:k||void 0},y?c.default.createElement(y,{event:r,continuesPrior:f,continuesAfter:g,title:A,isAllDay:_,localizer:p,slotStart:E,slotEnd:C}):A);return c.default.createElement(w,Object.assign({},this.props,{type:"date"}),c.default.createElement("div",Object.assign({},F,{style:(0,a.default)((0,a.default)({},B.style),t),className:(0,d.default)("rbc-event",n,B.className,{"rbc-selected":i,"rbc-event-allday":S,"rbc-event-continues-prior":f,"rbc-event-continues-after":g}),onClick:function(e){return l&&l(r,e)},onDoubleClick:function(e){return u&&u(r,e)},onKeyDown:function(e){return m&&m(r,e)}}),"function"===typeof x?x(M):M))}}])}(c.default.Component);t.default=m},5901:(e,t,n)=>{var r=n(79);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5916:(e,t,n)=>{var r=n(2279),a=n(184),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(i.test(e)||!s.test(e)||null!=t&&e in Object(t))}},5955:(e,t,n)=>{var r=n(3072),a=n(7550),s=n(8452);e.exports=function(e,t,n){return t=r(t),s(e,a()?Reflect.construct(t,n||[],r(e).constructor):t.apply(e,n))},e.exports.__esModule=!0,e.exports.default=e.exports},6010:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6058:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8336),a=n(9815),s=n(3609),i=n(9241);function o(e){var t=(0,a.A)(e),n={top:0,left:0,height:0,width:0},o=t&&t.documentElement;return o&&(0,r.default)(o,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+(0,i.A)(o)-(o.clientTop||0),left:n.left+(0,s.A)(o)-(o.clientLeft||0),width:n.width,height:n.height}):n}},6195:(e,t,n)=>{var r=n(3660),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,i,o){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var h=u[d];if(!(l?h in t:a.call(t,h)))return!1}var m=o.get(e),p=o.get(t);if(m&&p)return m==t&&p==e;var f=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<c;){var b=e[h=u[d]],D=t[h];if(s)var x=l?s(D,b,h,t,e,o):s(b,D,h,e,t,o);if(!(void 0===x?b===D||i(b,D,n,s,o):x)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}},6220:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,a,s){var i=a.prototype;s.utc=function(e){return new a({date:e,utc:!0,args:arguments})},i.utc=function(t){var n=s(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},i.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var o=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var l=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var u=i.utcOffset;i.utcOffset=function(r,a){var s=this.$utils().u;if(s(r))return this.$u?0:s(this.$offset)?u.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var a=(""+r[0]).match(n)||["-",0,0],s=a[0],i=60*+a[1]+ +a[2];return 0===i?0:"+"===s?i:-i}(r),null===r))return this;var i=Math.abs(r)<=16?60*r:r;if(0===i)return this.utc(a);var o=this.clone();if(a)return o.$offset=i,o.$u=!1,o;var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(o=this.local().add(i+l,e)).$offset=i,o.$x.$localOffset=l,o};var c=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var d=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=i.diff;i.diff=function(e,t,n){if(e&&this.$u===e.$u)return h.call(this,e,t,n);var r=this.local(),a=s(e).local();return h.call(r,a,t,n)}}}()},6264:(e,t,n)=>{"use strict";n.r(t),n.d(t,{activeElement:()=>a,addClass:()=>s.A,addEventListener:()=>i.Ay,animate:()=>f,attribute:()=>b,cancelAnimationFrame:()=>g.Z,childElements:()=>D,childNodes:()=>E,clear:()=>x,closest:()=>v.default,contains:()=>y.default,default:()=>se,filter:()=>F,getComputedStyle:()=>A.A,hasClass:()=>k.A,height:()=>N.A,insertAfter:()=>j,isInput:()=>S,isVisible:()=>B,listen:()=>c.default,matches:()=>M.A,nextUntil:()=>T,offset:()=>R.A,offsetParent:()=>I.A,ownerDocument:()=>r.A,ownerWindow:()=>P.A,parents:()=>L,position:()=>z.A,prepend:()=>U,querySelectorAll:()=>C.A,remove:()=>W,removeClass:()=>H.A,removeEventListener:()=>q.A,requestAnimationFrame:()=>g.E,scrollLeft:()=>K.A,scrollParent:()=>G,scrollTo:()=>X,scrollTop:()=>Z.A,scrollbarSize:()=>V.A,siblings:()=>Q,style:()=>o.A,text:()=>ne,toggleClass:()=>re,transitionEnd:()=>h,triggerEvent:()=>d,width:()=>ae.A});var r=n(9815);function a(e){void 0===e&&(e=(0,r.A)());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(n){return e.body}}var s=n(5244),i=n(8996),o=n(7923),l=n(4189),u=n(4205),c=n(7410);function d(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}function h(e,t,n,r){null==n&&(n=function(e){var t=(0,o.A)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var a=function(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout(function(){r||d(e,"transitionend",!0)},t+n),s=(0,c.default)(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(a),s()}}(e,n,r),s=(0,c.default)(e,"transitionend",t);return function(){a(),s()}}var m={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function p(e){var t=e.node,n=e.properties,r=e.duration,a=void 0===r?200:r,s=e.easing,i=e.callback,c=[],d={},p="";Object.keys(n).forEach(function(e){var t=n[e];(0,u.A)(e)?p+=e+"("+t+") ":(d[e]=t,c.push((0,l.A)(e)))}),p&&(d.transform=p,c.push("transform")),a>0&&(d.transition=c.join(", "),d["transition-duration"]=a/1e3+"s",d["transition-delay"]="0s",d["transition-timing-function"]=s||"linear");var f=h(t,function(e){e.target===e.currentTarget&&((0,o.A)(t,m),i&&i.call(this,e))},a);return t.clientLeft,(0,o.A)(t,d),{cancel:function(){f(),(0,o.A)(t,m)}}}const f=function(e,t,n,r,a){if(!("nodeType"in e))return p(e);if(!t)throw new Error("must include properties to animate");return"function"===typeof r&&(a=r,r=""),p({node:e,properties:t,duration:n,easing:r,callback:a})};var g=n(549);function b(e,t,n){if(e){if("undefined"===typeof n)return e.getAttribute(t);n||""===n?e.setAttribute(t,String(n)):e.removeAttribute(t)}}function D(e){return e?Array.from(e.children):[]}function x(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}return null}var v=n(166),y=n(8336),w=Function.prototype.bind.call(Function.prototype.call,[].slice);function E(e){return e?w(e.childNodes):[]}var C=n(2413);function F(e,t){return function(n){var r=n.currentTarget,a=n.target;(0,C.A)(r,e).some(function(e){return(0,y.default)(e,a)})&&t.call(this,n)}}var A=n(2757),k=n(4641),N=n(4238);function j(e,t){return e&&t&&t.parentNode?(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e):null}var _=/^(?:input|select|textarea|button)$/i;function S(e){return!!e&&_.test(e.nodeName)}function B(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}var M=n(2156);function O(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);for(var r=[];e;e=e.nextElementSibling)if(e!==t){if(n&&(0,M.A)(e,n))break;r.push(e)}return r}function T(e,t){return O(e,e,t)}var R=n(6058),I=n(5538),P=n(8170);function L(e){return function(e,t){var n=null,r=[];for(n=e?e[t]:null;n&&9!==n.nodeType;)r.push(n),n=n[t]||null;return r}(e,"parentElement")}var z=n(2930);function U(e,t){return e&&t?(t.firstElementChild?t.insertBefore(e,t.firstElementChild):t.appendChild(e),e):null}function W(e){return e&&e.parentNode?(e.parentNode.removeChild(e),e):null}var H=n(2373),q=n(8557),V=n(4770),K=n(3609),Y=n(3412);function G(e,t){var n=(0,o.A)(e,"position"),r="absolute"===n,a=e.ownerDocument;if("fixed"===n)return a||document;for(;(e=e.parentNode)&&!(0,Y.A)(e);){var s=r&&"static"===(0,o.A)(e,"position"),i=((0,o.A)(e,"overflow")||"")+((0,o.A)(e,"overflow-y")||"")+(0,o.A)(e,"overflow-x");if(!s&&(/(auto|scroll)/.test(i)&&(t||(0,N.A)(e)<e.scrollHeight)))return e}return a||document}var $=n(9809),Z=n(9241);function X(e,t){var n=(0,R.A)(e),r={top:0,left:0};if(e){var a=t||G(e),s=(0,$.A)(a),i=(0,Z.A)(a),o=(0,N.A)(a,!0);s||(r=(0,R.A)(a));var l=(n={top:n.top-r.top,left:n.left-r.left,height:n.height,width:n.width}).height,u=n.top+(s?0:i),c=u+l;i=i>u?u:c>i+o?c-o:i;var d=(0,g.E)(function(){return(0,Z.A)(a,i)});return function(){return(0,g.Z)(d)}}}function Q(e){return O(e&&e.parentElement?e.parentElement.firstElementChild:null,e)}var J=/&nbsp;/gi,ee=/\xA0/g,te=/\s+([^\s])/gm;function ne(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0);var r="";return e&&(r=(e.textContent||"").replace(J," ").replace(ee," "),t&&(r=r.trim()),n&&(r=r.replace(te," $1"))),r}function re(e,t){e.classList?e.classList.toggle(t):(0,k.A)(e,t)?(0,H.A)(e,t):(0,s.A)(e,t)}var ae=n(8525);const se={addEventListener:i.Ay,removeEventListener:q.A,triggerEvent:d,animate:f,filter:F,listen:c.default,style:o.A,getComputedStyle:A.A,attribute:b,activeElement:a,ownerDocument:r.A,ownerWindow:P.A,requestAnimationFrame:g.E,cancelAnimationFrame:g.Z,matches:M.A,height:N.A,width:ae.A,offset:R.A,offsetParent:I.A,position:z.A,contains:y.default,scrollbarSize:V.A,scrollLeft:K.A,scrollParent:G,scrollTo:X,scrollTop:Z.A,querySelectorAll:C.A,closest:v.default,addClass:s.A,removeClass:H.A,hasClass:k.A,toggleClass:re,transitionEnd:h,childNodes:E,childElements:D,nextUntil:T,parents:L,siblings:Q,clear:x,insertAfter:j,isInput:S,isVisible:B,prepend:U,remove:W,text:ne}},6305:(e,t,n)=>{var r=n(3738).default;function a(t,n){if("function"==typeof WeakMap)var s=new WeakMap,i=new WeakMap;return(e.exports=a=function(e,t){if(!t&&e&&e.__esModule)return e;var n,a,o={__proto__:null,default:e};if(null===e||"object"!=r(e)&&"function"!=typeof e)return o;if(n=t?i:s){if(n.has(e))return n.get(e);n.set(e,o)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((a=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(a.get||a.set)?n(o,l,a):o[l]=e[l]);return o},e.exports.__esModule=!0,e.exports.default=e.exports)(t,n)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},6321:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},6387:(e,t,n)=>{var r=n(4761),a=n(9653),s=n(1235);e.exports=function(e){return r(e,s,a)}},6463:(e,t,n)=>{var r=n(2279),a=n(5916),s=n(7044),i=n(4008);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:s(i(e))}},6540:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(2897)),s=r(n(7383)),i=r(n(4579)),o=r(n(5955)),l=r(n(9511)),u=r(n(2803)),c=r(n(9950)),d=r(n(9059)),h=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,t,arguments)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.segments,r=t.slotMetrics.slots,a=t.className,s=1;return c.default.createElement("div",{className:(0,u.default)(a,"rbc-row")},n.reduce(function(t,n,a){var i=n.event,o=n.left,l=n.right,u=n.span,c="_lvl_"+a,h=o-s,m=d.default.renderEvent(e.props,i);return h&&t.push(d.default.renderSpan(r,h,"".concat(c,"_gap"))),t.push(d.default.renderSpan(r,u,c,m)),s=l+1,t},[]))}}])}(c.default.Component);h.defaultProps=(0,a.default)({},d.default.defaultProps);t.default=h},6557:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},6602:(e,t,n)=>{var r=n(927),a=n(7840);e.exports=function(e,t){var n=-1,s=a(e)?Array(e.length):[];return r(e,function(e,r,a){s[++n]=t(e,r,a)}),s}},6638:(e,t,n)=>{var r=n(366),a=n(423),s=n(5127);e.exports=function(e,t){var n={};return t=s(t,3),a(e,function(e,a,s){r(n,a,t(e,a,s))}),n}},6658:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},6669:(e,t,n)=>{var r=n(4467),a=n(2274),s=n(2138);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=s,e.exports=i},6794:(e,t,n)=>{e=n.nmd(e);var r=n(4759),a=n(3721),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||a;e.exports=l},6795:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){function n(){var e;(0,i.default)(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=(0,l.default)(this,n,[].concat(r))).defaultOnDragOver=function(e){e.preventDefault()},e.handleBeginAction=function(t,n,r){e.setState({event:t,action:n,direction:r});var a=e.props.onDragStart;a&&a({event:t,action:n,direction:r})},e.handleInteractionStart=function(){!1===e.state.interacting&&e.setState({interacting:!0})},e.handleInteractionEnd=function(t){var n=e.state,r=n.action,a=n.event;if(r&&(e.setState({action:null,event:null,interacting:!1,direction:null}),null!=t)){t.event=a;var s=e.props,i=s.onEventDrop,o=s.onEventResize;"move"===r&&i&&i(t),"resize"===r&&o&&o(t)}},e.state={interacting:!1},e}return(0,u.default)(n,t),(0,o.default)(n,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var t=this.props,n=t.selectable,r=t.elementProps,i=t.components,o=(0,s.default)(t,b),l=this.state.interacting;delete o.onEventDrop,delete o.onEventResize,o.selectable=!!n&&"ignoreEvents",this.components=(0,f.mergeComponents)(i,{eventWrapper:h.default,eventContainerWrapper:m.default,weekWrapper:p.default});var u=this.props.onDropFromOutside?(0,a.default)((0,a.default)({},r),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):r;o.className=(0,d.default)(o.className,"rbc-addons-dnd",!!l&&"rbc-addons-dnd-is-dragging");var D=this.getDnDContextValue();return c.default.createElement(g.DnDContext.Provider,{value:D},c.default.createElement(e,Object.assign({},o,{elementProps:u,components:this.components})))}}])}(c.default.Component);return t.defaultProps=(0,a.default)((0,a.default)({},e.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),t};var a=r(n(2897)),s=r(n(1847)),i=r(n(7383)),o=r(n(4579)),l=r(n(5955)),u=r(n(9511)),c=r(n(9950)),d=r(n(2803)),h=(n(7798),r(n(4438))),m=r(n(2596)),p=r(n(2582)),f=n(8516),g=n(1052),b=["selectable","elementProps","components"]},6800:e=>{e.exports=function(e){return function(){return e}}},6810:(e,t,n)=>{var r=n(7518),a=n(7989);e.exports=function e(t,n,s,i,o){var l=-1,u=t.length;for(s||(s=a),o||(o=[]);++l<u;){var c=t[l];n>0&&s(c)?n>1?e(c,n-1,s,i,o):r(o,c):i||(o[o.length]=c)}return o}},6823:(e,t,n)=>{var r=n(7101);e.exports=function(e){return r(this,e).get(e)}},6825:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},6860:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,s=[];++n<r;){var i=e[n];t(i,n,e)&&(s[a++]=i)}return s}},6890:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.dateCellSelection=function(e,t,n,r,a){var o=-1,l=-1,u=r-1,c=s(t,r),d=i(t,n.x,a,r),h=t.top<n.y&&t.bottom>n.y,m=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,f=t.top>e.y;n.top<t.top&&n.bottom>t.bottom&&(o=0,l=u);h&&(f?(o=0,l=d):p&&(o=d,l=u));m&&(o=l=a?u-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),h?d<o?o=d:l=d:e.y<n.y?l=u:o=0);return{startIdx:o,endIdx:l}},t.getSlotAtX=i,t.isSelected=function(e,t){return!(!e||null==t)&&(0,a.default)(e,t)},t.pointInBox=function(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right},t.slotWidth=s;var a=r(n(9418));function s(e,t){return(e.right-e.left)/t}function i(e,t,n,r){var a=s(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}},6914:(e,t,n)=>{var r=n(8798),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},6949:(e,t,n)=>{var r=n(6463),a=n(7988),s=n(8639),i=n(2535);e.exports=function(e,t){return t=r(t,e),null==(e=s(e,t))||delete e[i(a(t))]}},6958:(e,t,n)=>{var r=n(3616);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},6993:e=>{e.exports=function(e,t,n,r){for(var a=e.length,s=n+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},6999:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=null;if(!e||"string"!==typeof e)return n;const r=(0,a.default)(e),s="function"===typeof t;return r.forEach(e=>{if("declaration"!==e.type)return;const{property:r,value:a}=e;s?t(r,a,e):a&&(n=n||{},n[r]=a)}),n};const a=r(n(9703))},7044:(e,t,n)=>{var r=n(3734),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(s,"$1"):n||e)}),t});e.exports=i},7059:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},7101:(e,t,n)=>{var r=n(4672);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7122:(e,t,n)=>{var r=n(79);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7175:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},7203:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},7254:(e,t,n)=>{"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,i=r.useRef,o=r.useEffect,l=r.useMemo,u=r.useDebugValue},7256:(e,t,n)=>{"use strict";n(7254)},7305:(e,t,n)=>{var r=n(366),a=n(4206),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];s.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},7311:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},7379:e=>{e.exports=function(e){return this.__data__.get(e)}},7383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},7405:(e,t,n)=>{var r=n(4102),a=n(4578),s=n(2279),i=n(6794),o=n(7059),l=n(1641),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),c=!n&&a(e),d=!n&&!c&&i(e),h=!n&&!c&&!d&&l(e),m=n||c||d||h,p=m?r(e.length,String):[],f=p.length;for(var g in e)!t&&!u.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,f))||p.push(g);return p}},7410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8996),a=n(8557);const s=function(e,t,n,s){return(0,r.Ay)(e,t,n,s),function(){(0,a.A)(e,t,n,s)}}},7455:(e,t,n)=>{var r=n(3616);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7462:(e,t,n)=>{var r=n(2161),a=n(5112),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7518:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},7534:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=!("undefined"===typeof window||!window.document||!window.document.createElement)},7542:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,a){var s=n(e),i=n(t),o="("===(a=a||"()")[0],l=")"===a[1];return(o?this.isAfter(s,r):!this.isBefore(s,r))&&(l?this.isBefore(i,r):!this.isAfter(i,r))||(o?this.isBefore(s,r):!this.isAfter(s,r))&&(l?this.isAfter(i,r):!this.isBefore(i,r))}}}()},7550:e=>{function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7588:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var a=n.prototype,s=a.format;r.en.formats=e,a.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,r,a){var s=a&&a.toUpperCase();return r||n[a]||e[a]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})}(t,void 0===n?{}:n);return s.call(this,r)}}}()},7736:(e,t,n)=>{var r=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7744:(e,t,n)=>{var r=n(3530),a=n(5639),s=n(2479),i=s&&s.isMap,o=i?a(i):r;e.exports=o},7798:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.views=t.dateRangeFormat=t.dateFormat=t.accessor=t.DayLayoutAlgorithmPropType=void 0;var a=r(n(1942)),s=n(2393),i=Object.keys(s.views).map(function(e){return s.views[e]});t.accessor=a.default.oneOfType([a.default.string,a.default.func]),t.dateFormat=a.default.any,t.dateRangeFormat=a.default.func,t.views=a.default.oneOfType([a.default.arrayOf(a.default.oneOf(i)),a.default.objectOf(function(e,t){if(-1!==i.indexOf(t)&&"boolean"===typeof e[t])return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return a.default.elementType.apply(a.default,[e,t].concat(r))})]),t.DayLayoutAlgorithmPropType=a.default.oneOfType([a.default.oneOf(["overlap","no-overlap"]),a.default.func])},7820:e=>{function t(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n],a=typeof r;"object"!==a&&"function"!==a||Object.isFrozen(r)||t(r)}),e}class n{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(e){const t=Object.create(null);for(const s in e)t[s]=e[s];for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(function(e){for(const n in e)t[n]=e[n]}),t}const s=e=>!!e.scope;class i{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=r(e)}openNode(e){if(!s(e))return;const t=((e,t)=>{let{prefix:n}=t;if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const t=e.split(".");return["".concat(n).concat(t.shift()),...t.map((e,t)=>"".concat(e).concat("_".repeat(t+1)))].join(" ")}return"".concat(n).concat(e)})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){s(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+='<span class="'.concat(e,'">')}}const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={children:[]};return Object.assign(t,e),t};class l{constructor(){this.rootNode=o(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=o({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"===typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!==typeof e&&e.children&&(e.children.every(e=>"string"===typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{l._collapse(e)}))}}class u extends l{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope="language:".concat(t)),this.add(n)}toHTML(){return new i(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function c(e){return e?"string"===typeof e?e:e.source:null}function d(e){return p("(?=",e,")")}function h(e){return p("(?:",e,")*")}function m(e){return p("(?:",e,")?")}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>c(e)).join("")}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=function(e){const t=e[e.length-1];return"object"===typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(t);return"("+(r.capture?"":"?:")+t.map(e=>c(e)).join("|")+")"}function g(e){return new RegExp(e.toString()+"|").exec("").length-1}const b=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function D(e,t){let{joinWith:n}=t,r=0;return e.map(e=>{r+=1;const t=r;let n=c(e),a="";for(;n.length>0;){const e=b.exec(n);if(!e){a+=n;break}a+=n.substring(0,e.index),n=n.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?a+="\\"+String(Number(e[1])+t):(a+=e[0],"("===e[0]&&r++)}return a}).map(e=>"(".concat(e,")")).join(n)}const x="[a-zA-Z]\\w*",v="[a-zA-Z_]\\w*",y="\\b\\d+(\\.\\d+)?",w="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",E="\\b(0b[01]+)",C={begin:"\\\\[\\s\\S]",relevance:0},F={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[C]},A={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[C]},k=function(e,t){const n=a({scope:"comment",begin:e,end:t,contains:[]},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=f("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:p(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},N=k("//","$"),j=k("/\\*","\\*/"),_=k("#","$"),S={scope:"number",begin:y,relevance:0},B={scope:"number",begin:w,relevance:0},M={scope:"number",begin:E,relevance:0},O={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[C,{begin:/\[/,end:/\]/,relevance:0,contains:[C]}]},T={scope:"title",begin:x,relevance:0},R={scope:"title",begin:v,relevance:0},I={begin:"\\.\\s*"+v,relevance:0};var P=Object.freeze({__proto__:null,APOS_STRING_MODE:F,BACKSLASH_ESCAPE:C,BINARY_NUMBER_MODE:M,BINARY_NUMBER_RE:E,COMMENT:k,C_BLOCK_COMMENT_MODE:j,C_LINE_COMMENT_MODE:N,C_NUMBER_MODE:B,C_NUMBER_RE:w,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:_,IDENT_RE:x,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:I,NUMBER_MODE:S,NUMBER_RE:y,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:A,REGEXP_MODE:O,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=/^#![ ]*\//;return e.binary&&(e.begin=p(t,/.*\b/,e.binary,/\b.*/)),a({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:T,UNDERSCORE_IDENT_RE:v,UNDERSCORE_TITLE_MODE:R});function L(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function z(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function U(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=L,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function W(e,t){Array.isArray(e.illegal)&&(e.illegal=f(...e.illegal))}function H(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function q(e,t){void 0===e.relevance&&(e.relevance=1)}const V=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=p(n.beforeMatch,d(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},K=["of","and","for","in","not","or","if","then","parent","list","value"];function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"keyword";const r=Object.create(null);return"string"===typeof e?a(n,e.split(" ")):Array.isArray(e)?a(n,e):Object.keys(e).forEach(function(n){Object.assign(r,Y(e[n],t,n))}),r;function a(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach(function(t){const n=t.split("|");r[n[0]]=[e,G(n[0],n[1])]})}}function G(e,t){return t?Number(t):function(e){return K.includes(e.toLowerCase())}(e)?0:1}const $={},Z=e=>{console.error(e)},X=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("WARN: ".concat(e),...n)},Q=(e,t)=>{$["".concat(e,"/").concat(t)]||(console.log("Deprecated as of ".concat(e,". ").concat(t)),$["".concat(e,"/").concat(t)]=!0)},J=new Error;function ee(e,t,n){let{key:r}=n,a=0;const s=e[r],i={},o={};for(let l=1;l<=t.length;l++)o[l+a]=s[l],i[l+a]=!0,a+=g(t[l-1]);e[r]=o,e[r]._emit=i,e[r]._multi=!0}function te(e){!function(e){e.scope&&"object"===typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"===typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"===typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Z("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),J;if("object"!==typeof e.beginScope||null===e.beginScope)throw Z("beginScope must be object"),J;ee(e,e.begin,{key:"beginScope"}),e.begin=D(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Z("skip, excludeEnd, returnEnd not compatible with endScope: {}"),J;if("object"!==typeof e.endScope||null===e.endScope)throw Z("endScope must be object"),J;ee(e,e.end,{key:"endScope"}),e.end=D(e.end,{joinWith:""})}}(e)}function ne(e){function t(t,n){return new RegExp(c(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=g(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(D(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(e=>{let[n,r]=e;return t.addRule(n,r)}),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=a(e.classNameAliases||{}),function n(s,i){const o=s;if(s.isCompiled)return o;[z,H,te,V].forEach(e=>e(s,i)),e.compilerExtensions.forEach(e=>e(s,i)),s.__beforeBegin=null,[U,W,q].forEach(e=>e(s,i)),s.isCompiled=!0;let l=null;return"object"===typeof s.keywords&&s.keywords.$pattern&&(s.keywords=Object.assign({},s.keywords),l=s.keywords.$pattern,delete s.keywords.$pattern),l=l||/\w+/,s.keywords&&(s.keywords=Y(s.keywords,e.case_insensitive)),o.keywordPatternRe=t(l,!0),i&&(s.begin||(s.begin=/\B|\b/),o.beginRe=t(o.begin),s.end||s.endsWithParent||(s.end=/\B|\b/),s.end&&(o.endRe=t(o.end)),o.terminatorEnd=c(o.end)||"",s.endsWithParent&&i.terminatorEnd&&(o.terminatorEnd+=(s.end?"|":"")+i.terminatorEnd)),s.illegal&&(o.illegalRe=t(s.illegal)),s.contains||(s.contains=[]),s.contains=[].concat(...s.contains.map(function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return a(e,{variants:null},t)}));if(e.cachedVariants)return e.cachedVariants;if(re(e))return a(e,{starts:e.starts?a(e.starts):null});if(Object.isFrozen(e))return a(e);return e}("self"===e?s:e)})),s.contains.forEach(function(e){n(e,o)}),s.starts&&n(s.starts,i),o.matcher=function(e){const t=new r;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(o),o}(e)}function re(e){return!!e&&(e.endsWithParent||re(e.starts))}class ae extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const se=r,ie=a,oe=Symbol("nomatch"),le=function(e){const r=Object.create(null),a=Object.create(null),s=[];let i=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function g(e){return c.noHighlightRe.test(e)}function b(e,t,n){let r="",a="";"object"===typeof t?(r=e,n=t.ignoreIllegals,a=t.language):(Q("10.7.0","highlight(lang, code, ...args) has been deprecated."),Q("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),a=e,r=t),void 0===n&&(n=!0);const s={code:r,language:a};A("before:highlight",s);const i=s.result?s.result:D(s.language,s.code,n);return i.code=s.code,A("after:highlight",i),i}function D(e,t,a,s){const l=Object.create(null);function u(e,t){return e.keywords[t]}function d(){if(!k.keywords)return void j.addText(_);let e=0;k.keywordPatternRe.lastIndex=0;let t=k.keywordPatternRe.exec(_),n="";for(;t;){n+=_.substring(e,t.index);const r=C.case_insensitive?t[0].toLowerCase():t[0],a=u(k,r);if(a){const[e,s]=a;if(j.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=7&&(S+=s),e.startsWith("_"))n+=t[0];else{const n=C.classNameAliases[e]||e;m(t[0],n)}}else n+=t[0];e=k.keywordPatternRe.lastIndex,t=k.keywordPatternRe.exec(_)}n+=_.substring(e),j.addText(n)}function h(){null!=k.subLanguage?function(){if(""===_)return;let e=null;if("string"===typeof k.subLanguage){if(!r[k.subLanguage])return void j.addText(_);e=D(k.subLanguage,_,!0,N[k.subLanguage]),N[k.subLanguage]=e._top}else e=x(_,k.subLanguage.length?k.subLanguage:null);k.relevance>0&&(S+=e.relevance),j.__addSublanguage(e._emitter,e.language)}():d(),_=""}function m(e,t){""!==e&&(j.startScope(t),j.addText(e),j.endScope())}function p(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=C.classNameAliases[e[n]]||e[n],a=t[n];r?m(a,r):(_=a,d(),_=""),n++}}function f(e,t){return e.scope&&"string"===typeof e.scope&&j.openNode(C.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(m(_,C.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),_=""):e.beginScope._multi&&(p(e.beginScope,t),_="")),k=Object.create(e,{parent:{value:k}}),k}function g(e,t,r){let a=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,r);if(a){if(e["on:end"]){const r=new n(e);e["on:end"](t,r),r.isMatchIgnored&&(a=!1)}if(a){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return g(e.parent,t,r)}function b(e){return 0===k.matcher.regexIndex?(_+=e[0],1):(O=!0,0)}function v(e){const n=e[0],r=t.substring(e.index),a=g(k,e,r);if(!a)return oe;const s=k;k.endScope&&k.endScope._wrap?(h(),m(n,k.endScope._wrap)):k.endScope&&k.endScope._multi?(h(),p(k.endScope,e)):s.skip?_+=n:(s.returnEnd||s.excludeEnd||(_+=n),h(),s.excludeEnd&&(_=n));do{k.scope&&j.closeNode(),k.skip||k.subLanguage||(S+=k.relevance),k=k.parent}while(k!==a.parent);return a.starts&&f(a.starts,e),s.returnEnd?0:n.length}let y={};function w(r,s){const o=s&&s[0];if(_+=r,null==o)return h(),0;if("begin"===y.type&&"end"===s.type&&y.index===s.index&&""===o){if(_+=t.slice(s.index,s.index+1),!i){const t=new Error("0 width match regex (".concat(e,")"));throw t.languageName=e,t.badRule=y.rule,t}return 1}if(y=s,"begin"===s.type)return function(e){const t=e[0],r=e.rule,a=new n(r),s=[r.__beforeBegin,r["on:begin"]];for(const n of s)if(n&&(n(e,a),a.isMatchIgnored))return b(t);return r.skip?_+=t:(r.excludeBegin&&(_+=t),h(),r.returnBegin||r.excludeBegin||(_=t)),f(r,e),r.returnBegin?0:t.length}(s);if("illegal"===s.type&&!a){const e=new Error('Illegal lexeme "'+o+'" for mode "'+(k.scope||"<unnamed>")+'"');throw e.mode=k,e}if("end"===s.type){const e=v(s);if(e!==oe)return e}if("illegal"===s.type&&""===o)return _+="\n",1;if(M>1e5&&M>3*s.index){throw new Error("potential infinite loop, way more iterations than matches")}return _+=o,o.length}const C=E(e);if(!C)throw Z(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');const F=ne(C);let A="",k=s||F;const N={},j=new c.__emitter(c);!function(){const e=[];for(let t=k;t!==C;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>j.openNode(e))}();let _="",S=0,B=0,M=0,O=!1;try{if(C.__emitTokens)C.__emitTokens(t,j);else{for(k.matcher.considerAll();;){M++,O?O=!1:k.matcher.considerAll(),k.matcher.lastIndex=B;const e=k.matcher.exec(t);if(!e)break;const n=w(t.substring(B,e.index),e);B=e.index+n}w(t.substring(B))}return j.finalize(),A=j.toHTML(),{language:e,value:A,relevance:S,illegal:!1,_emitter:j,_top:k}}catch(T){if(T.message&&T.message.includes("Illegal"))return{language:e,value:se(t),illegal:!0,relevance:0,_illegalBy:{message:T.message,index:B,context:t.slice(B-100,B+100),mode:T.mode,resultSoFar:A},_emitter:j};if(i)return{language:e,value:se(t),illegal:!1,relevance:0,errorRaised:T,_emitter:j,_top:k};throw T}}function x(e,t){t=t||c.languages||Object.keys(r);const n=function(e){const t={value:se(e),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return t._emitter.addText(e),t}(e),a=t.filter(E).filter(F).map(t=>D(t,e,!1));a.unshift(n);const s=a.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(E(e.language).supersetOf===t.language)return 1;if(E(t.language).supersetOf===e.language)return-1}return 0}),[i,o]=s,u=i;return u.secondBest=o,u}function v(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=c.languageDetectRe.exec(t);if(n){const t=E(n[1]);return t||(X(o.replace("{}",n[1])),X("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>g(e)||E(e))}(e);if(g(n))return;if(A("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),c.throwUnescapedHTML)){throw new ae("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const r=t.textContent,s=n?b(r,{language:n,ignoreIllegals:!0}):x(r);e.innerHTML=s.value,e.dataset.highlighted="yes",function(e,t,n){const r=t&&a[t]||n;e.classList.add("hljs"),e.classList.add("language-".concat(r))}(e,n,s.language),e.result={language:s.language,re:s.relevance,relevance:s.relevance},s.secondBest&&(e.secondBest={language:s.secondBest.language,relevance:s.secondBest.relevance}),A("after:highlightElement",{el:e,result:s,text:r})}let y=!1;function w(){if("loading"===document.readyState)return y||window.addEventListener("DOMContentLoaded",function(){w()},!1),void(y=!0);document.querySelectorAll(c.cssSelector).forEach(v)}function E(e){return e=(e||"").toLowerCase(),r[e]||r[a[e]]}function C(e,t){let{languageName:n}=t;"string"===typeof e&&(e=[e]),e.forEach(e=>{a[e.toLowerCase()]=n})}function F(e){const t=E(e);return t&&!t.disableAutodetect}function A(e,t){const n=e;s.forEach(function(e){e[n]&&e[n](t)})}Object.assign(e,{highlight:b,highlightAuto:x,highlightAll:w,highlightElement:v,highlightBlock:function(e){return Q("10.7.0","highlightBlock will be removed entirely in v12.0"),Q("10.7.0","Please use highlightElement now."),v(e)},configure:function(e){c=ie(c,e)},initHighlighting:()=>{w(),Q("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){w(),Q("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,n){let a=null;try{a=n(e)}catch(s){if(Z("Language definition for '{}' could not be registered.".replace("{}",t)),!i)throw s;Z(s),a=l}a.name||(a.name=t),r[t]=a,a.rawDefinition=n.bind(null,e),a.aliases&&C(a.aliases,{languageName:t})},unregisterLanguage:function(e){delete r[e];for(const t of Object.keys(a))a[t]===e&&delete a[t]},listLanguages:function(){return Object.keys(r)},getLanguage:E,registerAliases:C,autoDetection:F,inherit:ie,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),s.push(e)},removePlugin:function(e){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString="11.11.1",e.regex={concat:p,lookahead:d,either:f,optional:m,anyNumberOfTimes:h};for(const n in P)"object"===typeof P[n]&&t(P[n]);return Object.assign(e,P),e},ue=le({});ue.newInstance=()=>le({}),e.exports=ue,ue.HighlightJS=ue,ue.default=ue},7840:(e,t,n)=>{var r=n(3008),a=n(5776);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},7859:(e,t,n)=>{var r=n(7101);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},7887:(e,t,n)=>{var r=n(220)(n(4759),"Set");e.exports=r},7889:(e,t,n)=>{var r=n(5099);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7923:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2757),a=n(4189),s=/^ms-/;function i(e){return(0,a.A)(e).replace(s,"-ms-")}var o=n(4205);const l=function(e,t){var n="",a="";if("string"===typeof t)return e.style.getPropertyValue(i(t))||(0,r.A)(e).getPropertyValue(i(t));Object.keys(t).forEach(function(r){var s=t[r];s||0===s?(0,o.A)(r)?a+=r+"("+s+") ":n+=i(r)+": "+s+";":e.style.removeProperty(i(r))}),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n}},7946:(e,t,n)=>{var r=n(52);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},7949:(e,t,n)=>{var r=n(3008),a=n(3306),s=n(4567),i=n(9131),o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(r(e)?h:o).test(i(e))}},7988:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},7989:(e,t,n)=>{var r=n(4635),a=n(4578),s=n(2279),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(i&&e&&e[i])}},8152:(e,t,n)=>{var r=n(656);e.exports=function(e,t,n){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=n.length;++a<o;){var u=r(s[a],i[a]);if(u)return a>=l?u:u*("desc"==n[a]?-1:1)}return e.index-t.index}},8166:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8170:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(9815);function a(e){var t=(0,r.A)(e);return t&&t.defaultView||window}},8183:(e,t,n)=>{var r=n(2022),a=n(5776),s=n(9248),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!i[r(e)]}},8194:(e,t,n)=>{var r=n(6860),a=n(1515),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return s.call(e,t)}))}:a;e.exports=o},8230:(e,t,n)=>{var r=n(4567),a=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},8245:(e,t,n)=>{var r=n(1570),a=n(52),s=n(5127),i=n(6602),o=n(7311),l=n(5639),u=n(8152),c=n(9002),d=n(2279);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[c];var h=-1;t=r(t,l(s));var m=i(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return o(m,function(e,t){return u(e,t,n)})}},8246:(e,t,n)=>{var r=n(4759).Uint8Array;e.exports=r},8251:(e,t,n)=>{var r=n(4978),a=n(9042),s=n(5171),i=Math.ceil,o=Math.max;e.exports=function(e,t,n){t=(n?a(e,t,n):void 0===t)?1:o(s(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var u=0,c=0,d=Array(i(l/t));u<l;)d[c++]=r(e,u,u+=t);return d}},8336:(e,t,n)=>{"use strict";function r(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.r(t),n.d(t,{default:()=>r})},8345:(e,t,n)=>{"use strict";var r=n(9950),a=n(5340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,D);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,D);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,D);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var R,I=Object.assign;function P(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var L=!1;function z(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function U(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case F:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var be=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Ce=null;function Fe(e){if(e=xa(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ya(t),we(e.stateNode,e.type,t))}}function Ae(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function ke(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,Fe(e),t)for(e=0;e<t.length;e++)Fe(t[e])}}function Ne(e,t){return e(t)}function je(){}var _e=!1;function Se(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ne(e,t,n)}finally{_e=!1,(null!==Ee||null!==Ce)&&(je(),ke())}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ya(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Me=!1}function Te(e,t,n,r,a,s,i,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,Ie=null,Pe=!1,Le=null,ze={onError:function(e){Re=!0,Ie=e}};function Ue(e,t,n,r,a,s,i,o,l){Re=!1,Ie=null,Te.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qe(a),e;if(i===r)return qe(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Ze=a.unstable_requestPaint,Xe=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,wt,Et,Ct,Ft,At=!1,kt=[],Nt=null,jt=null,_t=null,St=new Map,Bt=new Map,Mt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Rt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=Da(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ft(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Lt(e,t,n){Pt(e)&&n.delete(t)}function zt(){At=!1,null!==Nt&&Pt(Nt)&&(Nt=null),null!==jt&&Pt(jt)&&(jt=null),null!==_t&&Pt(_t)&&(_t=null),St.forEach(Lt),Bt.forEach(Lt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<kt.length){Ut(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==jt&&Ut(jt,e),null!==_t&&Ut(_t,e),St.forEach(t),Bt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)It(n),null===n.blockedOn&&Mt.shift()}var Ht=v.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var a=xt,s=Ht.transition;Ht.transition=null;try{xt=1,Yt(e,t,n,r)}finally{xt=a,Ht.transition=s}}function Kt(e,t,n,r){var a=xt,s=Ht.transition;Ht.transition=null;try{xt=4,Yt(e,t,n,r)}finally{xt=a,Ht.transition=s}}function Yt(e,t,n,r){if(qt){var a=$t(e,t,n,r);if(null===a)qr(e,t,r,Gt,n),Tt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Nt=Rt(Nt,e,t,n,r,a),!0;case"dragenter":return jt=Rt(jt,e,t,n,r,a),!0;case"mouseover":return _t=Rt(_t,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return St.set(s,Rt(St.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Bt.set(s,Rt(Bt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Tt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&yt(s),null===(s=$t(e,t,n,r))&&qr(e,t,r,Gt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=Da(e=ye(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=I({},un,{view:0,detail:0}),hn=an(dn),mn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(mn),fn=an(I({},mn,{dataTransfer:0})),gn=an(I({},dn,{relatedTarget:0})),bn=an(I({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),Dn=I({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(Dn),vn=an(I({},un,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Fn(){return Cn}var An=I({},dn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(An),Nn=an(I({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=an(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn})),_n=an(I({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=I({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=an(Sn),Mn=[9,13,27,32],On=c&&"CompositionEvent"in window,Tn=null;c&&"documentMode"in document&&(Tn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Tn,In=c&&(!On||Tn&&8<Tn&&11>=Tn),Pn=String.fromCharCode(32),Ln=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function Gn(e){Pr(e,0)}function $n(e){if(Y(va(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Yn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Yn)){var t=[];Vn(t,Yn,e,ye(e)),Se(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function sr(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=cr(n,s);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,Dr=null,xr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Dr&&lr(Dr,r)||(Dr=r,0<(r=Kr(br,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Er={},Cr={};function Fr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ar=Fr("animationend"),kr=Fr("animationiteration"),Nr=Fr("animationstart"),jr=Fr("transitionend"),_r=new Map,Sr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){_r.set(e,t),l(t,[e])}for(var Mr=0;Mr<Sr.length;Mr++){var Or=Sr[Mr];Br(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Br(Ar,"onAnimationEnd"),Br(kr,"onAnimationIteration"),Br(Nr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(jr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,u){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(s(198));var c=Ie;Re=!1,Ie=null,Pe||(Pe=!0,Le=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Ir(a,o,u),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,u=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Ir(a,o,u),s=l}}}if(Pe)throw e=Le,Pe=!1,Le=null,e}function Lr(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ur]){e[Ur]=!0,i.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var a=Vt;break;case 4:a=Kt;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=Da(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Se(function(){var r=s,a=ye(n),i=[];e:{var o=_r.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Ar:case kr:case Nr:l=bn;break;case jr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var m,p=r;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Be(p,h))&&c.push(Vr(p,f,m)))),d)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,a),i.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ve||!(u=n.relatedTarget||n.fromElement)||!Da(u)&&!u[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Da(u):null)&&(u!==(d=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,f="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:va(l),m=null==u?o:va(u),(o=new c(f,p+"leave",l,n,a)).target=d,o.relatedTarget=m,f=null,Da(a)===r&&((c=new c(h,p+"enter",u,n,a)).target=m,c.relatedTarget=d,f=c),d=f,l&&u)e:{for(h=u,p=0,m=c=l;m;m=Yr(m))p++;for(m=0,f=h;f;f=Yr(f))m++;for(;0<p-m;)c=Yr(c),p--;for(;0<m-p;)h=Yr(h),m--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Yr(c),h=Yr(h)}c=null}else c=null;null!==l&&Gr(i,o,l,c,!1),null!==u&&null!==d&&Gr(i,d,u,c,!0)}if("select"===(l=(o=r?va(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Zn;else if(qn(o))if(Xn)g=ir;else{g=ar;var b=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Vn(i,g,n,a):(b&&b(e,o,r),"focusout"===e&&(b=o._wrapperState)&&b.controlled&&"number"===o.type&&ee(o,"number",o.value)),b=r?va(r):window,e){case"focusin":(qn(b)||"true"===b.contentEditable)&&(gr=b,br=r,Dr=null);break;case"focusout":Dr=br=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,vr(i,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(i,n,a)}var D;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Wn?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Wn&&(D=en()):(Qt="value"in(Xt=a)?Xt.value:Xt.textContent,Wn=!0)),0<(b=Kr(r,x)).length&&(x=new vn(x,e,null,n,a),i.push({event:x,listeners:b}),D?x.data=D:null!==(D=Un(n))&&(x.data=D))),(D=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Ln=!0,Pn);case"textInput":return(e=t.data)===Pn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Jt=Qt=Xt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new vn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=D))}Pr(i,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Be(e,n))&&r.unshift(Vr(e,s,a)),null!=(s=Be(e,t))&&r.push(Vr(e,s,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,a?null!=(l=Be(n,s))&&i.unshift(Vr(n,l,o)):a||null!=(l=Be(n,s))&&i.push(Vr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Zr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,ma="__reactProps$"+da,pa="__reactContainer$"+da,fa="__reactEvents$"+da,ga="__reactListeners$"+da,ba="__reactHandles$"+da;function Da(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[ha])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ya(e){return e[ma]||null}var wa=[],Ea=-1;function Ca(e){return{current:e}}function Fa(e){0>Ea||(e.current=wa[Ea],wa[Ea]=null,Ea--)}function Aa(e,t){Ea++,wa[Ea]=e.current,e.current=t}var ka={},Na=Ca(ka),ja=Ca(!1),_a=ka;function Sa(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ba(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Fa(ja),Fa(Na)}function Oa(e,t,n){if(Na.current!==ka)throw Error(s(168));Aa(Na,t),Aa(ja,n)}function Ta(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return I({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,_a=Na.current,Aa(Na,e),Aa(ja,ja.current),!0}function Ia(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ta(e,t,_a),r.__reactInternalMemoizedMergedChildContext=e,Fa(ja),Fa(Na),Aa(Na,e)):Fa(ja),Aa(ja,n)}var Pa=null,La=!1,za=!1;function Ua(e){null===Pa?Pa=[e]:Pa.push(e)}function Wa(){if(!za&&null!==Pa){za=!0;var e=0,t=xt;try{var n=Pa;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Pa=null,La=!1}catch(a){throw null!==Pa&&(Pa=Pa.slice(e+1)),Ye(Je,Wa),a}finally{xt=t,za=!1}}return null}var Ha=[],qa=0,Va=null,Ka=0,Ya=[],Ga=0,$a=null,Za=1,Xa="";function Qa(e,t){Ha[qa++]=Ka,Ha[qa++]=Va,Va=e,Ka=t}function Ja(e,t,n){Ya[Ga++]=Za,Ya[Ga++]=Xa,Ya[Ga++]=$a,$a=e;var r=Za;e=Xa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Za=1<<32-it(t)+a|n<<a|r,Xa=s+e}else Za=1<<s|n<<a|r,Xa=e}function es(e){null!==e.return&&(Qa(e,1),Ja(e,1,0))}function ts(e){for(;e===Va;)Va=Ha[--qa],Ha[qa]=null,Ka=Ha[--qa],Ha[qa]=null;for(;e===$a;)$a=Ya[--Ga],Ya[Ga]=null,Xa=Ya[--Ga],Ya[Ga]=null,Za=Ya[--Ga],Ya[Ga]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Su(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Za,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Su(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ua(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return cs(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ua(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ua(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ua(e.nextSibling)}function ms(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var fs=v.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ds(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===B&&Ds(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Tu(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case w:return(t=Pu(t,e.mode,n)).return=e,t;case B:return h(e,(0,t._init)(t._payload),n)}if(te(t)||T(t))return(t=Tu(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===a?u(e,t,n,r):null;case w:return n.key===a?c(e,t,n,r):null;case B:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||T(n))return null!==a?null:d(e,t,n,r,null);bs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case y:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case B:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||T(r))return d(t,e=e.get(n)||null,r,a,null);bs(t,r)}return null}function f(a,s,o,l){for(var u=null,c=null,d=s,f=s=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var b=m(a,d,o[f],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(a,d),s=i(b,s,f),null===c?u=b:c.sibling=b,c=b,d=g}if(f===o.length)return n(a,d),as&&Qa(a,f),u;if(null===d){for(;f<o.length;f++)null!==(d=h(a,o[f],l))&&(s=i(d,s,f),null===c?u=d:c.sibling=d,c=d);return as&&Qa(a,f),u}for(d=r(a,d);f<o.length;f++)null!==(g=p(d,a,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),s=i(g,s,f),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Qa(a,f),u}function g(a,o,l,u){var c=T(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,f=o,g=o=0,b=null,D=l.next();null!==f&&!D.done;g++,D=l.next()){f.index>g?(b=f,f=null):b=f.sibling;var x=m(a,f,D.value,u);if(null===x){null===f&&(f=b);break}e&&f&&null===x.alternate&&t(a,f),o=i(x,o,g),null===d?c=x:d.sibling=x,d=x,f=b}if(D.done)return n(a,f),as&&Qa(a,g),c;if(null===f){for(;!D.done;g++,D=l.next())null!==(D=h(a,D.value,u))&&(o=i(D,o,g),null===d?c=D:d.sibling=D,d=D);return as&&Qa(a,g),c}for(f=r(a,f);!D.done;g++,D=l.next())null!==(D=p(f,a,g,D.value,u))&&(e&&null!==D.alternate&&f.delete(null===D.key?g:D.key),o=i(D,o,g),null===d?c=D:d.sibling=D,d=D);return e&&f.forEach(function(e){return t(a,e)}),as&&Qa(a,g),c}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===E&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case y:e:{for(var u=i.key,c=s;null!==c;){if(c.key===u){if((u=i.type)===E){if(7===c.tag){n(r,c.sibling),(s=a(c,i.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===B&&Ds(u)===c.type){n(r,c.sibling),(s=a(c,i.props)).ref=gs(r,c,i),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===E?((s=Tu(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Ou(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case w:e:{for(c=i.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Pu(i,r.mode,l)).return=r,r=s}return o(r);case B:return e(r,s,(c=i._init)(i._payload),l)}if(te(i))return f(r,s,i,l);if(T(i))return g(r,s,i,l);bs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Iu(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var vs=xs(!0),ys=xs(!1),ws=Ca(null),Es=null,Cs=null,Fs=null;function As(){Fs=Cs=Es=null}function ks(e){var t=ws.current;Fa(ws),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Es=e,Fs=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(Fs!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===Es)throw Error(s(308));Cs=e,Es.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Ss=null;function Bs(e){null===Ss?Ss=[e]:Ss.push(e)}function Ms(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Bs(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ts=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return null===(a=r.interleaved)?(t.next=t,Bs(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var a=e.updateQueue;Ts=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,u=l.next;l.next=null,null===i?s=u:i.next=u,i=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,c=u=l=null,o=s;;){var h=o.lane,m=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=n,f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,d,h):p)||void 0===h)break e;d=I({},d,h);break e;case 2:Ts=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=m,l=d):c=c.next=m,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var qs={},Vs=Ca(qs),Ks=Ca(qs),Ys=Ca(qs);function Gs(e){if(e===qs)throw Error(s(174));return e}function $s(e,t){switch(Aa(Ys,t),Aa(Ks,e),Aa(Vs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Fa(Vs),Aa(Vs,t)}function Zs(){Fa(Vs),Fa(Ks),Fa(Ys)}function Xs(e){Gs(Ys.current);var t=Gs(Vs.current),n=le(t,e.type);t!==n&&(Aa(Ks,e),Aa(Vs,n))}function Qs(e){Ks.current===e&&(Fa(Vs),Fa(Ks))}var Js=Ca(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=v.ReactCurrentDispatcher,ai=v.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ui=!1,ci=!1,di=0,hi=0;function mi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Qi:Ji,e=n(r,a),ci){i=0;do{if(ci=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(ci)}if(ri.current=Xi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ui=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function Di(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function xi(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=Di(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((si&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,o=r):u=u.next=h,ii.lanes|=d,Rl|=d}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Rl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yi(e){var t=Di(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wi(){}function Ei(e,t){var n=ii,r=Di(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,xo=!0),r=r.queue,Ti(Ai.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,_i(9,Fi.bind(null,n,r,a,t),void 0,null),null===jl)throw Error(s(349));0!==(30&si)||Ci(n,t,a)}return a}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fi(e,t,n,r){t.value=n,t.getSnapshot=r,ki(t)&&Ni(e)}function Ai(e,t,n){return n(function(){ki(t)&&Ni(e)})}function ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ni(e){var t=Os(e,1);null!==t&&nu(t,e,1,-1)}function ji(e){var t=bi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function _i(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Si(){return Di().memoizedState}function Bi(e,t,n,r){var a=bi();ii.flags|=e,a.memoizedState=_i(1|t,n,void 0,void 0===r?null:r)}function Mi(e,t,n,r){var a=Di();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&pi(r,i.deps))return void(a.memoizedState=_i(t,n,s,r))}ii.flags|=e,a.memoizedState=_i(1|t,n,s,r)}function Oi(e,t){return Bi(8390656,8,e,t)}function Ti(e,t){return Mi(2048,8,e,t)}function Ri(e,t){return Mi(4,2,e,t)}function Ii(e,t){return Mi(4,4,e,t)}function Pi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Li(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4,4,Pi.bind(null,t,e),n)}function zi(){}function Ui(e,t){var n=Di();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wi(e,t){var n=Di();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),ii.lanes|=n,Rl|=n,e.baseState=!0),t)}function qi(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{xt=n,ai.transition=r}}function Vi(){return Di().memoizedState}function Ki(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e))$i(t,n);else if(null!==(n=Ms(e,t,n,r))){nu(n,e,r,eu()),Zi(n,t,r)}}function Yi(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))$i(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Bs(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Ms(e,t,a,r))&&(nu(n,e,r,a=eu()),Zi(n,t,r))}}function Gi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function $i(e,t){ci=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}var Xi={readContext:_s,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Qi={readContext:_s,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Pi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=bi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:ji,useDebugValue:zi,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=ji(!1),t=e[0];return e=qi.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=bi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));0!==(30&si)||Ci(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Oi(Ai.bind(null,r,i,e),[e]),r.flags|=2048,_i(9,Fi.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bi(),t=jl.identifierPrefix;if(as){var n=Xa;t=":"+t+"R"+(n=(Za&~(1<<32-it(Za)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ji={readContext:_s,useCallback:Ui,useContext:_s,useEffect:Ti,useImperativeHandle:Li,useInsertionEffect:Ri,useLayoutEffect:Ii,useMemo:Wi,useReducer:vi,useRef:Si,useState:function(){return vi(xi)},useDebugValue:zi,useDeferredValue:function(e){return Hi(Di(),oi.memoizedState,e)},useTransition:function(){return[vi(xi)[0],Di().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ei,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:_s,useCallback:Ui,useContext:_s,useEffect:Ti,useImperativeHandle:Li,useInsertionEffect:Ri,useLayoutEffect:Ii,useMemo:Wi,useReducer:yi,useRef:Si,useState:function(){return yi(xi)},useDebugValue:zi,useDeferredValue:function(e){var t=Di();return null===oi?t.memoizedState=e:Hi(t,oi.memoizedState,e)},useTransition:function(){return[yi(xi)[0],Di().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ei,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),s=Ps(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ls(e,s,a))&&(nu(t,e,a,r),zs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),s=Ps(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ls(e,s,a))&&(nu(t,e,a,r),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Ps(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ls(e,a,r))&&(nu(t,e,r,n),zs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=ka,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(a=Ba(t)?_a:Na.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Sa(e,a):ka),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=_s(s):(s=Ba(t)?_a:Na.current,a.context=Sa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Ws(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Vl=r),co(0,t)},n}function po(e,t,n){(n=Ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Fu.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Ls(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Do=v.ReactCurrentOwner,xo=!1;function vo(e,t,n,r){t.child=null===e?ys(t,null,n,r):vs(t,e.child,n,r)}function yo(e,t,n,r,a){n=n.render;var s=t.ref;return js(t,a),r=fi(e,t,n,r,s,a),n=gi(),null===e||xo?(as&&n&&es(t),t.flags|=1,vo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function wo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Bu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return qo(e,t,a)}return t.flags|=1,(e=Mu(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,qo(e,t,a);0!==(131072&e.flags)&&(xo=!0)}}return Ao(e,t,n,r,a)}function Co(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Aa(Ml,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Aa(Ml,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Aa(Ml,Bl),Bl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Aa(Ml,Bl),Bl|=r;return vo(e,t,a,n),t.child}function Fo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,a){var s=Ba(n)?_a:Na.current;return s=Sa(t,s),js(t,a),n=fi(e,t,n,r,s,a),r=gi(),null===e||xo?(as&&r&&es(t),t.flags|=1,vo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function ko(e,t,n,r,a){if(Ba(n)){var s=!0;Ra(t)}else s=!1;if(js(t,a),null===t.stateNode)Ho(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=_s(u):u=Sa(t,u=Ba(n)?_a:Na.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==u)&&io(t,i,r,u),Ts=!1;var h=t.memoizedState;i.state=h,Ws(t,r,i,a),l=t.memoizedState,o!==r||h!==l||ja.current||Ts?("function"===typeof c&&(no(t,n,c,r),l=t.memoizedState),(o=Ts||ao(t,n,o,r,h,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Is(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),i.props=u,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=_s(l):l=Sa(t,l=Ba(n)?_a:Na.current);var m=n.getDerivedStateFromProps;(c="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),Ts=!1,h=t.memoizedState,i.state=h,Ws(t,r,i,a);var p=t.memoizedState;o!==d||h!==p||ja.current||Ts?("function"===typeof m&&(no(t,n,m,r),p=t.memoizedState),(u=Ts||ao(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,a)}function No(e,t,n,r,a,s){Fo(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ia(t,n,!1),qo(e,t,s);r=t.stateNode,Do.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,o,s)):vo(e,t,o,s),t.memoizedState=r.state,a&&Ia(t,n,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),$s(e,t.containerInfo)}function _o(e,t,n,r,a){return ms(),ps(a),t.flags|=256,vo(e,t,n,r),t.child}var So,Bo,Mo,Oo,To={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,n){var r,a=t.pendingProps,i=Js.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Aa(Js,1&i),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ru(l,a,0,null),e=Tu(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=To,e):Po(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Lo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ru({mode:"visible",children:r.children},a,0,null),(i=Tu(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&vs(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=To,i);if(0===(1&t.mode))return Lo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Lo(e,t,o,r=uo(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=jl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),nu(r,e,a,-1))}return fu(),Lo(e,t,o,r=uo(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ua(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ya[Ga++]=Za,Ya[Ga++]=Xa,Ya[Ga++]=$a,Za=e.id,Xa=e.overflow,$a=t),t=Po(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Mu(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Mu(r,o):(o=Tu(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=To,a}return e=(o=e.child).sibling,a=Mu(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Po(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Lo(e,t,n,r){return null!==r&&ps(r),vs(t,e.child,null,n),(e=Po(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function Uo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Wo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(vo(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Aa(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Uo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Ba(t.type)&&Ma(),Ko(t),null;case 3:return r=t.stateNode,Zs(),Fa(ja),Fa(Na),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(iu(ss),ss=null))),Bo(e,t),Ko(t),null;case 5:Qs(t);var a=Gs(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Gs(Vs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[ma]=i,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(a=0;a<Tr.length;a++)Lr(Tr[a],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":Z(r,i),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Lr("invalid",r);break;case"textarea":ae(r,i),Lr("invalid",r)}for(var l in De(n,i),a=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Lr("scroll",r)}switch(n){case"input":K(r),J(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[ma]=r,So(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),a=r;break;case"iframe":case"object":case"embed":Lr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Lr(Tr[a],e);a=r;break;case"source":Lr("error",e),a=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),a=r;break;case"details":Lr("toggle",e),a=r;break;case"input":Z(e,r),a=$(e,r),Lr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Lr("invalid",e)}for(i in De(n,a),u=a)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Lr("scroll",e):null!=c&&x(e,i,c,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ys.current),Gs(Vs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ko(t),null;case 13:if(Fa(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),i=!1}else null!==ss&&(iu(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Ol&&(Ol=3):fu())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Zs(),Bo(e,t),null===e&&Wr(t.stateNode.containerInfo),Ko(t),null;case 10:return ks(t.type._context),Ko(t),null;case 19:if(Fa(Js),null===(i=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Vo(i,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Vo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Aa(Js,1&Js.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Wl&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Ko(t),null}else 2*Xe()-i.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=Js.current,Aa(Js,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return Ba(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zs(),Fa(ja),Fa(Na),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qs(t),null;case 13:if(Fa(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Fa(Js),null;case 4:return Zs(),null;case 10:return ks(t.type._context),null;case 22:case 23:return du(),null;default:return null}}So=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bo=function(){},Mo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gs(Vs.current);var s,i=null;switch(n){case"input":a=$(e,a),r=$(e,r),i=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in De(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Lr("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Zo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[ma],delete t[fa],delete t[ga],delete t[ba])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Zo||Jo(n,t);case 6:var r=cl,a=dl;cl=null,hl(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Zo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Zo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cu(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zo=(r=Zo)||null!==n.memoizedState,hl(e,t,n),Zo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));ml(i,o,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Cu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),bl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Cu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:fl(t,e),bl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(fl(t,e),bl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(a,i),xe(l,o);var c=xe(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,c)}switch(l){case"input":Q(a,i);break;case"textarea":se(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):m!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[ma]=i}catch(g){Cu(e,e.return,g)}}break;case 6:if(fl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Cu(e,e.return,g)}}break;case 3:if(fl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:fl(t,e),bl(e);break;case 13:fl(t,e),bl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zo=(c=Zo)||d,fl(t,e),Zo=c):fl(t,e),bl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qo=e,d=e.child;null!==d;){for(h=Qo=d;null!==Qo;){switch(p=(m=Qo).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Jo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:Jo(m,m.return);break;case 22:if(null!==m.memoizedState){yl(h);continue}}null!==p?(p.return=m,Qo=p):yl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=fe("display",o))}catch(g){Cu(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),bl(e),4&r&&pl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ul(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Cu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e,t,n){Qo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var a=Qo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||$o;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Zo;o=$o;var u=Zo;if($o=i,(Zo=l)&&!u)for(Qo=a;null!==Qo;)l=(i=Qo).child,22===i.tag&&null!==i.memoizedState?wl(a):null!==l?(l.return=i,Qo=l):wl(a);for(;null!==s;)Qo=s,xl(s,t,n),s=s.sibling;Qo=a,$o=o,Zo=u}vl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Qo=s):vl(e)}}function vl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(s(163))}Zo||512&t.flags&&al(t)}catch(m){Cu(t,t.return,m)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function yl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function wl(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Cu(t,a,l)}}var s=t.return;try{al(t)}catch(l){Cu(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){Cu(t,i,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var El,Cl=Math.ceil,Fl=v.ReactCurrentDispatcher,Al=v.ReactCurrentOwner,kl=v.ReactCurrentBatchConfig,Nl=0,jl=null,_l=null,Sl=0,Bl=0,Ml=Ca(0),Ol=0,Tl=null,Rl=0,Il=0,Pl=0,Ll=null,zl=null,Ul=0,Wl=1/0,Hl=null,ql=!1,Vl=null,Kl=null,Yl=!1,Gl=null,$l=0,Zl=0,Xl=null,Ql=-1,Jl=0;function eu(){return 0!==(6&Nl)?Xe():-1!==Ql?Ql:Ql=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Sl?Sl&-Sl:null!==fs.transition?(0===Jl&&(Jl=ft()),Jl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nu(e,t,n,r){if(50<Zl)throw Zl=0,Xl=null,Error(s(185));bt(e,n,r),0!==(2&Nl)&&e===jl||(e===jl&&(0===(2&Nl)&&(Il|=n),4===Ol&&ou(e,Sl)),ru(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Wl=Xe()+500,La&&Wa()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=mt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===jl?Sl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){La=!0,Ua(e)}(lu.bind(null,e)):Ua(lu.bind(null,e)),ia(function(){0===(6&Nl)&&Wa()}),n=null;else{switch(vt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=ju(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Ql=-1,Jl=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Sl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=Nl;Nl|=2;var i=pu();for(jl===e&&Sl===t||(Hl=null,Wl=Xe()+500,hu(e,t));;)try{Du();break}catch(l){mu(e,l)}As(),Fl.current=i,Nl=a,null!==_l?t=0:(jl=null,Sl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=su(e,a))),1===t)throw n=Tl,hu(e,0),ou(e,r),ru(e,Xe()),n;if(6===t)ou(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,r))&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t))throw n=Tl,hu(e,0),ou(e,r),ru(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:yu(e,zl,Hl);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(yu.bind(null,e,zl,Hl),t);break}yu(e,zl,Hl);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ra(yu.bind(null,e,zl,Hl),r);break}yu(e,zl,Hl);break;default:throw Error(s(329))}}}return ru(e,Xe()),e.callbackNode===n?au.bind(null,e):null}function su(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=zl,zl=n,null!==t&&iu(t)),e}function iu(e){null===zl?zl=e:zl.push.apply(zl,e)}function ou(e,t){for(t&=~Pl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Nl))throw Error(s(327));wu();var t=ht(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Tl,hu(e,0),ou(e,t),ru(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yu(e,zl,Hl),ru(e,Xe()),null}function uu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Wl=Xe()+500,La&&Wa())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Nl)&&wu();var t=Nl;Nl|=1;var n=kl.transition,r=xt;try{if(kl.transition=null,xt=1,e)return e()}finally{xt=r,kl.transition=n,0===(6&(Nl=t))&&Wa()}}function du(){Bl=Ml.current,Fa(Ml)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:Zs(),Fa(ja),Fa(Na),ni();break;case 5:Qs(r);break;case 4:Zs();break;case 13:case 19:Fa(Js);break;case 10:ks(r.type._context);break;case 22:case 23:du()}n=n.return}if(jl=e,_l=e=Mu(e.current,null),Sl=Bl=t,Ol=0,Tl=null,Pl=Il=Rl=0,zl=Ll=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(r=(n=Ss[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Ss=null}return e}function mu(e,t){for(;;){var n=_l;try{if(As(),ri.current=Xi,ui){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ui=!1}if(si=0,li=oi=ii=null,ci=!1,di=0,Al.current=null,null===n||null===n.return){Ol=1,Tl=t,_l=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=Sl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,bo(p,o,l,0,t),1&p.mode&&fo(i,c,t),u=c;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(u),t.updateQueue=g}else f.add(u);break e}if(0===(1&t)){fo(i,c,t),fu();break e}u=Error(s(426))}else if(as&&1&l.mode){var b=go(o);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),bo(b,o,l,0,t),ps(lo(u,l));break e}}i=u=lo(u,l),4!==Ol&&(Ol=2),null===Ll?Ll=[i]:Ll.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Us(i,mo(0,u,t));break e;case 1:l=u;var D=i.type,x=i.stateNode;if(0===(128&i.flags)&&("function"===typeof D.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t,Us(i,po(i,l,t));break e}}i=i.return}while(null!==i)}vu(n)}catch(v){t=v,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function pu(){var e=Fl.current;return Fl.current=Xi,null===e?Xi:e}function fu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===jl||0===(268435455&Rl)&&0===(268435455&Il)||ou(jl,Sl)}function gu(e,t){var n=Nl;Nl|=2;var r=pu();for(jl===e&&Sl===t||(Hl=null,hu(e,t));;)try{bu();break}catch(a){mu(e,a)}if(As(),Nl=n,Fl.current=r,null!==_l)throw Error(s(261));return jl=null,Sl=0,Ol}function bu(){for(;null!==_l;)xu(_l)}function Du(){for(;null!==_l&&!$e();)xu(_l)}function xu(e){var t=El(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?vu(e):_l=t,Al.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Bl)))return void(_l=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Ol=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Ol&&(Ol=5)}function yu(e,t,n){var r=xt,a=kl.transition;try{kl.transition=null,xt=1,function(e,t,n,r){do{wu()}while(null!==Gl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===jl&&(_l=jl=null,Sl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,ju(tt,function(){return wu(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=kl.transition,kl.transition=null;var o=xt;xt=1;var l=Nl;Nl|=4,Al.current=null,function(e,t){if(ea=qt,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(y){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(u=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++c===a&&(l=o),m===i&&++d===r&&(u=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,b=f.memoizedState,D=t.stateNode,x=D.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),b);D.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(y){Cu(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}f=tl,tl=!1}(e,n),gl(n,e),pr(ta),qt=!!ea,ta=ea=null,e.current=n,Dl(n,e,a),Ze(),Nl=l,xt=o,kl.transition=i}else e.current=n;if(Yl&&(Yl=!1,Gl=e,$l=a),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Vl,Vl=null,e;0!==(1&$l)&&0!==e.tag&&wu(),i=e.pendingLanes,0!==(1&i)?e===Xl?Zl++:(Zl=0,Xl=e):Zl=0,Wa()}(e,t,n,r)}finally{kl.transition=a,xt=r}return null}function wu(){if(null!==Gl){var e=vt($l),t=kl.transition,n=xt;try{if(kl.transition=null,xt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,$l=0,0!==(6&Nl))throw Error(s(331));var a=Nl;for(Nl|=4,Qo=e.current;null!==Qo;){var i=Qo,o=i.child;if(0!==(16&Qo.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qo=c;null!==Qo;){var d=Qo;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Qo=h;else for(;null!==Qo;){var m=(d=Qo).sibling,p=d.return;if(sl(d),d===c){Qo=null;break}if(null!==m){m.return=p,Qo=m;break}Qo=p}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}Qo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(i=Qo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var D=i.sibling;if(null!==D){D.return=i.return,Qo=D;break e}Qo=i.return}}var x=e.current;for(Qo=x;null!==Qo;){var v=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Qo=v;else e:for(o=x;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Cu(l,l.return,w)}if(l===o){Qo=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,Qo=y;break e}Qo=l.return}}if(Nl=a,Wa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{xt=n,kl.transition=t}}return!1}function Eu(e,t,n){e=Ls(e,t=mo(0,t=lo(n,t),1),1),t=eu(),null!==e&&(bt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ls(t,e=po(t,e=lo(n,e),1),1),e=eu(),null!==t&&(bt(t,1,e),ru(t,e));break}}t=t.return}}function Fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Sl&n)===n&&(4===Ol||3===Ol&&(130023424&Sl)===Sl&&500>Xe()-Ul?hu(e,0):Pl|=n),ru(e,t)}function Au(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Os(e,t))&&(bt(e,t,n),ru(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Au(e,n)}function ju(e,t){return Ye(e,t)}function _u(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Su(e,t,n,r){return new _u(e,t,n,r)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Su(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Bu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Tu(n.children,a,i,t);case C:o=8,a|=8;break;case F:return(e=Su(12,n,t,2|a)).elementType=F,e.lanes=i,e;case j:return(e=Su(13,n,t,a)).elementType=j,e.lanes=i,e;case _:return(e=Su(19,n,t,a)).elementType=_,e.lanes=i,e;case M:return Ru(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case k:o=9;break e;case N:o=11;break e;case S:o=14;break e;case B:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Su(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Tu(e,t,n,r){return(e=Su(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=Su(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Iu(e,t,n){return(e=Su(6,e,null,t)).lanes=n,e}function Pu(e,t,n){return(t=Su(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,a,s,i,o,l){return e=new Lu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Su(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Uu(e){if(!e)return ka;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ba(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ba(n))return Ta(e,n,t)}return t}function Wu(e,t,n,r,a,s,i,o,l){return(e=zu(n,r,!0,e,0,s,0,o,l)).context=Uu(null),n=e.current,(s=Ps(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,Ls(n,s,a),e.current.lanes=a,bt(e,a,r),ru(e,r),e}function Hu(e,t,n,r){var a=t.current,s=eu(),i=tu(a);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ls(a,t,i))&&(nu(e,a,i,s),zs(e,a,i)),i}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ja.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:jo(t),ms();break;case 5:Xs(t);break;case 1:Ba(t.type)&&Ra(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Aa(ws,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Aa(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Io(e,t,n):(Aa(Js,1&Js.current),null!==(e=qo(e,t,n))?e.sibling:null);Aa(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Aa(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n)}return qo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,as&&0!==(1048576&t.flags)&&Ja(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var a=Sa(t,Na.current);js(t,n),a=fi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ba(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=No(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),vo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Bu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===S)return 14}return 2}(r),e=to(r,e),a){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=ko(null,t,r,e,n);break e;case 11:t=yo(null,t,r,e,n);break e;case 14:t=wo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ao(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,ko(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(jo(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Is(e,t),Ws(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=_o(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=_o(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ua(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ys(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===a){t=qo(e,t,n);break e}vo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&us(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),Fo(e,t),vo(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Io(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vs(t,null,r,n):vo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,yo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Aa(ws,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!ja.current){t=qo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Ps(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),Ns(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}vo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,js(t,n),r=r(a=_s(a)),t.flags|=1,vo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),wo(e,t,r,a=to(r.type,a),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Ho(e,t),t.tag=1,Ba(r)?(e=!0,Ra(t)):e=!1,js(t,n),so(t,r,a),oo(t,r,a,n),No(null,t,r,!0,e,n);case 19:return Wo(e,t,n);case 22:return Co(e,t,n)}throw Error(s(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Ju(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=qu(i);o.call(e)}}Hu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=qu(i);s.call(e)}}var i=Wu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=i,e[pa]=i.current,Wr(8===e.nodeType?e.parentNode:e),cu(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=qu(l);o.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),cu(function(){Hu(t,l,n,r)}),l}(n,t,e,a,r);return qu(i)}$u.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hu(e,t,null,null)},$u.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Hu(null,e,null,null)}),t[pa]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&It(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(Dt(t,1|n),ru(t,Xe()),0===(6&Nl)&&(Wl=Xe()+500,Wa()))}break;case 13:cu(function(){var t=Os(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Ku(e,1)}},wt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},Et=function(e){if(13===e.tag){var t=tu(e),n=Os(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},Ct=function(){return xt},Ft=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ya(r);if(!a)throw Error(s(90));Y(r),Q(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uu,je=cu;var ec={usingClientEntryPoint:!1,Events:[xa,va,ya,Ae,ke,uu]},tc={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(s(299));var n=!1,r="",a=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(s(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,a,0,i,o),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $u(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(s(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Ju(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8384:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},8452:(e,t,n)=>{var r=n(3738).default,a=n(2475);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8463:(e,t,n)=>{var r=n(5871);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8516:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.dragAccessors=void 0,t.eventTimes=function(e,t,n){var r=t.start(e),a=t.end(e);n.eq(r,a,"minutes")&&0===n.diff(r,a,"minutes")&&(a=n.add(a,1,"day"));var s=n.diff(r,a,"milliseconds");return{start:r,end:a,duration:s}},t.mergeComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.keys(t),r=(0,a.default)({},e);return n.forEach(function(n){r[n]=e[n]?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=e.children,r=(0,s.default)(e,l);return t.filter(Boolean).reduceRight(function(e,t){return(0,o.createElement)(t,r,e)},n)}}(e[n],t[n]):t[n]}),r},t.pointInColumn=function(e,t){var n=e.left,r=e.right,a=e.top,s=t.x,i=t.y;return s<r+10&&s>n&&i>a};var a=r(n(2897)),s=r(n(1847)),i=n(756),o=n(9950),l=["children"];t.dragAccessors={start:(0,i.wrapAccessor)(function(e){return e.start}),end:(0,i.wrapAccessor)(function(e){return e.end})}},8525:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(9809),a=n(6058);function s(e,t){var n=(0,r.A)(e);return n?n.innerWidth:t?e.clientWidth:(0,a.A)(e).width}},8557:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}},8639:(e,t,n)=>{var r=n(52),a=n(4978);e.exports=function(e,t){return t.length<2?e:r(e,a(t,0,-1))}},8798:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8833:(e,t,n)=>{var r=n(4567),a=n(2161),s=n(7175),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=a(e),n=[];for(var o in e)("constructor"!=o||!t&&i.call(e,o))&&n.push(o);return n}},8857:(e,t,n)=>{var r=n(9343),a=n(4753),s=n(5916),i=n(2535);e.exports=function(e){return s(e)?r(i(e)):a(e)}},8905:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3693)),s=r(n(2897)),i=r(n(2803)),o=r(n(9950));function l(e){return"string"===typeof e?e:e+"%"}t.default=function(e){var t=e.style,n=e.className,r=e.event,u=e.accessors,c=e.rtl,d=e.selected,h=e.label,m=e.continuesPrior,p=e.continuesAfter,f=e.getters,g=e.onClick,b=e.onDoubleClick,D=e.isBackgroundEvent,x=e.onKeyPress,v=e.components,y=v.event,w=v.eventWrapper,E=u.title(r),C=u.tooltip(r),F=u.end(r),A=u.start(r),k=f.eventProp(r,A,F,d),N=[o.default.createElement("div",{key:"1",className:"rbc-event-label"},h),o.default.createElement("div",{key:"2",className:"rbc-event-content"},y?o.default.createElement(y,{event:r,title:E}):E)],j=t.height,_=t.top,S=t.width,B=t.xOffset,M=(0,s.default)((0,s.default)({},k.style),{},(0,a.default)({top:l(_),height:l(j),width:l(S)},c?"right":"left",l(B)));return o.default.createElement(w,Object.assign({type:"time"},e),o.default.createElement("div",{role:"button",tabIndex:0,onClick:g,onDoubleClick:b,style:M,onKeyDown:x,title:C?("string"===typeof h?h+": ":"")+C:void 0,className:(0,i.default)(D?"rbc-background-event":"rbc-event",n,k.className,{"rbc-selected":d,"rbc-event-continues-earlier":m,"rbc-event-continues-later":p})},N))}},8925:(e,t,n)=>{var r=n(220),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},8951:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},8984:(e,t,n)=>{e=n.nmd(e);var r=n(4759),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,i=s&&s.exports===a?r.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}},8996:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});var r=n(7534),a=!1,s=!1;try{var i={get passive(){return a=!0},get once(){return s=a=!0}};r.A&&(window.addEventListener("test",i,i),window.removeEventListener("test",i,!0))}catch(l){}const o=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!s){var i=r.once,o=r.capture,l=n;!s&&i&&(l=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=l),e.addEventListener(t,l,a?r:o)}e.addEventListener(t,n,r)}},9002:e=>{e.exports=function(e){return e}},9010:(e,t,n)=>{var r=n(8951),a=n(8230),s=n(423),i=n(5127),o=n(2253),l=n(2279),u=n(6794),c=n(3008),d=n(4567),h=n(1641);e.exports=function(e,t,n){var m=l(e),p=m||u(e)||h(e);if(t=i(t,4),null==n){var f=e&&e.constructor;n=p?m?new f:[]:d(e)&&c(f)?a(o(e)):{}}return(p?r:s)(e,function(e,r,a){return t(n,e,r,a)}),n}},9042:(e,t,n)=>{var r=n(4206),a=n(7840),s=n(7059),i=n(4567);e.exports=function(e,t,n){if(!i(n))return!1;var o=typeof t;return!!("number"==o?a(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9051:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function a(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function m(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=f()),e._pf}function b(e){var t=null,r=!1,a=e._d&&!isNaN(e._d.getTime());return a&&(t=g(e),r=n.call(t.parsedDateParts,function(e){return null!=e}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?a:(e._isValid=a,e._isValid)}function D(e){var t=p(NaN);return null!=e?m(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var x=r.momentProperties=[],v=!1;function y(e,t){var n,r,a,s=x.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=g(t)),u(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)u(a=t[r=x[n]])||(e[r]=a);return e}function w(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function E(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function F(e,t){var n=!0;return m(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var a,s,i,l=[],u=arguments.length;for(s=0;s<u;s++){if(a="","object"===typeof arguments[s]){for(i in a+="\n["+s+"] ",arguments[0])o(arguments[0],i)&&(a+=i+": "+arguments[0][i]+", ");a=a.slice(0,-2)}else a=arguments[s];l.push(a)}C(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var A,k={};function N(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),k[e]||(C(t),k[e]=!0)}function j(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function _(e){var t,n;for(n in e)o(e,n)&&(j(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(e,t){var n,r=m({},e);for(n in t)o(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},m(r[n],e[n]),m(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)o(e,n)&&!o(t,n)&&i(e[n])&&(r[n]=m({},r[n]));return r}function B(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,A=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var M={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return j(r)?r.call(t,n):r}function T(e,t,n){var r=""+Math.abs(e),a=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},L={};function z(e,t,n,r){var a=r;"string"===typeof r&&(a=function(){return this[r]()}),e&&(L[e]=a),t&&(L[t[0]]=function(){return T(a.apply(this,arguments),t[1],t[2])}),n&&(L[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,r=e.match(R);for(t=0,n=r.length;t<n;t++)L[r[t]]?r[t]=L[r[t]]:r[t]=U(r[t]);return function(t){var a,s="";for(a=0;a<n;a++)s+=j(r[a])?r[a].call(t,e):r[a];return s}}function H(e,t){return e.isValid()?(t=q(t,e.localeData()),P[t]=P[t]||W(t),P[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(I.lastIndex=0;n>=0&&I.test(e);)e=e.replace(I,r),I.lastIndex=0,n-=1;return e}var V={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(R).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}var Y="Invalid date";function G(){return this._invalidDate}var $="%d",Z=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var a=this._relativeTime[n];return j(a)?a(e,t,n,r):a.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return j(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)o(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var ae={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}var ie,oe=/\d/,le=/\d\d/,ue=/\d{3}/,ce=/\d{4}/,de=/[+-]?\d{6}/,he=/\d\d?/,me=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,fe=/\d{1,3}/,ge=/\d{1,4}/,be=/[+-]?\d{1,6}/,De=/\d+/,xe=/[+-]?\d+/,ve=/Z|[+-]\d\d:?\d\d/gi,ye=/Z|[+-]\d\d(?::?\d\d)?/gi,we=/[+-]?\d+(\.\d{1,3})?/,Ee=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ce=/^[1-9]\d?/,Fe=/^([1-9]\d|\d)/;function Ae(e,t,n){ie[e]=j(t)?t:function(e,r){return e&&n?n:t}}function ke(e,t){return o(ie,e)?ie[e](t._strict,t._locale):new RegExp(Ne(e))}function Ne(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a}))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _e(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Se(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_e(t)),n}ie={};var Be={};function Me(e,t){var n,r,a=t;for("string"===typeof e&&(e=[e]),c(t)&&(a=function(e,n){n[t]=Se(e)}),r=e.length,n=0;n<r;n++)Be[e[n]]=a}function Oe(e,t){Me(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function Te(e,t,n){null!=t&&o(Be,e)&&Be[e](t,n._a,n,e)}function Re(e){return e%4===0&&e%100!==0||e%400===0}var Ie=0,Pe=1,Le=2,ze=3,Ue=4,We=5,He=6,qe=7,Ve=8;function Ke(e){return Re(e)?366:365}z("Y",0,0,function(){var e=this.year();return e<=9999?T(e,4):"+"+e}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),Ae("Y",xe),Ae("YY",he,le),Ae("YYYY",ge,ce),Ae("YYYYY",be,de),Ae("YYYYYY",be,de),Me(["YYYYY","YYYYYY"],Ie),Me("YYYY",function(e,t){t[Ie]=2===e.length?r.parseTwoDigitYear(e):Se(e)}),Me("YY",function(e,t){t[Ie]=r.parseTwoDigitYear(e)}),Me("Y",function(e,t){t[Ie]=parseInt(e,10)}),r.parseTwoDigitYear=function(e){return Se(e)+(Se(e)>68?1900:2e3)};var Ye,Ge=Ze("FullYear",!0);function $e(){return Re(this.year())}function Ze(e,t){return function(n){return null!=n?(Qe(this,e,n),r.updateOffset(this,t),this):Xe(this,e)}}function Xe(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Qe(e,t,n){var r,a,s,i,o;if(e.isValid()&&!isNaN(n)){switch(r=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(a?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(a?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(a?r.setUTCHours(n):r.setHours(n));case"Date":return void(a?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,i=e.month(),o=29!==(o=e.date())||1!==i||Re(s)?o:28,a?r.setUTCFullYear(s,i,o):r.setFullYear(s,i,o)}}function Je(e){return j(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,r=se(e=re(e)),a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(j(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Re(e)?29:28:31-n%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Ae("M",he,Ce),Ae("MM",he,le),Ae("MMM",function(e,t){return t.monthsShortRegex(e)}),Ae("MMMM",function(e,t){return t.monthsRegex(e)}),Me(["M","MM"],function(e,t){t[Pe]=Se(e)-1}),Me(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[Pe]=a:g(n).invalidMonth=e});var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),at="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=Ee,ot=Ee;function lt(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ut(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ct(e,t,n){var r,a,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Ye.call(this._shortMonthsParse,i))?a:null:-1!==(a=Ye.call(this._longMonthsParse,i))?a:null:"MMM"===t?-1!==(a=Ye.call(this._shortMonthsParse,i))||-1!==(a=Ye.call(this._longMonthsParse,i))?a:null:-1!==(a=Ye.call(this._longMonthsParse,i))||-1!==(a=Ye.call(this._shortMonthsParse,i))?a:null}function dt(e,t,n){var r,a,s;if(this._monthsParseExact)return ct.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Se(t);else if(!c(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function mt(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):Xe(this,"Month")}function pt(){return nt(this.year(),this.month())}function ft(e){return this._monthsParseExact?(o(this,"_monthsRegex")||bt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(o(this,"_monthsRegex")||bt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function bt(){function e(e,t){return t.length-e.length}var t,n,r,a,s=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r=je(this.monthsShort(n,"")),a=je(this.months(n,"")),s.push(r),i.push(a),o.push(a),o.push(r);s.sort(e),i.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Dt(e,t,n,r,a,s,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,a,s,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,a,s,i),o}function xt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function vt(e,t,n){var r=7+t-n;return-(7+xt(e,0,r).getUTCDay()-t)%7+r-1}function yt(e,t,n,r,a){var s,i,o=1+7*(t-1)+(7+n-r)%7+vt(e,r,a);return o<=0?i=Ke(s=e-1)+o:o>Ke(e)?(s=e+1,i=o-Ke(e)):(s=e,i=o),{year:s,dayOfYear:i}}function wt(e,t,n){var r,a,s=vt(e.year(),t,n),i=Math.floor((e.dayOfYear()-s-1)/7)+1;return i<1?r=i+Et(a=e.year()-1,t,n):i>Et(e.year(),t,n)?(r=i-Et(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function Et(e,t,n){var r=vt(e,t,n),a=vt(e+1,t,n);return(Ke(e)-r+a)/7}function Ct(e){return wt(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),Ae("w",he,Ce),Ae("ww",he,le),Ae("W",he,Ce),Ae("WW",he,le),Oe(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Se(e)});var Ft={dow:0,doy:6};function At(){return this._week.dow}function kt(){return this._week.doy}function Nt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function jt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function _t(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function St(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Bt(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),Ae("d",he),Ae("e",he),Ae("E",he),Ae("dd",function(e,t){return t.weekdaysMinRegex(e)}),Ae("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Ae("dddd",function(e,t){return t.weekdaysRegex(e)}),Oe(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:g(n).invalidWeekday=e}),Oe(["d","e","E"],function(e,t,n,r){t[r]=Se(e)});var Mt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Tt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rt=Ee,It=Ee,Pt=Ee;function Lt(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Bt(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Bt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ut(e){return!0===e?Bt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Wt(e,t,n){var r,a,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Ye.call(this._weekdaysParse,i))?a:null:"ddd"===t?-1!==(a=Ye.call(this._shortWeekdaysParse,i))?a:null:-1!==(a=Ye.call(this._minWeekdaysParse,i))?a:null:"dddd"===t?-1!==(a=Ye.call(this._weekdaysParse,i))||-1!==(a=Ye.call(this._shortWeekdaysParse,i))||-1!==(a=Ye.call(this._minWeekdaysParse,i))?a:null:"ddd"===t?-1!==(a=Ye.call(this._shortWeekdaysParse,i))||-1!==(a=Ye.call(this._weekdaysParse,i))||-1!==(a=Ye.call(this._minWeekdaysParse,i))?a:null:-1!==(a=Ye.call(this._minWeekdaysParse,i))||-1!==(a=Ye.call(this._weekdaysParse,i))||-1!==(a=Ye.call(this._shortWeekdaysParse,i))?a:null}function Ht(e,t,n){var r,a,s;if(this._weekdaysParseExact)return Wt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=Xe(this,"Day");return null!=e?(e=_t(e,this.localeData()),this.add(e-t,"d")):t}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Kt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=St(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Rt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=It),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $t(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(e,t){return t.length-e.length}var t,n,r,a,s,i=[],o=[],l=[],u=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),a=je(this.weekdaysShort(n,"")),s=je(this.weekdays(n,"")),i.push(r),o.push(a),l.push(s),u.push(r),u.push(a),u.push(s);i.sort(e),o.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function Jt(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Xt),z("k",["kk",2],0,Qt),z("hmm",0,0,function(){return""+Xt.apply(this)+T(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Xt.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Jt("a",!0),Jt("A",!1),Ae("a",en),Ae("A",en),Ae("H",he,Fe),Ae("h",he,Ce),Ae("k",he,Ce),Ae("HH",he,le),Ae("hh",he,le),Ae("kk",he,le),Ae("hmm",me),Ae("hmmss",pe),Ae("Hmm",me),Ae("Hmmss",pe),Me(["H","HH"],ze),Me(["k","kk"],function(e,t,n){var r=Se(e);t[ze]=24===r?0:r}),Me(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Me(["h","hh"],function(e,t,n){t[ze]=Se(e),g(n).bigHour=!0}),Me("hmm",function(e,t,n){var r=e.length-2;t[ze]=Se(e.substr(0,r)),t[Ue]=Se(e.substr(r)),g(n).bigHour=!0}),Me("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[ze]=Se(e.substr(0,r)),t[Ue]=Se(e.substr(r,2)),t[We]=Se(e.substr(a)),g(n).bigHour=!0}),Me("Hmm",function(e,t,n){var r=e.length-2;t[ze]=Se(e.substr(0,r)),t[Ue]=Se(e.substr(r))}),Me("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[ze]=Se(e.substr(0,r)),t[Ue]=Se(e.substr(r,2)),t[We]=Se(e.substr(a))});var nn=/[ap]\.?m?\.?/i,rn=Ze("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,on={calendar:M,longDateFormat:V,invalidDate:Y,ordinal:$,dayOfMonthOrdinalParse:Z,relativeTime:Q,months:rt,monthsShort:at,week:Ft,weekdays:Mt,weekdaysMin:Tt,weekdaysShort:Ot,meridiemParse:nn},ln={},un={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,a,s=0;s<e.length;){for(t=(a=dn(e[s]).split("-")).length,n=(n=dn(e[s+1]))?n.split("-"):null;t>0;){if(r=pn(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(a,n)>=t-1)break;t--}s++}return sn}function mn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&mn(t))try{n=sn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),fn(n)}catch(r){ln[t]=null}return ln[t]}function fn(e,t){var n;return e&&((n=u(t)?Dn(e):gn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function gn(e,t){if(null!==t){var n,r=on;if(t.abbr=e,null!=ln[e])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return un[t.parentLocale]||(un[t.parentLocale]=[]),un[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new B(S(r,t)),un[e]&&un[e].forEach(function(e){gn(e.name,e.config)}),fn(e),ln[e]}return delete ln[e],null}function bn(e,t){if(null!=t){var n,r,a=on;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(S(ln[e]._config,t)):(null!=(r=pn(e))&&(a=r._config),t=S(a,t),null==r&&(t.abbr=e),(n=new B(t)).parentLocale=ln[e],ln[e]=n),fn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===fn()&&fn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function Dn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!s(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function xn(){return A(ln)}function vn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Pe]<0||n[Pe]>11?Pe:n[Le]<1||n[Le]>nt(n[Ie],n[Pe])?Le:n[ze]<0||n[ze]>24||24===n[ze]&&(0!==n[Ue]||0!==n[We]||0!==n[He])?ze:n[Ue]<0||n[Ue]>59?Ue:n[We]<0||n[We]>59?We:n[He]<0||n[He]>999?He:-1,g(e)._overflowDayOfYear&&(t<Ie||t>Le)&&(t=Le),g(e)._overflowWeeks&&-1===t&&(t=qe),g(e)._overflowWeekday&&-1===t&&(t=Ve),g(e).overflow=t),e}var yn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Fn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],An=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function jn(e){var t,n,r,a,s,i,o=e._i,l=yn.exec(o)||wn.exec(o),u=Cn.length,c=Fn.length;if(l){for(g(e).iso=!0,t=0,n=u;t<n;t++)if(Cn[t][1].exec(l[1])){a=Cn[t][0],r=!1!==Cn[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=c;t<n;t++)if(Fn[t][1].exec(l[3])){s=(l[2]||" ")+Fn[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(l[4]){if(!En.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=a+(s||"")+(i||""),Un(e)}else e._isValid=!1}function _n(e,t,n,r,a,s){var i=[Sn(e),at.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return s&&i.push(parseInt(s,10)),i}function Sn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Bn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mn(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function On(e,t,n){if(e)return Nn[e];if(t)return 0;var r=parseInt(n,10),a=r%100;return(r-a)/100*60+a}function Tn(e){var t,n=kn.exec(Bn(e._i));if(n){if(t=_n(n[4],n[3],n[2],n[5],n[6],n[7]),!Mn(n[1],t,e))return;e._a=t,e._tzm=On(n[8],n[9],n[10]),e._d=xt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Rn(e){var t=An.exec(e._i);null===t?(jn(e),!1===e._isValid&&(delete e._isValid,Tn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function In(e,t,n){return null!=e?e:null!=t?t:n}function Pn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ln(e){var t,n,r,a,s,i=[];if(!e._d){for(r=Pn(e),e._w&&null==e._a[Le]&&null==e._a[Pe]&&zn(e),null!=e._dayOfYear&&(s=In(e._a[Ie],r[Ie]),(e._dayOfYear>Ke(s)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=xt(s,0,e._dayOfYear),e._a[Pe]=n.getUTCMonth(),e._a[Le]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ze]&&0===e._a[Ue]&&0===e._a[We]&&0===e._a[He]&&(e._nextDay=!0,e._a[ze]=0),e._d=(e._useUTC?xt:Dt).apply(null,i),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==a&&(g(e).weekdayMismatch=!0)}}function zn(e){var t,n,r,a,s,i,o,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,i=4,n=In(t.GG,e._a[Ie],wt($n(),1,4).year),r=In(t.W,1),((a=In(t.E,1))<1||a>7)&&(l=!0)):(s=e._locale._week.dow,i=e._locale._week.doy,u=wt($n(),s,i),n=In(t.gg,e._a[Ie],u.year),r=In(t.w,u.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+s,(t.e<0||t.e>6)&&(l=!0)):a=s),r<1||r>Et(n,s,i)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(o=yt(n,r,a,s,i),e._a[Ie]=o.year,e._dayOfYear=o.dayOfYear)}function Un(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,a,s,i,o,l,u=""+e._i,c=u.length,d=0;for(l=(a=q(e._f,e._locale).match(R)||[]).length,t=0;t<l;t++)s=a[t],(n=(u.match(ke(s,e))||[])[0])&&((i=u.substr(0,u.indexOf(n))).length>0&&g(e).unusedInput.push(i),u=u.slice(u.indexOf(n)+n.length),d+=n.length),L[s]?(n?g(e).empty=!1:g(e).unusedTokens.push(s),Te(s,n,e)):e._strict&&!n&&g(e).unusedTokens.push(s);g(e).charsLeftOver=c-d,u.length>0&&g(e).unusedInput.push(u),e._a[ze]<=12&&!0===g(e).bigHour&&e._a[ze]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ze]=Wn(e._locale,e._a[ze],e._meridiem),null!==(o=g(e).era)&&(e._a[Ie]=e._locale.erasConvertYear(o,e._a[Ie])),Ln(e),vn(e)}else Tn(e);else jn(e)}function Wn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Hn(e){var t,n,r,a,s,i,o=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<l;a++)s=0,i=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Un(t),b(t)&&(i=!0),s+=g(t).charsLeftOver,s+=10*g(t).unusedTokens.length,g(t).score=s,o?s<r&&(r=s,n=t):(null==r||s<r||i)&&(r=s,n=t,i&&(o=!0));m(e,n||t)}function qn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ln(e)}}function Vn(e){var t=new w(vn(Kn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Kn(e){var t=e._i,n=e._f;return e._locale=e._locale||Dn(e._l),null===t||void 0===n&&""===t?D({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new w(vn(t)):(d(t)?e._d=t:s(n)?Hn(e):n?Un(e):Yn(e),b(e)||(e._d=null),e))}function Yn(e){var t=e._i;u(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Rn(e):s(t)?(e._a=h(t.slice(0),function(e){return parseInt(e,10)}),Ln(e)):i(t)?qn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Gn(e,t,n,r,a){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&l(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=n,o._i=e,o._f=t,o._strict=r,Vn(o)}function $n(e,t,n,r){return Gn(e,t,n,r,!1)}r.createFromInputFallback=F("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var Zn=F("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$n.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:D()}),Xn=F("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$n.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:D()});function Qn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return $n();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Qn("isBefore",[].slice.call(arguments,0))}function er(){return Qn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,a=nr.length;for(t in e)if(o(e,t)&&(-1===Ye.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<a;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Se(e[nr[n]])&&(r=!0)}return!0}function ar(){return this._isValid}function sr(){return Nr(NaN)}function ir(e){var t=re(e),n=t.year||0,r=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*o*60*60,this._days=+i+7*s,this._months=+a+3*r+12*n,this._data={},this._locale=Dn(),this._bubble()}function or(e){return e instanceof ir}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&Se(e[r])!==Se(t[r]))&&i++;return i+s}function cr(e,t){z(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+T(~~(e/60),2)+t+T(~~e%60,2)})}cr("Z",":"),cr("ZZ",""),Ae("Z",ye),Ae("ZZ",ye),Me(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=hr(ye,e)});var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,a=(t||"").match(e);return null===a?null:0===(r=60*(n=((a[a.length-1]||[])+"").match(dr)||["-",0,0])[1]+Se(n[2]))?0:"+"===n[0]?r:-r}function mr(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(E(e)||d(e)?e.valueOf():$n(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):$n(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function fr(e,t,n){var a,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(ye,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=pr(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),s!==e&&(!t||this._changeInProgress?Mr(this,Nr(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function br(e){return this.utcOffset(0,e)}function Dr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function xr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(ve,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function vr(e){return!!this.isValid()&&(e=e?$n(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function yr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=Kn(t))._a?(e=t._isUTC?p(t._a):$n(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC}function Fr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ar=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nr(e,t){var n,r,a,s=e,i=null;return or(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(i=Ar.exec(e))?(n="-"===i[1]?-1:1,s={y:0,d:Se(i[Le])*n,h:Se(i[ze])*n,m:Se(i[Ue])*n,s:Se(i[We])*n,ms:Se(lr(1e3*i[He]))*n}):(i=kr.exec(e))?(n="-"===i[1]?-1:1,s={y:jr(i[2],n),M:jr(i[3],n),w:jr(i[4],n),d:jr(i[5],n),h:jr(i[6],n),m:jr(i[7],n),s:jr(i[8],n)}):null==s?s={}:"object"===typeof s&&("from"in s||"to"in s)&&(a=Sr($n(s.from),$n(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),r=new ir(s),or(e)&&o(e,"_locale")&&(r._locale=e._locale),or(e)&&o(e,"_isValid")&&(r._isValid=e._isValid),r}function jr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function _r(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Sr(e,t){var n;return e.isValid()&&t.isValid()?(t=mr(t,e),e.isBefore(t)?n=_r(e,t):((n=_r(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Br(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(N(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Mr(this,Nr(n,r),e),this}}function Mr(e,t,n,a){var s=t._milliseconds,i=lr(t._days),o=lr(t._months);e.isValid()&&(a=null==a||a,o&&ht(e,Xe(e,"Month")+o*n),i&&Qe(e,"Date",Xe(e,"Date")+i*n),s&&e._d.setTime(e._d.valueOf()+s*n),a&&r.updateOffset(e,i||o))}Nr.fn=ir.prototype,Nr.invalid=sr;var Or=Br(1,"add"),Tr=Br(-1,"subtract");function Rr(e){return"string"===typeof e||e instanceof String}function Ir(e){return E(e)||d(e)||Rr(e)||c(e)||Lr(e)||Pr(e)||null===e||void 0===e}function Pr(e){var t,n,r=i(e)&&!l(e),a=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=s.length;for(t=0;t<u;t+=1)n=s[t],a=a||o(e,n);return r&&a}function Lr(e){var t=s(e),n=!1;return t&&(n=0===e.filter(function(t){return!c(t)&&Rr(e)}).length),t&&n}function zr(e){var t,n,r=i(e)&&!l(e),a=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)n=s[t],a=a||o(e,n);return r&&a}function Ur(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wr(e,t){1===arguments.length&&(arguments[0]?Ir(arguments[0])?(e=arguments[0],t=void 0):zr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||$n(),a=mr(n,this).startOf("day"),s=r.calendarFormat(this,a)||"sameElse",i=t&&(j(t[s])?t[s].call(this,n):t[s]);return this.format(i||this.localeData().calendar(s,this,$n(n)))}function Hr(){return new w(this)}function qr(e,t){var n=E(e)?e:$n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Vr(e,t){var n=E(e)?e:$n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Kr(e,t,n,r){var a=E(e)?e:$n(e),s=E(t)?t:$n(t);return!!(this.isValid()&&a.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n))}function Yr(e,t){var n,r=E(e)?e:$n(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $r(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zr(e,t,n){var r,a,s;if(!this.isValid())return NaN;if(!(r=mr(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case"year":s=Xr(this,r)/12;break;case"month":s=Xr(this,r);break;case"quarter":s=Xr(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-a)/864e5;break;case"week":s=(this-r-a)/6048e5;break;default:s=this-r}return n?s:_e(s)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ea(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,a="moment",s="";return this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+a+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=s+'[")]',this.format(e+t+n+r)}function ta(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)}function na(e,t){return this.isValid()&&(E(e)&&e.isValid()||$n(e).isValid())?Nr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ra(e){return this.from($n(),e)}function aa(e,t){return this.isValid()&&(E(e)&&e.isValid()||$n(e).isValid())?Nr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sa(e){return this.to($n(),e)}function ia(e){var t;return void 0===e?this._locale._abbr:(null!=(t=Dn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oa=F("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function la(){return this._locale}var ua=1e3,ca=60*ua,da=60*ca,ha=3506328*da;function ma(e,t){return(e%t+t)%t}function pa(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ha:new Date(e,t,n).valueOf()}function fa(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ha:Date.UTC(e,t,n)}function ga(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?fa:pa,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ma(t+(this._isUTC?0:this.utcOffset()*ca),da);break;case"minute":t=this._d.valueOf(),t-=ma(t,ca);break;case"second":t=this._d.valueOf(),t-=ma(t,ua)}return this._d.setTime(t),r.updateOffset(this,!0),this}function ba(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?fa:pa,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=da-ma(t+(this._isUTC?0:this.utcOffset()*ca),da)-1;break;case"minute":t=this._d.valueOf(),t+=ca-ma(t,ca)-1;break;case"second":t=this._d.valueOf(),t+=ua-ma(t,ua)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function Da(){return this._d.valueOf()-6e4*(this._offset||0)}function xa(){return Math.floor(this.valueOf()/1e3)}function va(){return new Date(this.valueOf())}function ya(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wa(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ea(){return this.isValid()?this.toISOString():null}function Ca(){return b(this)}function Fa(){return m({},g(this))}function Aa(){return g(this).overflow}function ka(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Na(e,t){var n,a,s,i=this._eras||Dn("en")._eras;for(n=0,a=i.length;n<a;++n)switch("string"===typeof i[n].since&&(s=r(i[n].since).startOf("day"),i[n].since=s.valueOf()),typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=r(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf()}return i}function ja(e,t,n){var r,a,s,i,o,l=this.eras();for(e=e.toUpperCase(),r=0,a=l.length;r<a;++r)if(s=l[r].name.toUpperCase(),i=l[r].abbr.toUpperCase(),o=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(i===e)return l[r];break;case"NNNN":if(s===e)return l[r];break;case"NNNNN":if(o===e)return l[r]}else if([s,i,o].indexOf(e)>=0)return l[r]}function _a(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Sa(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ba(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ma(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Oa(){var e,t,n,a,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,a=this.clone().startOf("day").valueOf(),s[e].since<=a&&a<=s[e].until||s[e].until<=a&&a<=s[e].since)return(this.year()-r(s[e].since).year())*n+s[e].offset;return this.year()}function Ta(e){return o(this,"_erasNameRegex")||Wa.call(this),e?this._erasNameRegex:this._erasRegex}function Ra(e){return o(this,"_erasAbbrRegex")||Wa.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ia(e){return o(this,"_erasNarrowRegex")||Wa.call(this),e?this._erasNarrowRegex:this._erasRegex}function Pa(e,t){return t.erasAbbrRegex(e)}function La(e,t){return t.erasNameRegex(e)}function za(e,t){return t.erasNarrowRegex(e)}function Ua(e,t){return t._eraYearOrdinalRegex||De}function Wa(){var e,t,n,r,a,s=[],i=[],o=[],l=[],u=this.eras();for(e=0,t=u.length;e<t;++e)n=je(u[e].name),r=je(u[e].abbr),a=je(u[e].narrow),i.push(n),s.push(r),o.push(a),l.push(n),l.push(r),l.push(a);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Ha(e,t){z(0,[e,e.length],0,t)}function qa(e){return Za.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Va(e){return Za.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ka(){return Et(this.year(),1,4)}function Ya(){return Et(this.isoWeekYear(),1,4)}function Ga(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function $a(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Za(e,t,n,r,a){var s;return null==e?wt(this,r,a).year:(t>(s=Et(e,r,a))&&(t=s),Xa.call(this,e,t,n,r,a))}function Xa(e,t,n,r,a){var s=yt(e,t,n,r,a),i=xt(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function Qa(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),Ae("N",Pa),Ae("NN",Pa),Ae("NNN",Pa),Ae("NNNN",La),Ae("NNNNN",za),Me(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?g(n).era=a:g(n).invalidEra=e}),Ae("y",De),Ae("yy",De),Ae("yyy",De),Ae("yyyy",De),Ae("yo",Ua),Me(["y","yy","yyy","yyyy"],Ie),Me(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ie]=n._locale.eraYearOrdinalParse(e,a):t[Ie]=parseInt(e,10)}),z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ha("gggg","weekYear"),Ha("ggggg","weekYear"),Ha("GGGG","isoWeekYear"),Ha("GGGGG","isoWeekYear"),Ae("G",xe),Ae("g",xe),Ae("GG",he,le),Ae("gg",he,le),Ae("GGGG",ge,ce),Ae("gggg",ge,ce),Ae("GGGGG",be,de),Ae("ggggg",be,de),Oe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Se(e)}),Oe(["gg","GG"],function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)}),z("Q",0,"Qo","quarter"),Ae("Q",oe),Me("Q",function(e,t){t[Pe]=3*(Se(e)-1)}),z("D",["DD",2],"Do","date"),Ae("D",he,Ce),Ae("DD",he,le),Ae("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Me(["D","DD"],Le),Me("Do",function(e,t){t[Le]=Se(e.match(he)[0])});var Ja=Ze("Date",!0);function es(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),Ae("DDD",fe),Ae("DDDD",ue),Me(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Se(e)}),z("m",["mm",2],0,"minute"),Ae("m",he,Fe),Ae("mm",he,le),Me(["m","mm"],Ue);var ts=Ze("Minutes",!1);z("s",["ss",2],0,"second"),Ae("s",he,Fe),Ae("ss",he,le),Me(["s","ss"],We);var ns,rs,as=Ze("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ae("S",fe,oe),Ae("SS",fe,le),Ae("SSS",fe,ue),ns="SSSS";ns.length<=9;ns+="S")Ae(ns,De);function ss(e,t){t[He]=Se(1e3*("0."+e))}for(ns="S";ns.length<=9;ns+="S")Me(ns,ss);function is(){return this._isUTC?"UTC":""}function os(){return this._isUTC?"Coordinated Universal Time":""}rs=Ze("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var ls=w.prototype;function us(e){return $n(1e3*e)}function cs(){return $n.apply(null,arguments).parseZone()}function ds(e){return e}ls.add=Or,ls.calendar=Wr,ls.clone=Hr,ls.diff=Zr,ls.endOf=ba,ls.format=ta,ls.from=na,ls.fromNow=ra,ls.to=aa,ls.toNow=sa,ls.get=Je,ls.invalidAt=Aa,ls.isAfter=qr,ls.isBefore=Vr,ls.isBetween=Kr,ls.isSame=Yr,ls.isSameOrAfter=Gr,ls.isSameOrBefore=$r,ls.isValid=Ca,ls.lang=oa,ls.locale=ia,ls.localeData=la,ls.max=Xn,ls.min=Zn,ls.parsingFlags=Fa,ls.set=et,ls.startOf=ga,ls.subtract=Tr,ls.toArray=ya,ls.toObject=wa,ls.toDate=va,ls.toISOString=Jr,ls.inspect=ea,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ls[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ls.toJSON=Ea,ls.toString=Qr,ls.unix=xa,ls.valueOf=Da,ls.creationData=ka,ls.eraName=Sa,ls.eraNarrow=Ba,ls.eraAbbr=Ma,ls.eraYear=Oa,ls.year=Ge,ls.isLeapYear=$e,ls.weekYear=qa,ls.isoWeekYear=Va,ls.quarter=ls.quarters=Qa,ls.month=mt,ls.daysInMonth=pt,ls.week=ls.weeks=Nt,ls.isoWeek=ls.isoWeeks=jt,ls.weeksInYear=Ga,ls.weeksInWeekYear=$a,ls.isoWeeksInYear=Ka,ls.isoWeeksInISOWeekYear=Ya,ls.date=Ja,ls.day=ls.days=qt,ls.weekday=Vt,ls.isoWeekday=Kt,ls.dayOfYear=es,ls.hour=ls.hours=rn,ls.minute=ls.minutes=ts,ls.second=ls.seconds=as,ls.millisecond=ls.milliseconds=rs,ls.utcOffset=fr,ls.utc=br,ls.local=Dr,ls.parseZone=xr,ls.hasAlignedHourOffset=vr,ls.isDST=yr,ls.isLocal=Er,ls.isUtcOffset=Cr,ls.isUtc=Fr,ls.isUTC=Fr,ls.zoneAbbr=is,ls.zoneName=os,ls.dates=F("dates accessor is deprecated. Use date instead.",Ja),ls.months=F("months accessor is deprecated. Use month instead",mt),ls.years=F("years accessor is deprecated. Use year instead",Ge),ls.zone=F("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),ls.isDSTShifted=F("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var hs=B.prototype;function ms(e,t,n,r){var a=Dn(),s=p().set(r,t);return a[n](s,e)}function ps(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return ms(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=ms(e,r,n,"month");return a}function fs(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var a,s=Dn(),i=e?s._week.dow:0,o=[];if(null!=n)return ms(t,(n+i)%7,r,"day");for(a=0;a<7;a++)o[a]=ms(t,(a+i)%7,r,"day");return o}function gs(e,t){return ps(e,t,"months")}function bs(e,t){return ps(e,t,"monthsShort")}function Ds(e,t,n){return fs(e,t,n,"weekdays")}function xs(e,t,n){return fs(e,t,n,"weekdaysShort")}function vs(e,t,n){return fs(e,t,n,"weekdaysMin")}hs.calendar=O,hs.longDateFormat=K,hs.invalidDate=G,hs.ordinal=X,hs.preparse=ds,hs.postformat=ds,hs.relativeTime=J,hs.pastFuture=ee,hs.set=_,hs.eras=Na,hs.erasParse=ja,hs.erasConvertYear=_a,hs.erasAbbrRegex=Ra,hs.erasNameRegex=Ta,hs.erasNarrowRegex=Ia,hs.months=lt,hs.monthsShort=ut,hs.monthsParse=dt,hs.monthsRegex=gt,hs.monthsShortRegex=ft,hs.week=Ct,hs.firstDayOfYear=kt,hs.firstDayOfWeek=At,hs.weekdays=Lt,hs.weekdaysMin=Ut,hs.weekdaysShort=zt,hs.weekdaysParse=Ht,hs.weekdaysRegex=Yt,hs.weekdaysShortRegex=Gt,hs.weekdaysMinRegex=$t,hs.isPM=tn,hs.meridiem=an,fn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Se(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=F("moment.lang is deprecated. Use moment.locale instead.",fn),r.langData=F("moment.langData is deprecated. Use moment.localeData instead.",Dn);var ys=Math.abs;function ws(){var e=this._data;return this._milliseconds=ys(this._milliseconds),this._days=ys(this._days),this._months=ys(this._months),e.milliseconds=ys(e.milliseconds),e.seconds=ys(e.seconds),e.minutes=ys(e.minutes),e.hours=ys(e.hours),e.months=ys(e.months),e.years=ys(e.years),this}function Es(e,t,n,r){var a=Nr(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function Cs(e,t){return Es(this,e,t,1)}function Fs(e,t){return Es(this,e,t,-1)}function As(e){return e<0?Math.floor(e):Math.ceil(e)}function ks(){var e,t,n,r,a,s=this._milliseconds,i=this._days,o=this._months,l=this._data;return s>=0&&i>=0&&o>=0||s<=0&&i<=0&&o<=0||(s+=864e5*As(js(o)+i),i=0,o=0),l.milliseconds=s%1e3,e=_e(s/1e3),l.seconds=e%60,t=_e(e/60),l.minutes=t%60,n=_e(t/60),l.hours=n%24,i+=_e(n/24),o+=a=_e(Ns(i)),i-=As(js(a)),r=_e(o/12),o%=12,l.days=i,l.months=o,l.years=r,this}function Ns(e){return 4800*e/146097}function js(e){return 146097*e/4800}function _s(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ns(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(js(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ss(e){return function(){return this.as(e)}}var Bs=Ss("ms"),Ms=Ss("s"),Os=Ss("m"),Ts=Ss("h"),Rs=Ss("d"),Is=Ss("w"),Ps=Ss("M"),Ls=Ss("Q"),zs=Ss("y"),Us=Bs;function Ws(){return Nr(this)}function Hs(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function qs(e){return function(){return this.isValid()?this._data[e]:NaN}}var Vs=qs("milliseconds"),Ks=qs("seconds"),Ys=qs("minutes"),Gs=qs("hours"),$s=qs("days"),Zs=qs("months"),Xs=qs("years");function Qs(){return _e(this.days()/7)}var Js=Math.round,ei={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ti(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function ni(e,t,n,r){var a=Nr(e).abs(),s=Js(a.as("s")),i=Js(a.as("m")),o=Js(a.as("h")),l=Js(a.as("d")),u=Js(a.as("M")),c=Js(a.as("w")),d=Js(a.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||i<=1&&["m"]||i<n.m&&["mm",i]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),(h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,ti.apply(null,h)}function ri(e){return void 0===e?Js:"function"===typeof e&&(Js=e,!0)}function ai(e,t){return void 0!==ei[e]&&(void 0===t?ei[e]:(ei[e]=t,"s"===e&&(ei.ss=t-1),!0))}function si(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,a=!1,s=ei;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(a=e),"object"===typeof t&&(s=Object.assign({},ei,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=ni(this,!a,s,n=this.localeData()),a&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ii=Math.abs;function oi(e){return(e>0)-(e<0)||+e}function li(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,a,s,i,o,l=ii(this._milliseconds)/1e3,u=ii(this._days),c=ii(this._months),d=this.asSeconds();return d?(e=_e(l/60),t=_e(e/60),l%=60,e%=60,n=_e(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=d<0?"-":"",s=oi(this._months)!==oi(d)?"-":"",i=oi(this._days)!==oi(d)?"-":"",o=oi(this._milliseconds)!==oi(d)?"-":"",a+"P"+(n?s+n+"Y":"")+(c?s+c+"M":"")+(u?i+u+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+r+"S":"")):"P0D"}var ui=ir.prototype;return ui.isValid=ar,ui.abs=ws,ui.add=Cs,ui.subtract=Fs,ui.as=_s,ui.asMilliseconds=Bs,ui.asSeconds=Ms,ui.asMinutes=Os,ui.asHours=Ts,ui.asDays=Rs,ui.asWeeks=Is,ui.asMonths=Ps,ui.asQuarters=Ls,ui.asYears=zs,ui.valueOf=Us,ui._bubble=ks,ui.clone=Ws,ui.get=Hs,ui.milliseconds=Vs,ui.seconds=Ks,ui.minutes=Ys,ui.hours=Gs,ui.days=$s,ui.weeks=Qs,ui.months=Zs,ui.years=Xs,ui.humanize=si,ui.toISOString=li,ui.toString=li,ui.toJSON=li,ui.locale=ia,ui.localeData=la,ui.toIsoString=F("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",li),ui.lang=oa,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Ae("x",xe),Ae("X",we),Me("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),Me("x",function(e,t,n){n._d=new Date(Se(e))}),r.version="2.30.1",a($n),r.fn=ls,r.min=Jn,r.max=er,r.now=tr,r.utc=p,r.unix=us,r.months=gs,r.isDate=d,r.locale=fn,r.invalid=D,r.duration=Nr,r.isMoment=E,r.weekdays=Ds,r.parseZone=cs,r.localeData=Dn,r.isDuration=or,r.monthsShort=bs,r.weekdaysMin=vs,r.defineLocale=gn,r.updateLocale=bn,r.locales=xn,r.weekdaysShort=xs,r.normalizeUnits=ne,r.relativeTimeRounding=ri,r.relativeTimeThreshold=ai,r.calendarFormat=Ur,r.prototype=ls,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},9059:(e,t,n)=>{"use strict";var r=n(4994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1942)),s=r(n(9950)),i=r(n(5874)),o=n(6890);t.default={propTypes:{slotMetrics:a.default.object.isRequired,selected:a.default.object,isAllDay:a.default.bool,accessors:a.default.object.isRequired,localizer:a.default.object.isRequired,components:a.default.object.isRequired,getters:a.default.object.isRequired,onSelect:a.default.func,onDoubleClick:a.default.func,onKeyPress:a.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var n=e.selected,r=(e.isAllDay,e.accessors),a=e.getters,l=e.onSelect,u=e.onDoubleClick,c=e.onKeyPress,d=e.localizer,h=e.slotMetrics,m=e.components,p=e.resizable,f=h.continuesPrior(t),g=h.continuesAfter(t);return s.default.createElement(i.default,{event:t,getters:a,localizer:d,accessors:r,components:m,onSelect:l,onDoubleClick:u,onKeyPress:c,continuesPrior:f,continuesAfter:g,slotStart:h.first,slotEnd:h.last,selected:(0,o.isSelected)(t,n),resizable:p})},renderSpan:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",a=Math.abs(t)/e*100+"%";return s.default.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},r)}}},9131:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9241:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(215).A)("pageYOffset")},9248:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},9291:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9343:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9418:(e,t,n)=>{var r=n(1404);e.exports=function(e,t){return r(e,t)}},9511:(e,t,n)=>{var r=n(5636);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9645:(e,t,n)=>{var r=n(5535),a=n(8951),s=n(7305),i=n(291),o=n(2064),l=n(8984),u=n(6321),c=n(1849),d=n(3586),h=n(3660),m=n(6387),p=n(5531),f=n(7203),g=n(997),b=n(5539),D=n(2279),x=n(6794),v=n(7744),y=n(4567),w=n(5738),E=n(5724),C=n(1235),F="[object Arguments]",A="[object Function]",k="[object Object]",N={};N[F]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[k]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[A]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,j,_,S,B){var M,O=1&n,T=2&n,R=4&n;if(j&&(M=S?j(t,_,S,B):j(t)),void 0!==M)return M;if(!y(t))return t;var I=D(t);if(I){if(M=f(t),!O)return u(t,M)}else{var P=p(t),L=P==A||"[object GeneratorFunction]"==P;if(x(t))return l(t,O);if(P==k||P==F||L&&!S){if(M=T||L?{}:b(t),!O)return T?d(t,o(M,t)):c(t,i(M,t))}else{if(!N[P])return S?t:{};M=g(t,P,O)}}B||(B=new r);var z=B.get(t);if(z)return z;B.set(t,M),w(t)?t.forEach(function(r){M.add(e(r,n,j,r,t,B))}):v(t)&&t.forEach(function(r,a){M.set(a,e(r,n,j,a,t,B))});var U=I?void 0:(R?T?m:h:T?C:E)(t);return a(U||t,function(r,a){U&&(r=t[a=r]),s(M,a,e(r,n,j,a,t,B))}),M}},9653:(e,t,n)=>{var r=n(7518),a=n(2253),s=n(8194),i=n(1515),o=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=a(e);return t}:i;e.exports=o},9703:e=>{"use strict";var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(l,u):u}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function m(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:d,column:h};return function(t){return t.position=new f(e),D(),t}}function f(e){this.start=e,this.end={line:d,column:h},this.source=l.source}function g(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n}function b(t){var n=t.exec(e);if(n){var r=n[0];return m(r),e=e.slice(r.length),n}}function D(){b(r)}function x(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return h+=2,m(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function y(){var e=p(),n=b(a);if(n){if(v(),!b(s))return g("property missing ':'");var r=b(i),l=e({type:"declaration",property:c(n[0].replace(t,u)),value:r?c(r[0].replace(t,u)):u});return b(o),l}}return f.prototype.content=e,D(),function(){var e,t=[];for(x(t);e=y();)!1!==e&&(t.push(e),x(t));return t}()}},9757:(e,t,n)=>{var r=n(6669),a=n(6010),s=n(3445);e.exports=function(e,t,n,i,o,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var h=l.get(e),m=l.get(t);if(h&&m)return h==t&&m==e;var p=-1,f=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var b=e[p],D=t[p];if(i)var x=u?i(D,b,p,t,e,l):i(b,D,p,e,t,l);if(void 0!==x){if(x)continue;f=!1;break}if(g){if(!a(t,function(e,t){if(!s(g,t)&&(b===e||o(b,e,n,i,l)))return g.push(t)})){f=!1;break}}else if(b!==D&&!o(b,D,n,i,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},9769:(e,t,n)=>{var r=n(4489),a=n(3334),s=n(4243);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9794:(e,t,n)=>{var r=n(4567);e.exports=function(e){return e===e&&!r(e)}},9809:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(3412);function a(e){return"window"in e&&e.window===e?e:(0,r.A)(e)&&e.defaultView||!1}},9815:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},9939:(e,t,n)=>{var r=n(9954)();e.exports=r},9950:(e,t,n)=>{"use strict";e.exports=n(2049)},9954:(e,t,n)=>{var r=n(4181),a=n(9042),s=n(314);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),i=void 0===i?t<n?1:-1:s(i),r(t,n,i,e)}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>dr,hasStandardBrowserEnv:()=>mr,hasStandardBrowserWebWorkerEnv:()=>pr,navigator:()=>hr,origin:()=>fr});var t={};n.r(t),n.d(t,{Decoder:()=>wo,Encoder:()=>vo,PacketType:()=>xo,protocol:()=>Do});var r={};n.r(r),n.d(r,{add:()=>ru,century:()=>Fu,date:()=>yu,day:()=>vu,decade:()=>Cu,diff:()=>ku,endOf:()=>iu,eq:()=>ou,gt:()=>uu,gte:()=>cu,hours:()=>xu,inRange:()=>fu,lt:()=>du,lte:()=>hu,max:()=>pu,milliseconds:()=>gu,min:()=>mu,minutes:()=>Du,month:()=>wu,neq:()=>lu,seconds:()=>bu,startOf:()=>su,subtract:()=>au,weekday:()=>Au,year:()=>Eu});var a={};n.r(a),n.d(a,{boolean:()=>aF,booleanish:()=>sF,commaOrSpaceSeparated:()=>cF,commaSeparated:()=>uF,number:()=>oF,overloadedBoolean:()=>iF,spaceSeparated:()=>lF});var s={};n.r(s),n.d(s,{attentionMarkers:()=>zk,contentInitial:()=>Ok,disable:()=>Uk,document:()=>Mk,flow:()=>Rk,flowInitial:()=>Tk,insideSpan:()=>Lk,string:()=>Ik,text:()=>Pk});var i,o=n(9950),l=n.t(o,2),u=n(1352);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ve){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l=i.Pop,u=null,m=b();function b(){return(o.state||{idx:null}).idx}function D(){l=i.Pop;let e=b(),t=null==e?null:e-m;m=e,u&&u({action:l,location:v.location,delta:t})}function x(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,o.replaceState(c({},o.state,{idx:m}),""));let v={get action(){return l},get location(){return e(a,o)},listen(e){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(d,D),u=e,()=>{a.removeEventListener(d,D),u=null}},createHref:e=>t(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=f(v.location,e,t);n&&n(r,e),m=b()+1;let c=p(r,m),d=v.createHref(r);try{o.pushState(c,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(d)}s&&u&&u({action:l,location:v.location,delta:1})},replace:function(e,t){l=i.Replace;let r=f(v.location,e,t);n&&n(r,e),m=b();let a=p(r,m),c=v.createHref(r);o.replaceState(a,"",c),s&&u&&u({action:l,location:v.location,delta:0})},go:e=>o.go(e)};return v}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let a=T(("string"===typeof t?b(t):t).pathname||"/",n);if(null==a)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=O(a);i=B(s[o],e,r)}return i}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(h(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=z([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))a(e,t,r);else a(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=E(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const C=/^:[\w-]+$/,F=3,A=2,k=1,N=10,j=-2,_=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=j),t&&(r+=A),n.filter(e=>!_(e)).reduce((e,t)=>e+(C.test(t)?F:""===t?k:N),r)}function B(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),i.push({params:a,pathname:z([s,c.pathname]),pathnameBase:U(z([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=z([s,c.pathnameBase]))}return i}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function P(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=b(e):(a=c({},e),h(!a.pathname||!a.pathname.includes("?"),R("?","pathname","search",a)),h(!a.pathname||!a.pathname.includes("#"),R("#","pathname","hash",a)),h(!a.search||!a.search.includes("#"),R("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?b(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:W(r),hash:H(a)}}(a,s),u=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],K=(new Set(V),["get",...V]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}const G=o.createContext(null);const $=o.createContext(null);const Z=o.createContext(null);const X=o.createContext(null);const Q=o.createContext({outlet:null,matches:[],isDataRoute:!1});const J=o.createContext(null);function ee(){return null!=o.useContext(X)}function te(){return ee()||h(!1),o.useContext(X).location}function ne(e){o.useContext(Z).static||o.useLayoutEffect(e)}function re(){let{isDataRoute:e}=o.useContext(Q);return e?function(){let{router:e}=me(de.UseNavigateStable),t=fe(he.UseNavigateStable),n=o.useRef(!1);return ne(()=>{n.current=!0}),o.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Y({fromRouteId:t},a)))},[e,t])}():function(){ee()||h(!1);let e=o.useContext(G),{basename:t,future:n,navigator:r}=o.useContext(Z),{matches:a}=o.useContext(Q),{pathname:s}=te(),i=JSON.stringify(P(a,n.v7_relativeSplatPath)),l=o.useRef(!1);ne(()=>{l.current=!0});let u=o.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=L(n,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:z([t,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[t,r,i,s,e]);return u}()}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Z),{matches:a}=o.useContext(Q),{pathname:s}=te(),i=JSON.stringify(P(a,r.v7_relativeSplatPath));return o.useMemo(()=>L(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function se(e,t,n,r){ee()||h(!1);let{navigator:a}=o.useContext(Z),{matches:s}=o.useContext(Q),l=s[s.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,m=te();if(t){var p;let e="string"===typeof t?b(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=m;let f=d.pathname||"/",g=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let D=v(e,{pathname:g});let x=ce(D&&D.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:z([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:z([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&x?o.createElement(X.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},x):x}function ie(){let e=function(){var e;let t=o.useContext(J),n=pe(he.UseRouteError),r=fe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:a},n):null,null)}const oe=o.createElement(ie,null);class le extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(Q.Provider,{value:this.props.routeContext},o.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,a=o.useContext(G);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(Q.Provider,{value:t},r)}function ce(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),i=i.slice(0,Math.min(i.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<i.length;o++){let e=i[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=o),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){u=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let s,d=!1,h=null,m=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,u&&(c<0&&0===a?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,m=null):c===a&&(d=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,a+1)),g=()=>{let t;return t=s?h:d?m:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(ue,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?o.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=o.useContext(G);return t||h(!1),t}function pe(e){let t=o.useContext($);return t||h(!1),t}function fe(e){let t=function(){let e=o.useContext(Q);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function De(e){let{to:t,replace:n,state:r,relative:a}=e;ee()||h(!1);let{future:s,static:i}=o.useContext(Z),{matches:l}=o.useContext(Q),{pathname:u}=te(),c=re(),d=L(t,P(l,s.v7_relativeSplatPath),u,"path"===a),m=JSON.stringify(d);return o.useEffect(()=>c(JSON.parse(m),{replace:n,state:r,relative:a}),[c,m,a,n,r]),null}function xe(e){h(!1)}function ve(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:s,static:l=!1,future:u}=e;ee()&&h(!1);let c=t.replace(/^\/*/,"/"),d=o.useMemo(()=>({basename:c,navigator:s,static:l,future:Y({v7_relativeSplatPath:!1},u)}),[c,u,s,l]);"string"===typeof r&&(r=b(r));let{pathname:m="/",search:p="",hash:f="",state:g=null,key:D="default"}=r,x=o.useMemo(()=>{let e=T(m,c);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:D},navigationType:a}},[c,m,p,f,g,D,a]);return null==x?null:o.createElement(Z.Provider,{value:d},o.createElement(X.Provider,{children:n,value:x}))}function ye(e){let{children:t,location:n}=e;return se(we(t),n)}new Promise(()=>{});o.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,(e,r)=>{if(!o.isValidElement(e))return;let a=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,we(e.props.children,a));e.type!==xe&&h(!1),e.props.index&&e.props.children&&h(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=we(e.props.children,a)),n.push(s)}),n}var Ee=n(7119),Ce=n.t(Ee,2);function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ne=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Ve){}const je=o.createContext({isTransitioning:!1});new Map;const _e=l.startTransition;Ce.flushSync,l.useId;function Se(e){let{basename:t,children:n,future:r,window:a}=e,s=o.useRef();var i;null==s.current&&(s.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),D(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return f("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,i)));let l=s.current,[u,c]=o.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=o.useCallback(e=>{d&&_e?_e(()=>c(e)):c(e)},[c,d]);return o.useLayoutEffect(()=>l.listen(h),[l,h]),o.useEffect(()=>be(r),[r]),o.createElement(ve,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const Be="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=o.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:i,state:l,target:u,to:c,preventScrollReset:d,viewTransition:m}=e,p=Ae(e,ke),{basename:f}=o.useContext(Z),b=!1;if("string"===typeof c&&Me.test(c)&&(n=c,Be))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=T(t.pathname,f);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:b=!0}catch(Ve){}let D=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||h(!1);let{basename:r,navigator:a}=o.useContext(Z),{hash:s,pathname:i,search:l}=ae(e,{relative:n}),u=i;return"/"!==r&&(u="/"===i?r:z([r,i])),a.createHref({pathname:u,search:l,hash:s})}(c,{relative:a}),x=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:l}=void 0===t?{}:t,u=re(),c=te(),d=ae(e,{relative:i});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(c)===g(d);u(e,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[c,u,d,r,a,n,e,s,i,l])}(c,{replace:i,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:m});return o.createElement("a",Fe({},p,{href:n||D,onClick:b||s?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:u}))});const Te=o.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:s=!1,style:i,to:l,viewTransition:u,children:c}=e,d=Ae(e,Ne),m=ae(l,{relative:d.relative}),p=te(),f=o.useContext($),{navigator:g,basename:b}=o.useContext(Z),D=null!=f&&function(e,t){void 0===t&&(t={});let n=o.useContext(je);null==n&&h(!1);let{basename:r}=Pe(Re.useViewTransitionState),a=ae(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=T(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=T(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=M(a.pathname,i)||null!=M(a.pathname,s)}(m)&&!0===u,x=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,v=p.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(v=v.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase()),y&&b&&(y=T(y,b)||y);const w="/"!==x&&x.endsWith("/")?x.length-1:x.length;let E,C=v===x||!s&&v.startsWith(x)&&"/"===v.charAt(w),F=null!=y&&(y===x||!s&&y.startsWith(x)&&"/"===y.charAt(x.length)),A={isActive:C,isPending:F,isTransitioning:D},k=C?n:void 0;E="function"===typeof a?a(A):[a,C?"active":null,F?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof i?i(A):i;return o.createElement(Oe,Fe({},d,{"aria-current":k,className:E,ref:t,style:N,to:l,viewTransition:u}),"function"===typeof c?c(A):c)});var Re,Ie;function Pe(e){let t=o.useContext(G);return t||h(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function Le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ue(e){var t=function(e,t){if("object"!=ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ze(t)?t:t+""}function We(e,t,n){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){We(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Ve={data:""},Ke=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Ve},Ye=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ge=/\/\*[^]*?\*\/|  +/g,$e=/\n+/g,Ze=(e,t)=>{let n="",r="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":r+="f"==s[1]?Ze(i,s):s+"{"+Ze(i,"k"==s[1]?"":t)+"}":"object"==typeof i?r+=Ze(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ze.p?Ze.p(s,i):s+":"+i+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Xe={},Qe=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Qe(e[n]);return t}return e},Je=(e,t,n,r,a)=>{let s=Qe(e),i=Xe[s]||(Xe[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Xe[i]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=Ye.exec(e.replace(Ge,""));)t[4]?r.shift():t[3]?(n=t[3].replace($e," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace($e," ").trim();return r[0]})(e);Xe[i]=Ze(a?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&Xe.g?Xe.g:null;return n&&(Xe.g=Xe[i]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Xe[i],t,r,o),i};function et(e){let t=this||{},n=e.call?e(t.p):e;return Je(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Ze(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Ke(t.target),t.g,t.o,t.k)}et.bind({g:1});let tt,nt,rt,at=et.bind({k:1});function st(e,t){let n=this||{};return function(){let r=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;n.p=Object.assign({theme:nt&&nt()},o),n.o=/ *go\d+/.test(l),o.className=et.apply(n,r)+(l?" "+l:""),t&&(o.ref=i);let u=e;return e[0]&&(u=o.as||e,delete o.as),rt&&u[0]&&rt(o),tt(u,o)}return t?t(a):a}}var it,ot,lt,ut,ct,dt,ht,mt,pt,ft,gt,bt,Dt,xt,vt,yt,wt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Et=(()=>{let e=0;return()=>(++e).toString()})(),Ct=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ft="default",At=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return qe(qe({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return qe(qe({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?qe(qe({},e),t.toast):e)});case 2:let{toast:r}=t;return At(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return qe(qe({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?qe(qe({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?qe(qe({},e),{},{toasts:[]}):qe(qe({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return qe(qe({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return qe(qe({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>qe(qe({},e),{},{pauseDuration:e.pauseDuration+s}))})}},kt=[],Nt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},jt={},_t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;jt[t]=At(jt[t]||Nt,e),kt.forEach(e=>{let[n,r]=e;n===t&&r(jt[t])})},St=e=>Object.keys(jt).forEach(t=>_t(e,t)),Bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;return t=>{_t(t,e)}},Mt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ot=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return qe(qe({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Et()})}(t,e,n);return Bt(r.toasterId||(e=>Object.keys(jt).find(t=>jt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Tt=(e,t)=>Ot("blank")(e,t);Tt.error=Ot("error"),Tt.success=Ot("success"),Tt.loading=Ot("loading"),Tt.custom=Ot("custom"),Tt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Bt(t)(n):St(n)},Tt.dismissAll=e=>Tt.dismiss(void 0,e),Tt.remove=(e,t)=>{let n={type:4,toastId:e};t?Bt(t)(n):St(n)},Tt.removeAll=e=>Tt.remove(void 0,e),Tt.promise=(e,t,n)=>{let r=Tt.loading(t.loading,qe(qe({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?wt(t.success,e):void 0;return a?Tt.success(a,qe(qe({id:r},n),null==n?void 0:n.success)):Tt.dismiss(r),e}).catch(e=>{let a=t.error?wt(t.error,e):void 0;a?Tt.error(a,qe(qe({id:r},n),null==n?void 0:n.error)):Tt.dismiss(r)}),e};var Rt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft,[n,r]=(0,o.useState)(jt[t]||Nt),a=(0,o.useRef)(jt[t]);(0,o.useEffect)(()=>(a.current!==jt[t]&&r(jt[t]),kt.push([t,r]),()=>{let e=kt.findIndex(e=>{let[n]=e;return n===t});e>-1&&kt.splice(e,1)}),[t]);let s=n.toasts.map(t=>{var n,r,a;return qe(qe(qe(qe({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Mt[t.type],style:qe(qe(qe({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return qe(qe({},n),{},{toasts:s})}(e,t),a=(0,o.useRef)(new Map).current,s=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),i({type:4,toastId:e})},t);a.set(e,n)},[]);(0,o.useEffect)(()=>{if(r)return;let e=Date.now(),a=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Tt.dismiss(n.id,t),r);n.visible&&Tt.dismiss(n.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let i=(0,o.useCallback)(Bt(t),[t]),l=(0,o.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),u=(0,o.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),c=(0,o.useCallback)(()=>{r&&i({type:6,time:Date.now()})},[r,i]),d=(0,o.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:s}=t||{},i=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[n]);return(0,o.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:d}}},It=at(it||(it=Le(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Pt=at(ot||(ot=Le(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Lt=at(lt||(lt=Le(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),zt=st("div")(ut||(ut=Le(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",It,Pt,e=>e.secondary||"#fff",Lt),Ut=at(ct||(ct=Le(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Wt=st("div")(dt||(dt=Le(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ut),Ht=at(ht||(ht=Le(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),qt=at(mt||(mt=Le(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Vt=st("div")(pt||(pt=Le(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Ht,qt,e=>e.secondary||"#fff"),Kt=st("div")(ft||(ft=Le(["\n  position: absolute;\n"]))),Yt=st("div")(gt||(gt=Le(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Gt=at(bt||(bt=Le(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$t=st("div")(Dt||(Dt=Le(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Gt),Zt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?o.createElement($t,null,n):n:"blank"===r?null:o.createElement(Yt,null,o.createElement(Wt,qe({},a)),"loading"!==r&&o.createElement(Kt,null,"error"===r?o.createElement(zt,qe({},a)):o.createElement(Vt,qe({},a))))},Xt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Qt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Jt=st("div")(xt||(xt=Le(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),en=st("div")(vt||(vt=Le(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),tn=o.memo(e=>{let{toast:t,position:n,style:r,children:a}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Ct()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Xt(n),Qt(n)];return{animation:t?"".concat(at(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(at(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},i=o.createElement(Zt,{toast:t}),l=o.createElement(en,qe({},t.ariaProps),wt(t.message,t));return o.createElement(Jt,{className:t.className,style:qe(qe(qe({},s),r),t.style)},"function"==typeof a?a({icon:i,message:l}):o.createElement(o.Fragment,null,i,l))});!function(e,t,n,r){Ze.p=t,tt=e,nt=n,rt=r}(o.createElement);var nn=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:s}=e,i=o.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return o.createElement("div",{ref:i,className:n,style:r},s)},rn=et(yt||(yt=Le(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),an=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:s,toasterId:i,containerStyle:l,containerClassName:u}=e,{toasts:c,handlers:d}=Rt(r,i);return o.createElement("div",{"data-rht-toaster":i||"",style:qe({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:u,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(e=>{let r=e.position||n,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return qe(qe({left:0,right:0,display:"flex",position:"absolute",transition:Ct()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return o.createElement(nn,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?rn:"",style:i},"custom"===e.type?wt(e.message,e):s?s(e):o.createElement(tn,{toast:e,position:r}))}))},sn=Tt;function on(e,t){return function(){return e.apply(t,arguments)}}const{toString:ln}=Object.prototype,{getPrototypeOf:un}=Object,{iterator:cn,toStringTag:dn}=Symbol,hn=(e=>t=>{const n=ln.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mn=e=>(e=e.toLowerCase(),t=>hn(t)===e),pn=e=>t=>typeof t===e,{isArray:fn}=Array,gn=pn("undefined");function bn(e){return null!==e&&!gn(e)&&null!==e.constructor&&!gn(e.constructor)&&vn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Dn=mn("ArrayBuffer");const xn=pn("string"),vn=pn("function"),yn=pn("number"),wn=e=>null!==e&&"object"===typeof e,En=e=>{if("object"!==hn(e))return!1;const t=un(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(dn in e)&&!(cn in e)},Cn=mn("Date"),Fn=mn("File"),An=mn("Blob"),kn=mn("FileList"),Nn=mn("URLSearchParams"),[jn,_n,Sn,Bn]=["ReadableStream","Request","Response","Headers"].map(mn);function Mn(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),fn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(bn(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(n=0;n<s;n++)i=r[n],t.call(null,e[i],i,e)}}function On(e,t){if(bn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Rn=e=>!gn(e)&&e!==Tn;const In=(Pn="undefined"!==typeof Uint8Array&&un(Uint8Array),e=>Pn&&e instanceof Pn);var Pn;const Ln=mn("HTMLFormElement"),zn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Un=mn("RegExp"),Wn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Mn(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const Hn=mn("AsyncFunction"),qn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Tn.addEventListener("message",e=>{let{source:t,data:a}=e;t===Tn&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Tn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,vn(Tn.postMessage)),Vn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Tn):"undefined"!==typeof process&&process.nextTick||qn,Kn={isArray:fn,isArrayBuffer:Dn,isBuffer:bn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||vn(e.append)&&("formdata"===(t=hn(e))||"object"===t&&vn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Dn(e.buffer),t},isString:xn,isNumber:yn,isBoolean:e=>!0===e||!1===e,isObject:wn,isPlainObject:En,isEmptyObject:e=>{if(!wn(e)||bn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ve){return!1}},isReadableStream:jn,isRequest:_n,isResponse:Sn,isHeaders:Bn,isUndefined:gn,isDate:Cn,isFile:Fn,isBlob:An,isRegExp:Un,isFunction:vn,isStream:e=>wn(e)&&vn(e.pipe),isURLSearchParams:Nn,isTypedArray:In,isFileList:kn,forEach:Mn,merge:function e(){const{caseless:t,skipUndefined:n}=Rn(this)&&this||{},r={},a=(a,s)=>{const i=t&&On(r,s)||s;En(r[i])&&En(a)?r[i]=e(r[i],a):En(a)?r[i]=e({},a):fn(a)?r[i]=a.slice():n&&gn(a)||(r[i]=a)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Mn(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Mn(t,(t,r)=>{n&&vn(t)?e[r]=on(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,i;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&un(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:hn,kindOfTest:mn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(fn(e))return e;let t=e.length;if(!yn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[cn]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ln,hasOwnProperty:zn,hasOwnProp:zn,reduceDescriptors:Wn,freezeMethods:e=>{Wn(e,(t,n)=>{if(vn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];vn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return fn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:On,global:Tn,isContextDefined:Rn,isSpecCompliantForm:function(e){return!!(e&&vn(e.append)&&"FormData"===e[dn]&&e[cn])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(wn(e)){if(t.indexOf(e)>=0)return;if(bn(e))return e;if(!("toJSON"in e)){t[r]=e;const a=fn(e)?[]:{};return Mn(e,(e,t)=>{const s=n(e,r+1);!gn(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Hn,isThenable:e=>e&&(wn(e)||vn(e))&&vn(e.then)&&vn(e.catch),setImmediate:qn,asap:Vn,isIterable:e=>null!=e&&vn(e[cn])};function Yn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Kn.inherits(Yn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Kn.toJSONObject(this.config),code:this.code,status:this.status}}});const Gn=Yn.prototype,$n={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$n[e]={value:e}}),Object.defineProperties(Yn,$n),Object.defineProperty(Gn,"isAxiosError",{value:!0}),Yn.from=(e,t,n,r,a,s)=>{const i=Object.create(Gn);Kn.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Yn.call(i,o,l,n,r,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const Zn=Yn;function Xn(e){return Kn.isPlainObject(e)||Kn.isArray(e)}function Qn(e){return Kn.endsWith(e,"[]")?e.slice(0,-2):e}function Jn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Qn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const er=Kn.toFlatObject(Kn,{},null,function(e){return/^is[A-Z]/.test(e)});const tr=function(e,t,n){if(!Kn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Kn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Kn.isUndefined(t[e])});const r=n.metaTokens,a=n.visitor||u,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Kn.isSpecCompliantForm(t);if(!Kn.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Kn.isDate(e))return e.toISOString();if(Kn.isBoolean(e))return e.toString();if(!o&&Kn.isBlob(e))throw new Zn("Blob is not supported. Use a Buffer instead.");return Kn.isArrayBuffer(e)||Kn.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(Kn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Kn.isArray(e)&&function(e){return Kn.isArray(e)&&!e.some(Xn)}(e)||(Kn.isFileList(e)||Kn.endsWith(n,"[]"))&&(o=Kn.toArray(e)))return n=Qn(n),o.forEach(function(e,r){!Kn.isUndefined(e)&&null!==e&&t.append(!0===i?Jn([n],r,s):null===i?n:n+"[]",l(e))}),!1;return!!Xn(e)||(t.append(Jn(a,n,s),l(e)),!1)}const c=[],d=Object.assign(er,{defaultVisitor:u,convertValue:l,isVisitable:Xn});if(!Kn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Kn.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Kn.forEach(n,function(n,s){!0===(!(Kn.isUndefined(n)||null===n)&&a.call(t,n,Kn.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])}),c.pop()}}(e),t};function nr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function rr(e,t){this._pairs=[],e&&tr(e,this,t)}const ar=rr.prototype;ar.append=function(e,t){this._pairs.push([e,t])},ar.toString=function(e){const t=e?function(t){return e.call(this,t,nr)}:nr;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const sr=rr;function ir(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function or(e,t,n){if(!t)return e;const r=n&&n.encode||ir;Kn.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):Kn.isURLSearchParams(t)?t.toString():new sr(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const lr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Kn.forEach(this.handlers,function(t){null!==t&&e(t)})}},ur={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:sr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},dr="undefined"!==typeof window&&"undefined"!==typeof document,hr="object"===typeof navigator&&navigator||void 0,mr=dr&&(!hr||["ReactNative","NativeScript","NS"].indexOf(hr.product)<0),pr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fr=dr&&window.location.href||"http://localhost",gr=qe(qe({},e),cr);const br=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&Kn.isArray(r)?r.length:s,o)return Kn.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&Kn.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&Kn.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(Kn.isFormData(e)&&Kn.isFunction(e.entries)){const n={};return Kn.forEachEntry(e,(e,r)=>{t(function(e){return Kn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Dr={transitional:ur,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Kn.isObject(e);a&&Kn.isHTMLForm(e)&&(e=new FormData(e));if(Kn.isFormData(e))return r?JSON.stringify(br(e)):e;if(Kn.isArrayBuffer(e)||Kn.isBuffer(e)||Kn.isStream(e)||Kn.isFile(e)||Kn.isBlob(e)||Kn.isReadableStream(e))return e;if(Kn.isArrayBufferView(e))return e.buffer;if(Kn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return tr(e,new gr.classes.URLSearchParams,qe({visitor:function(e,t,n,r){return gr.isNode&&Kn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Kn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return tr(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Kn.isString(e))try{return(t||JSON.parse)(e),Kn.trim(e)}catch(Ve){if("SyntaxError"!==Ve.name)throw Ve}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Dr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Kn.isResponse(e)||Kn.isReadableStream(e))return e;if(e&&Kn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Ve){if(n){if("SyntaxError"===Ve.name)throw Zn.from(Ve,Zn.ERR_BAD_RESPONSE,this,null,this.response);throw Ve}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Kn.forEach(["delete","get","head","post","put","patch"],e=>{Dr.headers[e]={}});const xr=Dr,vr=Kn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yr=Symbol("internals");function wr(e){return e&&String(e).trim().toLowerCase()}function Er(e){return!1===e||null==e?e:Kn.isArray(e)?e.map(Er):String(e)}function Cr(e,t,n,r,a){return Kn.isFunction(r)?r.call(this,t,n):(a&&(t=n),Kn.isString(t)?Kn.isString(r)?-1!==t.indexOf(r):Kn.isRegExp(r)?r.test(t):void 0:void 0)}class Fr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=wr(t);if(!a)throw new Error("header name must be a non-empty string");const s=Kn.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Er(e))}const s=(e,t)=>Kn.forEach(e,(e,n)=>a(e,n,t));if(Kn.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Kn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&vr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Kn.isObject(e)&&Kn.isIterable(e)){let n,r,a={};for(const t of e){if(!Kn.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Kn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=wr(e)){const n=Kn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Kn.isFunction(t))return t.call(this,e,n);if(Kn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wr(e)){const n=Kn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Cr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=wr(e)){const a=Kn.findKey(n,e);!a||t&&!Cr(0,n[a],a,t)||(delete n[a],r=!0)}}return Kn.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Cr(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Kn.forEach(this,(r,a)=>{const s=Kn.findKey(n,a);if(s)return t[s]=Er(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=Er(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Kn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Kn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[yr]=this[yr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=wr(e);t[r]||(!function(e,t){const n=Kn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Kn.isArray(e)?e.forEach(r):r(e),this}}Fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Kn.reduceDescriptors(Fr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Kn.freezeMethods(Fr);const Ar=Fr;function kr(e,t){const n=this||xr,r=t||n,a=Ar.from(r.headers);let s=r.data;return Kn.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Nr(e){return!(!e||!e.__CANCEL__)}function jr(e,t,n){Zn.call(this,null==e?"canceled":e,Zn.ERR_CANCELED,t,n),this.name="CanceledError"}Kn.inherits(jr,Zn,{__CANCEL__:!0});const _r=jr;function Sr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Zn("Request failed with status code "+n.status,[Zn.ERR_BAD_REQUEST,Zn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Br=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),u=r[i];a||(a=l),n[s]=o,r[s]=l;let c=i,d=0;for(;c!==s;)d+=n[c++],c%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const h=u&&l-u;return h?Math.round(1e3*d/h):void 0}};const Mr=function(e,t){let n,r,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];t>=s?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},s-t)))},()=>n&&i(n)]},Or=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Br(50,250);return Mr(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-r,l=a(o);r=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Tr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Rr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kn.asap(()=>e(...n))},Ir=gr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,gr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(gr.origin),gr.navigator&&/(msie|trident)/i.test(gr.navigator.userAgent)):()=>!0,Pr=gr.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const i=[e+"="+encodeURIComponent(t)];Kn.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Kn.isString(r)&&i.push("path="+r),Kn.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Lr(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const zr=e=>e instanceof Ar?qe({},e):e;function Ur(e,t){t=t||{};const n={};function r(e,t,n,r){return Kn.isPlainObject(e)&&Kn.isPlainObject(t)?Kn.merge.call({caseless:r},e,t):Kn.isPlainObject(t)?Kn.merge({},t):Kn.isArray(t)?t.slice():t}function a(e,t,n,a){return Kn.isUndefined(t)?Kn.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!Kn.isUndefined(t))return r(void 0,t)}function i(e,t){return Kn.isUndefined(t)?Kn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>a(zr(e),zr(t),0,!0)};return Kn.forEach(Object.keys(qe(qe({},e),t)),function(r){const s=l[r]||a,i=s(e[r],t[r],r);Kn.isUndefined(i)&&s!==o||(n[r]=i)}),n}const Wr=e=>{const t=Ur({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=Ar.from(i),t.url=or(Lr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Kn.isFormData(n))if(gr.hasStandardBrowserEnv||gr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Kn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(gr.hasStandardBrowserEnv&&(r&&Kn.isFunction(r)&&(r=r(t)),r||!1!==r&&Ir(t.url))){const e=a&&s&&Pr.read(s);e&&i.set(a,e)}return t},Hr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Wr(e);let a=r.data;const s=Ar.from(r.headers).normalize();let i,o,l,u,c,{responseType:d,onUploadProgress:h,onDownloadProgress:m}=r;function p(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Ar.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Sr(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Zn("Request aborted",Zn.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Zn(r,Zn.ERR_NETWORK,e,f);a.event=t||null,n(a),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||ur;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Zn(t,a.clarifyTimeoutError?Zn.ETIMEDOUT:Zn.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&Kn.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Kn.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),d&&"json"!==d&&(f.responseType=r.responseType),m&&([l,c]=Or(m,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,u]=Or(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(i=t=>{f&&(n(!t||t.type?new _r(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===gr.protocols.indexOf(b)?n(new Zn("Unsupported protocol "+b+":",Zn.ERR_BAD_REQUEST,e)):f.send(a||null)})},qr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Zn?t:new _r(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Zn("timeout ".concat(t," of ms exceeded"),Zn.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>Kn.asap(i),o}};function Vr(e,t){this.v=e,this.k=t}function Kr(e){return function(){return new Yr(e.apply(this,arguments))}}function Yr(e){var t,n;function r(t,n){try{var s=e[t](n),i=s.value,o=i instanceof Vr;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Gr(e){return new Vr(e,0)}function $r(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Vr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Zr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Xr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Xr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Xr=function(e){this.s=e,this.n=e.next},Xr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Xr(e)}Yr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Yr.prototype.next=function(e){return this._invoke("next",e)},Yr.prototype.throw=function(e){return this._invoke("throw",e)},Yr.prototype.return=function(e){return this._invoke("return",e)};const Qr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Jr=function(){var e=Kr(function*(e,t){var n,r=!1,a=!1;try{for(var s,i=Zr(ea(e));r=!(s=yield Gr(i.next())).done;r=!1){const e=s.value;yield*$r(Zr(Qr(e,t)))}}catch(o){a=!0,n=o}finally{try{r&&null!=i.return&&(yield Gr(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),ea=function(){var e=Kr(function*(e){if(e[Symbol.asyncIterator])return void(yield*$r(Zr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Gr(t.read());if(e)break;yield n}}finally{yield Gr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ta=(e,t,n,r)=>{const a=Jr(e,t);let s,i=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:na}=Kn,ra=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Kn.global),{ReadableStream:aa,TextEncoder:sa}=Kn.global,ia=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Ve){return!1}},oa=e=>{e=Kn.merge.call({skipUndefined:!0},ra,e);const{fetch:t,Request:n,Response:r}=e,a=t?na(t):"function"===typeof fetch,s=na(n),i=na(r);if(!a)return!1;const o=a&&na(aa),l=a&&("function"===typeof sa?(u=new sa,e=>u.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var u;const c=s&&o&&ia(()=>{let e=!1;const t=new n(gr.origin,{body:new aa,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&o&&ia(()=>Kn.isReadableStream(new r("").body)),h={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Zn("Response type '".concat(e,"' is not supported"),Zn.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=Kn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Kn.isBlob(e))return e.size;if(Kn.isSpecCompliantForm(e)){const t=new n(gr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Kn.isArrayBufferView(e)||Kn.isArrayBuffer(e)?e.byteLength:(Kn.isURLSearchParams(e)&&(e+=""),Kn.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:i,data:o,signal:l,cancelToken:u,timeout:p,onDownloadProgress:f,onUploadProgress:g,responseType:b,headers:D,withCredentials:x="same-origin",fetchOptions:v}=Wr(e),y=t||fetch;b=b?(b+"").toLowerCase():"text";let w=qr([l,u&&u.toAbortSignal()],p),E=null;const C=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let F;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(F=await m(D,o))){let e,t=new n(a,{method:"POST",body:o,duplex:"half"});if(Kn.isFormData(o)&&(e=t.headers.get("content-type"))&&D.setContentType(e),t.body){const[e,n]=Tr(F,Or(Rr(g)));o=ta(t.body,65536,e,n)}}Kn.isString(x)||(x=x?"include":"omit");const t=s&&"credentials"in n.prototype,l=qe(qe({},v),{},{signal:w,method:i.toUpperCase(),headers:D.normalize().toJSON(),body:o,duplex:"half",credentials:t?x:void 0});E=s&&new n(a,l);let u=await(s?y(E,v):y(a,l));const p=d&&("stream"===b||"response"===b);if(d&&(f||p&&C)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=u[t]});const t=Kn.toFiniteNumber(u.headers.get("content-length")),[n,a]=f&&Tr(t,Or(Rr(f),!0))||[];u=new r(ta(u.body,65536,n,()=>{a&&a(),C&&C()}),e)}b=b||"text";let A=await h[Kn.findKey(h,b)||"text"](u,e);return!p&&C&&C(),await new Promise((t,n)=>{Sr(t,n,{data:A,headers:Ar.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:E})})}catch(A){if(C&&C(),A&&"TypeError"===A.name&&/Load failed|fetch/i.test(A.message))throw Object.assign(new Zn("Network Error",Zn.ERR_NETWORK,e,E),{cause:A.cause||A});throw Zn.from(A,A&&A.code,e,E)}}},la=new Map,ua=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let i,o,l=s.length,u=la;for(;l--;)i=s[l],o=u.get(i),void 0===o&&u.set(i,o=l?new Map:oa(t)),u=o;return o},ca=(ua(),{http:null,xhr:Hr,fetch:{get:ua}});Kn.forEach(ca,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ve){}Object.defineProperty(e,"adapterName",{value:t})}});const da=e=>"- ".concat(e),ha=e=>Kn.isFunction(e)||null===e||!1===e,ma=(e,t)=>{e=Kn.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let i=0;i<n;i++){let n;if(r=e[i],a=r,!ha(r)&&(a=ca[(n=String(r)).toLowerCase()],void 0===a))throw new Zn("Unknown adapter '".concat(n,"'"));if(a&&(Kn.isFunction(a)||(a=a.get(t))))break;s[n||"#"+i]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(da).join("\n"):" "+da(e[0]):"as no adapter specified";throw new Zn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function pa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _r(null,e)}function fa(e){pa(e),e.headers=Ar.from(e.headers),e.data=kr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ma(e.adapter||xr.adapter,e)(e).then(function(t){return pa(e),t.data=kr.call(e,e.transformResponse,t),t.headers=Ar.from(t.headers),t},function(t){return Nr(t)||(pa(e),t&&t.response&&(t.response.data=kr.call(e,e.transformResponse,t.response),t.response.headers=Ar.from(t.response.headers))),Promise.reject(t)})}const ga="1.12.2",ba={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ba[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Da={};ba.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ga+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Zn(r(a," has been removed"+(t?" in "+t:"")),Zn.ERR_DEPRECATED);return t&&!Da[a]&&(Da[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},ba.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const xa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Zn("options must be an object",Zn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new Zn("option "+s+" must be "+n,Zn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Zn("Unknown option "+s,Zn.ERR_BAD_OPTION)}},validators:ba},va=xa.validators;class ya{constructor(e){this.defaults=e||{},this.interceptors={request:new lr,response:new lr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ve){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ur(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&xa.assertOptions(n,{silentJSONParsing:va.transitional(va.boolean),forcedJSONParsing:va.transitional(va.boolean),clarifyTimeoutError:va.transitional(va.boolean)},!1),null!=r&&(Kn.isFunction(r)?t.paramsSerializer={serialize:r}:xa.assertOptions(r,{encode:va.function,serialize:va.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xa.assertOptions(t,{baseUrl:va.spelling("baseURL"),withXsrfToken:va.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Kn.merge(a.common,a[t.method]);a&&Kn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Ar.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let u;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,d=0;if(!o){const e=[fa.bind(this),void 0];for(e.unshift(...i),e.push(...l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=i.length;let h=t;for(;d<c;){const e=i[d++],t=i[d++];try{h=e(h)}catch(m){t.call(this,m);break}}try{u=fa.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return or(Lr((e=Ur(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Kn.forEach(["delete","get","head","options"],function(e){ya.prototype[e]=function(t,n){return this.request(Ur(n||{},{method:e,url:t,data:(n||{}).data}))}}),Kn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Ur(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ya.prototype[e]=t(),ya.prototype[e+"Form"]=t(!0)});const wa=ya;class Ea{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new _r(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Ea(function(t){e=t});return{token:t,cancel:e}}}const Ca=Ea;const Fa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fa).forEach(e=>{let[t,n]=e;Fa[n]=t});const Aa=Fa;const ka=function e(t){const n=new wa(t),r=on(wa.prototype.request,n);return Kn.extend(r,wa.prototype,n,{allOwnKeys:!0}),Kn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ur(t,n))},r}(xr);ka.Axios=wa,ka.CanceledError=_r,ka.CancelToken=Ca,ka.isCancel=Nr,ka.VERSION=ga,ka.toFormData=tr,ka.AxiosError=Zn,ka.Cancel=ka.CanceledError,ka.all=function(e){return Promise.all(e)},ka.spread=function(e){return function(t){return e.apply(null,t)}},ka.isAxiosError=function(e){return Kn.isObject(e)&&!0===e.isAxiosError},ka.mergeConfig=Ur,ka.AxiosHeaders=Ar,ka.formToJSON=e=>br(Kn.isHTMLForm(e)?new FormData(e):e),ka.getAdapter=ma,ka.HttpStatusCode=Aa,ka.default=ka;const Na=ka,ja=Na.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});ja.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));const _a=["/messages/unread-count","/notifications/unread-count"];ja.interceptors.response.use(e=>e,async e=>{var t,n,r;const a=_a.some(t=>{var n,r;return null===(n=e.config)||void 0===n||null===(r=n.url)||void 0===r?void 0:r.includes(t)});if(a&&!e.response)return Promise.reject(e);var s,i,o,l;!e.response&&a||console.error("API Error:",{url:null===(s=e.config)||void 0===s?void 0:s.url,method:null===(i=e.config)||void 0===i?void 0:i.method,status:null===(o=e.response)||void 0===o?void 0:o.status,data:null===(l=e.response)||void 0===l?void 0:l.data,message:e.message});const u=!e.response&&((null===(t=e.message)||void 0===t?void 0:t.includes("ERR_INTERNET_DISCONNECTED"))||(null===(n=e.message)||void 0===n?void 0:n.includes("ERR_NETWORK_CHANGED"))||(null===(r=e.message)||void 0===r?void 0:r.includes("Network Error")));if(u&&!e.config.__retryCount&&(e.config.__retryCount=0),u&&e.config.__retryCount<3){e.config.__retryCount+=1;const t=1e3*Math.pow(2,e.config.__retryCount-1);return await new Promise(e=>setTimeout(e,t)),ja.request(e.config)}return Promise.reject(e)});const Sa=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"employee";return ja.post("/auth/register",{name:e,email:t,password:n,role:r})},Ba=()=>ja.get("/admin/users"),Ma=ja;var Oa=n(4414);const Ta=(0,o.createContext)(),Ra=(e,t)=>{switch(t.type){case"LOGIN":return qe(qe({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,loading:!1});case"LOGOUT":case"USER_ERROR":return qe(qe({},e),{},{user:null,token:null,isAuthenticated:!1,loading:!1});case"LOAD_USER":return qe(qe({},e),{},{user:t.payload,isAuthenticated:!0,loading:!1});case"SET_LOADING":return qe(qe({},e),{},{loading:t.payload});default:return e}},Ia=e=>{let{children:t}=e;const n=localStorage.getItem("token"),r={user:null,token:n,isAuthenticated:!!n,loading:!!n},[a,s]=(0,o.useReducer)(Ra,r);(0,o.useEffect)(()=>{(async()=>{if(a.token){s({type:"SET_LOADING",payload:!0});try{const e=await ja.get("/auth/user");e&&e.data?s({type:"LOAD_USER",payload:e.data}):(console.error("Invalid response from getUser"),s({type:"USER_ERROR"}),localStorage.removeItem("token"))}catch(e){console.error("Error loading user:",e),console.log("Authentication error, logging out"),s({type:"USER_ERROR"}),localStorage.removeItem("token")}}else s({type:"SET_LOADING",payload:!1})})()},[a.token]);const i=e=>{var t;return!(null===(t=a.user)||void 0===t||!t.role)&&(Array.isArray(e)?e.includes(a.user.role):a.user.role===e)};return(0,Oa.jsx)(Ta.Provider,{value:{state:a,user:a.user,token:a.token,isAuthenticated:a.isAuthenticated,loading:a.loading,login:(e,t)=>{localStorage.setItem("token",e),s({type:"LOGIN",payload:{token:e,user:t}})},logout:()=>{localStorage.removeItem("token"),s({type:"LOGOUT"})},hasRole:i,canAssignTasks:()=>i(["admin","superadmin"]),canManageUsers:()=>i(["admin","superadmin"]),isEmployee:()=>i("employee")},children:t})},Pa=()=>(0,o.useContext)(Ta),La={de:{"app.loading":"System wird geladen\u2026","app.toast.default":"Aktion erfolgreich ausgef\xfchrt","app.toast.error":"Etwas ist schiefgelaufen","app.refresh":"Aktualisieren","app.date.today":"Heute","navigation.dashboard":"\xdcbersicht","navigation.messages":"Messenger","navigation.kanban":"Aufgabenboard","navigation.tasks":"Aufgaben","navigation.schedule":"Planung","navigation.waste":"Entsorgung","navigation.kisten":"Kistenmanagement","navigation.knowledge":"Wissensdatenbank","navigation.users":"Benutzer","navigation.admin":"Admin","navigation.logout":"Abmelden","roles.superadmin":"Superadmin","roles.admin":"Administrator","roles.employee":"Mitarbeiter","board.title":"Unified Task Board","board.subtitle.today":"Heute im Fokus: Was muss sofort passieren?","board.subtitle.date":"Planung f\xfcr {{date}}","board.metrics.backlog":"Backlog","board.metrics.pool":"Task Pool","board.metrics.active":"Aktiv","board.metrics.help":"Braucht Hilfe","board.metrics.completed":"Abgeschlossen","board.column.backlog":"Ideen & Backlog","board.column.backlog.desc":"Noch nicht im heutigen Task Pool, bereit zur Planung","board.column.pool":"Task Pool","board.column.pool.desc":"Offene Aufgaben, die sofort \xfcbernommen werden k\xf6nnen","board.column.progress":"In Arbeit","board.column.progress.desc":"Aktive Aufgaben, die einem Teammitglied geh\xf6ren","board.column.done":"Erledigt","board.column.done.desc":"Gratulation \u2013 sauber abgeschlossen","board.task.priority.urgent":"Dringend","board.task.priority.high":"Hoch","board.task.priority.medium":"Mittel","board.task.priority.low":"Niedrig","board.task.assign.muted":"Nur Administratoren k\xf6nnen Aufgaben in den Pool schieben.","board.task.assign":"In Pool aufnehmen","board.task.claim":"Ich \xfcbernehme das","board.task.complete":"Als erledigt markieren","board.task.mine":"Mir zugewiesen","board.task.help":"Hilfe angefragt \u2013 bitte unterst\xfctzen!","board.task.updated":"Aktualisiert {{date}}","board.task.assignedTo":"Zugewiesen an {{name}}","board.task.claimedBy":"In Arbeit von {{name}}","board.task.estimated":"{{hours}} Std","board.actions.publish.success":"Aufgabe in den heutigen Pool verschoben","board.actions.publish.error":"Aufgabe konnte nicht in den Pool verschoben werden.","board.actions.claim.success":"Aufgabe \xfcbernommen!","board.actions.claim.error":"Fehler beim \xdcbernehmen der Aufgabe.","board.actions.complete.success":"Aufgabe abgeschlossen \u2013 stark!","board.actions.complete.error":"Fehler beim Abschlie\xdfen der Aufgabe.","board.actions.missingPool":"Aufgabe kann nicht verarbeitet werden \u2013 keine Pool-ID gefunden.","board.actions.notAllowed":"Diese Umsortierung ist momentan nicht erlaubt.","board.empty":"Noch keine Aufgaben hier \u2013 schnapp dir etwas!","board.help.adminOnly":"Nur Administratoren k\xf6nnen Aufgaben in den Pool schieben.","board.error.load":"Fehler beim Laden des Task Boards","board.error.title":"Ladeproblem","messenger.title":"Team Messenger","messenger.search.placeholder":"Kontakte oder Konversationen durchsuchen\u2026","messenger.input.placeholder":"Nachricht schreiben\u2026","messenger.actions.send":"Senden","messenger.actions.record":"Audio aufnehmen","messenger.actions.recordStart":"Aufnahme starten","messenger.actions.recordStop":"Aufnahme stoppen","messenger.actions.recording":"Aufnahme l\xe4uft","messenger.actions.attach":"Datei anh\xe4ngen","messenger.actions.createGroup":"Neue Gruppe","messenger.actions.createTopic":"Neue Diskussion","messenger.group.name":"Name der Gruppe","messenger.group.topic":"Thema oder Zweck","messenger.group.placeholder":"z.\u202fB. Fr\xfchschicht Labor C","messenger.topic.placeholder":"z.\u202fB. Wochenplanung Logistik","messenger.group.members":"Teilnehmer ausw\xe4hlen","messenger.group.create":"Konversation erstellen","messenger.group.cancel":"Abbrechen","messenger.group.tempFlag":"Konversation nach Abschluss automatisch archivieren","messenger.group.expire.label":"Automatisch archivieren am","messenger.empty.select":"W\xe4hle eine Konversation aus, um Nachrichten zu sehen.","messenger.empty.noMessages":"Keine Nachrichten vorhanden. Schreibe die erste Nachricht!","messenger.mobile.back":"Zur\xfcck","messenger.mobile.openSidebar":"Konversationen","messenger.error.loadThreads":"Konversationen konnten nicht geladen werden.","messenger.error.loadMessages":"Nachrichten konnten nicht geladen werden.","messenger.error.send":"Nachricht konnte nicht gesendet werden.","messenger.success.threadCreated":"Konversation erstellt.","messenger.success.membersAdded":"Teilnehmer erfolgreich hinzugef\xfcgt.","messenger.thread.group":"Gruppe","messenger.thread.topic":"Thema","messenger.thread.direct":"Direkt","messenger.thread.members":"{{count}} Teilnehmer","messenger.thread.unread":"{{count}} ungelesen","messenger.thread.typing":"{{name}} schreibt\u2026","messenger.thread.online":"{{count}} online","mobile.nav.toggle":"Navigation ein-/ausblenden","mobile.nav.label":"Navigation","mobile.nav.open":"Men\xfc \xf6ffnen","mobile.nav.close":"Men\xfc schlie\xdfen","mobile.quickActions.title":"Schnellzugriffe","mobile.quickActions.tasks":"Aufgaben","mobile.quickActions.schedule":"Kalender","mobile.quickActions.messages":"Nachrichten","mobile.quickActions.profile":"Profil","common.close":"Schlie\xdfen","common.save":"Speichern","common.create":"Erstellen","common.cancel":"Abbrechen","common.delete":"L\xf6schen","common.edit":"Bearbeiten","common.confirm":"Best\xe4tigen","common.optional":"optional"}},za=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(La[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"de"]||La.de)[e]||La.de[e];return n&&"string"===typeof n?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/\{\{\s*(\w+)\s*\}\}/g,(e,n)=>Object.prototype.hasOwnProperty.call(t,n)?t[n]:"{{".concat(n,"}}"))}(n,t):e},Ua=Object.keys(La),Wa=(0,o.createContext)({locale:"de",setLocale:()=>{},t:e=>e}),Ha=e=>{let{children:t,defaultLocale:n="de"}=e;const[r,a]=(0,o.useState)(()=>{const e="undefined"!==typeof window?localStorage.getItem("locale"):null;return e&&Ua.includes(e)?e:n});(0,o.useEffect)(()=>{"undefined"!==typeof document&&(document.documentElement.lang=r),"undefined"!==typeof window&&localStorage.setItem("locale",r)},[r]);const s=(0,o.useCallback)(function(e){return za(e,r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},[r]),i=(0,o.useMemo)(()=>({locale:r,setLocale:a,t:s}),[r,s]);return(0,Oa.jsx)(Wa.Provider,{value:i,children:t})},qa=()=>(0,o.useContext)(Wa);class Va extends o.Component{constructor(e){super(e),this.logErrorToService=(e,t)=>{console.error("Error logged:",{error:e.toString(),componentStack:t.componentStack,timestamp:(new Date).toISOString()})},this.handleReset=()=>{sessionStorage.removeItem("lastError"),localStorage.removeItem("errorCount"),this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/dashboard"},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState(n=>({error:e,errorInfo:t,errorCount:n.errorCount+1}));try{sessionStorage.setItem("lastError",JSON.stringify({message:(null===e||void 0===e?void 0:e.message)||"Unknown error",stack:(null===e||void 0===e?void 0:e.stack)||"",componentStack:(null===t||void 0===t?void 0:t.componentStack)||"",timestamp:(new Date).toISOString()}))}catch(Ve){console.error("Failed to save error to sessionStorage",Ve)}this.logErrorToService(e,t)}render(){return this.state.hasError?(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:(0,Oa.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)("div",{className:"mb-6",children:(0,Oa.jsx)("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center",children:(0,Oa.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),(0,Oa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Oops! Etwas ist schief gelaufen"}),(0,Oa.jsx)("p",{className:"text-gray-600 mb-6",children:"Die Anwendung ist auf einen unerwarteten Fehler gesto\xdfen."}),this.state.error&&(0,Oa.jsx)("div",{className:"mb-6 text-left",children:(0,Oa.jsxs)("details",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-4",open:!0,children:[(0,Oa.jsx)("summary",{className:"cursor-pointer font-bold text-red-800 mb-3 text-lg",children:"\u26a0\ufe0f CRITICAL ERROR DETAILS"}),(0,Oa.jsxs)("div",{className:"mt-3 space-y-4",children:[(0,Oa.jsxs)("div",{className:"bg-white p-4 rounded border-2 border-red-200",children:[(0,Oa.jsx)("p",{className:"font-semibold text-gray-700 mb-2",children:"Error Message:"}),(0,Oa.jsx)("p",{className:"font-mono text-sm text-red-700 break-all whitespace-pre-wrap",children:this.state.error.toString()})]}),this.state.error.stack&&(0,Oa.jsxs)("div",{className:"bg-white p-4 rounded border-2 border-red-200",children:[(0,Oa.jsx)("p",{className:"font-semibold text-gray-700 mb-2",children:"Stack Trace:"}),(0,Oa.jsx)("pre",{className:"text-xs text-gray-700 overflow-auto max-h-48 whitespace-pre-wrap break-all",children:this.state.error.stack})]}),this.state.errorInfo&&(0,Oa.jsxs)("div",{className:"bg-white p-4 rounded border-2 border-red-200",children:[(0,Oa.jsx)("p",{className:"font-semibold text-gray-700 mb-2",children:"Component Stack:"}),(0,Oa.jsx)("pre",{className:"text-xs text-gray-700 overflow-auto max-h-48 whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]})]})]})}),(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Oa.jsx)("button",{onClick:this.handleReset,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Nochmal versuchen"}),(0,Oa.jsx)("button",{onClick:this.handleReload,className:"px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Seite neu laden"})]}),!1]}),(0,Oa.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500",children:[(0,Oa.jsx)("p",{className:"mb-2",children:"Wenn das Problem weiterhin besteht:"}),(0,Oa.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-left max-w-md mx-auto",children:[(0,Oa.jsx)("li",{children:"Versuchen Sie, die Seite neu zu laden"}),(0,Oa.jsx)("li",{children:"L\xf6schen Sie Ihren Browser-Cache"}),(0,Oa.jsx)("li",{children:"Kontaktieren Sie den Administrator"})]})]})]})}):this.props.children}}const Ka=Va,Ya="user",Ga="employee",$a="admin",Za="superadmin",Xa="observer",Qa={"schedule:read":[Ya,Ga,$a,Za,Xa],"schedule:create":[Ga,$a,Za],"schedule:update":[Ga,$a,Za],"schedule:delete":[$a,Za],"schedule:manage":[$a,Za],"message:read":[Ya,Ga,$a,Za,Xa],"message:send":[Ya,Ga,$a,Za,Xa],"message:delete":[$a,Za],"waste:read":[Ga,$a,Za,Xa],"waste:create":[Ga,$a,Za],"waste:update":[Ga,$a,Za],"waste:delete":[$a,Za],"task:read":[Ya,Ga,$a,Za,Xa],"task:create":[Ga,$a,Za],"task:update":[Ga,$a,Za],"task:delete":[$a,Za],"task:assign":[$a,Za],"user:read":[$a,Za],"user:create":[$a,Za],"user:update":[$a,Za],"user:delete":[Za],"user:role":[Za],"template:read":[Ga,$a,Za],"template:create":[$a,Za],"template:update":[$a,Za],"template:delete":[Za],"system:settings":[Za],"system:logs":[$a,Za]},Ja=()=>{const e=Pa(),t=null===e||void 0===e?void 0:e.user,n=e=>{if(!t||!t.role)return!1;const n=Qa[e];return n?n.includes(t.role):(console.warn("Unknown permission: ".concat(e)),!1)},r=function(){if(!t||!t.role)return!1;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.includes(t.role)},a=()=>r($a,Za);return{hasPermission:n,hasAllPermissions:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>n(e))},hasAnyPermission:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.some(e=>n(e))},hasRole:r,isAdmin:a,isSuperAdmin:()=>r(Za),isEmployee:()=>r(Ga,$a,Za),ownsResource:e=>!!t&&(!!a()||t.id===e),userRole:null===t||void 0===t?void 0:t.role}},es=Ja;function ts(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function ns(e,t){if(null==e)return{};var n,r,a=ts(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const rs=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),as=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ss=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var is={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const os=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ls=(0,o.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:u}=e,c=ns(e,os);return(0,o.createElement)("svg",qe(qe(qe({ref:t},is),{},{width:r,height:r,stroke:n,strokeWidth:s?24*Number(a)/Number(r):a,className:ss("lucide",i)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"}),c),[...u.map(e=>{let[t,n]=e;return(0,o.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),us=["className"],cs=(e,t)=>{const n=(0,o.forwardRef)((n,r)=>{let{className:a}=n,s=ns(n,us);return(0,o.createElement)(ls,qe({ref:r,iconNode:t,className:ss("lucide-".concat(rs(as(e))),"lucide-".concat(e),a)},s))});return n.displayName=as(e),n},ds=cs("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),hs=cs("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),ms=cs("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),ps=cs("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),fs=cs("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),gs=cs("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),bs=cs("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ds=cs("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),xs=cs("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),vs=cs("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var ys={};function ws(){return ys}function Es(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Cs(e){Es(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===ze(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Fs(e,t){Es(2,arguments);var n=Cs(e),r=Cs(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function As(e){Es(1,arguments);var t=Cs(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ks(e){Es(1,arguments);var t=Cs(e);return function(e){Es(1,arguments);var t=Cs(e);return t.setHours(23,59,59,999),t}(t).getTime()===As(t).getTime()}function Ns(e,t){Es(2,arguments);var n,r=Cs(e),a=Cs(t),s=Fs(r,a),i=Math.abs(function(e,t){Es(2,arguments);var n=Cs(e),r=Cs(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,a));if(i<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);var o=Fs(r,a)===-s;ks(Cs(e))&&1===i&&1===Fs(e,a)&&(o=!1),n=s*(i-Number(o))}return 0===n?0:n}function js(e,t){return Es(2,arguments),Cs(e).getTime()-Cs(t).getTime()}var _s={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Ss(e){return e?_s[e]:_s.trunc}var Bs={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Ms=function(e,t,n){var r,a=Bs[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Os(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ts={date:Os({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Os({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Os({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Rs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Is=function(e,t,n,r){return Rs[e]};function Ps(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):a;r=e.formattingValues[s]||e.formattingValues[a]}else{var i=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[i]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var Ls={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Ps({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ps({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ps({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ps({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ps({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const zs=Ls;function Us(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var i,o=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(o)});return i=e.valueCallback?e.valueCallback(u):u,{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(o.length)}}}function Ws(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],s=t.match(e.parsePattern);if(!s)return null;var i=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(a.length)}}}var Hs={ordinalNumber:Ws({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Us({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Us({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Us({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Us({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Us({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const qs={code:"en-US",formatDistance:Ms,formatLong:Ts,formatRelative:Is,localize:zs,match:Hs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vs(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ks(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Ys=43200;function Gs(e,t,n){var r,a;Es(2,arguments);var s=ws(),i=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:s.locale)&&void 0!==r?r:qs;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Fs(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l,u,c=Vs(Vs({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:o});o>0?(l=Cs(t),u=Cs(e)):(l=Cs(e),u=Cs(t));var d,h=function(e,t,n){Es(2,arguments);var r=js(e,t)/1e3;return Ss(null===n||void 0===n?void 0:n.roundingMethod)(r)}(u,l),m=(Ks(u)-Ks(l))/1e3,p=Math.round((h-m)/60);if(p<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,c):h<10?i.formatDistance("lessThanXSeconds",10,c):h<20?i.formatDistance("lessThanXSeconds",20,c):h<40?i.formatDistance("halfAMinute",0,c):h<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):0===p?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",p,c);if(p<45)return i.formatDistance("xMinutes",p,c);if(p<90)return i.formatDistance("aboutXHours",1,c);if(p<1440){var f=Math.round(p/60);return i.formatDistance("aboutXHours",f,c)}if(p<2520)return i.formatDistance("xDays",1,c);if(p<Ys){var g=Math.round(p/1440);return i.formatDistance("xDays",g,c)}if(p<86400)return d=Math.round(p/Ys),i.formatDistance("aboutXMonths",d,c);if((d=Ns(u,l))<12){var b=Math.round(p/Ys);return i.formatDistance("xMonths",b,c)}var D=d%12,x=Math.floor(d/12);return D<3?i.formatDistance("aboutXYears",x,c):D<9?i.formatDistance("overXYears",x,c):i.formatDistance("almostXYears",x+1,c)}function $s(e,t){return Es(1,arguments),Gs(e,Date.now(),t)}var Zs={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"halbe Minute",withPreposition:"halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}};const Xs=function(e,t,n){var r,a=null!==n&&void 0!==n&&n.addSuffix?Zs[e].withPreposition:Zs[e].standalone;return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r};const Qs={date:Os({formats:{full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:Os({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Os({formats:{full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var Js={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"};const ei=function(e,t,n,r){return Js[e]};var ti={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},ni={narrow:ti.narrow,abbreviated:["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:ti.wide};const ri={ordinalNumber:function(e){return Number(e)+"."},era:Ps({values:{narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},defaultWidth:"wide"}),quarter:Ps({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ps({values:ti,formattingValues:ni,defaultWidth:"wide"}),day:Ps({values:{narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},defaultWidth:"wide"}),dayPeriod:Ps({values:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},defaultWidth:"wide",formattingValues:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},defaultFormattingWidth:"wide"})};var ai={ordinalNumber:Ws({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:Us({matchPatterns:{narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^v/i,/^n/i]},defaultParseWidth:"any"}),quarter:Us({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Us({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(j[a\xe4]n|feb|m\xe4r[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|m\xe4rz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a\xe4]/i,/^f/i,/^m\xe4r/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Us({matchPatterns:{narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Us({matchPatterns:{narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},defaultParseWidth:"any"})};const si={code:"de",formatDistance:Xs,formatLong:Qs,formatRelative:ei,localize:ri,match:ai,options:{weekStartsOn:1,firstWeekContainsDate:4}},ii=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)("portrait");return(0,o.useEffect)(()=>{const e=()=>{const e=window.innerWidth;t(e<=1023),r(e>=768&&e<1024),s(window.innerHeight>window.innerWidth?"portrait":"landscape")};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),{isMobile:e,isTablet:n,isDesktop:!e&&!n,orientation:a}},oi=Object.create(null);oi.open="0",oi.close="1",oi.ping="2",oi.pong="3",oi.message="4",oi.upgrade="5",oi.noop="6";const li=Object.create(null);Object.keys(oi).forEach(e=>{li[oi[e]]=e});const ui={type:"error",data:"parser error"},ci="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),di="function"===typeof ArrayBuffer,hi=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,mi=(e,t,n)=>{let{type:r,data:a}=e;return ci&&a instanceof Blob?t?n(a):pi(a,n):di&&(a instanceof ArrayBuffer||hi(a))?t?n(a):pi(new Blob([a]),n):n(oi[r]+(a||""))},pi=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function fi(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let gi;const bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Di="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Di[bi.charCodeAt(n)]=n;const xi="function"===typeof ArrayBuffer,vi=(e,t)=>{if("string"!==typeof e)return{type:"message",data:wi(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:yi(e.substring(1),t)};return li[n]?e.length>1?{type:li[n],data:e.substring(1)}:{type:li[n]}:ui},yi=(e,t)=>{if(xi){const n=(e=>{let t,n,r,a,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const u=new ArrayBuffer(i),c=new Uint8Array(u);for(t=0;t<o;t+=4)n=Di[e.charCodeAt(t)],r=Di[e.charCodeAt(t+1)],a=Di[e.charCodeAt(t+2)],s=Di[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|a>>2,c[l++]=(3&a)<<6|63&s;return u})(e);return wi(n,t)}return{base64:!0,data:e}},wi=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Ei=String.fromCharCode(30);function Ci(){return new TransformStream({transform(e,t){!function(e,t){ci&&e.data instanceof Blob?e.data.arrayBuffer().then(fi).then(t):di&&(e.data instanceof ArrayBuffer||hi(e.data))?t(fi(e.data)):mi(e,!1,e=>{gi||(gi=new TextEncoder),t(gi.encode(e))})}(e,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Fi;function Ai(e){return e.reduce((e,t)=>e+t.length,0)}function ki(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Ni(e){if(e)return function(e){for(var t in Ni.prototype)e[t]=Ni.prototype[t];return e}(e)}Ni.prototype.on=Ni.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Ni.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Ni.prototype.off=Ni.prototype.removeListener=Ni.prototype.removeAllListeners=Ni.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Ni.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},Ni.prototype.emitReserved=Ni.prototype.emit,Ni.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Ni.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ji="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),_i="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const Bi=_i.setTimeout,Mi=_i.clearTimeout;function Oi(e,t){t.useNativeTimers?(e.setTimeoutFn=Bi.bind(_i),e.clearTimeoutFn=Mi.bind(_i)):(e.setTimeoutFn=_i.setTimeout.bind(_i),e.clearTimeoutFn=_i.clearTimeout.bind(_i))}function Ti(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Ri(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ii extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Pi extends Ni{constructor(e){super(),this.writable=!1,Oi(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Ii(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=vi(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Li extends Pi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Ei),r=[];for(let a=0;a<n.length;a++){const e=vi(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach((e,s)=>{mi(e,!1,e=>{r[s]=e,++a===n&&t(r.join(Ei))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ri()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let zi=!1;try{zi="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(BM){}const Ui=zi;function Wi(){}class Hi extends Li{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class qi extends Ni{constructor(e,t,n){super(),this.createRequest=e,Oi(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=Si(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Ve){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Ve){}try{n.setRequestHeader("Accept","*/*")}catch(Ve){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(Ve){return void this.setTimeoutFn(()=>{this._onError(Ve)},0)}"undefined"!==typeof document&&(this._index=qi.requestsCount++,qi.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Wi,e)try{this._xhr.abort()}catch(Ve){}"undefined"!==typeof document&&delete qi.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(qi.requestsCount=0,qi.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Vi);else if("function"===typeof addEventListener){addEventListener("onpagehide"in _i?"pagehide":"unload",Vi,!1)}function Vi(){for(let e in qi.requests)qi.requests.hasOwnProperty(e)&&qi.requests[e].abort()}const Ki=function(){const e=Yi({xdomain:!1});return e&&null!==e.responseType}();function Yi(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Ui))return new XMLHttpRequest}catch(Ve){}if(!t)try{return new(_i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Ve){}}const Gi="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class $i extends Pi{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Gi?{}:Si(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(BM){return this.emitReserved("error",BM)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;mi(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(Ve){}r&&ji(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ri()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Zi=_i.WebSocket||_i.MozWebSocket;const Xi={websocket:class extends $i{createSocket(e,t,n){return Gi?new Zi(e,t,n):t?new Zi(e,t):new Zi(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Pi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(BM){return this.emitReserved("error",BM)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Fi||(Fi=new TextDecoder);const n=[];let r=0,a=-1,s=!1;return new TransformStream({transform(i,o){for(n.push(i);;){if(0===r){if(Ai(n)<1)break;const e=ki(n,1);s=128===(128&e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(Ai(n)<2)break;const e=ki(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Ai(n)<8)break;const e=ki(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(ui);break}a=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Ai(n)<a)break;const e=ki(n,a);o.enqueue(vi(s?e:Fi.decode(e),t)),r=0}if(0===a||a>e){o.enqueue(ui);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Ci();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),a())}).catch(e=>{})};a();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&ji(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Hi{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ki&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new qi(Yi,this.uri(),e)}}},Qi=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ji=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function eo(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=Qi.exec(e||""),s={},i=14;for(;i--;)s[Ji[i]]=a[i]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,s.query),s}const to="function"===typeof addEventListener&&"function"===typeof removeEventListener,no=[];to&&addEventListener("offline",()=>{no.forEach(e=>e())},!1);class ro extends Ni{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=eo(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=eo(t.host).host);Oi(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),to&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},no.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&ro.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",ro.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=Ti(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ji(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ro.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),to&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=no.indexOf(this._offlineEventListener);-1!==e&&no.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}ro.protocol=4;class ao extends ro{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;ro.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ro.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function a(){n||(n=!0,u(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&a()}const u=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class so extends ao{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Xi[e]).filter(e=>!!e)),super(e,t)}}const io="function"===typeof ArrayBuffer,oo=Object.prototype.toString,lo="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===oo.call(Blob),uo="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===oo.call(File);function co(e){return io&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||lo&&e instanceof Blob||uo&&e instanceof File}function ho(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ho(e[t]))return!0;return!1}if(co(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ho(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ho(e[n]))return!0;return!1}function mo(e){const t=[],n=e.data,r=e;return r.data=po(n,t),r.attachments=t.length,{packet:r,buffers:t}}function po(e,t){if(!e)return e;if(co(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=po(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=po(e[r],t));return n}return e}function fo(e,t){return e.data=go(e.data,t),delete e.attachments,e}function go(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=go(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=go(e[n],t));return e}const bo=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Do=5;var xo;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(xo||(xo={}));class vo{constructor(e){this.replacer=e}encode(e){return e.type!==xo.EVENT&&e.type!==xo.ACK||!ho(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===xo.EVENT?xo.BINARY_EVENT:xo.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==xo.BINARY_EVENT&&e.type!==xo.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=mo(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function yo(e){return"[object Object]"===Object.prototype.toString.call(e)}class wo extends Ni{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===xo.BINARY_EVENT;n||t.type===xo.BINARY_ACK?(t.type=n?xo.EVENT:xo.ACK,this.reconstructor=new Eo(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!co(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===xo[n.type])throw new Error("unknown packet type "+n.type);if(n.type===xo.BINARY_EVENT||n.type===xo.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!wo.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Ve){return!1}}static isPayloadValid(e,t){switch(e){case xo.CONNECT:return yo(t);case xo.DISCONNECT:return void 0===t;case xo.CONNECT_ERROR:return"string"===typeof t||yo(t);case xo.EVENT:case xo.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===bo.indexOf(t[0]));case xo.ACK:case xo.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Eo{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=fo(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Co(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Fo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ao extends Ni{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Co(e,"open",this.onopen.bind(this)),Co(e,"packet",this.onpacket.bind(this)),Co(e,"error",this.onerror.bind(this)),Co(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Fo.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:xo.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,u=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},a),i=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const a=(e,n)=>e?r(e):t(n);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];n(null,...s)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xo.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xo.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xo.EVENT:case xo.BINARY_EVENT:this.onevent(e);break;case xo.ACK:case xo.BINARY_ACK:this.onack(e);break;case xo.DISCONNECT:this.ondisconnect();break;case xo.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t.packet({type:xo.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xo.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function ko(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ko.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ko.prototype.reset=function(){this.attempts=0},ko.prototype.setMin=function(e){this.ms=e},ko.prototype.setMax=function(e){this.max=e},ko.prototype.setJitter=function(e){this.jitter=e};class No extends Ni{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Oi(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new ko({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||t;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new so(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Co(t,"open",function(){n.onopen(),e&&e()}),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=Co(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Co(e,"ping",this.onping.bind(this)),Co(e,"data",this.ondata.bind(this)),Co(e,"error",this.onerror.bind(this)),Co(e,"close",this.onclose.bind(this)),Co(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Ve){this.onclose("parse error",Ve)}}ondecoded(e){ji(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ao(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const jo={};function _o(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=eo(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,s=n.path,i=jo[a]&&s in jo[a].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new No(r,t):(jo[a]||(jo[a]=new No(r,t)),o=jo[a]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(_o,{Manager:No,Socket:Ao,io:_o,connect:_o});const So=()=>{const e=Pa(),t=null===e||void 0===e?void 0:e.token,n=null===e||void 0===e?void 0:e.isAuthenticated,r=(0,o.useRef)(null),a=(0,o.useRef)(0),[s,i]=(0,o.useState)(!1),[l,u]=(0,o.useState)([]),[c,d]=(0,o.useState)([]),[h,m]=(0,o.useState)([]),[p,f]=(0,o.useState)([]),[g,b]=(0,o.useState)([]),D=(0,o.useRef)(new Map),x=(0,o.useRef)(new Map),v=(0,o.useRef)(new Map),y=(0,o.useCallback)(function(){var e,t,n,r,a,s;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=null!==(e=null!==(t=null!==(n=null!==(r=i.content)&&void 0!==r?r:i.body)&&void 0!==n?n:i.message)&&void 0!==t?t:i.description)&&void 0!==e?e:"";return{id:null!==(a=null!==(s=i.id)&&void 0!==s?s:i.notification_id)&&void 0!==a?a:"notif-".concat(Date.now()),type:i.type||"system",title:i.title||i.subject||(o?o.slice(0,40):"Benachrichtigung"),content:o,created_at:i.created_at||(new Date).toISOString(),metadata:i.metadata||{}}},[]),w=(0,o.useCallback)(e=>{const t=y(e);m(e=>e.some(e=>e.id===t.id)?e:[t,...e])},[y]),E=(0,o.useCallback)(e=>{var t,n,r;const a=y(qe(qe({},e),{},{type:"broadcast",title:e.title||e.message||"Broadcast-Nachricht",content:null!==(t=null!==(n=null!==(r=e.message)&&void 0!==r?r:e.body)&&void 0!==n?n:e.description)&&void 0!==t?t:""}));b(e=>[...e,qe(qe({},a),{},{type:"broadcast"})]);const s=v.current.get("broadcast");s&&s.forEach(e=>e(a)),w(a)},[y,w]);(0,o.useEffect)(()=>{if(!n||!t)return;return(()=>{try{const e=_o(window.location.origin,{auth:{token:t},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4});e.on("connect",()=>{console.log("WebSocket connected successfully"),i(!0),a.current=0;const t=setInterval(()=>{e.connected&&e.emit("heartbeat")},3e4);e.heartbeatInterval=t}),e.on("connect_error",e=>{console.error("WebSocket connection error:",e),i(!1),a.current++;const t=Math.min(1e3*Math.pow(2,a.current),3e4);console.log("Reconnecting in ".concat(t,"ms (attempt ").concat(a.current,")"))}),e.on("disconnect",t=>{console.log("WebSocket disconnected:",t),i(!1),e.heartbeatInterval&&clearInterval(e.heartbeatInterval)}),e.on("online_users",e=>{d(e)}),e.on("user_online",e=>{d(t=>[...t.filter(t=>t.userId!==e.userId),e])}),e.on("user_offline",e=>{d(t=>t.filter(t=>t.userId!==e.userId))}),e.on("message_sent",e=>{u(t=>t.find(t=>t.id===e.id)?t:[...t,e])}),e.on("message_read",e=>{let{messageId:t,readBy:n}=e;u(e=>e.map(e=>e.id===t?qe(qe({},e),{},{read_status:1}):e))}),e.on("notification",w),e.on("admin:broadcast",E),e.on("admin:audit_log",e=>{const t=qe(qe({},e),{},{type:"audit_log"});b(e=>[...e,t]);const n=v.current.get("audit_log");n&&n.forEach(e=>e(t))}),e.on("user_typing",e=>{console.log("".concat(e.userName," is typing..."))}),e.on("user_stopped_typing",e=>{console.log("User ".concat(e.userId," stopped typing"))}),e.on("task:created",e=>{f(t=>[...t,qe(qe({type:"created"},e),{},{timestamp:Date.now()})]);const t=D.current.get("task:created");t&&t.forEach(t=>t(e))}),e.on("task:updated",e=>{f(t=>[...t,qe(qe({type:"updated"},e),{},{timestamp:Date.now()})]);const t=D.current.get("task:updated");t&&t.forEach(t=>t(e))}),e.on("task:moved",e=>{f(t=>[...t,qe(qe({type:"moved"},e),{},{timestamp:Date.now()})]);const t=D.current.get("task:moved");t&&t.forEach(t=>t(e))}),e.on("task:deleted",e=>{f(t=>[...t,qe(qe({type:"deleted"},e),{},{timestamp:Date.now()})]);const t=D.current.get("task:deleted");t&&t.forEach(t=>t(e))}),e.on("task:user_editing",e=>{const t=D.current.get("task:user_editing");t&&t.forEach(t=>t(e))}),e.on("task:user_stopped_editing",e=>{const t=D.current.get("task:user_stopped_editing");t&&t.forEach(t=>t(e))});const n=(e,t)=>{const n=x.current.get(e);n&&n.forEach(e=>e(t))};e.on("message:read",e=>{n("message:read",e)}),e.on("conversation:new_message",e=>{console.log("\ud83d\udd14 [WebSocket] conversation:new_message received:",e),n("new_message",e)}),e.on("conversation:message_confirmed",e=>{n("conversation:message_confirmed",e)}),e.on("conversation:members_updated",e=>{n("conversation:members_updated",e)}),e.on("conversation:created",e=>{n("conversation:created",e)}),e.on("conversation:updated",e=>{n("conversation:updated",e)}),e.on("conversation:removed",e=>{n("conversation:removed",e)}),e.on("message:reaction",e=>{n("message:reaction",e)}),e.on("message:mentioned",e=>{n("message:mentioned",e)}),r.current=e}catch(e){console.error("WebSocket setup error:",e),i(!1)}})(),()=>{r.current&&(r.current.heartbeatInterval&&clearInterval(r.current.heartbeatInterval),r.current.disconnect(),r.current=null),i(!1)}},[n,t,w,E]);const C=(0,o.useCallback)(async(e,n)=>{try{const r=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({receiverId:e,message:n,isGroup:!1})});if(r.ok){const e=await r.json();return u(t=>[...t,e]),!0}return!1}catch(r){return console.error("HTTP message send error:",r),!1}},[t]),F=(0,o.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return r.current&&r.current.connected?(r.current.emit("send_message",{receiverId:e,message:t,messageType:n}),!0):(console.warn("WebSocket not connected, falling back to HTTP"),C(e,t))},[C]),A=(0,o.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("mark_as_read",{messageId:e})},[]),k=(0,o.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("typing_start",{receiverId:e})},[]),N=(0,o.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("typing_stop",{receiverId:e})},[]),j=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("Notification"in window))return console.warn("This browser does not support notifications"),!1;let r=Notification.permission;if("default"===r&&(r=await Notification.requestPermission()),"granted"===r){const r=new Notification(e,qe({body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:n.tag||"biolab-notification",renotify:!0,requireInteraction:n.requireInteraction||!1,silent:n.silent||!1,vibrate:[200,100,200],data:n.data||{}},n));r.onclick=e=>{var t;e.preventDefault(),window.focus(),r.close(),null!==(t=n.data)&&void 0!==t&&t.url&&(window.location.href=n.data.url)};const a=!1!==n.autoClose?n.autoCloseDelay||7e3:null;return a&&setTimeout(()=>{r.close()},a),!0}return!1},[]),_=(0,o.useCallback)(async()=>{if(!("Notification"in window))return!1;return"granted"===await Notification.requestPermission()},[]),S=(0,o.useCallback)((e,t)=>(D.current.has(e)||D.current.set(e,new Set),D.current.get(e).add(t),()=>{const n=D.current.get(e);n&&n.delete(t)}),[]),B=(0,o.useCallback)((e,t)=>(x.current.has(e)||x.current.set(e,new Set),x.current.get(e).add(t),()=>{const n=x.current.get(e);n&&n.delete(t)}),[]),M=(0,o.useCallback)((e,t)=>(v.current.has(e)||v.current.set(e,new Set),v.current.get(e).add(t),()=>{const n=v.current.get(e);n&&n.delete(t)}),[]),O=(0,o.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("conversation:join",{conversationId:e})},[]),T=(0,o.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("conversation:leave",{conversationId:e})},[]),R=(0,o.useCallback)(e=>!(!r.current||!r.current.connected)&&(r.current.emit("send_message",e),!0),[]);return{isConnected:s,messages:l,onlineUsers:c,notifications:h,taskEvents:p,adminEvents:g,sendMessage:F,markAsRead:A,startTyping:k,stopTyping:N,showNotification:j,requestNotificationPermission:_,onTaskEvent:S,onConversationEvent:B,onAdminEvent:M,emitTaskEditing:(0,o.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("task:editing",{taskId:e})},[]),emitTaskStopEditing:(0,o.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("task:stop_editing",{taskId:e})},[]),joinConversationRoom:O,leaveConversationRoom:T,sendConversationMessage:R}},Bo=(0,o.createContext)(null),Mo=e=>{let{children:t}=e;const n=So(),r=(0,o.useMemo)(()=>n,[n]);return(0,Oa.jsx)(Bo.Provider,{value:r,children:t})},Oo=()=>{const e=(0,o.useContext)(Bo);if(!e)throw new Error("useWebSocketContext must be used within a WebSocketProvider");return e},To=Na.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});To.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));const Ro=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return To.get("/profile/contacts/all",{params:e})},Io=(e,t)=>To.post("/messages/stories",t,{headers:{"Content-Type":"multipart/form-data"}}),Po=()=>To.get("/messages/stories"),Lo=e=>To.post("/messages/stories/".concat(e,"/view")),zo=(e,t)=>To.post("/kb/articles/".concat(e,"/media"),t,{headers:{"Content-Type":"multipart/form-data"}}),Uo=e=>To.post("/messages/conversations",e),Wo=(e,t)=>To.put("/messages/conversations/".concat(e),t),Ho=e=>To.get("/messages/conversations/".concat(e,"/messages")),qo=(e,t)=>To.post("/messages/conversations/".concat(e,"/messages"),t),Vo=(e,t)=>To.post("/messages/conversations/".concat(e,"/members"),{memberIds:t}),Ko=(e,t)=>To.delete("/messages/conversations/".concat(e,"/members/").concat(t)),Yo=e=>To.post("/messages/conversations/".concat(e,"/read")),Go=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return To.post("/uploads",e,qe({headers:{"Content-Type":"multipart/form-data"}},t))},$o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return To.get("/messages/quick-replies",{params:e})},Zo=To,Xo="biolab.notifications.v2",Qo=function(){var e,t,n,r,a,s;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i)return null;const o=null!==(e=null!==(t=null!==(n=null!==(r=i.content)&&void 0!==r?r:i.body)&&void 0!==n?n:i.message)&&void 0!==t?t:i.description)&&void 0!==e?e:"";return qe(qe({},i),{},{id:i.id||i.notification_id||"notif-".concat(Date.now(),"-").concat(Math.random()),type:i.type||"system",title:i.title||i.subject||"Benachrichtigung",content:o,created_at:i.created_at||(new Date).toISOString(),metadata:i.metadata||{},icon:i.icon||"/logo192.png",is_read:null!==(a=null!==(s=i.is_read)&&void 0!==s?s:i.read)&&void 0!==a&&a})},Jo=function(){let{filter:e="all"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{notifications:t,isConnected:n}=Oo(),[r,a]=(0,o.useState)([]),[s,i]=(0,o.useState)(0),[l,u]=(0,o.useState)(!1),c=(0,o.useRef)(null),d=(0,o.useCallback)(e=>{a(t=>{const n="function"===typeof e?e(t):e,r=Array.isArray(n)?n.slice(0,120):[];return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("undefined"!==typeof window)try{localStorage.setItem(Xo,JSON.stringify(e))}catch(t){console.error("Failed to persist notifications cache:",t)}}(r),r})},[]),h=(0,o.useMemo)(()=>r.filter(e=>!e.is_read).length,[r]),m=Math.max(s,h),p=(0,o.useCallback)(()=>{if("undefined"!==typeof window)try{const e=localStorage.getItem(Xo);if(!e)return;const t=JSON.parse(e);if(!Array.isArray(t)||!t.length)return;const n=t.map(e=>Qo(e)).filter(Boolean).slice(0,120);a(n),i(e=>Math.max(e,n.filter(e=>!e.is_read).length)),n.length&&(c.current=n[0].id)}catch(e){console.error("Error hydrating notifications cache:",e)}},[]),f=(0,o.useCallback)(async()=>{u(!0);try{var t;const n="all"===e?{}:"unread"===e?{is_read:!1}:{type:e},r=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return To.get("/notifications",{params:e})}(n),a=(Array.isArray(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.notifications)?r.data.notifications:[]).map(e=>Qo(e)).filter(Boolean);return a.length&&(c.current=a[0].id),d(e=>{const t=e.filter(e=>!a.some(t=>t.id===e.id));return[...a,...t]}),a}catch(n){return console.error("Error loading notifications:",n),[]}finally{u(!1)}},[e,d]),g=(0,o.useCallback)(async()=>{try{var e;const t=await To.get("/notifications/unread-count"),n=parseInt(null===(e=t.data)||void 0===e?void 0:e.total,10)||0;i(n)}catch(t){console.error("Error loading unread notification count:",t)}},[]);(0,o.useEffect)(()=>{p()},[p]),(0,o.useEffect)(()=>{f(),g()},[f,g]),(0,o.useEffect)(()=>{if(null===t||void 0===t||!t.length)return;const e=c.current,n=[];for(const a of t){if(e&&a.id===e)break;n.push(a)}if(!n.length)return;c.current=t[0].id;const r=n.map(e=>Qo(e)).filter(Boolean);r.length&&d(e=>{const t=[...r],n=new Set(r.map(e=>e.id));return e.forEach(e=>{n.has(e.id)||t.push(e)}),t})},[t,d]);const b=(0,o.useCallback)(async e=>{try{await(e=>To.put("/notifications/".concat(e,"/read")))(e),d(t=>t.map(t=>t.id===e?qe(qe({},t),{},{is_read:!0}):t)),await g()}catch(t){console.error("Error marking notification as read:",t)}},[d,g]),D=(0,o.useCallback)(async()=>{try{await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return To.put("/notifications/mark-all-read",{type:e})}(),d(e=>e.map(e=>qe(qe({},e),{},{is_read:!0}))),await g()}catch(e){console.error("Error marking all notifications as read:",e)}},[d,g]),x=(0,o.useCallback)(async()=>{try{await To.delete("/notifications/clear-all"),d(e=>e.filter(e=>!e.is_read)),await g()}catch(e){console.error("Error clearing read notifications:",e)}},[d,g]),v=(0,o.useCallback)(async e=>{try{await(e=>To.delete("/notifications/".concat(e)))(e),d(t=>t.filter(t=>t.id!==e)),g()}catch(t){console.error("Error deleting notification:",t)}},[d,g]),y=(0,o.useCallback)(async(e,t)=>{try{var n,r;await function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return To.put("/notifications/".concat(e,"/action"),{action_type:t,metadata:n})}(e.id,t.key,{scheduleId:null===(n=e.metadata)||void 0===n?void 0:n.scheduleId}),null!==(r=e.metadata)&&void 0!==r&&r.scheduleId&&t.entAction&&await function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return To.post("/waste/disposal-schedules/".concat(e,"/action"),{action:t,message:n})}(e.metadata.scheduleId,t.entAction),await f(),await g()}catch(a){throw console.error("Notification action error:",a),a}},[f,g]);return{notifications:r,unreadCount:m,loading:l,isConnected:n,refreshNotifications:f,markNotificationAsRead:b,markAllNotificationsAsRead:D,clearAllReadNotifications:x,deleteNotification:v,takeNotificationAction:y}},el=[{value:"all",label:"Alle"},{value:"unread",label:"Ungelesen"},{value:"message",label:"Nachrichten"},{value:"mention",label:"Erw\xe4hnungen"},{value:"task_assigned",label:"Aufgaben"}],tl=()=>{var e;const{isMobile:t}=ii(),{lockScroll:n,unlockScroll:r}=(()=>{const e=(0,o.useRef)(0);return(0,o.useEffect)(()=>()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width=""},[]),{lockScroll:()=>{const t=window.scrollY||document.documentElement.scrollTop;e.current=t,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-".concat(t,"px"),document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%"},unlockScroll:()=>{const t=e.current;e.current=0,document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",window.scrollTo({top:t,behavior:"auto"})}}})(),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)("all"),u=(0,o.useRef)(null),c=(0,o.useRef)(null),[d,h]=(0,o.useState)(null),{notifications:m,unreadCount:p,loading:f,isConnected:g,refreshNotifications:b,markNotificationAsRead:D,markAllNotificationsAsRead:x,clearAllReadNotifications:v,deleteNotification:y,takeNotificationAction:w}=Jo({filter:i}),E=(0,o.useCallback)(()=>{s(!1),t&&r()},[t,r]);(0,o.useEffect)(()=>{const e=e=>{const t=u.current&&u.current.contains(e.target),n=c.current&&c.current.contains(e.target);t||n||E()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[E,c]),(0,o.useEffect)(()=>{a&&b()},[a,b]),(0,o.useEffect)(()=>{if(t)return a?(n(),()=>r()):void 0},[t,a,n,r]);const C=(0,o.useCallback)(async e=>{try{await D(e)}catch(t){console.error("Error marking notification as read:",t)}},[D]),F=(0,o.useCallback)(async()=>{try{await x()}catch(e){console.error("Error marking notifications as read:",e)}},[x]),A=(0,o.useCallback)(async()=>{try{await v()}catch(e){console.error("Error clearing notifications:",e)}},[v]),k=(0,o.useCallback)(async e=>{var n;if(e.is_read||await C(e.id),"message"===e.type&&null!==(n=e.metadata)&&void 0!==n&&n.conversationId){const t=e.metadata.conversationId;return window.location.href="/messages?conversation=".concat(t),void E()}e.action_url&&(window.location.href=e.action_url,t&&E())},[E,C]),N=(0,o.useCallback)(async e=>{try{await y(e)}catch(t){console.error("Error deleting notification:",t)}},[y]),j=(0,o.useCallback)(async(e,t,n)=>{e.stopPropagation();const r="".concat(t.id,"-").concat(n.key);if(d!==r){h(r);try{await w(t,n)}catch(a){console.error("Notification action error:",a)}finally{h(null)}}},[d,w]),_=(0,o.useCallback)(e=>({message:(0,Oa.jsx)(ds,{className:"w-4 h-4 text-blue-500"}),mention:(0,Oa.jsx)(hs,{className:"w-4 h-4 text-purple-500"}),reaction:(0,Oa.jsx)(ms,{className:"w-4 h-4 text-pink-500"}),task_assigned:(0,Oa.jsx)(ps,{className:"w-4 h-4 text-green-500"}),calendar_event:(0,Oa.jsx)(fs,{className:"w-4 h-4 text-orange-500"})}[e]||(0,Oa.jsx)(gs,{className:"w-4 h-4 text-gray-500"})),[]),S=(0,o.useCallback)(e=>({message:"Nachricht",mention:"Erw\xe4hnung",reaction:"Reaktion",task_assigned:"Aufgabe",calendar_event:"Kalender",system:"System",broadcast:"Broadcast"}[e]||"Info"),[]),B=(0,o.useCallback)(e=>e?e.toString().split(/[_\s]+/).map(e=>{const t=e.trim();return t?"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)):""}).filter(Boolean).join(" "):"",[]),M=(0,o.useCallback)(e=>{if(!e)return"Broadcast";const t=e.metadata||{};return t.status?B(t.status):t.delivery_status?B(t.delivery_status):void 0!==t.delivered?t.delivered?"Zugestellt":"Ausstehend":t.recipients?"".concat(t.recipients," Empf\xe4nger"):"Broadcast"},[B]),O=(0,o.useCallback)(e=>e?$s(new Date(e),{addSuffix:!0,locale:si}):"",[]),T=e=>{l(e)},R=(0,o.useMemo)(()=>f?(0,Oa.jsxs)("div",{className:"p-8 text-center",children:[(0,Oa.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-3"}),(0,Oa.jsx)("p",{className:"text-gray-500 text-sm",children:"Lade Benachrichtigungen..."})]}):m.length?(0,Oa.jsx)("ul",{className:"divide-y divide-gray-100",children:m.map(e=>{var t,n,r;const a=null!==(t=e.content)&&void 0!==t&&t.trim()?e.content:e.title;return(0,Oa.jsxs)("li",{className:"flex items-start gap-3 p-4 transition ".concat(e.is_read?"bg-white":"bg-blue-50"),children:[(0,Oa.jsx)("div",{className:"flex-shrink-0",children:(0,Oa.jsx)("div",{className:"w-9 h-9 rounded-full flex items-center justify-center ".concat(e.is_read?"bg-gray-100":"bg-blue-100"),children:_(e.type)})}),(0,Oa.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer hover:opacity-80 active:opacity-70 transition-opacity",onClick:()=>k(e),children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-[11px] uppercase tracking-wide text-gray-400",children:[(0,Oa.jsx)("span",{children:S(e.type)}),!e.is_read&&(0,Oa.jsx)("span",{className:"text-blue-600 font-semibold",children:"Neu"})]}),(0,Oa.jsx)("p",{className:"text-sm font-semibold ".concat(e.is_read?"text-gray-700":"text-gray-900"),children:e.title}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600 mt-1 break-words",children:a}),(null===(n=e.metadata)||void 0===n||null===(r=n.actions)||void 0===r?void 0:r.length)>0&&(0,Oa.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.metadata.actions.map(t=>{const n=d==="".concat(e.id,"-").concat(t.key),r="primary"===t.variant?"bg-blue-600 text-white border-transparent hover:bg-blue-700":"danger"===t.variant?"bg-red-600 text-white border-transparent hover:bg-red-700":"bg-white text-slate-700 border border-gray-200 hover:bg-gray-50";return(0,Oa.jsx)("button",{type:"button",onClick:n=>j(n,e,t),disabled:n,className:"text-xs px-3 py-1 rounded-full font-semibold transition ".concat(r," disabled:opacity-60"),children:n?"Wird gesendet\u2026":t.label||"Aktion"},t.key)})}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-2",children:[(0,Oa.jsx)("span",{children:O(e.created_at)}),!e.is_read&&(0,Oa.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]}),(0,Oa.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[!e.is_read&&(0,Oa.jsx)("button",{onClick:t=>{t.stopPropagation(),C(e.id)},className:"p-1 text-blue-600 hover:text-blue-700 transition",children:(0,Oa.jsx)(bs,{className:"w-4 h-4"})}),(0,Oa.jsx)("button",{onClick:t=>{t.stopPropagation(),N(e.id)},className:"p-1 text-gray-400 hover:text-red-500 transition",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]})]},e.id)})}):(0,Oa.jsxs)("div",{className:"p-10 text-center text-gray-400",children:[(0,Oa.jsx)(gs,{className:"w-10 h-10 mx-auto mb-3"}),(0,Oa.jsx)("p",{className:"font-medium",children:"Keine Benachrichtigungen"}),(0,Oa.jsx)("p",{className:"text-sm mt-1",children:"Du bist auf dem neuesten Stand"})]}),[O,_,k,C,N,t,f,m]),I=(0,o.useMemo)(()=>{const e={pending:0,tasks:0,alerts:0};return m.forEach(t=>{t.is_read||(e.pending+=1,"task_assigned"===t.type&&(e.tasks+=1),["calendar_event","system","warning","broadcast"].includes(t.type)&&(e.alerts+=1))}),e},[m]),P=(0,o.useMemo)(()=>m.find(e=>"broadcast"===e.type),[m]),L=null!==P&&void 0!==P&&null!==(e=P.content)&&void 0!==e&&e.trim()?P.content:(null===P||void 0===P?void 0:P.title)||"",z=(0,o.useMemo)(()=>m.filter(e=>"broadcast"===e.type),[m]).slice(0,3),U=e=>{var t,n;const r=(null===(t=e.metadata)||void 0===t?void 0:t.recipients)||(null===(n=e.metadata)||void 0===n?void 0:n.recipientCount);return r?"".concat(r," Empf\xe4nger"):null},W=(0,Oa.jsxs)("div",{className:"absolute right-0 mt-2 w-screen max-w-md sm:w-96 bg-white rounded-2xl shadow-2xl border border-slate-200 z-50 max-h-[80vh] flex flex-col overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oa.jsx)("h3",{className:"text-lg font-semibold",children:"Benachrichtigungen"}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[p>0&&(0,Oa.jsx)("button",{onClick:F,className:"text-blue-600 hover:text-blue-700 transition",title:"Alle markieren",children:(0,Oa.jsx)(xs,{className:"w-5 h-5"})}),(0,Oa.jsx)("button",{onClick:A,className:"text-gray-600 hover:text-gray-700 transition",title:"Gelesene l\xf6schen",children:(0,Oa.jsx)(Ds,{className:"w-5 h-5"})})]})]}),(0,Oa.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:el.map(e=>(0,Oa.jsx)("button",{onClick:()=>T(e.value),className:"px-3 py-1 rounded-full text-xs sm:text-sm whitespace-nowrap transition ".concat(i===e.value?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.value))}),(0,Oa.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-4 text-center text-xs text-gray-500",children:[(0,Oa.jsxs)("div",{className:"rounded-lg bg-blue-50 py-2",children:[(0,Oa.jsx)("p",{className:"text-base font-semibold text-gray-900",children:I.pending}),(0,Oa.jsx)("p",{children:"Ungelesen"})]}),(0,Oa.jsxs)("div",{className:"rounded-lg bg-emerald-50 py-2",children:[(0,Oa.jsx)("p",{className:"text-base font-semibold text-gray-900",children:I.tasks}),(0,Oa.jsx)("p",{children:"Aufgaben"})]}),(0,Oa.jsxs)("div",{className:"rounded-lg bg-amber-50 py-2",children:[(0,Oa.jsx)("p",{className:"text-base font-semibold text-gray-900",children:I.alerts}),(0,Oa.jsx)("p",{children:"Termine/System"})]})]}),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mobile";if(!z.length)return null;const t="desktop"===e?"Zuletzt verschickte Broadcasts":"Massenmeldungen";return(0,Oa.jsxs)("div",{className:"notification-panel-broadcasts ".concat("desktop"===e?"notification-panel-broadcasts--desktop":""),children:[(0,Oa.jsxs)("div",{className:"notification-panel-broadcasts__heading",children:[(0,Oa.jsx)("p",{children:t}),(0,Oa.jsxs)("span",{children:[z.length," Eintr\xe4ge"]})]}),(0,Oa.jsx)("div",{className:"notification-panel-broadcasts__list",children:z.map(e=>(0,Oa.jsxs)("div",{className:"notification-panel-broadcast",children:[(0,Oa.jsx)("p",{className:"notification-panel-broadcast__title",children:e.title}),(0,Oa.jsx)("p",{className:"notification-panel-broadcast__snippet",children:e.content||L}),(0,Oa.jsxs)("div",{className:"notification-panel-broadcast__meta",children:[(0,Oa.jsx)("span",{children:O(e.created_at)}),U(e)&&(0,Oa.jsx)("span",{children:U(e)}),(0,Oa.jsx)("span",{className:"notification-panel-broadcast__status",children:M(e)})]})]},e.id||e.notification_id||e.created_at))})]})}("desktop")]}),(0,Oa.jsx)("div",{className:"flex-1 overflow-y-auto",children:R})]}),H=(0,Oa.jsxs)("div",{ref:c,className:"fixed inset-0 z-[99999] flex flex-col",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm -z-10"}),(0,Oa.jsxs)("div",{className:"relative bg-white flex-1 flex flex-col",children:[(0,Oa.jsxs)("div",{className:"flex-shrink-0 px-4 py-4 border-b border-slate-200 bg-white",style:{paddingTop:"calc(1rem + env(safe-area-inset-top, 0))"},children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)(gs,{className:"w-6 h-6 text-blue-600"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Benachrichtigungen"}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500",children:p>0?"".concat(p," ungelesen"):"Alles gelesen"})]})]}),(0,Oa.jsx)("button",{type:"button",onClick:E,className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-100 text-slate-600 active:bg-slate-200 transition-colors",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:el.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>T(e.value),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ".concat(i===e.value?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"bg-slate-100 text-slate-700 active:bg-slate-200"),children:e.label},e.value))})]}),(0,Oa.jsxs)("div",{className:"flex-shrink-0 grid grid-cols-3 gap-3 px-4 py-3 bg-slate-50 border-b border-slate-200",children:[(0,Oa.jsxs)("div",{className:"text-center py-3 bg-white rounded-xl border border-slate-200",children:[(0,Oa.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:I.pending}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Ungelesen"})]}),(0,Oa.jsxs)("div",{className:"text-center py-3 bg-white rounded-xl border border-slate-200",children:[(0,Oa.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:I.tasks}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Aufgaben"})]}),(0,Oa.jsxs)("div",{className:"text-center py-3 bg-white rounded-xl border border-slate-200",children:[(0,Oa.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:I.alerts}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Termine"})]})]}),z.length>0&&(0,Oa.jsxs)("div",{className:"flex-shrink-0 px-4 py-3 bg-slate-50 border-b border-slate-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Massenmeldungen"}),(0,Oa.jsx)("span",{className:"text-xs text-slate-400",children:z.length})]}),(0,Oa.jsx)("div",{className:"space-y-2",children:z.map(e=>(0,Oa.jsxs)("div",{onClick:()=>k(e),className:"bg-white rounded-xl p-3 border border-slate-200 active:bg-slate-50 transition-colors",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-900 mb-1 line-clamp-1",children:e.title}),(0,Oa.jsx)("p",{className:"text-xs text-slate-600 mb-2 line-clamp-2",children:e.content||L}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[(0,Oa.jsx)("span",{children:O(e.created_at)}),U(e)&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("span",{children:"\u2022"}),(0,Oa.jsx)("span",{children:U(e)})]}),(0,Oa.jsx)("span",{className:"ml-auto px-2 py-0.5 bg-blue-50 text-blue-600 rounded-full font-medium",children:M(e)})]})]},e.id||e.notification_id||e.created_at))})]}),(p>0||m.some(e=>e.is_read))&&(0,Oa.jsxs)("div",{className:"flex-shrink-0 flex gap-2 px-4 py-3 bg-slate-50 border-b border-slate-200",children:[p>0&&(0,Oa.jsxs)("button",{type:"button",onClick:F,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-blue-600 text-white font-medium active:bg-blue-700 transition-colors shadow-lg shadow-blue-600/30",children:[(0,Oa.jsx)(xs,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{className:"text-sm",children:"Alle als gelesen"})]}),m.some(e=>e.is_read)&&(0,Oa.jsxs)("button",{type:"button",onClick:A,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-red-50 text-red-600 font-medium active:bg-red-100 transition-colors border border-red-200",children:[(0,Oa.jsx)(Ds,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{className:"text-sm",children:"Gelesene l\xf6schen"})]})]}),(0,Oa.jsx)("div",{className:"flex-1 overflow-y-auto",style:{paddingBottom:"env(safe-area-inset-bottom, 0)"},children:f?(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,Oa.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Wird geladen..."})]}):m.length?(0,Oa.jsx)("div",{className:"divide-y divide-slate-100",children:m.map(e=>{var t,n,r;const a=null!==(t=e.content)&&void 0!==t&&t.trim()?e.content:e.title;return(0,Oa.jsxs)("div",{className:"flex gap-3 px-4 py-4 transition-colors ".concat(e.is_read?"bg-white":"bg-blue-50/50"),children:[(0,Oa.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ".concat(e.is_read?"bg-slate-100":"bg-blue-100"),children:_(e.type)}),(0,Oa.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer active:opacity-70 transition-opacity",onClick:()=>k(e),children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-[10px] uppercase tracking-wide text-slate-400 mb-1",children:[(0,Oa.jsx)("span",{children:S(e.type)}),!e.is_read&&(0,Oa.jsx)("span",{className:"text-blue-600 font-semibold",children:"Neu"})]}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-900 mb-1 line-clamp-2",children:e.title}),a!==e.title&&(0,Oa.jsx)("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:a}),(null===(n=e.metadata)||void 0===n||null===(r=n.actions)||void 0===r?void 0:r.length)>0&&(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.metadata.actions.map(t=>{const n=d==="".concat(e.id,"-").concat(t.key),r="primary"===t.variant?"bg-blue-600 text-white border-transparent active:bg-blue-700":"danger"===t.variant?"bg-red-600 text-white border-transparent active:bg-red-700":"bg-white text-slate-700 border border-slate-200 active:bg-slate-50";return(0,Oa.jsx)("button",{type:"button",onClick:n=>{n.stopPropagation(),j(n,e,t)},disabled:n,className:"text-xs px-3 py-1.5 rounded-full font-semibold transition-colors ".concat(r," disabled:opacity-50"),children:n?"L\xe4dt...":t.label||"Aktion"},t.key)})}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-2",children:[(0,Oa.jsx)("span",{children:O(e.created_at)}),!e.is_read&&(0,Oa.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})]})]}),(0,Oa.jsxs)("div",{className:"flex flex-col gap-2",children:[!e.is_read&&(0,Oa.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),C(e.id)},className:"w-8 h-8 flex items-center justify-center rounded-lg bg-green-100 text-green-600 active:bg-green-200 transition-colors",children:(0,Oa.jsx)(bs,{className:"w-4 h-4"})}),(0,Oa.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),N(e.id)},className:"w-8 h-8 flex items-center justify-center rounded-lg bg-red-100 text-red-600 active:bg-red-200 transition-colors",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]})]},e.id)})}):(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[(0,Oa.jsx)("div",{className:"w-20 h-20 rounded-full bg-slate-100 flex items-center justify-center mb-4",children:(0,Oa.jsx)(gs,{className:"w-10 h-10 text-slate-400"})}),(0,Oa.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Keine Benachrichtigungen"}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500 text-center",children:"Du bist auf dem neuesten Stand!"})]})})]})]});return(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsxs)("div",{className:"relative",ref:u,children:[(0,Oa.jsxs)("button",{onClick:()=>s(e=>!e),className:"relative ".concat(t?"notification-button":"p-2.5 text-slate-700 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all shadow-sm border border-slate-200 hover:border-blue-300"),title:g?"Benachrichtigungen":"Verbindung getrennt \u2013 zeige gespeicherte Benachrichtigungen",children:[(0,Oa.jsx)(gs,{className:"w-5 h-5 sm:w-5.5 sm:h-5.5"}),p>0&&(0,Oa.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:p>99?"99+":p}),!g&&0===p&&(0,Oa.jsx)("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-gray-900 text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]}),a&&!t&&W]}),a&&t&&"undefined"!==typeof document&&Ee.createPortal(H,document.body)]})},nl=e=>{if(!e)return"";if("undefined"===typeof window)return e;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")||e.startsWith("blob:"))return e;if(e.includes("cloudinary.com"))return e;let t=e.replace(/^app\//,"/");return t.startsWith("/")||(t="/".concat(t)),t},rl=cs("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),al=[{to:"/dashboard",labelKey:"navigation.dashboard",icon:"\ud83d\udcca",permission:"schedule:read"},{to:"/messages",labelKey:"navigation.messages",icon:"\ud83d\udcac",permission:"message:read"},{to:"/kanban",labelKey:"navigation.tasks",icon:"\u2713",permission:"task:read"},{to:"/kisten",labelKey:"navigation.kisten",icon:"\ud83d\udce6",permission:"task:read"},{to:"/schedule",labelKey:"navigation.schedule",icon:"\u23f0",permission:"schedule:read"},{to:"/knowledge-base",labelKey:"navigation.knowledge",icon:"\ud83d\udcda",permission:"schedule:read"},{to:"/users",labelKey:"navigation.users",icon:"\ud83d\udc65",permission:"user:read"},{to:"/admin",labelKey:"navigation.admin",icon:"\u2699\ufe0f",permission:"system:settings"}],sl=[{to:"/knowledge-base",label:"Knowledge Base",emoji:"\ud83d\udcda",description:"Artikel & Medien",permission:"schedule:read"},{to:"/schedule",label:"Planung",emoji:"\ud83d\uddd3",description:"Arbeitszeiten & Stunden",permission:"schedule:read"},{to:"/messages",label:"Messenger",emoji:"\ud83d\udcac",description:"Direkte Chats",permission:"message:read"},{to:"/kanban",label:"Kanban",emoji:"\ud83e\udde9",description:"Aufgaben & Projekte",permission:"task:read"}],il=()=>{const e=Pa(),t=te(),n=re(),{hasPermission:r}=es(),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(""),[u,c]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!1),[m,p]=(0,o.useState)(null),f=(0,o.useRef)(null),g=(0,o.useRef)(null),b=(0,o.useRef)(null),D=(0,o.useRef)(null),{t:x}=qa(),v=null===e||void 0===e?void 0:e.state,y=(null===e||void 0===e?void 0:e.logout)||(()=>{}),{user:w}=v||{},E=null!==w&&void 0!==w&&w.profile_photo?nl(w.profile_photo):null;(0,o.useEffect)(()=>{const e=e=>{var t;(e.metaKey||e.ctrlKey)&&"k"===e.key.toLowerCase()&&(e.preventDefault(),null===(t=f.current)||void 0===t||t.focus())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const C=e=>x("roles.".concat(e))||e,F=()=>{y(),n("/login")},A=e=>{e.preventDefault();const t=i.trim();t&&(n("/knowledge-base?q=".concat(encodeURIComponent(t))),s(!1),c(!1),l(""))},k=(0,o.useMemo)(()=>{if(!r)return al;const e=al.filter(e=>!e.permission||r(e.permission));return e.length?e:al},[r]),N=(0,o.useMemo)(()=>sl.filter(e=>r(e.permission)),[r]),{primaryNavItems:j,overflowNavItems:_}=(0,o.useMemo)(()=>({primaryNavItems:k.slice(0,4),overflowNavItems:k.slice(4)}),[k]),S=(()=>{const e=x("mobile.search.placeholder");return e&&"mobile.search.placeholder"!==e?e:"Suche..."})();return(0,o.useEffect)(()=>{const e=()=>h(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,o.useEffect)(()=>{c(!1),s(!1)},[t.pathname]),(0,o.useEffect)(()=>{if("undefined"===typeof document)return;const e=document.createElement("div");return e.className="mobile-menu-portal-root",document.body.appendChild(e),p(e),()=>{document.body.contains(e)&&document.body.removeChild(e)}},[]),(0,o.useEffect)(()=>{if(!u)return;const e=e=>{const t=g.current,n=b.current;t&&n&&!t.contains(e.target)&&!n.contains(e.target)&&c(!1)},t=e=>{"Escape"===e.key&&c(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[u]),(0,o.useEffect)(()=>{if(!a)return;const e=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("mobile-menu-open"),()=>{document.body.style.overflow=e,document.body.classList.remove("mobile-menu-open")}},[a]),(0,o.useEffect)(()=>{if("undefined"===typeof window)return;const e=()=>{var e;const t=(null===(e=D.current)||void 0===e?void 0:e.offsetHeight)||0;document.documentElement.style.setProperty("--app-header-height","".concat(t,"px"))};let t;return e(),"undefined"!==typeof ResizeObserver&&D.current&&(t=new ResizeObserver(e),t.observe(D.current)),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),t&&t.disconnect()}},[]),v&&w?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("header",{ref:D,className:"top-nav-mobile bg-white/95 backdrop-blur border-b border-slate-100 sticky top-0 z-50 shadow-[0_2px_10px_rgba(15,23,42,0.04)]",children:(0,Oa.jsx)("div",{className:"max-w-full mx-auto px-3 sm:px-4 lg:px-6",children:(0,Oa.jsxs)("div",{className:"flex justify-between items-center py-3 min-h-[56px]",children:[(0,Oa.jsxs)(Oe,{to:"/dashboard",className:"flex items-center gap-3 flex-shrink-0 mobile-touch-feedback",children:[(0,Oa.jsx)("div",{className:"w-9 h-9 rounded-xl border border-slate-200 bg-white flex items-center justify-center shadow-sm",children:(0,Oa.jsx)("span",{className:"text-sm font-bold text-slate-700 tracking-tight",children:"BL"})}),(0,Oa.jsxs)("div",{className:"hidden sm:flex flex-col leading-tight",children:[(0,Oa.jsx)("span",{className:"text-base font-semibold text-slate-900",children:"Biolab"}),(0,Oa.jsx)("span",{className:"text-xs text-slate-500 uppercase tracking-[0.12em]",children:"Planner"})]})]}),(0,Oa.jsx)("nav",{className:"hidden md:flex items-center flex-1 justify-center max-w-4xl mx-4",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-1 bg-white/70 border border-slate-100 rounded-2xl p-1 shadow-sm",children:[j.map(e=>{const n=t.pathname===e.to;return(0,Oa.jsxs)(Oe,{to:e.to,className:"\n                      px-3 py-2 rounded-xl text-sm font-semibold transition-all whitespace-nowrap tracking-wide flex items-center\n                      ".concat(n?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:bg-slate-50 hover:text-slate-900","\n                    "),children:[(0,Oa.jsx)("span",{className:"mr-1.5",children:e.icon}),(0,Oa.jsx)("span",{children:x(e.labelKey)})]},e.to)}),_.length>0&&(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsxs)("button",{onClick:()=>c(e=>!e),ref:b,type:"button",className:"px-3 py-2 rounded-xl text-sm font-semibold transition-all text-slate-600 hover:bg-slate-50 hover:text-slate-900 flex items-center gap-1","aria-haspopup":"true","aria-expanded":u,children:[(0,Oa.jsx)("span",{children:"Mehr"}),(0,Oa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&(0,Oa.jsx)("div",{ref:g,className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-2xl shadow-xl z-50",role:"menu",children:(0,Oa.jsxs)("div",{className:"py-2",children:[_.map(e=>(0,Oa.jsxs)(Oe,{to:e.to,onClick:()=>c(!1),className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 ".concat(t.pathname===e.to?"text-blue-600 font-semibold":""),children:[(0,Oa.jsx)("span",{children:e.icon}),x(e.labelKey)]},e.to)),(0,Oa.jsx)("div",{className:"border-t border-slate-200 my-2"}),(0,Oa.jsxs)("button",{onClick:()=>{c(!1),F()},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 font-semibold",children:[(0,Oa.jsx)("span",{children:"\ud83d\udeaa"}),(0,Oa.jsx)("span",{children:"Abmelden"})]})]})})]})]})}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[(0,Oa.jsx)("form",{onSubmit:A,className:"hidden lg:block",children:(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(rl,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,Oa.jsx)("input",{ref:f,type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Globale Suche (\u2318K)",className:"pl-9 pr-3 py-2 bg-slate-100/70 border border-transparent rounded-xl text-sm text-slate-700 focus:bg-white focus:border-blue-400 focus:outline-none transition",autoComplete:"off","aria-label":"Globale Suche"})]})}),(0,Oa.jsx)(tl,{}),(0,Oa.jsx)("div",{className:"hidden md:flex items-center gap-3 pl-4 border-l border-slate-200",children:(0,Oa.jsxs)(Oe,{to:"/profile/me",className:"flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-100 transition-all",title:"Profil anzeigen",children:[(0,Oa.jsx)("div",{className:"w-9 h-9 rounded-full overflow-hidden shadow-lg ring-2 ring-white bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:E?(0,Oa.jsx)("img",{src:E,alt:w.name,className:"w-full h-full object-cover"}):(0,Oa.jsx)("span",{className:"text-white font-bold text-sm",children:w.name.charAt(0).toUpperCase()})}),(0,Oa.jsxs)("div",{className:"text-right max-w-[120px]",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-900 truncate",children:w.name}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500 truncate",children:C(w.role)})]})]})}),(0,Oa.jsx)("button",{onClick:()=>s(!a),type:"button",className:"btn-icon-mobile bg-slate-100 hover:bg-slate-200 shadow-inner mobile-touch-feedback","aria-label":x("mobile.nav.toggle"),children:(0,Oa.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"}):(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})})}),!a&&(0,Oa.jsx)("div",{className:"lg:hidden border-b border-slate-100"}),m&&a&&Ee.createPortal((0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"mobile-menu-backdrop lg:hidden",onClick:()=>s(!1)}),(0,Oa.jsx)("div",{className:"mobile-menu-drawer lg:hidden",children:(0,Oa.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 border-b border-slate-200",children:[(0,Oa.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Men\xfc"}),(0,Oa.jsx)("button",{onClick:()=>s(!1),type:"button",className:"p-2 rounded-full hover:bg-slate-100 transition",children:(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Oa.jsxs)("div",{className:"md:hidden m-4 mb-0 p-4 rounded-2xl border border-slate-100 bg-slate-50 text-slate-900",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-white flex items-center justify-center ring-2 ring-white shadow",children:E?(0,Oa.jsx)("img",{src:E,alt:w.name,className:"w-full h-full object-cover"}):(0,Oa.jsx)("span",{className:"text-xl font-bold text-slate-800",children:w.name.charAt(0).toUpperCase()})}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:w.name}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500",children:C(w.role)})]})]}),(0,Oa.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[(0,Oa.jsx)(Oe,{to:"/profile/me",onClick:()=>s(!1),className:"text-xs font-semibold px-3 py-2 rounded-lg bg-white text-slate-800 text-center border border-slate-200 hover:bg-slate-100 transition",children:"Profil \xf6ffnen"}),(0,Oa.jsx)("button",{onClick:()=>{s(!1),F()},className:"text-xs font-semibold px-3 py-2 rounded-lg bg-red-50 text-red-600 border border-red-100 hover:bg-red-100 transition",children:"Abmelden"})]})]}),(0,Oa.jsx)("div",{className:"flex-1 overflow-y-auto mobile-scroll-container",children:(0,Oa.jsxs)("div",{className:"px-4 py-4 space-y-4",children:[(0,Oa.jsx)("form",{onSubmit:A,children:(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(rl,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,Oa.jsx)("input",{type:"search",value:i,onChange:e=>l(e.target.value),placeholder:S,autoComplete:"off",className:"w-full pl-9 pr-3 py-2.5 rounded-xl border border-slate-200 text-sm text-slate-700 focus:border-slate-400 focus:ring-2 focus:ring-slate-200 transition bg-white"})]})}),N.length>0&&(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Schnellzugriffe"}),(0,Oa.jsx)("div",{className:"grid grid-cols-2 gap-2",children:N.map(e=>(0,Oa.jsxs)(Oe,{to:e.to,onClick:()=>s(!1),className:"flex flex-col gap-1 rounded-2xl border border-slate-200 bg-gradient-to-br from-white to-slate-50 p-3 shadow-sm",children:[(0,Oa.jsx)("span",{className:"text-xl",children:e.emoji}),(0,Oa.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),(0,Oa.jsx)("span",{className:"text-[11px] text-slate-500",children:e.description})]},e.to))})]}),(0,Oa.jsx)("div",{className:"space-y-1",children:k.map(e=>{const n=t.pathname===e.to;return(0,Oa.jsxs)(Oe,{to:e.to,onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-3 rounded-xl border transition-all ".concat(n?"border-slate-900 text-slate-900 bg-slate-100":"bg-white border-slate-200 text-slate-700 hover:border-slate-400"),children:[(0,Oa.jsx)("span",{className:"text-xl",children:e.icon}),(0,Oa.jsxs)("div",{className:"flex-1 text-left",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold",children:x(e.labelKey)}),(0,Oa.jsx)("p",{className:"text-[11px] text-slate-400",children:n?"Aktive Ansicht":"Tippen zum \xd6ffnen"})]}),n&&(0,Oa.jsx)("div",{className:"w-2 h-2 bg-slate-900 rounded-full"})]},e.to)})})]})}),(0,Oa.jsx)("div",{className:"px-4 pb-5 pt-4 border-t border-slate-200 bg-white",children:(0,Oa.jsxs)("button",{onClick:()=>{s(!1),n("/users")},type:"button",className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-slate-800 text-slate-800 font-semibold hover:bg-slate-50 transition",children:[(0,Oa.jsx)("span",{children:"Team & Admin"}),(0,Oa.jsx)("span",{"aria-hidden":!0,children:"\u2192"})]})})]})})]}),m)]}):null},ol=cs("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ll=cs("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),ul=cs("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),cl=cs("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),dl=cs("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hl=[{to:"/dashboard",icon:ol,labelKey:"navigation.dashboard"},{to:"/kanban",icon:ll,labelKey:"navigation.tasks"},{to:"/messages",icon:ds,labelKey:"navigation.messages"},{to:"/schedule",icon:fs,labelKey:"navigation.schedule"},{to:"/kisten",icon:ul,labelKey:"navigation.kisten"},{to:"/knowledge-base",icon:cl,labelKey:"navigation.knowledge"},{to:"/profile/me",icon:dl,labelKey:"mobile.quickActions.profile"}],ml=()=>{const{pathname:e}=te(),{t:t}=qa(),[n,r]=(0,o.useState)(0);if((0,o.useEffect)(()=>{const e=async()=>{try{var e;const t=await To.get("/messages/unread-count");r((null===(e=t.data)||void 0===e?void 0:e.count)||0)}catch(t){console.error("Failed to fetch unread messages count:",t)}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]),["/login","/first-setup"].includes(e))return null;return(0,Oa.jsx)("nav",{className:"bottom-nav-mobile lg:hidden",children:hl.map(r=>{let{to:a,icon:s,labelKey:i}=r;const o=e===a,l=(e=>"/messages"===e?n:0)(a);return(0,Oa.jsxs)(Te,{to:a,className:"bottom-nav-item ".concat(o?"active":""),children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(s,{className:"w-6 h-6",strokeWidth:o?2.5:2}),l>0&&(0,Oa.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1 animate-pulse",children:l>99?"99+":l})]}),(0,Oa.jsx)("span",{className:"font-medium",children:t(i)})]},a)})})},pl=cs("cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),fl=cs("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gl=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)({necessary:!0,analytics:!1,marketing:!1,functional:!1});(0,o.useEffect)(()=>{localStorage.getItem("cookieConsent")||setTimeout(()=>t(!0),1e3)},[]);const i=()=>{const e={necessary:!0,analytics:!1,marketing:!1,functional:!1,timestamp:(new Date).toISOString()};localStorage.setItem("cookieConsent",JSON.stringify(e)),t(!1)},l=e=>{"necessary"!==e&&s(t=>qe(qe({},t),{},{[e]:!t[e]}))};return e?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"cookie-consent-overlay",children:(0,Oa.jsxs)("div",{className:"cookie-consent-banner",children:[(0,Oa.jsxs)("div",{className:"cookie-consent-header",children:[(0,Oa.jsx)("div",{className:"cookie-icon-wrapper",children:(0,Oa.jsx)(pl,{className:"cookie-icon"})}),(0,Oa.jsx)("button",{onClick:i,className:"cookie-close-btn","aria-label":"Ablehnen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"cookie-consent-body",children:[(0,Oa.jsx)("h2",{children:"Wir verwenden Cookies \ud83c\udf6a"}),(0,Oa.jsx)("p",{children:"Wir verwenden Cookies und \xe4hnliche Technologien, um Ihre Erfahrung zu verbessern, unsere Dienste zu analysieren und personalisierte Inhalte anzubieten. Sie k\xf6nnen w\xe4hlen, welche Cookies Sie akzeptieren m\xf6chten."}),(0,Oa.jsxs)("div",{className:"cookie-links",children:[(0,Oa.jsxs)("button",{onClick:()=>r(!0),className:"cookie-link-btn",children:[(0,Oa.jsx)(fl,{className:"w-4 h-4"}),"Cookie-Einstellungen"]}),(0,Oa.jsx)("a",{href:"/datenschutz",className:"cookie-link",children:"Datenschutzerkl\xe4rung"})]})]}),(0,Oa.jsxs)("div",{className:"cookie-consent-footer",children:[(0,Oa.jsx)("button",{onClick:i,className:"cookie-btn cookie-btn-secondary",children:"Nur Notwendige"}),(0,Oa.jsx)("button",{onClick:()=>{const e={necessary:!0,analytics:!0,marketing:!0,functional:!0,timestamp:(new Date).toISOString()};localStorage.setItem("cookieConsent",JSON.stringify(e)),t(!1)},className:"cookie-btn cookie-btn-primary",children:"Alle akzeptieren"})]})]})}),n&&(0,Oa.jsx)("div",{className:"cookie-settings-overlay",onClick:()=>r(!1),children:(0,Oa.jsxs)("div",{className:"cookie-settings-modal",onClick:e=>e.stopPropagation(),children:[(0,Oa.jsxs)("div",{className:"cookie-settings-header",children:[(0,Oa.jsx)("h2",{children:"Cookie-Einstellungen"}),(0,Oa.jsx)("button",{onClick:()=>r(!1),className:"cookie-close-btn","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"cookie-settings-body",children:[(0,Oa.jsx)("p",{className:"cookie-settings-intro",children:"W\xe4hlen Sie, welche Cookies Sie akzeptieren m\xf6chten. Sie k\xf6nnen Ihre Einstellungen jederzeit \xe4ndern."}),(0,Oa.jsx)("div",{className:"cookie-category",children:(0,Oa.jsxs)("div",{className:"cookie-category-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{children:"Notwendige Cookies"}),(0,Oa.jsx)("p",{children:"Erforderlich f\xfcr die Grundfunktionen der Website"})]}),(0,Oa.jsx)("div",{className:"cookie-toggle disabled",children:(0,Oa.jsx)("span",{children:"Immer aktiv"})})]})}),(0,Oa.jsx)("div",{className:"cookie-category",children:(0,Oa.jsxs)("div",{className:"cookie-category-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{children:"Analytische Cookies"}),(0,Oa.jsx)("p",{children:"Helfen uns zu verstehen, wie Sie unsere Website nutzen"})]}),(0,Oa.jsxs)("label",{className:"cookie-toggle",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:a.analytics,onChange:()=>l("analytics")}),(0,Oa.jsx)("span",{className:"cookie-toggle-slider"})]})]})}),(0,Oa.jsx)("div",{className:"cookie-category",children:(0,Oa.jsxs)("div",{className:"cookie-category-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{children:"Marketing Cookies"}),(0,Oa.jsx)("p",{children:"Werden verwendet, um Ihnen relevante Werbung anzuzeigen"})]}),(0,Oa.jsxs)("label",{className:"cookie-toggle",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:a.marketing,onChange:()=>l("marketing")}),(0,Oa.jsx)("span",{className:"cookie-toggle-slider"})]})]})}),(0,Oa.jsx)("div",{className:"cookie-category",children:(0,Oa.jsxs)("div",{className:"cookie-category-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{children:"Funktionale Cookies"}),(0,Oa.jsx)("p",{children:"Erm\xf6glichen erweiterte Funktionen und Personalisierung"})]}),(0,Oa.jsxs)("label",{className:"cookie-toggle",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:a.functional,onChange:()=>l("functional")}),(0,Oa.jsx)("span",{className:"cookie-toggle-slider"})]})]})})]}),(0,Oa.jsxs)("div",{className:"cookie-settings-footer",children:[(0,Oa.jsx)("button",{onClick:()=>r(!1),className:"cookie-btn cookie-btn-secondary",children:"Abbrechen"}),(0,Oa.jsx)("button",{onClick:()=>{const e=qe(qe({},a),{},{timestamp:(new Date).toISOString()});localStorage.setItem("cookieConsent",JSON.stringify(e)),t(!1),r(!1)},className:"cookie-btn cookie-btn-primary",children:"Einstellungen speichern"})]})]})})]}):null},bl=()=>{const[e,t]=(0,o.useState)({email:"",password:""}),[n,r]=(0,o.useState)(""),[a,s]=(0,o.useState)(!1),i=Pa(),l=null===i||void 0===i?void 0:i.login,u=re(),c=n=>{t(qe(qe({},e),{},{[n.target.name]:n.target.value}))};return(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,Oa.jsx)("div",{className:"bg-white bg-opacity-95 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20",children:(0,Oa.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),r("");try{const t=await(n=e.email,a=e.password,ja.post("/auth/login",{email:n,password:a})),{token:r,user:s}=t.data;l(r,s),u("/dashboard")}catch(BM){r("Ung\xfcltige Anmeldeinformationen. Bitte versuche es erneut.")}finally{s(!1)}var n,a},className:"space-y-6",children:[n&&(0,Oa.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md text-sm",children:n}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail"}),(0,Oa.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"E-Mail eingeben"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort"}),(0,Oa.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Passwort eingeben"})]}),(0,Oa.jsx)("div",{className:"pt-4",children:(0,Oa.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-lg",children:a?"Wird angemeldet...":"Anmelden"})})]})})})};function Dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ue(r.key),r)}}function vl(e,t,n){return t&&xl(e.prototype,t),n&&xl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yl(e)}function wl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wl=function(){return!!e})()}function El(e,t){if(t&&("object"==ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cl(e,t,n){return t=yl(t),El(e,wl()?Reflect.construct(t,n||[],yl(e).constructor):t.apply(e,n))}function Fl(e,t){return Fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fl(e,t)}function Al(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fl(e,t)}function kl(e){if(Array.isArray(e))return e}function Nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jl(e,t){if(e){if("string"==typeof e)return Nl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nl(e,t):void 0}}function _l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sl(e,t){return kl(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||jl(e,t)||_l()}var Bl=n(2803),Ml=n(949),Ol=n.n(Ml),Tl=function(){};function Rl(e,t){return void 0!==e[t]}function Il(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}var Pl=n(8168);function Ll(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function zl(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ul(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ll.__suppressDeprecationWarning=!0,zl.__suppressDeprecationWarning=!0,Ul.__suppressDeprecationWarning=!0;var Wl=n(1942),Hl=n.n(Wl),ql="milliseconds",Vl="seconds",Kl="minutes",Yl="hours",Gl="day",$l="week",Zl="month",Xl="year",Ql="decade",Jl="century",eu={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},tu={month:1,year:12,decade:120,century:1200};function nu(e){return e%4===0&&e%100!==0||e%400===0?29:28}function ru(e,t,n){switch(e=new Date(e),n){case ql:case Vl:case Kl:case Yl:case Gl:case $l:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*eu.minutes)}(e,n)}(e,t*eu[n]);case Zl:case Xl:case Ql:case Jl:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),s=12*n+r+t,i=Math.trunc(s/12),o=s%12,l=Math.min(a,function(e){return[31,nu(e),31,30,31,30,31,31,30,31,30,31]}(i)[o]),u=new Date(e);return u.setFullYear(i),u.setDate(1),u.setMonth(o),u.setDate(l),u}(e,t*tu[n])}throw new TypeError('Invalid units: "'+n+'"')}function au(e,t,n){return ru(e,-t,n)}function su(e,t,n){switch(e=new Date(e),t){case Jl:case Ql:case Xl:e=wu(e,0);case Zl:e=yu(e,1);case $l:case Gl:e=xu(e,0);case Yl:e=Du(e,0);case Kl:e=bu(e,0);case Vl:e=gu(e,0)}return t===Ql&&(e=au(e,Eu(e)%10,"year")),t===Jl&&(e=au(e,Eu(e)%100,"year")),t===$l&&(e=Au(e,0,n)),e}function iu(e,t,n){switch(e=su(e=new Date(e),t,n),t){case Jl:case Ql:case Xl:case Zl:case $l:(e=au(e=ru(e,1,t),1,Gl)).setHours(23,59,59,999);break;case Gl:e.setHours(23,59,59,999);break;case Yl:case Kl:case Vl:e=au(e=ru(e,1,t),1,ql)}return e}var ou=ju(function(e,t){return e===t}),lu=ju(function(e,t){return e!==t}),uu=ju(function(e,t){return e>t}),cu=ju(function(e,t){return e>=t}),du=ju(function(e,t){return e<t}),hu=ju(function(e,t){return e<=t});function mu(){return new Date(Math.min.apply(Math,arguments))}function pu(){return new Date(Math.max.apply(Math,arguments))}function fu(e,t,n,r){return r=r||"day",(!t||cu(e,t,r))&&(!n||hu(e,n,r))}var gu=Nu("Milliseconds"),bu=Nu("Seconds"),Du=Nu("Minutes"),xu=Nu("Hours"),vu=Nu("Day"),yu=Nu("Date"),wu=Nu("Month"),Eu=Nu("FullYear");function Cu(e,t){return void 0===t?Eu(su(e,Ql)):ru(e,t+10,Xl)}function Fu(e,t){return void 0===t?Eu(su(e,Jl)):ru(e,t+100,Xl)}function Au(e,t,n){var r=(vu(e)+7-(n||0))%7;return void 0===t?r:ru(e,t-r,Gl)}function ku(e,t,n,r){var a,s,i;switch(n){case ql:case Vl:case Kl:case Yl:case Gl:case $l:a=t.getTime()-e.getTime();break;case Zl:case Xl:case Ql:case Jl:a=12*(Eu(t)-Eu(e))+wu(t)-wu(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case ql:s=1;break;case Vl:s=1e3;break;case Kl:s=6e4;break;case Yl:s=36e5;break;case Gl:s=864e5;break;case $l:s=6048e5;break;case Zl:s=1;break;case Xl:s=12;break;case Ql:s=120;break;case Jl:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return i=a/s,r?i:Math.round(i)}function Nu(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&("Hours"===e||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function ju(e){return function(t,n,r){return e(+su(t,r),+su(n,r))}}function _u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Su(e){return function(e){if(Array.isArray(e))return Nl(e)}(e)||_u(e)||jl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bu=n(8251),Mu=n.n(Bu),Ou=n(2930),Tu=n(549);function Ru(){return(0,o.useState)(null)}const Iu=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Pu=function(e,t){return(0,o.useMemo)(()=>function(e,t){const n=Iu(e),r=Iu(t);return e=>{n&&n(e),r&&r(e)}}(e,t),[e,t])};var Lu="top",zu="bottom",Uu="right",Wu="left",Hu="auto",qu=[Lu,zu,Uu,Wu],Vu="start",Ku="end",Yu="viewport",Gu="popper",$u=qu.reduce(function(e,t){return e.concat([t+"-"+Vu,t+"-"+Ku])},[]),Zu=[].concat(qu,[Hu]).reduce(function(e,t){return e.concat([t,t+"-"+Vu,t+"-"+Ku])},[]),Xu=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Qu=function(e){const t=function(){const e=(0,o.useRef)(!0),t=(0,o.useRef)(()=>e.current);return(0,o.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}();return[e[0],(0,o.useCallback)(n=>{if(t())return e[1](n)},[t,e[1]])]};function Ju(e){return e.split("-")[0]}function ec(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function tc(e){return e instanceof ec(e).Element||e instanceof Element}function nc(e){return e instanceof ec(e).HTMLElement||e instanceof HTMLElement}function rc(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ec(e).ShadowRoot||e instanceof ShadowRoot)}var ac=Math.max,sc=Math.min,ic=Math.round;function oc(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lc(){return!/^((?!chrome|android).)*safari/i.test(oc())}function uc(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,s=1;t&&nc(e)&&(a=e.offsetWidth>0&&ic(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ic(r.height)/e.offsetHeight||1);var i=(tc(e)?ec(e):window).visualViewport,o=!lc()&&n,l=(r.left+(o&&i?i.offsetLeft:0))/a,u=(r.top+(o&&i?i.offsetTop:0))/s,c=r.width/a,d=r.height/s;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function cc(e){var t=uc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function dc(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&rc(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hc(e){return e?(e.nodeName||"").toLowerCase():null}function mc(e){return ec(e).getComputedStyle(e)}function pc(e){return["table","td","th"].indexOf(hc(e))>=0}function fc(e){return((tc(e)?e.ownerDocument:e.document)||window.document).documentElement}function gc(e){return"html"===hc(e)?e:e.assignedSlot||e.parentNode||(rc(e)?e.host:null)||fc(e)}function bc(e){return nc(e)&&"fixed"!==mc(e).position?e.offsetParent:null}function Dc(e){for(var t=ec(e),n=bc(e);n&&pc(n)&&"static"===mc(n).position;)n=bc(n);return n&&("html"===hc(n)||"body"===hc(n)&&"static"===mc(n).position)?t:n||function(e){var t=/firefox/i.test(oc());if(/Trident/i.test(oc())&&nc(e)&&"fixed"===mc(e).position)return null;var n=gc(e);for(rc(n)&&(n=n.host);nc(n)&&["html","body"].indexOf(hc(n))<0;){var r=mc(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function xc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vc(e,t,n){return ac(e,sc(t,n))}function yc(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function wc(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}const Ec={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,o=Ju(n.placement),l=xc(o),u=[Wu,Uu].indexOf(o)>=0?"height":"width";if(s&&i){var c=function(e,t){return yc("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:wc(e,qu))}(a.padding,n),d=cc(s),h="y"===l?Lu:Wu,m="y"===l?zu:Uu,p=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],f=i[l]-n.rects.reference[l],g=Dc(s),b=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,D=p/2-f/2,x=c[h],v=b-d[u]-c[m],y=b/2-d[u]/2+D,w=vc(x,y,v),E=l;n.modifiersData[r]=((t={})[E]=w,t.centerOffset=w-y,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&dc(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cc(e){return e.split("-")[1]}var Fc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ac(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=i.x,m=void 0===h?0:h,p=i.y,f=void 0===p?0:p,g="function"===typeof c?c({x:m,y:f}):{x:m,y:f};m=g.x,f=g.y;var b=i.hasOwnProperty("x"),D=i.hasOwnProperty("y"),x=Wu,v=Lu,y=window;if(u){var w=Dc(n),E="clientHeight",C="clientWidth";if(w===ec(n)&&"static"!==mc(w=fc(n)).position&&"absolute"===o&&(E="scrollHeight",C="scrollWidth"),a===Lu||(a===Wu||a===Uu)&&s===Ku)v=zu,f-=(d&&w===y&&y.visualViewport?y.visualViewport.height:w[E])-r.height,f*=l?1:-1;if(a===Wu||(a===Lu||a===zu)&&s===Ku)x=Uu,m-=(d&&w===y&&y.visualViewport?y.visualViewport.width:w[C])-r.width,m*=l?1:-1}var F,A=Object.assign({position:o},u&&Fc),k=!0===c?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:ic(n*a)/a||0,y:ic(r*a)/a||0}}({x:m,y:f},ec(n)):{x:m,y:f};return m=k.x,f=k.y,l?Object.assign({},A,((F={})[v]=D?"0":"",F[x]=b?"0":"",F.transform=(y.devicePixelRatio||1)<=1?"translate("+m+"px, "+f+"px)":"translate3d("+m+"px, "+f+"px, 0)",F)):Object.assign({},A,((t={})[v]=D?f+"px":"",t[x]=b?m+"px":"",t.transform="",t))}var kc={passive:!0};var Nc={left:"right",right:"left",bottom:"top",top:"bottom"};function jc(e){return e.replace(/left|right|bottom|top/g,function(e){return Nc[e]})}var _c={start:"end",end:"start"};function Sc(e){return e.replace(/start|end/g,function(e){return _c[e]})}function Bc(e){var t=ec(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Mc(e){return uc(fc(e)).left+Bc(e).scrollLeft}function Oc(e){var t=mc(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Tc(e){return["html","body","#document"].indexOf(hc(e))>=0?e.ownerDocument.body:nc(e)&&Oc(e)?e:Tc(gc(e))}function Rc(e,t){var n;void 0===t&&(t=[]);var r=Tc(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),s=ec(r),i=a?[s].concat(s.visualViewport||[],Oc(r)?r:[]):r,o=t.concat(i);return a?o:o.concat(Rc(gc(i)))}function Ic(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Pc(e,t,n){return t===Yu?Ic(function(e,t){var n=ec(e),r=fc(e),a=n.visualViewport,s=r.clientWidth,i=r.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;var u=lc();(u||!u&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o+Mc(e),y:l}}(e,n)):tc(t)?function(e,t){var n=uc(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ic(function(e){var t,n=fc(e),r=Bc(e),a=null==(t=e.ownerDocument)?void 0:t.body,s=ac(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=ac(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+Mc(e),l=-r.scrollTop;return"rtl"===mc(a||n).direction&&(o+=ac(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}(fc(e)))}function Lc(e,t,n,r){var a="clippingParents"===t?function(e){var t=Rc(gc(e)),n=["absolute","fixed"].indexOf(mc(e).position)>=0&&nc(e)?Dc(e):e;return tc(n)?t.filter(function(e){return tc(e)&&dc(e,n)&&"body"!==hc(e)}):[]}(e):[].concat(t),s=[].concat(a,[n]),i=s[0],o=s.reduce(function(t,n){var a=Pc(e,n,r);return t.top=ac(a.top,t.top),t.right=sc(a.right,t.right),t.bottom=sc(a.bottom,t.bottom),t.left=ac(a.left,t.left),t},Pc(e,i,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function zc(e){var t,n=e.reference,r=e.element,a=e.placement,s=a?Ju(a):null,i=a?Cc(a):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case Lu:t={x:o,y:n.y-r.height};break;case zu:t={x:o,y:n.y+n.height};break;case Uu:t={x:n.x+n.width,y:l};break;case Wu:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=s?xc(s):null;if(null!=u){var c="y"===u?"height":"width";switch(i){case Vu:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Ku:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function Uc(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,s=n.strategy,i=void 0===s?e.strategy:s,o=n.boundary,l=void 0===o?"clippingParents":o,u=n.rootBoundary,c=void 0===u?Yu:u,d=n.elementContext,h=void 0===d?Gu:d,m=n.altBoundary,p=void 0!==m&&m,f=n.padding,g=void 0===f?0:f,b=yc("number"!==typeof g?g:wc(g,qu)),D=h===Gu?"reference":Gu,x=e.rects.popper,v=e.elements[p?D:h],y=Lc(tc(v)?v:v.contextElement||fc(e.elements.popper),l,c,i),w=uc(e.elements.reference),E=zc({reference:w,element:x,strategy:"absolute",placement:a}),C=Ic(Object.assign({},x,E)),F=h===Gu?C:w,A={top:y.top-F.top+b.top,bottom:F.bottom-y.bottom+b.bottom,left:y.left-F.left+b.left,right:F.right-y.right+b.right},k=e.modifiersData.offset;if(h===Gu&&k){var N=k[a];Object.keys(A).forEach(function(e){var t=[Uu,zu].indexOf(e)>=0?1:-1,n=[Lu,zu].indexOf(e)>=0?"y":"x";A[e]+=N[n]*t})}return A}const Wc={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0===i||i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,m=n.flipVariations,p=void 0===m||m,f=n.allowedAutoPlacements,g=t.options.placement,b=Ju(g),D=l||(b===g||!p?[jc(g)]:function(e){if(Ju(e)===Hu)return[];var t=jc(e);return[Sc(e),t,Sc(t)]}(g)),x=[g].concat(D).reduce(function(e,n){return e.concat(Ju(n)===Hu?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,i=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Zu:l,c=Cc(r),d=c?o?$u:$u.filter(function(e){return Cc(e)===c}):qu,h=d.filter(function(e){return u.indexOf(e)>=0});0===h.length&&(h=d);var m=h.reduce(function(t,n){return t[n]=Uc(e,{placement:n,boundary:a,rootBoundary:s,padding:i})[Ju(n)],t},{});return Object.keys(m).sort(function(e,t){return m[e]-m[t]})}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:f}):n)},[]),v=t.rects.reference,y=t.rects.popper,w=new Map,E=!0,C=x[0],F=0;F<x.length;F++){var A=x[F],k=Ju(A),N=Cc(A)===Vu,j=[Lu,zu].indexOf(k)>=0,_=j?"width":"height",S=Uc(t,{placement:A,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),B=j?N?Uu:Wu:N?zu:Lu;v[_]>y[_]&&(B=jc(B));var M=jc(B),O=[];if(s&&O.push(S[k]<=0),o&&O.push(S[B]<=0,S[M]<=0),O.every(function(e){return e})){C=A,E=!1;break}w.set(A,O)}if(E)for(var T=function(e){var t=x.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},R=p?3:1;R>0;R--){if("break"===T(R))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Hc(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function qc(e){return[Lu,Uu,zu,Wu].some(function(t){return e[t]>=0})}const Vc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=void 0===a?[0,0]:a,i=Zu.reduce(function(e,n){return e[n]=function(e,t,n){var r=Ju(e),a=[Wu,Lu].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[Wu,Uu].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}(n,t.rects,s),e},{}),o=i[t.placement],l=o.x,u=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}};const Kc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0!==i&&i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,m=void 0===h||h,p=n.tetherOffset,f=void 0===p?0:p,g=Uc(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=Ju(t.placement),D=Cc(t.placement),x=!D,v=xc(b),y="x"===v?"y":"x",w=t.modifiersData.popperOffsets,E=t.rects.reference,C=t.rects.popper,F="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,A="number"===typeof F?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(w){if(s){var j,_="y"===v?Lu:Wu,S="y"===v?zu:Uu,B="y"===v?"height":"width",M=w[v],O=M+g[_],T=M-g[S],R=m?-C[B]/2:0,I=D===Vu?E[B]:C[B],P=D===Vu?-C[B]:-E[B],L=t.elements.arrow,z=m&&L?cc(L):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=U[_],H=U[S],q=vc(0,E[B],z[B]),V=x?E[B]/2-R-q-W-A.mainAxis:I-q-W-A.mainAxis,K=x?-E[B]/2+R+q+H+A.mainAxis:P+q+H+A.mainAxis,Y=t.elements.arrow&&Dc(t.elements.arrow),G=Y?"y"===v?Y.clientTop||0:Y.clientLeft||0:0,$=null!=(j=null==k?void 0:k[v])?j:0,Z=M+K-$,X=vc(m?sc(O,M+V-$-G):O,M,m?ac(T,Z):T);w[v]=X,N[v]=X-M}if(o){var Q,J="x"===v?Lu:Wu,ee="x"===v?zu:Uu,te=w[y],ne="y"===y?"height":"width",re=te+g[J],ae=te-g[ee],se=-1!==[Lu,Wu].indexOf(b),ie=null!=(Q=null==k?void 0:k[y])?Q:0,oe=se?re:te-E[ne]-C[ne]-ie+A.altAxis,le=se?te+E[ne]+C[ne]-ie-A.altAxis:ae,ue=m&&se?function(e,t,n){var r=vc(e,t,n);return r>n?n:r}(oe,te,le):vc(m?oe:re,te,m?le:ae);w[y]=ue,N[y]=ue-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};function Yc(e,t,n){void 0===n&&(n=!1);var r=nc(t),a=nc(t)&&function(e){var t=e.getBoundingClientRect(),n=ic(t.width)/e.offsetWidth||1,r=ic(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=fc(t),i=uc(e,a,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==hc(t)||Oc(s))&&(o=function(e){return e!==ec(e)&&nc(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Bc(e);var t}(t)),nc(t)?((l=uc(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Mc(s))),{x:i.left+o.scrollLeft-l.x,y:i.top+o.scrollTop-l.y,width:i.width,height:i.height}}function Gc(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||a(e)}),r}function $c(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Zc={placement:"bottom",modifiers:[],strategy:"absolute"};function Xc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Qc(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,s=void 0===a?Zc:a;return function(e,t,n){void 0===n&&(n=s);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zc,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],o=!1,l={state:a,setOptions:function(n){var o="function"===typeof n?n(a.options):n;u(),a.options=Object.assign({},s,a.options,o),a.scrollParents={reference:tc(e)?Rc(e):e.contextElement?Rc(e.contextElement):[],popper:Rc(t)};var c=function(e){var t=Gc(e);return Xu.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,a.options.modifiers)));return a.orderedModifiers=c.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var o=s({state:a,name:t,instance:l,options:r}),u=function(){};i.push(o||u)}}),l.update()},forceUpdate:function(){if(!o){var e=a.elements,t=e.reference,n=e.popper;if(Xc(t,n)){a.rects={reference:Yc(t,Dc(n),"fixed"===a.options.strategy),popper:cc(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var s=a.orderedModifiers[r],i=s.fn,u=s.options,c=void 0===u?{}:u,d=s.name;"function"===typeof i&&(a=i({state:a,options:c,name:d,instance:l})||a)}else a.reset=!1,r=-1}}},update:$c(function(){return new Promise(function(e){l.forceUpdate(),e(a)})}),destroy:function(){u(),o=!0}};if(!Xc(e,t))return l;function u(){i.forEach(function(e){return e()}),i=[]}return l.setOptions(n).then(function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Jc=Qc({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=Uc(t,{elementContext:"reference"}),o=Uc(t,{altBoundary:!0}),l=Hc(i,r),u=Hc(o,a,s),c=qc(l),d=qc(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=zc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,s=n.adaptive,i=void 0===s||s,o=n.roundOffsets,l=void 0===o||o,u={placement:Ju(t.placement),variation:Cc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ac(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ac(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=void 0===a||a,i=r.resize,o=void 0===i||i,l=ec(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(e){e.addEventListener("scroll",n.update,kc)}),o&&l.addEventListener("resize",n.update,kc),function(){s&&u.forEach(function(e){e.removeEventListener("scroll",n.update,kc)}),o&&l.removeEventListener("resize",n.update,kc)}},data:{}},Vc,Wc,Kc,Ec]}),ed=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},td={name:"applyStyles",enabled:!1},nd={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var a=(n.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==r.id});a.length?n.setAttribute("aria-describedby",a.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,a=n.reference,s=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in a){var i=a.getAttribute("aria-describedby");if(i&&-1!==i.split(",").indexOf(r.id))return;a.setAttribute("aria-describedby",i?i+","+r.id:r.id)}}},rd=[];const ad=function(e,t,n){var r=void 0===n?{}:n,a=r.enabled,s=void 0===a||a,i=r.placement,l=void 0===i?"bottom":i,u=r.strategy,c=void 0===u?"absolute":u,d=r.modifiers,h=void 0===d?rd:d,m=ts(r,["enabled","placement","strategy","modifiers"]),p=(0,o.useRef)(),f=(0,o.useCallback)(function(){var e;null==(e=p.current)||e.update()},[]),g=(0,o.useCallback)(function(){var e;null==(e=p.current)||e.forceUpdate()},[]),b=Qu((0,o.useState)({placement:l,update:f,forceUpdate:g,attributes:{},styles:{popper:ed(c),arrow:{}}})),D=b[0],x=b[1],v=(0,o.useMemo)(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach(function(e){n[e]=t.styles[e],r[e]=t.attributes[e]}),x({state:t,styles:n,attributes:r,update:f,forceUpdate:g,placement:t.placement})}}},[f,g,x]);return(0,o.useEffect)(function(){p.current&&s&&p.current.setOptions({placement:l,strategy:c,modifiers:[].concat(h,[v,td])})},[c,l,v,s]),(0,o.useEffect)(function(){if(s&&null!=e&&null!=t)return p.current=Jc(e,t,(0,Pl.A)({},m,{placement:l,strategy:c,modifiers:[].concat(h,[nd,v])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,x(function(e){return(0,Pl.A)({},e,{attributes:{},styles:{popper:ed(c)}})}))}},[s,e,t]),D};var sd=n(8336),id=n(7410);const od=function(e){const t=(0,o.useRef)(e);return(0,o.useEffect)(()=>{t.current=e},[e]),t};function ld(e){const t=od(e);return(0,o.useCallback)(function(){return t.current&&t.current(...arguments)},[t])}var ud=n(2241),cd=n.n(ud),dd=n(9815);const hd=function(e){return(0,dd.A)(function(e){return e&&"setState"in e?Ee.findDOMNode(e):null!=e?e:null}(e))};var md=function(){};var pd=function(e){return e&&("current"in e?e.current:e)};const fd=function(e,t,n){var r=void 0===n?{}:n,a=r.disabled,s=r.clickTrigger,i=void 0===s?"click":s,l=(0,o.useRef)(!1),u=t||md,c=(0,o.useCallback)(function(t){var n,r,a=pd(e);cd()(!!a,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!a||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!(0,sd.default)(a,null!=(n=null==t.composedPath?void 0:t.composedPath()[0])?n:t.target)},[e]),d=ld(function(e){l.current||u(e)}),h=ld(function(e){27===e.keyCode&&u(e)});(0,o.useEffect)(function(){if(!a&&null!=e){var t=window.event,n=hd(pd(e)),r=(0,id.default)(n,i,c,!0),s=(0,id.default)(n,i,function(e){e!==t?d(e):t=void 0}),o=(0,id.default)(n,"keyup",function(e){e!==t?h(e):t=void 0}),l=[];return"ontouchstart"in n.documentElement&&(l=[].slice.call(n.body.children).map(function(e){return(0,id.default)(e,"mousemove",md)})),function(){r(),s(),o(),l.forEach(function(e){return e()})}}},[e,a,i,c,d,h])};var gd=function(e){var t;return"undefined"===typeof document?null:null==e?(0,dd.A)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function bd(e,t){var n=(0,o.useState)(function(){return gd(e)}),r=n[0],a=n[1];if(!r){var s=gd(e);s&&a(s)}return(0,o.useEffect)(function(){t&&r&&t(r)},[t,r]),(0,o.useEffect)(function(){var t=gd(e);t!==r&&a(t)},[e,r]),r}function Dd(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function xd(e){var t,n,r,a,s=e.enabled,i=e.enableEvents,o=e.placement,l=e.flip,u=e.offset,c=e.fixed,d=e.containerPadding,h=e.arrowElement,m=e.popperConfig,p=void 0===m?{}:m,f=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}(p.modifiers);return(0,Pl.A)({},p,{placement:o,enabled:s,strategy:c?"fixed":p.strategy,modifiers:Dd((0,Pl.A)({},f,{eventListeners:{enabled:i},preventOverflow:(0,Pl.A)({},f.preventOverflow,{options:d?(0,Pl.A)({padding:d},null==(t=f.preventOverflow)?void 0:t.options):null==(n=f.preventOverflow)?void 0:n.options}),offset:{options:(0,Pl.A)({offset:u},null==(r=f.offset)?void 0:r.options)},arrow:(0,Pl.A)({},f.arrow,{enabled:!!h,options:(0,Pl.A)({},null==(a=f.arrow)?void 0:a.options,{element:h})}),flip:(0,Pl.A)({enabled:!!l},f.flip)}))})}var vd=o.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,s=e.containerPadding,i=void 0===s?5:s,l=e.popperConfig,u=void 0===l?{}:l,c=e.transition,d=Ru(),h=d[0],m=d[1],p=Ru(),f=p[0],g=p[1],b=Pu(m,t),D=bd(e.container),x=bd(e.target),v=(0,o.useState)(!e.show),y=v[0],w=v[1],E=ad(x,h,xd({placement:a,enableEvents:!!e.show,containerPadding:i||5,flip:n,offset:r,arrowElement:f,popperConfig:u})),C=E.styles,F=E.attributes,A=ts(E,["styles","attributes"]);e.show?y&&w(!1):e.transition||y||w(!0);var k=e.show||c&&!y;if(fd(h,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!k)return null;var N=e.children((0,Pl.A)({},A,{show:!!e.show,props:(0,Pl.A)({},F.popper,{style:C.popper,ref:b}),arrowProps:(0,Pl.A)({},F.arrow,{style:C.arrow,ref:g})}));if(c){var j=e.onExit,_=e.onExiting,S=e.onEnter,B=e.onEntering,M=e.onEntered;N=o.createElement(c,{in:e.show,appear:!0,onExit:j,onExiting:_,onExited:function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:S,onEntering:B,onEntered:M},N)}return D?Ee.createPortal(N,D):null});vd.displayName="Overlay",vd.propTypes={show:Hl().bool,placement:Hl().oneOf(Zu),target:Hl().any,container:Hl().any,flip:Hl().bool,children:Hl().func.isRequired,containerPadding:Hl().number,popperConfig:Hl().object,rootClose:Hl().bool,rootCloseEvent:Hl().oneOf(["click","mousedown"]),rootCloseDisabled:Hl().bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return e.rootClose?(a=Hl().func).isRequired.apply(a,[e].concat(n)):Hl().func.apply(Hl(),[e].concat(n))},transition:Hl().elementType,onEnter:Hl().func,onEntering:Hl().func,onEntered:Hl().func,onExit:Hl().func,onExiting:Hl().func,onExited:Hl().func};const yd=vd;var wd=n(6058),Ed=n(9418),Cd=n.n(Ed),Fd=n(4238),Ad=n(2413),kd=n(166),Nd=n(5695),jd=n.n(Nd),_d=n(9939),Sd=n.n(_d),Bd=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Md(e,t){return e===t||!(!Bd(e)||!Bd(t))}function Od(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Md(e[n],t[n]))return!1;return!0}function Td(e,t){void 0===t&&(t=Od);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){n=null},r}var Rd=n(8525),Id=n(1261),Pd=n.n(Id),Ld=n(4770);function zd(e){return kl(e)||_u(e)||jl(e)||_l()}var Ud=n(5244),Wd=n(2373),Hd=n(210),qd=n.n(Hd),Vd=n(6638),Kd=n.n(Vd),Yd=n(2093),Gd=n.n(Yd),$d=n(9010),Zd=n.n($d);n(7542),n(6825),n(4028),n(3978),n(7588),n(3158),n(6220),n(2839);function Xd(e){return e.children}var Qd="PREV",Jd="NEXT",eh="TODAY",th="DATE",nh={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},rh=Object.keys(nh).map(function(e){return nh[e]});Hl().oneOfType([Hl().string,Hl().func]),Hl().any,Hl().func,Hl().oneOfType([Hl().arrayOf(Hl().oneOf(rh)),Hl().objectOf(function(e,t){if(-1!==rh.indexOf(t)&&"boolean"===typeof e[t])return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return Hl().elementType.apply(Hl(),[e,t].concat(r))})]),Hl().oneOfType([Hl().oneOf(["overlap","no-overlap"]),Hl().func]);var ah={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function sh(e,t){var n=su(e,"month");return su(n,"week",t.startOfWeek())}function ih(e,t){var n=iu(e,"month");return iu(n,"week",t.startOfWeek())}function oh(e,t){for(var n=sh(e,t),r=ih(e,t),a=[];hu(n,r,"day");)a.push(n),n=ru(n,1,"day");return a}function lh(e,t){var n=su(e,t);return ou(n,e)?n:ru(n,1,t)}function uh(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,a=[];hu(r,t,n);)a.push(r),r=ru(r,1,n);return a}function ch(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=su(e,"day"),e=xu(e,xu(t)),e=Du(e,Du(t)),e=bu(e,bu(t)),gu(e,gu(t)))}function dh(e){return 0===xu(e)&&0===Du(e)&&0===bu(e)&&0===gu(e)}function hh(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+su(e,n)/ah[n]-+su(t,n)/ah[n])):Math.abs(+e-+t)}var mh=Hl().oneOfType([Hl().string,Hl().func]);function ph(e,t,n,r,a){var s="function"===typeof r?r(n,a,e):t.call(e,n,r,a);return Ol()(null==s||"string"===typeof s,"`localizer format(..)` must return a string, null, or undefined"),s}function fh(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function gh(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function bh(e,t){return hh(e,t,"minutes")+gh(e,t)}function Dh(e){var t=su(e,"day");return hh(t,e,"minutes")+gh(t,e)}function xh(e,t){return du(e,t,"day")}function vh(e,t,n){return ou(e,t,"minutes")?cu(t,n,"minutes"):uu(t,n,"minutes")}function yh(e,t){return function(e,t,n,a){return"day"===n&&(n="date"),Math.abs(r[n](e,void 0,a)-r[n](t,void 0,a))}(e,t,"day")}function wh(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,s=e.evtB,i=s.start,o=s.end,l=s.allDay,u=+su(n,"day")-+su(i,"day"),c=yh(n,r),d=yh(i,o);return u||d-c||!!l-!!a||+n-+i||+r-+o}function Eh(e){var t=e.event,n=t.start,r=t.end,a=e.range,s=a.start,i=a.end,o=su(n,"day"),l=hu(o,i,"day"),u=lu(o,r,"minutes")?uu(r,s,"minutes"):cu(r,s,"minutes");return l&&u}function Ch(e,t){return ou(e,t,"day")}function Fh(e,t){return dh(e)&&dh(t)}var Ah=vl(function e(t){var n=this;Dl(this,e),Ol()("function"===typeof t.format,"date localizer `format(..)` must be a function"),Ol()("function"===typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||mh,this.formats=t.formats,this.format=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return ph.apply(void 0,[n,t.format].concat(r))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||ch,this.inRange=t.inRange||fu,this.lt=t.lt||du,this.lte=t.lte||hu,this.gt=t.gt||uu,this.gte=t.gte||cu,this.eq=t.eq||ou,this.neq=t.neq||lu,this.startOf=t.startOf||su,this.endOf=t.endOf||iu,this.add=t.add||ru,this.range=t.range||uh,this.diff=t.diff||hh,this.ceil=t.ceil||lh,this.min=t.min||mu,this.max=t.max||pu,this.minutes=t.minutes||Du,this.daySpan=t.daySpan||yh,this.firstVisibleDay=t.firstVisibleDay||sh,this.lastVisibleDay=t.lastVisibleDay||ih,this.visibleDays=t.visibleDays||oh,this.getSlotDate=t.getSlotDate||fh,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||gh,this.getTotalMin=t.getTotalMin||bh,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Dh,this.continuesPrior=t.continuesPrior||xh,this.continuesAfter=t.continuesAfter||vh,this.sortEvents=t.sortEvents||wh,this.inEventRange=t.inEventRange||Eh,this.isSameDate=t.isSameDate||Ch,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Fh,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function kh(e,t,n,r){var a=qe(qe({},e.formats),n);return qe(qe({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,a[r]||r,t)}})}var Nh=function(e){function t(){var e;Dl(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=Cl(this,t,[].concat(r))).navigate=function(t){e.props.onNavigate(t)},e.view=function(t){e.props.onView(t)},e}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,n=e.label;return o.createElement("div",{className:"rbc-toolbar"},o.createElement("span",{className:"rbc-btn-group"},o.createElement("button",{type:"button",onClick:this.navigate.bind(null,eh)},t.today),o.createElement("button",{type:"button",onClick:this.navigate.bind(null,Qd)},t.previous),o.createElement("button",{type:"button",onClick:this.navigate.bind(null,Jd)},t.next)),o.createElement("span",{className:"rbc-toolbar-label"},n),o.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,n=this.props.views,r=this.props.view;if(n.length>1)return n.map(function(n){return o.createElement("button",{type:"button",key:n,className:(0,Bl.default)({"rbc-active":r===n}),onClick:t.view.bind(null,n)},e[n])})}}])}(o.Component);function jh(e,t){e&&e.apply(null,[].concat(t))}var _h={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var Sh=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Bh=function(e){function t(){return Dl(this,t),Cl(this,t,arguments)}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.event,a=e.selected,s=e.isAllDay,i=e.onSelect,l=e.onDoubleClick,u=e.onKeyPress,c=e.localizer,d=e.continuesPrior,h=e.continuesAfter,m=e.accessors,p=e.getters,f=e.children,g=e.components,b=g.event,D=g.eventWrapper,x=e.slotStart,v=e.slotEnd,y=ns(e,Sh);delete y.resizable;var w=m.title(r),E=m.tooltip(r),C=m.end(r),F=m.start(r),A=m.allDay(r),k=s||A||c.diff(F,c.ceil(C,"day"),"day")>1,N=p.eventProp(r,F,C,a),j=o.createElement("div",{className:"rbc-event-content",title:E||void 0},b?o.createElement(b,{event:r,continuesPrior:d,continuesAfter:h,title:w,isAllDay:A,localizer:c,slotStart:x,slotEnd:v}):w);return o.createElement(D,Object.assign({},this.props,{type:"date"}),o.createElement("div",Object.assign({},y,{style:qe(qe({},N.style),t),className:(0,Bl.default)("rbc-event",n,N.className,{"rbc-selected":a,"rbc-event-allday":k,"rbc-event-continues-prior":d,"rbc-event-continues-after":h}),onClick:function(e){return i&&i(r,e)},onDoubleClick:function(e){return l&&l(r,e)},onKeyDown:function(e){return u&&u(r,e)}}),"function"===typeof f?f(j):j))}}])}(o.Component);function Mh(e,t){return!(!e||null==t)&&Cd()(e,t)}function Oh(e,t){return(e.right-e.left)/t}function Th(e,t,n,r){var a=Oh(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Rh(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,s=e.components,i=e.localizer,l=e.position,u=e.show,c=e.events,d=e.slotStart,h=e.slotEnd,m=e.onSelect,p=e.onDoubleClick,f=e.onKeyPress,g=e.handleDragStart,b=e.popperRef,D=e.target,x=e.offset;!function(e){var t=e.ref,n=e.callback;(0,o.useEffect)(function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[t,n])}({ref:b,callback:u}),(0,o.useLayoutEffect)(function(){var e=function(e){var t=e.target,n=e.offset,r=e.container,a=e.box,s=(0,wd.A)(t),i=s.top,o=s.left,l=s.width,u=s.height,c=(0,wd.A)(r),d=c.top,h=c.left,m=c.width,p=c.height,f=(0,wd.A)(a),g=f.width,b=f.height,D=d+p,x=h+m,v=i+b,y=o+g,w=n.x,E=n.y;return{topOffset:v>D?i-b-E:i+E+u,leftOffset:y>x?o+w-g+l:o+w}}({target:D,offset:x,container:t.current,box:b.current}),n=e.topOffset,r=e.leftOffset;b.current.style.top="".concat(n,"px"),b.current.style.left="".concat(r,"px")},[x.x,x.y,D]);var v=l.width,y={minWidth:v+v/2};return o.createElement("div",{style:y,className:"rbc-overlay",ref:b},o.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),c.map(function(e,t){return o.createElement(Bh,{key:t,type:"popup",localizer:i,event:e,getters:r,onSelect:m,accessors:n,components:s,onDoubleClick:p,onKeyPress:f,continuesPrior:i.lt(n.end(e),d,"day"),continuesAfter:i.gte(n.start(e),h,"day"),slotStart:d,slotEnd:h,selected:Mh(e,a),draggable:!0,onDragStart:function(){return g(e)},onDragEnd:function(){return u()}})}))}var Ih=o.forwardRef(function(e,t){return o.createElement(Rh,Object.assign({},e,{popperRef:t}))});function Ph(e){var t=e.containerRef,n=e.popupOffset,r=void 0===n?5:n,a=e.overlay,s=e.accessors,i=e.localizer,l=e.components,u=e.getters,c=e.selected,d=e.handleSelectEvent,h=e.handleDoubleClickEvent,m=e.handleKeyPressEvent,p=e.handleDragStart,f=e.onHide,g=e.overlayDisplay,b=(0,o.useRef)(null);if(!a.position)return null;var D=r;isNaN(r)||(D={x:r,y:r});var x=a.position,v=a.events,y=a.date,w=a.end;return o.createElement(yd,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:f,target:a.target},function(e){var n=e.props;return o.createElement(Ih,Object.assign({},n,{containerRef:t,ref:b,target:a.target,offset:D,accessors:s,getters:u,selected:c,components:l,localizer:i,position:x,show:g,events:v,slotStart:y,slotEnd:w,onSelect:d,onDoubleClick:h,onKeyPress:m,handleDragStart:p}))})}Ih.propTypes={accessors:Hl().object.isRequired,getters:Hl().object.isRequired,selected:Hl().object,components:Hl().object.isRequired,localizer:Hl().object.isRequired,position:Hl().object.isRequired,show:Hl().func.isRequired,events:Hl().array.isRequired,slotStart:Hl().instanceOf(Date).isRequired,slotEnd:Hl().instanceOf(Date),onSelect:Hl().func,onDoubleClick:Hl().func,onKeyPress:Hl().func,handleDragStart:Hl().func,style:Hl().object,offset:Hl().shape({x:Hl().number,y:Hl().number})};var Lh=o.forwardRef(function(e,t){return o.createElement(Ph,Object.assign({},e,{containerRef:t}))});function zh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return(0,id.default)(n,e,t,{passive:!1})}function Uh(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return(0,kd.default)(a,".rbc-event",e)}(e,t)}function Wh(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return(0,kd.default)(a,".rbc-show-more",e)}(e,t)}function Hh(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}Lh.propTypes={popupOffset:Hl().oneOfType([Hl().number,Hl().shape({x:Hl().number,y:Hl().number})]),overlay:Hl().shape({position:Hl().object,events:Hl().array,date:Hl().instanceOf(Date),end:Hl().instanceOf(Date)}),accessors:Hl().object.isRequired,localizer:Hl().object.isRequired,components:Hl().object.isRequired,getters:Hl().object.isRequired,selected:Hl().object,handleSelectEvent:Hl().func,handleDoubleClickEvent:Hl().func,handleKeyPressEvent:Hl().func,handleDragStart:Hl().func,onHide:Hl().func,overlayDisplay:Hl().func};var qh=function(){return vl(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.global,a=void 0!==r&&r,s=n.longPressThreshold,i=void 0===s?250:s,o=n.validContainers,l=void 0===o?[]:o;Dl(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=zh("touchmove",function(){},window),this._removeKeyDownListener=zh("keydown",this._keyListener),this._removeKeyUpListener=zh("keyup",this._keyListener),this._removeDropFromOutsideListener=zh("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=zh("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()},[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return(this._listeners[e]||[]).forEach(function(e){void 0===a&&(a=e.apply(void 0,n))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&Vh(t,Kh(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,a=null,s=null,i=function(t){r=setTimeout(function(){l(),e(t)},n.longPressThreshold),a=zh("touchmove",function(){return l()}),s=zh("touchend",function(){return l()})},o=zh("touchstart",i),l=function(){r&&clearTimeout(r),a&&a(),s&&s(),r=null,a=null,s=null};return t&&i(t),function(){l(),o()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=zh("mousedown",function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=zh("mousedown",e._handleInitialEvent)}),n=zh("touchstart",function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=Hh(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:a,clientY:s}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=Hh(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:a,clientY:s}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,n=Hh(e),r=n.clientX,a=n.clientY,s=n.pageX,i=n.pageY,o=this.container();if(3!==e.which&&2!==e.button&&(u=r,c=a,!(l=o)||(0,sd.default)(l,document.elementFromPoint(u,c)))){var l,u,c;if(!this.globalMouse&&o&&!(0,sd.default)(o,e.target)){var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==ze(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),h=d.top,m=d.left,p=d.bottom,f=d.right;if(!Vh({top:(t=Kh(o)).top-h,left:t.left-m,bottom:t.bottom+p,right:t.right+f},{top:i,left:s}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:s,y:i,clientX:r,clientY:a}))switch(e.type){case"mousedown":this._removeEndListener=zh("mouseup",this._handleTerminatingEvent),this._onEscListener=zh("keydown",this._handleTerminatingEvent),this._removeMoveListener=zh("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=zh("touchend",this._handleTerminatingEvent),this._removeMoveListener=zh("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some(function(e){return!!t.closest(e)})}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,n=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var r=!this.container||(0,sd.default)(this.container(),e.target),a=this._isWithinValidContainer(e);return"Escape"!==e.key&&a?!t&&r?this._handleClickEvent(e):t?this.emit("select",n):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=Hh(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:a,clientY:s})):(this._lastClickData={timestamp:i},this.emit("click",{x:n,y:r,clientX:a,clientY:s}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,a=Hh(e),s=a.pageX,i=a.pageY,o=Math.abs(n-s),l=Math.abs(r-i),u=Math.min(s,n),c=Math.min(i,r),d=this.selecting,h=this.isClick(s,i);(!h||d||o||l)&&(d||h||this.emit("selectStart",this._initialEventData),h||(this.selecting=!0,this._selectRect={top:c,left:u,x:s,y:i,right:u+o,bottom:c+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,a=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-a)<=5}}])}();function Vh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Kh(e),a=r.top,s=r.left,i=r.right,o=void 0===i?s:i,l=r.bottom,u=void 0===l?a:l,c=Kh(t),d=c.top,h=c.left,m=c.right,p=void 0===m?h:m,f=c.bottom;return!(u-n<d||a+n>(void 0===f?d:f)||o-n<h||s+n>p)}function Kh(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+Yh("left"),r=t.top+Yh("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function Yh(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var Gh=function(e){function t(e,n){var r;return Dl(this,t),(r=Cl(this,t,[e,n])).state={selecting:!1},r.containerRef=(0,o.createRef)(),r}return Al(t,e),vl(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,n=e.getNow,r=e.getters,a=e.date,s=e.components.dateCellWrapper,i=e.localizer,l=this.state,u=l.selecting,c=l.startIdx,d=l.endIdx,h=n();return o.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map(function(e,n){var l=u&&n>=c&&n<=d,m=r.dayProp(e),p=m.className,f=m.style;return o.createElement(s,{key:n,value:e,range:t},o.createElement("div",{style:f,className:(0,Bl.default)("rbc-day-bg",p,l&&"rbc-selected-cell",i.isSameDate(e,h)&&"rbc-today",a&&i.neq(a,e,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,n=this._selector=new qh(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!Uh(t,n)&&!Wh(t,n)){var a=Kh(t),s=e.props,i=s.range,o=s.rtl;if(function(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}(a,n)){var l=Th(a,n.x,o,i.length);e._selectSlot({startIdx:l,endIdx:l,action:r,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("selecting",function(r){var a=e.props,s=a.range,i=a.rtl,o=-1,l=-1;if(e.state.selecting||(jh(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var u=Kh(t),c=function(e,t,n,r,a){var s=-1,i=-1,o=r-1,l=Oh(t,r),u=Th(t,n.x,a,r),c=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,m=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(s=0,i=o),c&&(m?(s=0,i=u):h&&(s=u,i=o)),d&&(s=i=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),c?u<s?s=u:i=u:e.y<n.y?i=o:s=0),{startIdx:s,endIdx:i}}(e._initial,u,r,s.length,i);o=c.startIdx,l=c.endIdx}e.setState({selecting:!0,startIdx:o,endIdx:l})}),n.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!Uh(e.containerRef.current,t)}),n.on("click",function(e){return r(e,"click")}),n.on("doubleClick",function(e){return r(e,"doubleClick")}),n.on("select",function(t){e._selectSlot(qe(qe({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),jh(e.props.onSelectEnd,[e.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,r=e.action,a=e.bounds,s=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:a,box:s,resourceId:this.props.resourceId})}}])}(o.Component),$h=(Hl().object.isRequired,Hl().object,Hl().bool,Hl().object.isRequired,Hl().object.isRequired,Hl().object.isRequired,Hl().object.isRequired,Hl().func,Hl().func,Hl().func,{segments:[],selected:{}}),Zh=function(e,t){var n=e.selected;e.isAllDay;var r=e.accessors,a=e.getters,s=e.onSelect,i=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,c=e.slotMetrics,d=e.components,h=e.resizable,m=c.continuesPrior(t),p=c.continuesAfter(t);return o.createElement(Bh,{event:t,getters:a,localizer:u,accessors:r,components:d,onSelect:s,onDoubleClick:i,onKeyPress:l,continuesPrior:m,continuesAfter:p,slotStart:c.first,slotEnd:c.last,selected:Mh(t,n),resizable:h})},Xh=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",a=Math.abs(t)/e*100+"%";return o.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},r)},Qh=function(e){function t(){return Dl(this,t),Cl(this,t,arguments)}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.segments,r=t.slotMetrics.slots,a=t.className,s=1;return o.createElement("div",{className:(0,Bl.default)(a,"rbc-row")},n.reduce(function(t,n,a){var i=n.event,o=n.left,l=n.right,u=n.span,c="_lvl_"+a,d=o-s,h=Zh(e.props,i);return d&&t.push(Xh(r,d,"".concat(c,"_gap"))),t.push(Xh(r,u,c,h)),s=l+1,t},[]))}}])}(o.Component);function Jh(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function em(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,s=[],i=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<s.length&&nm(r,s[n]);n++);n>=a?i.push(r):(s[n]||(s[n]=[])).push(r)}for(t=0;t<s.length;t++)s[t].sort(function(e,t){return e.left-t.left});return{levels:s,extra:i}}function tm(e,t,n,r,a){var s={start:r.start(e),end:r.end(e)},i={start:t,end:n};return a.inEventRange({event:s,range:i})}function nm(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function rm(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:s})}Qh.defaultProps=qe({},$h);var am=function(e,t){return e.left<=t&&e.right>=t},sm=function(e,t){return e.filter(function(e){return am(e,t)}).map(function(e){return e.event})},im=function(e){function t(){return Dl(this,t),Cl(this,t,arguments)}return Al(t,e),vl(t,[{key:"render",value:function(){for(var e=this.props,t=e.segments,n=e.slotMetrics.slots,r=em(t).levels[0],a=1,s=1,i=[];a<=n;){var l="_lvl_"+a,u=r.filter(function(e){return am(e,a)})[0]||{},c=u.event,d=u.left,h=u.right,m=u.span;if(c){var p=Math.max(0,d-s);if(this.canRenderSlotEvent(d,m)){var f=Zh(this.props,c);p&&i.push(Xh(n,p,l+"_gap")),i.push(Xh(n,m,l,f)),s=a=h+1}else p&&i.push(Xh(n,p,l+"_gap")),i.push(Xh(n,1,l,this.renderShowMore(t,a))),s=a+=1}else{if(this.getHiddenEventsForSlot(t,a).length>0){var g=a-s;g&&i.push(Xh(n,g,l+"_gap")),i.push(Xh(n,1,l,this.renderShowMore(t,a))),s=a+=1;continue}a++}}return o.createElement("div",{className:"rbc-row"},i)}},{key:"getHiddenEventsForSlot",value:function(e,t){var n=sm(e,t),r=em(e).levels[0].filter(function(e){return am(e,t)}).map(function(e){return e.event});return n.filter(function(e){return!r.some(function(t){return t===e})})}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return Sd()(e,e+t).every(function(e){return 1===sm(n,e).length})}},{key:"renderShowMore",value:function(e,t){var n=this,r=this.props,a=r.localizer,s=r.slotMetrics,i=r.components,l=s.getEventsForSlot(t),u=sm(e,t),c=u.length;if(null!==i&&void 0!==i&&i.showMore){var d=i.showMore,h=s.getDateForSlot(t-1);return!!c&&o.createElement(d,{localizer:a,slotDate:h,slot:t,count:c,events:l,remainingEvents:u})}return!!c&&o.createElement("button",{type:"button",key:"sm_"+t,className:(0,Bl.default)("rbc-button-link","rbc-show-more"),onClick:function(e){return n.showMore(t,e)}},a.messages.showMore(c,u,l))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}(o.Component);im.defaultProps=qe({},$h);var om=function(e){var t=e.children;return o.createElement("div",{className:"rbc-row-content-scroll-container"},t)},lm=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function um(){return Td(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,s=e.accessors,i=e.localizer,o=Jh({dateRange:t,localizer:i}),l=o.first,u=o.last,c=n.map(function(e){return function(e,t,n,r){var a=Jh({dateRange:t,localizer:r}),s=a.first,i=a.last,o=r.diff(s,i,"day"),l=r.max(r.startOf(n.start(e),"day"),s),u=r.min(r.ceil(n.end(e),"day"),i),c=jd()(t,function(e){return r.isSameDate(e,l)}),d=r.diff(l,u,"day");return d=Math.min(d,o),{event:e,span:d=Math.max(d-r.segmentOffset,1),left:c+1,right:Math.max(c+d,1)}}(e,t,s,i)}),d=em(c,Math.max(r-1,1)),h=d.levels,m=d.extra,p=m.length>0?a-1:a;h.length<p;)h.push([]);return{first:l,last:u,levels:h,extra:m,range:t,slots:t.length,clone:function(t){return um()(qe(qe({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find(function(t){return i.isSameDate(t,e)})},getEventsForSlot:function(e){return c.filter(function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)}).map(function(e){return e.event})},continuesPrior:function(e){return i.continuesPrior(s.start(e),l)},continuesAfter:function(e){var t=s.start(e),n=s.end(e);return i.continuesAfter(t,n,u)}}},lm)}var cm=function(e){function t(){var e;Dl(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=Cl(this,t,[].concat(r))).handleSelectSlot=function(t){var n=e.props,r=n.range;(0,n.onSelectSlot)(r.slice(t.start,t.end+1),t)},e.handleShowMore=function(t,n){var r,a=e.props,s=a.range,i=a.onShowMore,o=e.slotMetrics(e.props),l=(0,Ad.A)(e.containerRef.current,".rbc-row-bg")[0];l&&(r=l.children[t-1]),i(o.getEventsForSlot(t),s[t-1],r,t,n)},e.getContainer=function(){var t=e.props.container;return t?t():e.containerRef.current},e.renderHeadingCell=function(t,n){var r=e.props,a=r.renderHeader,s=r.getNow,i=r.localizer;return a({date:t,key:"header_".concat(n),className:(0,Bl.default)("rbc-date-cell",i.isSameDate(t,s())&&"rbc-now")})},e.renderDummy=function(){var t=e.props,n=t.className,r=t.range,a=t.renderHeader,s=t.showAllEvents;return o.createElement("div",{className:n,ref:e.containerRef},o.createElement("div",{className:(0,Bl.default)("rbc-row-content",s&&"rbc-row-content-scrollable")},a&&o.createElement("div",{className:"rbc-row",ref:e.headingRowRef},r.map(e.renderHeadingCell)),o.createElement("div",{className:"rbc-row",ref:e.eventRowRef},o.createElement("div",{className:"rbc-row-segment"},o.createElement("div",{className:"rbc-event"},o.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},e.containerRef=(0,o.createRef)(),e.headingRowRef=(0,o.createRef)(),e.eventRowRef=(0,o.createRef)(),e.slotMetrics=um(),e}return Al(t,e),vl(t,[{key:"getRowLimit",value:function(){var e,t=(0,Fd.A)(this.eventRowRef.current),n=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?(0,Fd.A)(this.headingRowRef.current):0,r=(0,Fd.A)(this.containerRef.current)-n;return Math.max(Math.floor(r/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.rtl,r=e.range,a=e.className,s=e.selected,i=e.selectable,l=e.renderForMeasure,u=e.accessors,c=e.getters,d=e.components,h=e.getNow,m=e.renderHeader,p=e.onSelect,f=e.localizer,g=e.onSelectStart,b=e.onSelectEnd,D=e.onDoubleClick,x=e.onKeyPress,v=e.resourceId,y=e.longPressThreshold,w=e.isAllDay,E=e.resizable,C=e.showAllEvents;if(l)return this.renderDummy();var F=this.slotMetrics(this.props),A=F.levels,k=F.extra,N=C?om:Xd,j=d.weekWrapper,_={selected:s,accessors:u,getters:c,localizer:f,components:d,onSelect:p,onDoubleClick:D,onKeyPress:x,resourceId:v,slotMetrics:F,resizable:E};return o.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},o.createElement(Gh,{localizer:f,date:t,getNow:h,rtl:n,range:r,selectable:i,container:this.getContainer,getters:c,onSelectStart:g,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:y,resourceId:v}),o.createElement("div",{className:(0,Bl.default)("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},m&&o.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},r.map(this.renderHeadingCell)),o.createElement(N,null,o.createElement(j,Object.assign({isAllDay:w},_,{rtl:this.props.rtl}),A.map(function(e,t){return o.createElement(Qh,Object.assign({key:t,segments:e},_))}),!!k.length&&o.createElement(im,Object.assign({segments:k,onShowMore:this.handleShowMore},_))))))}}])}(o.Component);cm.defaultProps={minRows:0,maxRows:1/0};var dm=function(e){var t=e.label;return o.createElement("span",{role:"columnheader","aria-sort":"none"},t)},hm=function(e){var t=e.label,n=e.drilldownView,r=e.onDrillDown;return n?o.createElement("button",{type:"button",className:"rbc-button-link",onClick:r},t):o.createElement("span",null,t)},mm=["date","className"],pm=function(e){function t(){var e;Dl(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=Cl(this,t,[].concat(r))).getContainer=function(){return e.containerRef.current},e.renderWeek=function(t,n){var r=e.props,a=r.events,s=r.components,i=r.selectable,l=r.getNow,u=r.selected,c=r.date,d=r.localizer,h=r.longPressThreshold,m=r.accessors,p=r.getters,f=r.showAllEvents,g=e.state,b=g.needLimitMeasure,D=g.rowLimit,x=function(e,t,n,r,a){return e.filter(function(e){return tm(e,t,n,r,a)})}(Su(a),t[0],t[t.length-1],m,d),v=function(e,t,n){var r=Su(e),a=[],s=[];r.forEach(function(e){var r=t.start(e),i=t.end(e);n.daySpan(r,i)>1?a.push(e):s.push(e)});var i=a.sort(function(e,r){return rm(e,r,t,n)}),o=s.sort(function(e,r){return rm(e,r,t,n)});return[].concat(Su(i),Su(o))}(x,m,d);return o.createElement(cm,{key:n,ref:0===n?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:l,date:c,range:t,events:v,maxRows:f?1/0:D,selected:u,selectable:i,components:s,accessors:m,getters:p,localizer:d,renderHeader:e.readerDateHeading,renderForMeasure:b,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:h,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:f})},e.readerDateHeading=function(t){var n=t.date,r=t.className,a=ns(t,mm),s=e.props,i=s.date,l=s.getDrilldownView,u=s.localizer,c=u.neq(i,n,"month"),d=u.isSameDate(n,i),h=l(n),m=u.format(n,"dateFormat"),p=e.props.components.dateHeader||hm;return o.createElement("div",Object.assign({},a,{className:(0,Bl.default)(r,c&&"rbc-off-range",d&&"rbc-current"),role:"cell"}),o.createElement(p,{label:m,date:n,drilldownView:h,isOffRange:c,onDrillDown:function(t){return e.handleHeadingClick(n,h,t)}}))},e.handleSelectSlot=function(t,n){e._pendingSelection=e._pendingSelection.concat(t),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(n)})},e.handleHeadingClick=function(t,n,r){r.preventDefault(),e.clearSelection(),jh(e.props.onDrillDown,[t,n])},e.handleSelectEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onKeyPressEvent,n)},e.handleShowMore=function(t,n,r,a,s){var i=e.props,o=i.popup,l=i.onDrillDown,u=i.onShowMore,c=i.getDrilldownView,d=i.doShowMoreDrillDown;if(e.clearSelection(),o){var h=(0,Ou.A)(r,e.containerRef.current);e.setState({overlay:{date:n,events:t,position:h,target:s}})}else d&&jh(l,[n,c(n)||nh.DAY]);jh(u,[t,n,a])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=(0,o.createRef)(),e.slotRowRef=(0,o.createRef)(),e._bgRows=[],e._pendingSelection=[],e}return Al(t,e),vl(t,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||Tu.E(function(){e=!1,t.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.localizer,r=e.className,a=n.visibleDays(t,n),s=Mu()(a,7);return this._weekCount=s.length,o.createElement("div",{className:(0,Bl.default)("rbc-month-view",r),role:"table","aria-label":"Month View",ref:this.containerRef},o.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(s[0])),s.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,n=t.localizer,r=t.components,a=e[0],s=e[e.length-1],i=r.header||dm;return n.range(a,s,"day").map(function(e,t){return o.createElement("div",{key:"header_"+t,className:"rbc-header"},o.createElement(i,{date:e,localizer:n,label:n.format(e,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var e,t,n=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},a=this.props,s=a.accessors,i=a.localizer,l=a.components,u=a.getters,c=a.selected,d=a.popupOffset,h=a.handleDragStart;return o.createElement(Lh,{overlay:r,accessors:s,localizer:i,components:l,getters:u,selected:c,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return n.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t});var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),jh(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.date;return{date:n,needLimitMeasure:e.localizer.neq(n,t.date,"month")}}}])}(o.Component);pm.range=function(e,t){var n=t.localizer;return{start:n.firstVisibleDay(e,n),end:n.lastVisibleDay(e,n)}},pm.navigate=function(e,t,n){var r=n.localizer;switch(t){case Qd:return r.add(e,-1,"month");case Jd:return r.add(e,1,"month");default:return e}},pm.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var fm=function(e){var t=e.min,n=e.max,r=e.step,a=e.slots,s=e.localizer;return"".concat(+s.startOf(t,"minutes"))+"".concat(+s.startOf(n,"minutes"))+"".concat(r,"-").concat(a)};function gm(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,s=e.localizer,i=fm({start:t,end:n,step:r,timeslots:a,localizer:s}),o=1+s.getTotalMin(t,n),l=s.getMinutesFromMidnight(t),u=Math.ceil((o-1)/(r*a)),c=u*a,d=new Array(u),h=new Array(c),m=0;m<u;m++){d[m]=new Array(a);for(var p=0;p<a;p++){var f=m*a+p,g=f*r;h[f]=d[m][p]=s.getSlotDate(t,l,g)}}var b=h.length*r;function D(e){var n=s.diff(t,e,"minutes")+s.getDstOffset(t,e);return Math.min(n,o)}return h.push(s.getSlotDate(t,l,b)),{groups:d,update:function(e){return fm(e)!==i?gm(e):this},dateIsInGroup:function(e,t){var r=d[t+1];return s.inRange(e,d[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=h[Math.min(h.findIndex(function(t){return t===e||s.eq(t,e)})+1,h.length-1)];return s.eq(t,e)&&(t=s.add(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(h.length-1,Math.max(0,Math.floor(e*c)));return h[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(s.lt(e,t,"minutes"))return h[0];if(s.gt(e,n,"minutes"))return h[h.length-1];var i=s.diff(t,e,"minutes");return h[(i-i%r)/r+a]},startsBeforeDay:function(e){return s.lt(e,t,"day")},startsAfterDay:function(e){return s.gt(e,n,"day")},startsBefore:function(e){return s.lt(s.merge(t,e),t,"minutes")},startsAfter:function(e){return s.gt(s.merge(n,e),n,"minutes")},getRange:function(e,a,i,o){i||(e=s.min(n,s.max(t,e))),o||(a=s.min(n,s.max(t,a)));var l=D(e),u=D(a),d=u>r*c&&!s.eq(n,a)?(l-r)/(r*c)*100:l/(r*c)*100;return{top:d,height:u/(r*c)*100-d,start:D(e),startDate:e,end:D(a),endDate:a}},getCurrentTimePosition:function(e){return D(e)/(r*c)*100}}}var bm=function(){return vl(function e(t,n){var r=n.accessors,a=n.slotMetrics;Dl(this,e);var s=a.getRange(r.start(t),r.end(t)),i=s.start,o=s.startDate,l=s.end,u=s.endDate,c=s.top,d=s.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+u,this.top=c,this.height=d,this.data=t},[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1;return 100/e}return this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}])}();function Dm(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function xm(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,s=function(e){for(var t=Pd()(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var s=t[a];if(!(r.endMs>s.startMs)){if(a>0){var i=t.splice(a,1)[0];n.push(i)}break}}}return n}(t.map(function(e){return new bm(e,{slotMetrics:r,accessors:a})})),i=[],o=function(){var e=s[l],t=i.find(function(t){return t.end>e.start||Math.abs(e.start-t.start)<n});if(!t)return e.rows=[],i.push(e),1;e.container=t;for(var r=null,a=t.rows.length-1;!r&&a>=0;a--)Dm(t.rows[a],e,n)&&(r=t.rows[a]);r?(r.leaves.push(e),e.row=r):(e.leaves=[],t.rows.push(e))},l=0;l<s.length;l++)o();return s.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}})}function vm(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=vm(e.friends[r],t,n);t=t>a?t:a}return t}var ym={overlap:xm,"no-overlap":function(e){var t=xm({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort(function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0});for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var a=t[r],s=a.style.top,i=a.style.top+a.style.height,o=r+1;o<t.length;++o){var l=t[o],u=l.style.top,c=l.style.top+l.style.height;(u>=s&&c<=i||c>s&&c<=i||u>=s&&u<i)&&(a.friends.push(l),l.friends.push(a))}for(var d=0;d<t.length;++d){for(var h=t[d],m=[],p=0;p<100;++p)m.push(1);for(var f=0;f<h.friends.length;++f)void 0!==h.friends[f].idx&&(m[h.friends[f].idx]=0);h.idx=m.indexOf(1)}for(var g=0;g<t.length;++g){var b;if(!t[g].size){var D=[];b=100/(vm(t[g],0,D)+1),t[g].size=b;for(var x=0;x<D.length;++x)D[x].size=b}}for(var v=0;v<t.length;++v){var y=t[v];y.style.left=y.idx*y.size;for(var w=0,E=0;E<y.friends.length;++E){var C=y.friends[E].idx;w=w>C?w:C}w<=y.idx&&(y.size=100-y.idx*y.size);var F=0===y.idx?0:3;y.style.width="calc(".concat(y.size,"% - ").concat(F,"px)"),y.style.height="calc(".concat(y.style.height,"% - 2px)"),y.style.xOffset="calc(".concat(y.style.left,"% + ").concat(F,"px)")}return t}};var wm=function(e){function t(){return Dl(this,t),Cl(this,t,arguments)}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,n=e.resource,r=e.group,a=e.getters,s=e.components,i=(void 0===s?{}:s).timeSlotWrapper,l=void 0===i?Xd:i,u=a?a.slotGroupProp(r):{};return o.createElement("div",Object.assign({className:"rbc-timeslot-group"},u),r.map(function(e,r){var s=a?a.slotProp(e,n):{};return o.createElement(l,{key:r,value:e,resource:n},o.createElement("div",Object.assign({},s,{className:(0,Bl.default)("rbc-time-slot",s.className)}),t&&t(e,r)))}))}}])}(o.Component);function Em(e){return"string"===typeof e?e:e+"%"}function Cm(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,s=e.rtl,i=e.selected,l=e.label,u=e.continuesPrior,c=e.continuesAfter,d=e.getters,h=e.onClick,m=e.onDoubleClick,p=e.isBackgroundEvent,f=e.onKeyPress,g=e.components,b=g.event,D=g.eventWrapper,x=a.title(r),v=a.tooltip(r),y=a.end(r),w=a.start(r),E=d.eventProp(r,w,y,i),C=[o.createElement("div",{key:"1",className:"rbc-event-label"},l),o.createElement("div",{key:"2",className:"rbc-event-content"},b?o.createElement(b,{event:r,title:x}):x)],F=t.height,A=t.top,k=t.width,N=t.xOffset,j=qe(qe({},E.style),{},We({top:Em(A),height:Em(F),width:Em(k)},s?"right":"left",Em(N)));return o.createElement(D,Object.assign({type:"time"},e),o.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:m,style:j,onKeyDown:f,title:v?("string"===typeof l?l+": ":"")+v:void 0,className:(0,Bl.default)(p?"rbc-background-event":"rbc-event",n,E.className,{"rbc-selected":i,"rbc-event-continues-earlier":u,"rbc-event-continues-later":c})},C))}var Fm=function(e){var t=e.children,n=e.className,r=e.style,a=e.innerRef;return o.createElement("div",{className:n,style:r,ref:a},t)},Am=o.forwardRef(function(e,t){return o.createElement(Fm,Object.assign({},e,{innerRef:t}))}),km=["dayProp"],Nm=["eventContainerWrapper","timeIndicatorWrapper"],jm=function(e){function t(){var e;Dl(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=Cl(this,t,[].concat(r))).state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(t){var n=t.events,r=t.isBackgroundEvent,a=e.props,s=a.rtl,i=a.selected,l=a.accessors,u=a.localizer,c=a.getters,d=a.components,h=a.step,m=a.timeslots,p=a.dayLayoutAlgorithm,f=a.resizable,g=e.slotMetrics,b=u.messages,D=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in ym&&(n=ym[t]),function(e){return!!(e&&e.constructor&&e.call&&e.apply)}(n)?n.apply(this,arguments):[]}({events:n,accessors:l,slotMetrics:g,minimumStartDifference:Math.ceil(h*m/2),dayLayoutAlgorithm:p});return D.map(function(t,n){var a,h,m=t.event,p=t.style,D=l.end(m),x=l.start(m),v=null!==(a=l.eventId(m))&&void 0!==a?a:"evt_"+n,y="eventTimeRangeFormat",w=g.startsBeforeDay(x),E=g.startsAfterDay(D);w?y="eventTimeRangeEndFormat":E&&(y="eventTimeRangeStartFormat"),h=w&&E?b.allDay:u.format({start:x,end:D},y);var C=w||g.startsBefore(x),F=E||g.startsAfter(D);return o.createElement(Cm,{style:p,event:m,label:h,key:v,getters:c,rtl:s,components:d,continuesPrior:C,continuesAfter:F,accessors:l,resource:e.props.resource,selected:Mh(m,i),onClick:function(t){return e._select(qe(qe(qe({},m),e.props.resource&&{sourceResource:e.props.resource}),r&&{isBackgroundEvent:!0}),t)},onDoubleClick:function(t){return e._doubleClick(m,t)},isBackgroundEvent:r,onKeyPress:function(t){return e._keyPress(m,t)},resizable:f})})},e._selectable=function(){var t=e.containerRef.current,n=e.props,r=n.longPressThreshold,a=n.localizer,s=e._selector=new qh(function(){return t},{longPressThreshold:r}),i=function(t){var n=e.props.onSelecting,r=e.state||{},s=o(t),i=s.startDate,l=s.endDate;n&&(a.eq(r.startDate,i,"minutes")&&a.eq(r.endDate,l,"minutes")||!1===n({start:i,end:l,resourceId:e.props.resource}))||e.state.start===s.start&&e.state.end===s.end&&e.state.selecting===s.selecting||e.setState(s)},o=function(n){var r=e.slotMetrics.closestSlotFromPoint(n,Kh(t));e.state.selecting||(e._initialSlot=r);var s=e._initialSlot;a.lte(s,r)?r=e.slotMetrics.nextSlot(r):a.gt(s,r)&&(s=e.slotMetrics.nextSlot(s));var i=e.slotMetrics.getRange(a.min(s,r),a.max(s,r));return qe(qe({},i),{},{selecting:!0,top:"".concat(i.top,"%"),height:"".concat(i.height,"%")})},l=function(t,n){if(!Uh(e.containerRef.current,t)){var r=o(t),a=r.startDate,s=r.endDate;e._selectSlot({startDate:a,endDate:s,action:n,box:t})}e.setState({selecting:!1})};s.on("selecting",i),s.on("selectStart",i),s.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!Uh(e.containerRef.current,t)}),s.on("click",function(e){return l(e,"click")}),s.on("doubleClick",function(e){return l(e,"doubleClick")}),s.on("select",function(t){e.state.selecting&&(e._selectSlot(qe(qe({},e.state),{},{action:"select",bounds:t})),e.setState({selecting:!1}))}),s.on("reset",function(){e.state.selecting&&e.setState({selecting:!1})})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(t){for(var n=t.startDate,r=t.endDate,a=t.action,s=t.bounds,i=t.box,o=n,l=[];e.props.localizer.lte(o,r);)l.push(o),o=new Date(+o+60*e.props.step*1e3);jh(e.props.onSelectSlot,{slots:l,start:n,end:r,resourceId:e.props.resource,action:a,bounds:s,box:i})},e._select=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onSelectEvent,n)},e._doubleClick=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onDoubleClickEvent,n)},e._keyPress=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onKeyPressEvent,n)},e.slotMetrics=gm(e.props),e.containerRef=(0,o.createRef)(),e}return Al(t,e),vl(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var n=this.props,r=n.getNow,a=n.isNow,s=n.localizer,i=n.date,o=n.min,l=n.max,u=s.neq(e.getNow(),r(),"minutes");if(e.isNow!==a||u){if(this.clearTimeIndicatorInterval(),a){var c=!u&&s.eq(e.date,i,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(c)}}else a&&(s.neq(e.min,o,"minutes")||s.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var a=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:a})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.max,r=e.rtl,a=e.isNow,s=e.resource,i=e.accessors,l=e.localizer,u=e.getters,c=u.dayProp,d=ns(u,km),h=e.components,m=h.eventContainerWrapper,p=h.timeIndicatorWrapper,f=ns(h,Nm);this.slotMetrics=this.slotMetrics.update(this.props);var g=this.slotMetrics,b=this.state,D=b.selecting,x=b.top,v=b.height,y={start:b.startDate,end:b.endDate},w=c(n,s),E=w.className,C=w.style,F={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},A=f.dayColumnWrapper||Am;return o.createElement(A,{ref:this.containerRef,date:t,style:C,className:(0,Bl.default)(E,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",D&&"rbc-slot-selecting"),slotMetrics:g,resource:s},g.groups.map(function(e,t){return o.createElement(wm,{key:t,group:e,resource:s,getters:d,components:f})}),o.createElement(m,{localizer:l,resource:s,accessors:i,getters:d,components:f,slotMetrics:g},o.createElement("div",{className:(0,Bl.default)("rbc-events-container",r&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),D&&o.createElement("div",{className:"rbc-slot-selection",style:{top:x,height:v}},o.createElement("span",null,l.format(y,"selectRangeFormat"))),a&&this.intervalTriggered&&o.createElement(p,F,o.createElement("div",F)))}}])}(o.Component);jm.defaultProps={dragThroughEvents:!0,timeslots:2};var _m=function(e){var t=e.label;return o.createElement(o.Fragment,null,t)},Sm=function(e){function t(){var e;Dl(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=Cl(this,t,[].concat(r))).handleHeaderClick=function(t,n,r){r.preventDefault(),jh(e.props.onDrillDown,[t,n])},e.renderRow=function(t){var n=e.props,r=n.events,a=n.rtl,s=n.selectable,i=n.getNow,l=n.range,u=n.getters,c=n.localizer,d=n.accessors,h=n.components,m=n.resizable,p=d.resourceId(t),f=t?r.filter(function(e){return d.resource(e)===p}):r;return o.createElement(cm,{isAllDay:!0,rtl:a,getNow:i,minRows:2,maxRows:e.props.allDayMaxRows+1,range:l,events:f,resourceId:p,className:"rbc-allday-cell",selectable:s,selected:e.props.selected,components:h,accessors:d,getters:u,localizer:c,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:m})},e}return Al(t,e),vl(t,[{key:"renderHeaderCells",value:function(e){var t=this,n=this.props,r=n.localizer,a=n.getDrilldownView,s=n.getNow,i=n.getters.dayProp,l=n.components.header,u=void 0===l?dm:l,c=s();return e.map(function(e,n){var s=a(e),l=r.format(e,"dayFormat"),d=i(e),h=d.className,m=d.style,p=o.createElement(u,{date:e,label:l,localizer:r});return o.createElement("div",{key:n,style:m,className:(0,Bl.default)("rbc-header",h,r.isSameDate(e,c)&&"rbc-today")},s?o.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(n){return t.handleHeaderClick(e,s,n)}},p):o.createElement("span",null,p))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.rtl,a=t.resources,s=t.range,i=t.events,l=t.getNow,u=t.accessors,c=t.selectable,d=t.components,h=t.getters,m=t.scrollRef,p=t.localizer,f=t.isOverflowing,g=t.components,b=g.timeGutterHeader,D=g.resourceHeader,x=void 0===D?_m:D,v=t.resizable,y={};f&&(y[r?"marginLeft":"marginRight"]="".concat((0,Ld.A)()-1,"px"));var w=a.groupEvents(i);return o.createElement("div",{style:y,ref:m,className:(0,Bl.default)("rbc-time-header",f&&"rbc-overflowing")},o.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:n,minWidth:n,maxWidth:n}},b&&o.createElement(b,null)),a.map(function(t,n){var a=Sl(t,2),i=a[0],m=a[1];return o.createElement("div",{className:"rbc-time-header-content",key:i||n},m&&o.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(n)},o.createElement("div",{className:"rbc-header"},o.createElement(x,{index:n,label:u.resourceTitle(m),resource:m}))),o.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(s.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(s)),o.createElement(cm,{isAllDay:!0,rtl:r,getNow:l,minRows:2,maxRows:e.props.allDayMaxRows+1,range:s,events:w.get(i)||[],resourceId:m&&i,className:"rbc-allday-cell",selectable:c,selected:e.props.selected,components:d,accessors:u,getters:h,localizer:p,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:v}))}))}}])}(o.Component),Bm=function(e){function t(){var e;Dl(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=Cl(this,t,[].concat(r))).handleHeaderClick=function(t,n,r){r.preventDefault(),jh(e.props.onDrillDown,[t,n])},e}return Al(t,e),vl(t,[{key:"renderHeaderCells",value:function(e){var t=this,n=this.props,r=n.localizer,a=n.getDrilldownView,s=n.getNow,i=n.getters.dayProp,l=n.components,u=l.header,c=void 0===u?dm:u,d=l.resourceHeader,h=void 0===d?_m:d,m=n.resources,p=n.accessors,f=n.events,g=n.rtl,b=n.selectable,D=n.components,x=n.getters,v=n.resizable,y=s(),w=m.groupEvents(f);return e.map(function(n,l){var u=a(n),d=r.format(n,"dayFormat"),f=i(n),E=f.className,C=f.style,F=o.createElement(c,{date:n,label:d,localizer:r});return o.createElement("div",{key:l,className:"rbc-time-header-content rbc-resource-grouping"},o.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},o.createElement("div",{style:C,className:(0,Bl.default)("rbc-header",E,r.isSameDate(n,y)&&"rbc-today")},u?o.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return t.handleHeaderClick(n,u,e)}},F):o.createElement("span",null,F))),o.createElement("div",{className:"rbc-row"},m.map(function(e,t){var a=Sl(e,2),s=a[0],i=a[1];return o.createElement("div",{key:"resource_".concat(s,"_").concat(t),className:(0,Bl.default)("rbc-header",E,r.isSameDate(n,y)&&"rbc-today")},o.createElement(h,{index:t,label:p.resourceTitle(i),resource:i}))})),o.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(e,a){var i=Sl(e,2),l=i[0],u=i[1],c=(w.get(l)||[]).filter(function(e){return r.isSameDate(e.start,n)||r.isSameDate(e.end,n)});return o.createElement(cm,{key:"resource_".concat(l,"_").concat(a),isAllDay:!0,rtl:g,getNow:s,minRows:2,maxRows:t.props.allDayMaxRows+1,range:[n],events:c,resourceId:u&&l,className:"rbc-allday-cell",selectable:b,selected:t.props.selected,components:D,accessors:p,getters:x,localizer:r,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyDown:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:v})})))})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.rtl,r=e.range,a=e.scrollRef,s=e.isOverflowing,i=e.components.timeGutterHeader,l={};return s&&(l[n?"marginLeft":"marginRight"]="".concat((0,Ld.A)()-1,"px")),o.createElement("div",{style:l,ref:a,className:(0,Bl.default)("rbc-time-header",s&&"rbc-overflowing")},o.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t,minWidth:t,maxWidth:t}},i&&o.createElement(i,null)),this.renderHeaderCells(r))}}])}(o.Component);var Mm=function(e){var t=e.min,n=e.max,r=e.timeslots,a=e.step,s=e.localizer,i=e.getNow,l=e.resource,u=e.components,c=e.getters,d=e.gutterRef,h=u.timeGutterWrapper,m=(0,o.useMemo)(function(){return function(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}({min:t,max:n,localizer:s})},[null===t||void 0===t?void 0:t.toISOString(),null===n||void 0===n?void 0:n.toISOString(),s]),p=m.start,f=m.end,g=Sl((0,o.useState)(gm({min:p,max:f,timeslots:r,step:a,localizer:s})),2),b=g[0],D=g[1];(0,o.useEffect)(function(){b&&D(b.update({min:p,max:f,timeslots:r,step:a,localizer:s}))},[null===p||void 0===p?void 0:p.toISOString(),null===f||void 0===f?void 0:f.toISOString(),r,a]);var x=(0,o.useCallback)(function(e,t){if(t)return null;var n=b.dateIsInGroup(i(),t);return o.createElement("span",{className:(0,Bl.default)("rbc-label",n&&"rbc-now")},s.format(e,"timeGutterFormat"))},[b,s,i]);return o.createElement(h,{slotMetrics:b},o.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},b.groups.map(function(e,t){return o.createElement(wm,{key:t,group:e,resource:l,components:u,renderSlot:x,getters:c})})))},Om=o.forwardRef(function(e,t){return o.createElement(Mm,Object.assign({gutterRef:t},e))}),Tm={};var Rm=function(e){function t(e){var n;return Dl(this,t),(n=Cl(this,t,[e])).handleScroll=function(e){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=e.target.scrollLeft)},n.handleResize=function(){Tu.Z(n.rafHandle),n.rafHandle=Tu.E(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];jh(n.props.onKeyPressEvent,t)},n.handleSelectEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];jh(n.props.onSelectEvent,t)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];jh(n.props.onDoubleClickEvent,t)},n.handleShowMore=function(e,t,r,a,s){var i=n.props,o=i.popup,l=i.onDrillDown,u=i.onShowMore,c=i.getDrilldownView,d=i.doShowMoreDrillDown;if(n.clearSelection(),o){var h=(0,Ou.A)(r,n.containerRef.current);n.setState({overlay:{date:t,events:e,position:qe(qe({},h),{},{width:"200px"}),target:s}})}else d&&jh(l,[t,c(t)||nh.DAY]);jh(u,[e,t,a])},n.handleSelectAllDaySlot=function(e,t){var r=n.props.onSelectSlot,a=new Date(e[0]),s=new Date(e[e.length-1]);s.setDate(e[e.length-1].getDate()+1),jh(r,{slots:e,start:a,end:s,action:t.action,resourceId:t.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var e=n.contentRef.current;if(null!==e&&void 0!==e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;n.state.isOverflowing!==t&&(n._updatingOverflow=!0,n.setState({isOverflowing:t},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=Td(function(e,t){return function(e,t){return{map:function(n){return e?e.map(function(e,r){return n([t.resourceId(e),e],r)}):[n([Tm,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach(function(e){var n=t.resource(e)||Tm;if(Array.isArray(n))n.forEach(function(t){var n=r.get(t)||[];n.push(e),r.set(t,n)});else{var a=r.get(n)||[];a.push(e),r.set(n,a)}}),r):(r.set(Tm,n),r)}}}(e,t)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=o.createRef(),n.contentRef=o.createRef(),n.containerRef=o.createRef(),n._scrollRatio=null,n.gutterRef=(0,o.createRef)(),n}return Al(t,e),vl(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Tu.Z(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,t,n,r,a,s,i,l,u,c){var d=this.props,h=d.min,m=d.max,p=(r.get(t)||[]).filter(function(t){return s.inRange(e,i.start(t),i.end(t),"day")}),f=(a.get(t)||[]).filter(function(t){return s.inRange(e,i.start(t),i.end(t),"day")});return o.createElement(jm,Object.assign({},this.props,{localizer:s,min:s.merge(e,h),max:s.merge(e,m),resource:n&&t,components:l,isNow:s.isSameDate(e,c),key:"".concat(t,"-").concat(e),date:e,events:p,backgroundEvents:f,dayLayoutAlgorithm:u}))}},{key:"renderResourcesFirst",value:function(e,t,n,r,a,s,i,o,l){var u=this;return t.map(function(t){var c=Sl(t,2),d=c[0],h=c[1];return e.map(function(e){return u.renderDayColumn(e,d,h,n,r,a,s,o,l,i)})})}},{key:"renderRangeFirst",value:function(e,t,n,r,a,s,i,l,u){var c=this;return e.map(function(e){return o.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},t.map(function(t){var d=Sl(t,2),h=d[0],m=d[1];return o.createElement("div",{style:{flex:1},key:s.resourceId(m)},c.renderDayColumn(e,h,m,n,r,a,s,l,u,i))}))})}},{key:"renderEvents",value:function(e,t,n,r){var a=this.props,s=a.accessors,i=a.localizer,o=a.resourceGroupingLayout,l=a.components,u=a.dayLayoutAlgorithm,c=this.memoizedResources(this.props.resources,s),d=c.groupEvents(t),h=c.groupEvents(n);return o?this.renderRangeFirst(e,c,d,h,i,s,r,l,u):this.renderResourcesFirst(e,c,d,h,i,s,r,l,u)}},{key:"render",value:function(){var e,t=this.props,n=t.events,r=t.backgroundEvents,a=t.range,s=t.width,i=t.rtl,l=t.selected,u=t.getNow,c=t.resources,d=t.components,h=t.accessors,m=t.getters,p=t.localizer,f=t.min,g=t.max,b=t.showMultiDayTimes,D=t.longPressThreshold,x=t.resizable,v=t.resourceGroupingLayout;s=s||this.state.gutterWidth;var y=a[0],w=a[a.length-1];this.slots=a.length;var E=[],C=[],F=[];n.forEach(function(e){if(tm(e,y,w,h,p)){var t=h.start(e),n=h.end(e);h.allDay(e)||p.startAndEndAreDateOnly(t,n)||!b&&!p.isSameDate(t,n)?E.push(e):C.push(e)}}),r.forEach(function(e){tm(e,y,w,h,p)&&F.push(e)}),E.sort(function(e,t){return rm(e,t,h,p)});var A={range:a,events:E,width:s,rtl:i,getNow:u,localizer:p,selected:l,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(c,h),selectable:this.props.selectable,accessors:h,getters:m,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:D,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:x};return o.createElement("div",{className:(0,Bl.default)("rbc-time-view",c&&"rbc-time-view-resources"),ref:this.containerRef},c&&c.length>1&&v?o.createElement(Bm,A):o.createElement(Sm,A),this.props.popup&&this.renderOverlay(),o.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},o.createElement(Om,{date:y,ref:this.gutterRef,localizer:p,min:p.merge(y,f),max:p.merge(y,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:m}),this.renderEvents(a,C,F,u())))}},{key:"renderOverlay",value:function(){var e,t,n=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},a=this.props,s=a.accessors,i=a.localizer,l=a.components,u=a.getters,c=a.selected,d=a.popupOffset,h=a.handleDragStart;return o.createElement(Lh,{overlay:r,accessors:s,localizer:i,components:l,getters:u,selected:c,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return n.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var t,n=null!==(t=e.gutterRef)&&void 0!==t&&t.current?(0,Rd.A)(e.gutterRef.current):void 0;n&&e.state.gutterWidth!==n&&e.setState({gutterWidth:n})})}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,r=e.scrollToTime,a=e.localizer,s=a.diff(a.merge(r,t),r,"milliseconds"),i=a.diff(t,n,"milliseconds");this._scrollRatio=s/i}}])}(o.Component);Rm.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Im=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Pm=function(e){function t(){return Dl(this,t),Cl(this,t,arguments)}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this.props,n=e.date,r=e.localizer,a=e.min,s=void 0===a?r.startOf(new Date,"day"):a,i=e.max,l=void 0===i?r.endOf(new Date,"day"):i,u=e.scrollToTime,c=void 0===u?r.startOf(new Date,"day"):u,d=e.enableAutoScroll,h=void 0===d||d,m=ns(e,Im),p=t.range(n,{localizer:r});return o.createElement(Rm,Object.assign({},m,{range:p,eventOffset:10,localizer:r,min:s,max:l,scrollToTime:c,enableAutoScroll:h}))}}])}(o.Component);Pm.range=function(e,t){return[t.localizer.startOf(e,"day")]},Pm.navigate=function(e,t,n){var r=n.localizer;switch(t){case Qd:return r.add(e,-1,"day");case Jd:return r.add(e,1,"day");default:return e}},Pm.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var Lm=["date","localizer","min","max","scrollToTime","enableAutoScroll"],zm=function(e){function t(){return Dl(this,t),Cl(this,t,arguments)}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this.props,n=e.date,r=e.localizer,a=e.min,s=void 0===a?r.startOf(new Date,"day"):a,i=e.max,l=void 0===i?r.endOf(new Date,"day"):i,u=e.scrollToTime,c=void 0===u?r.startOf(new Date,"day"):u,d=e.enableAutoScroll,h=void 0===d||d,m=ns(e,Lm),p=t.range(n,this.props);return o.createElement(Rm,Object.assign({},m,{range:p,eventOffset:15,localizer:r,min:s,max:l,scrollToTime:c,enableAutoScroll:h}))}}])}(o.Component);zm.defaultProps=Rm.defaultProps,zm.navigate=function(e,t,n){var r=n.localizer;switch(t){case Qd:return r.add(e,-1,"week");case Jd:return r.add(e,1,"week");default:return e}},zm.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),s=n.endOf(e,"week",r);return n.range(a,s)},zm.title=function(e,t){var n=t.localizer,r=zd(zm.range(e,{localizer:n})),a=r[0],s=r.slice(1);return n.format({start:a,end:s.pop()},"dayRangeHeaderFormat")};var Um=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Wm(e,t){return zm.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}var Hm=function(e){function t(){return Dl(this,t),Cl(this,t,arguments)}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.localizer,r=e.min,a=void 0===r?n.startOf(new Date,"day"):r,s=e.max,i=void 0===s?n.endOf(new Date,"day"):s,l=e.scrollToTime,u=void 0===l?n.startOf(new Date,"day"):l,c=e.enableAutoScroll,d=void 0===c||c,h=ns(e,Um),m=Wm(t,this.props);return o.createElement(Rm,Object.assign({},h,{range:m,eventOffset:15,localizer:n,min:a,max:i,scrollToTime:u,enableAutoScroll:d}))}}])}(o.Component);Hm.defaultProps=Rm.defaultProps,Hm.range=Wm,Hm.navigate=zm.navigate,Hm.title=function(e,t){var n=t.localizer,r=zd(Wm(e,{localizer:n})),a=r[0],s=r.slice(1);return n.format({start:a,end:s.pop()},"dayRangeHeaderFormat")};function qm(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,s=e.getters,i=e.length,l=void 0===i?30:i,u=e.localizer,c=e.onDoubleClickEvent,d=e.onSelectEvent,h=e.selected,m=(0,o.useRef)(null),p=(0,o.useRef)(null),f=(0,o.useRef)(null),g=(0,o.useRef)(null),b=(0,o.useRef)(null);(0,o.useEffect)(function(){x()});var D=function(e,r){var a="",s=n.time,i=u.messages.allDay,l=t.end(r),c=t.start(r);return t.allDay(r)||(u.eq(c,l)?i=u.format(c,"agendaTimeFormat"):u.isSameDate(c,l)?i=u.format({start:c,end:l},"agendaTimeRangeFormat"):u.isSameDate(e,c)?i=u.format(c,"agendaTimeFormat"):u.isSameDate(e,l)&&(i=u.format(l,"agendaTimeFormat"))),u.gt(e,c,"day")&&(a="rbc-continues-prior"),u.lt(e,l,"day")&&(a+=" rbc-continues-after"),o.createElement("span",{className:a.trim()},s?o.createElement(s,{event:r,day:e,label:i}):i)},x=function(){if(b.current){var e=m.current,t=b.current.firstChild;if(t){var n=g.current.scrollHeight>g.current.clientHeight,r=[],a=r;r=[(0,Rd.A)(t.children[0]),(0,Rd.A)(t.children[1])],a[0]===r[0]&&a[1]===r[1]||(p.current.style.width=r[0]+"px",f.current.style.width=r[1]+"px"),n?((0,Ud.A)(e,"rbc-header-overflowing"),e.style.marginRight=(0,Ld.A)()+"px"):(0,Wd.A)(e,"rbc-header-overflowing")}}},v=u.messages,y=u.add(r,l,"day"),w=u.range(r,y,"day");return(a=a.filter(function(e){return tm(e,u.startOf(r,"day"),u.endOf(y,"day"),t,u)})).sort(function(e,n){return+t.start(e)-+t.start(n)}),o.createElement("div",{className:"rbc-agenda-view"},0!==a.length?o.createElement(o.Fragment,null,o.createElement("table",{ref:m,className:"rbc-agenda-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",{className:"rbc-header",ref:p},v.date),o.createElement("th",{className:"rbc-header",ref:f},v.time),o.createElement("th",{className:"rbc-header"},v.event)))),o.createElement("div",{className:"rbc-agenda-content",ref:g},o.createElement("table",{className:"rbc-agenda-table"},o.createElement("tbody",{ref:b},w.map(function(e,r){return function(e,r,a){var i=n.event,l=n.date;return r=r.filter(function(n){return tm(n,u.startOf(e,"day"),u.endOf(e,"day"),t,u)}),r.map(function(n,m){var p=t.title(n),f=t.end(n),g=t.start(n),b=s.eventProp(n,g,f,Mh(n,h)),x=0===m&&u.format(e,"agendaDateFormat"),v=0===m&&o.createElement("td",{rowSpan:r.length,className:"rbc-agenda-date-cell"},l?o.createElement(l,{day:e,label:x}):x);return o.createElement("tr",{key:a+"_"+m,className:b.className,style:b.style},v,o.createElement("td",{className:"rbc-agenda-time-cell"},D(e,n)),o.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return d&&d(n,e)},onDoubleClick:function(e){return c&&c(n,e)}},i?o.createElement(i,{event:n,title:p}):p))},[])}(e,a,r)}))))):o.createElement("span",{className:"rbc-agenda-empty"},v.noEventsInRange))}qm.range=function(e,t){var n=t.length,r=void 0===n?30:n;return{start:e,end:t.localizer.add(e,r,"day")}},qm.navigate=function(e,t,n){var r=n.length,a=void 0===r?30:r,s=n.localizer;switch(t){case Qd:return s.add(e,-a,"day");case Jd:return s.add(e,a,"day");default:return e}},qm.title=function(e,t){var n=t.length,r=void 0===n?30:n,a=t.localizer,s=a.add(e,r,"day");return a.format({start:e,end:s},"agendaHeaderFormat")};var Vm=We(We(We(We(We({},nh.MONTH,pm),nh.WEEK,zm),nh.WORK_WEEK,Hm),nh.DAY,Pm),nh.AGENDA,qm),Km=["action","date","today"];var Ym=function(e){return function(t){return function(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===ze(e)&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},Gm=["view","date","getNow","onNavigate"],$m=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Zm(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=Sl(r[n],2),s=a[0];a[1]&&t.push(s)}return t}var Xm=function(e){function t(){var e;Dl(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=Cl(this,t,[].concat(r))).getViews=function(){var t=e.props.views;return Array.isArray(t)?Zd()(t,function(e,t){return e[t]=Vm[t]},{}):"object"===ze(t)?Kd()(t,function(e,t){return!0===e?Vm[t]:e}):Vm},e.getView=function(){return e.getViews()[e.props.view]},e.getDrilldownView=function(t){var n=e.props,r=n.view,a=n.drilldownView,s=n.getDrilldownView;return s?s(t,r,Object.keys(e.getViews())):a},e.handleRangeChange=function(t,n,r){var a=e.props,s=a.onRangeChange,i=a.localizer;s&&n.range&&s(n.range(t,{localizer:i}),r)},e.handleNavigate=function(t,n){var r=e.props,a=r.view,s=r.date,i=r.getNow,o=r.onNavigate,l=ns(r,Gm),u=e.getView(),c=i();s=function(e,t){var n=t.action,r=t.date,a=t.today,s=ns(t,Km);switch(e="string"===typeof e?Vm[e]:e,n){case eh:r=a||new Date;break;case th:break;default:Ol()(e&&"function"===typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,s)}return r}(u,qe(qe({},l),{},{action:t,date:n||s||c,today:c})),o(s,a,t),e.handleRangeChange(s,u)},e.handleViewChange=function(t){t!==e.props.view&&function(e,t){return-1!==Zm(t.views).indexOf(e)}(t,e.props)&&e.props.onView(t);var n=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),n[t],t)},e.handleSelectEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jh(e.props.onKeyPressEvent,n)},e.handleSelectSlot=function(t){jh(e.props.onSelectSlot,t)},e.handleDrillDown=function(t,n){var r=e.props.onDrillDown;r?r(t,n,e.drilldownView):(n&&e.handleViewChange(n),e.handleNavigate(th,t))},e.state={context:t.getContext(e.props)},e}return Al(t,e),vl(t,[{key:"render",value:function(){var e=this.props,t=e.view,n=e.toolbar,r=e.events,a=e.backgroundEvents,s=e.resourceGroupingLayout,i=e.style,l=e.className,u=e.elementProps,c=e.date,d=e.getNow,h=e.length,m=e.showMultiDayTimes,p=e.onShowMore,f=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var g=ns(e,$m);c=c||d();var b=this.getView(),D=this.state.context,x=D.accessors,v=D.components,y=D.getters,w=D.localizer,E=D.viewNames,C=v.toolbar||Nh,F=b.title(c,{localizer:w,length:h});return o.createElement("div",Object.assign({},u,{className:(0,Bl.default)(l,"rbc-calendar",g.rtl&&"rbc-rtl"),style:i}),n&&o.createElement(C,{date:c,view:t,views:E,label:F,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:w}),o.createElement(b,Object.assign({},g,{events:r,backgroundEvents:a,date:c,getNow:d,length:h,localizer:w,getters:y,components:v,accessors:x,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:f,resourceGroupingLayout:s})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{context:t.getContext(e)}}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,a=e.tooltipAccessor,s=e.titleAccessor,i=e.resourceAccessor,o=e.resourceIdAccessor,l=e.resourceTitleAccessor,u=e.eventIdAccessor,c=e.eventPropGetter,d=e.backgroundEventPropGetter,h=e.slotPropGetter,m=e.slotGroupPropGetter,p=e.dayPropGetter,f=e.view,g=e.views,b=e.localizer,D=e.culture,x=e.messages,v=void 0===x?{}:x,y=e.components,w=void 0===y?{}:y,E=e.formats,C=void 0===E?{}:E,F=Zm(g);return{viewNames:F,localizer:kh(b,D,C,function(e){return qe(qe({},_h),e)}(v)),getters:{eventProp:function(){return c&&c.apply(void 0,arguments)||{}},backgroundEventProp:function(){return d&&d.apply(void 0,arguments)||{}},slotProp:function(){return h&&h.apply(void 0,arguments)||{}},slotGroupProp:function(){return m&&m.apply(void 0,arguments)||{}},dayProp:function(){return p&&p.apply(void 0,arguments)||{}}},components:qd()(w[f]||{},Gd()(w,F),{eventWrapper:Xd,backgroundEventWrapper:Xd,eventContainerWrapper:Xd,dateCellWrapper:Xd,weekWrapper:Xd,timeSlotWrapper:Xd,timeGutterWrapper:Xd,timeIndicatorWrapper:Xd}),accessors:{start:Ym(t),end:Ym(n),allDay:Ym(r),tooltip:Ym(a),title:Ym(s),resource:Ym(i),resourceId:Ym(o),resourceTitle:Ym(l),eventId:Ym(u)}}}}])}(o.Component);Xm.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:nh.MONTH,views:[nh.MONTH,nh.WEEK,nh.DAY,nh.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:nh.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Qm=function e(t,n,r){void 0===r&&(r=[]);var a,s=t.displayName||t.name||"Component",i=!!(a=t)&&("function"!==typeof a||a.prototype&&a.prototype.isReactComponent),l=Object.keys(n),u=l.map(Il);!i&&r.length&&Ol()(!1);var c=function(e){function a(){for(var t,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];(t=e.call.apply(e,[this].concat(s))||this).handlers=Object.create(null),l.forEach(function(e){var r=n[e];t.handlers[r]=function(n){if(t.props[r]){var a;t._notifying=!0;for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];(a=t.props)[r].apply(a,[n].concat(i)),t._notifying=!1}t.unmounted||t.setState(function(t){var r,a=t.values;return{values:(0,Pl.A)(Object.create(null),a,(r={},r[e]=n,r))}})}}),r.length&&(t.attachRef=function(e){t.inner=e});var o=Object.create(null);return l.forEach(function(e){o[e]=t.props[Il(e)]}),t.state={values:o,prevProps:{}},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fl(e,t)}(a,e);var s=a.prototype;return s.shouldComponentUpdate=function(){return!this._notifying},a.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,a={values:(0,Pl.A)(Object.create(null),n),prevProps:{}};return l.forEach(function(t){a.prevProps[t]=e[t],!Rl(e,t)&&Rl(r,t)&&(a.values[t]=e[Il(t)])}),a},s.componentWillUnmount=function(){this.unmounted=!0},s.render=function(){var e=this,n=this.props,r=n.innerRef,a=ts(n,["innerRef"]);u.forEach(function(e){delete a[e]});var s={};return l.forEach(function(t){var n=e.props[t];s[t]=void 0!==n?n:e.state.values[t]}),o.createElement(t,(0,Pl.A)({},a,s,this.handlers,{ref:r||this.attachRef}))},a}(o.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==a){var s=e.displayName||e.name,i="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=Ll,t.componentWillReceiveProps=zl),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Ul;var o=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;o.call(this,e,t,r)}}}(c),c.displayName="Uncontrolled("+s+")",c.propTypes=(0,Pl.A)({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach(function(e){t[Il(e)]=Tl}),t}(n)),r.forEach(function(e){c.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}});var d=c;return o.forwardRef&&((d=o.forwardRef(function(e,t){return o.createElement(c,(0,Pl.A)({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=c.propTypes),d.ControlledComponent=t,d.deferControlTo=function(t,r,a){return void 0===r&&(r={}),e(t,(0,Pl.A)({},n,r),a)},d}(Xm,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Jm=function(e,t,n){var r=e.start,a=e.end;return n.format(r,"LT",t)+" \u2013 "+n.format(a,"LT",t)},ep={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Jm,eventTimeRangeFormat:Jm,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return n.format(r,"LT",t)+" \u2013 "},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return" \u2013 "+n.format(r,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,n){var r=e.start,a=e.end;return n.format(r,"MMMM DD",t)+" \u2013 "+n.format(a,n.eq(r,a,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,n){var r=e.start,a=e.end;return n.format(r,"L",t)+" \u2013 "+n.format(a,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Jm};function tp(e){var t=e?e.toLowerCase():e;return"FullYear"===t?t="year":t||(t=void 0),t}var np=n(613),rp=n(9051),ap=n.n(rp);n(2011);const sp=cs("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ip=cs("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function op(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function lp(e,t){var n,r,a,s,i,o,l,u;Es(1,arguments);var c=ws(),d=op(null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Cs(e),m=h.getDay(),p=(m<d?7:0)+m-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function up(e,t){var n,r,a,s,i,o,l,u;Es(1,arguments);var c=ws(),d=op(null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Cs(e),m=h.getDay(),p=6+(m<d?-7:0)-(m-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function cp(e,t){Es(2,arguments);var n=Cs(e),r=op(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function dp(e){Es(1,arguments);var t=Cs(e);return t.setHours(0,0,0,0),t}function hp(e,t){Es(2,arguments);var n=dp(e),r=dp(t);return n.getTime()===r.getTime()}function mp(e,t){Es(2,arguments);var n=Cs(e).getTime(),r=op(t);return new Date(n+r)}function pp(e,t){return Es(2,arguments),mp(e,6e4*op(t))}Math.pow(10,8);var fp=6e4,gp=36e5;function bp(e){if(Es(1,arguments),!function(e){return Es(1,arguments),e instanceof Date||"object"===ze(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Cs(e);return!isNaN(Number(t))}function Dp(e){Es(1,arguments);var t=Cs(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function xp(e){Es(1,arguments);var t=Cs(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Dp(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var i=Dp(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function vp(e){Es(1,arguments);var t=Cs(e),n=Dp(t).getTime()-function(e){Es(1,arguments);var t=xp(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Dp(n)}(t).getTime();return Math.round(n/6048e5)+1}function yp(e,t){var n,r,a,s,i,o,l,u;Es(1,arguments);var c=ws(),d=op(null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Cs(e),m=h.getUTCDay(),p=(m<d?7:0)+m-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function wp(e,t){var n,r,a,s,i,o,l,u;Es(1,arguments);var c=Cs(e),d=c.getUTCFullYear(),h=ws(),m=op(null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,m),p.setUTCHours(0,0,0,0);var f=yp(p,t),g=new Date(0);g.setUTCFullYear(d,0,m),g.setUTCHours(0,0,0,0);var b=yp(g,t);return c.getTime()>=f.getTime()?d+1:c.getTime()>=b.getTime()?d:d-1}function Ep(e,t){Es(1,arguments);var n=Cs(e),r=yp(n,t).getTime()-function(e,t){var n,r,a,s,i,o,l,u;Es(1,arguments);var c=ws(),d=op(null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),h=wp(e,t),m=new Date(0);return m.setUTCFullYear(h,0,d),m.setUTCHours(0,0,0,0),yp(m,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Cp(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Fp={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Cp("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Cp(n+1,2)},d:function(e,t){return Cp(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Cp(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Cp(e.getUTCHours(),t.length)},m:function(e,t){return Cp(e.getUTCMinutes(),t.length)},s:function(e,t){return Cp(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Cp(Math.floor(r*Math.pow(10,n-3)),t.length)}};const Ap=Fp;var kp="midnight",Np="noon",jp="morning",_p="afternoon",Sp="evening",Bp="night",Mp={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ap.y(e,t)},Y:function(e,t,n,r){var a=wp(e,r),s=a>0?a:1-a;return"YY"===t?Cp(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Cp(s,t.length)},R:function(e,t){return Cp(xp(e),t.length)},u:function(e,t){return Cp(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Cp(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Cp(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Ap.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Cp(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=Ep(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Cp(a,t.length)},I:function(e,t,n){var r=vp(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Cp(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ap.d(e,t)},D:function(e,t,n){var r=function(e){Es(1,arguments);var t=Cs(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Cp(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Cp(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Cp(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Cp(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?Np:0===a?kp:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?Sp:a>=12?_p:a>=4?jp:Bp,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ap.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ap.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Cp(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Cp(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ap.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ap.s(e,t)},S:function(e,t){return Ap.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Tp(a);case"XXXX":case"XX":return Rp(a);default:return Rp(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Tp(a);case"xxxx":case"xx":return Rp(a);default:return Rp(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Op(a,":");default:return"GMT"+Rp(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Op(a,":");default:return"GMT"+Rp(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return Cp(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return Cp((r._originalDate||e).getTime(),t.length)}};function Op(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),s=r%60;if(0===s)return n+String(a);var i=t||"";return n+String(a)+i+Cp(s,2)}function Tp(e,t){return e%60===0?(e>0?"-":"+")+Cp(Math.abs(e)/60,2):Rp(e,t)}function Rp(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+Cp(Math.floor(a/60),2)+n+Cp(a%60,2)}const Ip=Mp;var Pp=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Lp=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},zp={p:Lp,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return Pp(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Pp(a,t)).replace("{{time}}",Lp(s,t))}};const Up=zp;var Wp=["D","DD"],Hp=["YY","YYYY"];function qp(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Vp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yp=/^'([^]*?)'?$/,Gp=/''/g,$p=/[a-zA-Z]/;function Zp(e,t,n){var r,a,s,i,o,l,u,c,d,h,m,p,f,g,b,D,x,v;Es(2,arguments);var y=String(t),w=ws(),E=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:w.locale)&&void 0!==r?r:qs,C=op(null!==(s=null!==(i=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:w.firstWeekContainsDate)&&void 0!==i?i:null===(d=w.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==s?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=op(null!==(m=null!==(p=null!==(f=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(b=n.locale)||void 0===b||null===(D=b.options)||void 0===D?void 0:D.weekStartsOn)&&void 0!==f?f:w.weekStartsOn)&&void 0!==p?p:null===(x=w.locale)||void 0===x||null===(v=x.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var A=Cs(e);if(!bp(A))throw new RangeError("Invalid time value");var k=function(e,t){return Es(2,arguments),mp(e,-op(t))}(A,Ks(A)),N={firstWeekContainsDate:C,weekStartsOn:F,locale:E,_originalDate:A};return y.match(Kp).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Up[t])(e,E.formatLong):e}).join("").match(Vp).map(function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return function(e){var t=e.match(Yp);if(!t)return e;return t[1].replace(Gp,"'")}(r);var s,i=Ip[a];if(i)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(s=r,-1===Hp.indexOf(s))||qp(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==Wp.indexOf(e)}(r)||qp(r,t,String(e)),i(k,r,E.localize,N);if(a.match($p))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r}).join("")}function Xp(e,t){var n;Es(1,arguments);var r=op(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,s=function(e){var t,n={},r=e.split(Qp.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],Qp.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Qp.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var a=Qp.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e);if(s.date){var i=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?a:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(s.date,r);a=function(e,t){if(null===t)return new Date(NaN);var n=e.match(Jp);if(!n)return new Date(NaN);var r=!!n[4],a=nf(n[1]),s=nf(n[2])-1,i=nf(n[3]),o=nf(n[4]),l=nf(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,s=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}(t,o,l):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(af[t]||(sf(e)?29:28))}(t,s,i)&&function(e,t){return t>=1&&t<=(sf(e)?366:365)}(t,a)?(u.setUTCFullYear(t,s,Math.max(a,i)),u):new Date(NaN)}(i.restDateString,i.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o,l=a.getTime(),u=0;if(s.time&&(u=function(e){var t=e.match(ef);if(!t)return NaN;var n=rf(t[1]),r=rf(t[2]),a=rf(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*gp+r*fp+1e3*a}(s.time),isNaN(u)))return new Date(NaN);if(!s.timezone){var c=new Date(l+u),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return o=function(e){if("Z"===e)return 0;var t=e.match(tf);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*gp+a*fp)}(s.timezone),isNaN(o)?new Date(NaN):new Date(l+u+o)}var Qp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Jp=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ef=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tf=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nf(e){return e?parseInt(e):1}function rf(e){return e&&parseFloat(e.replace(",","."))||0}var af=[31,null,31,30,31,30,31,31,30,31,30,31];function sf(e){return e%400===0||e%4===0&&e%100!==0}const of=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof Date)return bp(e)?e:t||new Date;if("string"===typeof e)try{const n=Xp(e);return bp(n)?n:t||new Date}catch(n){return console.warn("Failed to parse date string:",e,n),t||new Date}if("number"===typeof e){const n=new Date(e);return bp(n)?n:t||new Date}return t||new Date},lf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PPP",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{fallback:r="\u2014",locale:a=si}=n;try{const n=of(e);return bp(n)?Zp(n,t,{locale:a}):r}catch(s){return console.warn("Failed to format date:",e,s),r}},uf=e=>{if(!e){const e=new Date;return{validStart:e,validEnd:pp(e,60)}}const t=of(e.start||e.start_time);return{validStart:t,validEnd:of(e.end||e.end_time,pp(t,60))}},cf=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return"Ganzt\xe4gig";const{validStart:n,validEnd:r}=uf({start:e,end:t}),a=lf(n,"HH:mm",{fallback:"00:00"}),s=lf(r,"HH:mm",{fallback:"00:00"});return"".concat(a," \u2013 ").concat(s)};ap().locale("de");const df=function(e){function t(t,n){var r,a,s=e(t).local(),i=e(n).local();if(!e.tz)return s.toDate().getTimezoneOffset()-i.toDate().getTimezoneOffset();var o=null!==(r=null===s||void 0===s||null===(a=s._z)||void 0===a?void 0:a.name)&&void 0!==r?r:e.tz.guess();return e.tz.zone(o).utcOffset(+s)-e.tz.zone(o).utcOffset(+i)}function n(t,n,r){var a=tp(r);return[a?e(t).startOf(a):e(t),a?e(n).startOf(a):e(n),a]}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=tp(arguments.length>1?arguments[1]:void 0);return n?e(t).startOf(n).toDate():e(t).toDate()}function a(e,t,r){var a=Sl(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isSame(i,o)}function s(e,t,r){var a=Sl(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isSameOrBefore(i,o)}function i(t,n,r){var a=tp(r);return e(t).add(n,a).toDate()}function o(t,n){var r=tp(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),a=e(t);return e(n).diff(a,r)}function l(t){return e(t).startOf("month").startOf("week").toDate()}function u(t){return e(t).endOf("month").endOf("week").toDate()}function c(t,n){var r=e(t),a=e(n);return e.duration(a.diff(r)).days()}return new Ah({formats:ep,firstOfWeek:function(t){var n=t?e.localeData(t):e.localeData();return n?n.firstDayOfWeek():0},firstVisibleDay:l,lastVisibleDay:u,visibleDays:function(e){for(var t=l(e),n=u(e),r=[];s(t,n);)r.push(t),t=i(t,1,"d");return r},format:function(t,n,r){return function(e,t){return t?e.locale(t):e}(e(t),r).format(n)},lt:function(e,t,r){var a=Sl(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isBefore(i,o)},lte:s,gt:function(e,t,r){var a=Sl(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isAfter(i,o)},gte:function(e,t,r){var a=Sl(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isSameOrBefore(i,o)},eq:a,neq:function(e,t,n){return!a(e,t,n)},merge:function(t,n){if(!t&&!n)return null;var r=e(n).format("HH:mm:ss"),a=e(t).startOf("day").format("MM/DD/YYYY");return e("".concat(a," ").concat(r),"MM/DD/YYYY HH:mm:ss").toDate()},inRange:function(t,n,r){var a=tp(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day"),s=e(t),i=e(n),o=e(r);return s.isBetween(i,o,a,"[]")},startOf:r,endOf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=tp(arguments.length>1?arguments[1]:void 0);return n?e(t).endOf(n).toDate():e(t).toDate()},range:function(t,n){for(var r=tp(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),a=e(t).toDate(),o=[];s(a,n);)o.push(a),a=i(a,1,r);return o},add:i,diff:o,ceil:function(e,t){var n=tp(t),s=r(e,n);return a(s,e)?s:i(s,1,n)},min:function(t,n){var r=e(t),a=e(n);return e.min(r,a).toDate()},max:function(t,n){var r=e(t),a=e(n);return e.max(r,a).toDate()},minutes:function(t){return e(t).minutes()},getSlotDate:function(t,n,r){return e(t).startOf("day").minute(n+r).toDate()},getTimezoneOffset:function(t){return e(t).toDate().getTimezoneOffset()},getDstOffset:t,getTotalMin:function(e,t){return o(e,t,"minutes")},getMinutesFromMidnight:function(n){var r=e(n).startOf("day");return e(n).diff(r,"minutes")+function(n){return t(e(n).startOf("day"),n)}(n)},continuesPrior:function(t,n){var r=e(t),a=e(n);return r.isBefore(a,"day")},continuesAfter:function(t,n,r){var a=e(n),s=e(r);return a.isSameOrAfter(s,"minutes")},sortEvents:function(e){var t=e.evtA,n=t.start,a=t.end,s=t.allDay,i=e.evtB,o=i.start,l=i.end,u=i.allDay,d=+r(n,"day")-+r(o,"day"),h=c(n,a),m=c(o,l);return d||m-h||!!u-!!s||+n-+o||+a-+l},inEventRange:function(t){var n=t.event,r=n.start,a=n.end,s=t.range,i=s.start,o=s.end,l=e(r).startOf("day"),u=e(a),c=e(i),d=e(o),h=l.isSameOrBefore(d,"day"),m=!l.isSame(u,"minutes")?u.isAfter(c,"minutes"):u.isSameOrAfter(c,"minutes");return h&&m},isSameDate:function(t,n){var r=e(t),a=e(n);return r.isSame(a,"day")},daySpan:c,browserTZOffset:function(){var t=new Date,n=/-/.test(t.toString())?"-":"",r=t.getTimezoneOffset(),a=Number("".concat(n).concat(Math.abs(r)));return e().utcOffset()>a?1:0}})}(ap()),hf=(0,np.A)(Qm),mf=e=>e instanceof Date&&!Number.isNaN(e.getTime()),pf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;const n=e?e instanceof Date?e:new Date(e):null;return mf(n)?n:t},ff=e=>{let{events:t=[],onEventClick:n,onEventCreate:r,onEventUpdate:a,onSelectSlot:s,onRangeChange:i,onEventEdit:l,onEventDelete:u,loading:c=!1,isMobile:d=!1}=e;const[h,m]=(0,o.useState)(d?"agenda":"month"),[p,f]=(0,o.useState)(()=>new Date),g=(0,o.useCallback)(e=>{f(pf(e))},[]),[b,D]=(0,o.useState)(null),x=(0,o.useMemo)(()=>t.map(e=>{const t=e.start_date||e.start,n=e.end_date||e.end||e.start_date||e.start;let r=e.start instanceof Date?e.start:new Date(t),a=e.end instanceof Date?e.end:new Date(n);return isNaN(r.getTime())&&(console.warn("Invalid start date for event ".concat(e.id,":"),t),r=new Date),isNaN(a.getTime())&&(console.warn("Invalid end date for event ".concat(e.id,":"),n),a=new Date(r.getTime()+36e5)),qe(qe({},e),{},{id:e.id,title:e.title||"Unbenannt",start:r,end:a,allDay:Boolean(e.all_day||e.isAllDay),resource:e})}),[t]),v=((0,o.useMemo)(()=>{const e=new Date;return x.filter(t=>t.start>=e).sort((e,t)=>e.start-t.start).slice(0,3)},[x]),(0,o.useMemo)(()=>lp(pf(p),{weekStartsOn:1}),[p])),y=(0,o.useMemo)(()=>up(pf(p),{weekStartsOn:1}),[p]),w=(0,o.useMemo)(()=>{const e=[];for(let t=0;t<7;t+=1)e.push(cp(v,t));return e},[v]),E=(0,o.useCallback)(e=>mf(e)?x.filter(t=>mf(t.start)&&hp(t.start,e)):[],[x]),C=(0,o.useMemo)(()=>{const e=dp(new Date);return x.filter(t=>t.start>=e).sort((e,t)=>e.start-t.start).slice(0,4)},[x]),F=(0,o.useCallback)(e=>{m("day"),g(e)},[g]),A=(0,o.useCallback)(()=>{if(!r)return;const e=new Date,t=pp(e,60);r({start:e,end:t})},[r]),k=(0,o.useCallback)(async e=>{let{event:t,start:n,end:r}=e;if(a)try{D(t.id);const e=t.start,s=function(e,t,n){Es(2,arguments);var r=js(e,t)/fp;return Ss(null===n||void 0===n?void 0:n.roundingMethod)(r)}(t.end,e),i=qe(qe({},t.resource),{},{start:n,end:r||pp(n,s),start_date:Zp(n,"yyyy-MM-dd"),end_date:Zp(r||pp(n,s),"yyyy-MM-dd"),start_time:t.allDay?"":Zp(n,"HH:mm"),end_time:t.allDay?"":Zp(r||pp(n,s),"HH:mm")});await a(t.id,i)}catch(s){console.error("Error moving event:",s)}finally{D(null)}},[a]),N=(0,o.useCallback)(async e=>{let{event:t,start:n,end:r}=e;if(a)try{D(t.id);const e=qe(qe({},t.resource),{},{start:n,end:r,start_date:Zp(n,"yyyy-MM-dd"),end_date:Zp(r,"yyyy-MM-dd"),start_time:t.allDay?"":Zp(n,"HH:mm"),end_time:t.allDay?"":Zp(r,"HH:mm")});await a(t.id,e)}catch(s){console.error("Error resizing event:",s)}finally{D(null)}},[a]),j=(0,o.useCallback)(e=>{n&&n(e.resource||e)},[n]),_=(0,o.useCallback)(e=>{r&&r({start:e.start,end:e.end,all_day:"select"===e.action&&e.slots.length>1}),s&&s(e)},[r,s]),S=(0,o.useCallback)(e=>{const t="agenda"===h?"day":h,n=ap()(pf(p))[e](1,t).toDate();g(n)},[h,p,g]),B=(0,o.useCallback)(()=>{g(new Date)},[g]),M=(0,o.useCallback)(e=>{m(e)},[]),O=(0,o.useCallback)(e=>{g(e)},[g]),T=(0,o.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return mf(e)?Zp(e,t,n):"--"},[]),R="".concat(T(v,"dd.MM")," \u2013 ").concat(T(y,"dd.MM")),I=e=>{let{days:t=[],selectedDate:n,weekLabel:r,onPrev:a,onNext:s,onToday:i,onDayFocus:o,onEventCreate:l,upcomingEvents:u,onEventClick:c,onEventEdit:d,onEventDelete:h}=e;return(0,Oa.jsxs)("div",{className:"mobile-calendar-hero",children:[(0,Oa.jsxs)("div",{className:"mobile-calendar-hero__header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-blue-500",children:"Kalender"}),(0,Oa.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:r})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("button",{type:"button",onClick:a,className:"mobile-calendar-hero__nav","aria-label":"Vorherige Woche",children:(0,Oa.jsx)(sp,{className:"w-4 h-4"})}),(0,Oa.jsx)("button",{type:"button",onClick:i,className:"mobile-calendar-hero__nav mobile-calendar-hero__nav--solid",children:"Heute"}),(0,Oa.jsx)("button",{type:"button",onClick:s,className:"mobile-calendar-hero__nav","aria-label":"N\xe4chste Woche",children:(0,Oa.jsx)(ip,{className:"w-4 h-4"})})]})]}),(0,Oa.jsxs)("div",{className:"mobile-calendar-hero__days",children:[t.filter(mf).map(e=>{const t=E(e),r=hp(e,pf(n));return(0,Oa.jsxs)("button",{type:"button",onClick:()=>o(e),className:"mobile-calendar-day-card ".concat(r?"mobile-calendar-day-card--active":""),children:[(0,Oa.jsx)("span",{className:"mobile-calendar-day-card__weekday",children:T(e,"EEE",{locale:si})}),(0,Oa.jsx)("span",{className:"mobile-calendar-day-card__date",children:T(e,"dd")}),(0,Oa.jsxs)("span",{className:"mobile-calendar-day-card__count",children:[t.length," Termine"]})]},e.toISOString())}),(0,Oa.jsx)("button",{type:"button",onClick:l,className:"mobile-calendar-day-card mobile-calendar-day-card--cta",children:"+ Termin"})]}),(0,Oa.jsx)("div",{className:"calendar-mobile-glance",children:0===u.length?(0,Oa.jsxs)("div",{className:"calendar-mobile-glance__card",children:[(0,Oa.jsx)("span",{className:"calendar-mobile-glance__accent","aria-hidden":"true"}),(0,Oa.jsxs)("div",{className:"calendar-mobile-glance__body",children:[(0,Oa.jsx)("p",{className:"calendar-mobile-glance__title",children:"Noch nichts geplant"}),(0,Oa.jsx)("p",{className:"calendar-mobile-glance__time",children:"Tippe auf \u201e+ Termin\u201c oder w\xe4hle eine Woche aus."}),(0,Oa.jsx)("span",{className:"calendar-mobile-glance__tag",children:"Bereit"})]})]}):u.map(e=>{const t=e.resource||e,{validStart:n,validEnd:r}=uf(e),a=cf(n,r,e.allDay),s=t.type||t.category||"Termin",i=e.title||"Kalendertermin";return(0,Oa.jsxs)("button",{type:"button",onClick:()=>null===c||void 0===c?void 0:c(e),className:"calendar-mobile-glance__card text-left",children:[(0,Oa.jsx)("span",{className:"calendar-mobile-glance__accent","aria-hidden":"true"}),(0,Oa.jsxs)("div",{className:"calendar-mobile-glance__body",children:[(0,Oa.jsx)("p",{className:"calendar-mobile-glance__title truncate",children:i}),(0,Oa.jsx)("p",{className:"calendar-mobile-glance__time",children:a}),(0,Oa.jsx)("span",{className:"calendar-mobile-glance__tag",children:s})]})]},e.id)})})]})};(0,o.useEffect)(()=>{if(i){i((()=>{const e=ap()(p);switch(h){case"month":return{start:e.clone().startOf("month").startOf("week").toDate(),end:e.clone().endOf("month").endOf("week").toDate(),view:"month"};case"week":return{start:e.clone().startOf("week").toDate(),end:e.clone().endOf("week").toDate(),view:"week"};case"day":return{start:e.clone().startOf("day").toDate(),end:e.clone().endOf("day").toDate(),view:"day"};case"agenda":return{start:e.clone().startOf("day").toDate(),end:e.clone().add(30,"days").endOf("day").toDate(),view:"agenda"};default:return{start:e.clone().startOf("month").toDate(),end:e.clone().endOf("month").toDate(),view:"month"}}})())}},[p,h,i]);const P={today:"Heute",previous:"Zur\xfcck",next:"Weiter",month:"Monat",week:"Woche",day:"Tag",agenda:"Agenda",date:"Datum",time:"Zeit",event:"Ereignis",noEventsInRange:"Keine Ereignisse in diesem Zeitraum.",showMore:e=>"+ ".concat(e," mehr"),allDay:"Ganzt\xe4gig",yesterday:"Gestern",tomorrow:"Morgen",work_week:"Arbeitswoche"},L=["month","week","day","agenda"],z=["month","week","agenda"],U=d?z:L,W=d?z:L,H=d?"min(680px, calc(100vh - 220px))":"min(840px, calc(100vh - 260px))",q=d?"420px":"600px",V=(0,o.useCallback)(e=>{const t=b===e.id;return{style:{backgroundColor:e.color||"#3b82f6",borderRadius:"6px",opacity:t?.5:.95,color:"white",border:"0px",display:"block",fontWeight:600,padding:"2px 6px",cursor:"pointer",transition:"opacity 0.2s ease"}}},[b]),K=(0,o.useCallback)(e=>({style:{backgroundColor:ap()(e).isSame(ap()(),"day")?"#eff6ff":void 0}}),[]),Y=(0,o.useCallback)(e=>({style:{backgroundColor:ap()(e).isSame(ap()(),"day")?"#fafafa":void 0}}),[]);return(0,Oa.jsxs)("div",{className:"".concat(d?"calendar-mobile-card":"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden"),children:[d?(0,Oa.jsxs)("div",{className:"calendar-mobile-toolbar",children:[(0,Oa.jsxs)("div",{className:"calendar-mobile-toolbar__top",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>S("subtract"),"aria-label":"Vorheriger Zeitraum",disabled:c,children:(0,Oa.jsx)(sp,{className:"w-5 h-5"})}),(0,Oa.jsxs)("div",{className:"calendar-mobile-toolbar__date",children:[(0,Oa.jsx)("p",{children:ap()(p).format("MMMM YYYY")}),(0,Oa.jsx)("span",{children:ap()(p).format("dddd, DD.MM")})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>S("add"),"aria-label":"N\xe4chster Zeitraum",disabled:c,children:(0,Oa.jsx)(ip,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"calendar-mobile-toolbar__views",children:[z.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>M(e),className:h===e?"active":"",disabled:c,children:P[e]},e)),(0,Oa.jsx)("button",{type:"button",className:"today",onClick:B,disabled:c,children:"Heute"})]})]}):(0,Oa.jsxs)("div",{className:"flex flex-col gap-4 p-4 sm:p-6 border-b border-slate-200",children:[(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>S("subtract"),className:"inline-flex items-center justify-center rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200 w-10 h-10 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Vorheriger Zeitraum",disabled:c,children:(0,Oa.jsx)(sp,{className:"w-5 h-5"})}),(0,Oa.jsxs)("div",{className:"text-center min-w-[200px]",children:[(0,Oa.jsx)("p",{className:"text-sm text-slate-500",children:ap()(p).format("dddd, DD.MM.YYYY")}),(0,Oa.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:"month"===h?ap()(p).format("MMMM YYYY"):ap()(p).format("DD. MMM YYYY")})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>S("add"),className:"inline-flex items-center justify-center rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200 w-10 h-10 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"N\xe4chster Zeitraum",disabled:c,children:(0,Oa.jsx)(ip,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,Oa.jsxs)("button",{type:"button",onClick:B,className:"px-3 py-2 rounded-full bg-blue-50 text-blue-600 text-sm font-semibold hover:bg-blue-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c,children:[(0,Oa.jsx)(fs,{className:"w-4 h-4 inline mr-1"}),"Heute"]}),(0,Oa.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:W.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>M(e),className:"px-3 py-2 rounded-full text-sm font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h===e?"bg-blue-600 text-white shadow":"bg-slate-100 text-slate-600 hover:bg-slate-200"),disabled:c,children:P[e]},e))})]})]}),c&&(0,Oa.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-blue-600",children:[(0,Oa.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,Oa.jsx)("span",{className:"text-sm font-medium",children:"Laden..."})]})})]}),d&&(0,Oa.jsx)(I,{days:w,selectedDate:p,weekLabel:R,onPrev:()=>S("subtract"),onNext:()=>S("add"),onToday:B,onDayFocus:F,onEventCreate:A,upcomingEvents:C,onEventClick:j,onEventEdit:l,onEventDelete:u}),(0,Oa.jsx)("div",{className:"rounded-xl overflow-hidden",children:(0,Oa.jsx)("div",{className:"relative",children:(0,Oa.jsx)(hf,{localizer:df,events:x,view:h,date:p,onView:M,onNavigate:O,onSelectEvent:j,onSelectSlot:_,onEventDrop:k,onEventResize:N,selectable:!0,resizable:!0,draggableAccessor:()=>!0,resizableAccessor:()=>!0,messages:P,style:{height:H,minHeight:q,opacity:c?.6:1,transition:"opacity 0.2s ease"},views:U,toolbar:!1,popup:!d,eventPropGetter:V,dayPropGetter:K,slotPropGetter:Y,step:30,timeslots:2,defaultDate:new Date,scrollToTime:new Date(1970,1,1,8,0,0),culture:"de",formats:{dateFormat:"DD",dayFormat:(e,t,n)=>n.format(e,"ddd DD.MM",t),weekdayFormat:(e,t,n)=>n.format(e,"ddd",t),monthHeaderFormat:(e,t,n)=>n.format(e,"MMMM YYYY",t),dayHeaderFormat:(e,t,n)=>n.format(e,"dddd, DD.MM.YYYY",t),dayRangeHeaderFormat:(e,t,n)=>{let{start:r,end:a}=e;return"".concat(n.format(r,"DD.MM",t)," - ").concat(n.format(a,"DD.MM.YYYY",t))},agendaHeaderFormat:(e,t,n)=>{let{start:r,end:a}=e;return"".concat(n.format(r,"DD.MM",t)," - ").concat(n.format(a,"DD.MM.YYYY",t))},agendaDateFormat:(e,t,n)=>n.format(e,"ddd DD.MM",t),agendaTimeFormat:(e,t,n)=>n.format(e,"HH:mm",t),agendaTimeRangeFormat:(e,t,n)=>{let{start:r,end:a}=e;return"".concat(n.format(r,"HH:mm",t)," - ").concat(n.format(a,"HH:mm",t))},timeGutterFormat:(e,t,n)=>n.format(e,"HH:mm",t),eventTimeRangeFormat:(e,t,n)=>{let{start:r,end:a}=e;return"".concat(n.format(r,"HH:mm",t)," - ").concat(n.format(a,"HH:mm",t))}}})})}),!d&&(0,Oa.jsx)("div",{className:"px-6 py-3 bg-slate-50 border-t border-slate-200",children:(0,Oa.jsx)("p",{className:"text-xs text-slate-600 text-center",children:"Klicken Sie auf einen Termin zum Ansehen/Bearbeiten. Ziehen Sie Termine zum Verschieben. Ziehen Sie an den R\xe4ndern zum \xc4ndern der Dauer."})})]})},gf=cs("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),bf=cs("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Df=cs("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),xf=cs("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),vf=cs("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function yf(e,t){Es(2,arguments);var n=Cs(e),r=op(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var a=n.getDate(),s=new Date(n.getTime());return s.setMonth(n.getMonth()+r+1,0),a>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function wf(e,t){return Es(2,arguments),cp(e,7*op(t))}function Ef(e,t){var n;Es(1,arguments);var r=e||{},a=Cs(r.start),s=Cs(r.end).getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var i=[],o=a;o.setHours(0,0,0,0);var l=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;o.getTime()<=s;)i.push(Cs(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i}function Cf(e){return Es(1,arguments),hp(e,Date.now())}const Ff="day",Af="week",kf="month",Nf="list",jf=e=>{let{events:t=[],onEventClick:n,onEventCreate:r,onViewChange:a,onDateChange:s,loading:i=!1}=e;const[l,u]=(0,o.useState)(new Date),[c,d]=(0,o.useState)(kf),[h,m]=(0,o.useState)(null),[p,f]=(0,o.useState)(!1),g=[{value:null,label:"Alle",color:"bg-slate-100"},{value:"Arbeit",label:"Arbeit",color:"bg-sky-100 text-sky-700"},{value:"Meeting",label:"Meeting",color:"bg-indigo-100 text-indigo-700"},{value:"Urlaub",label:"Urlaub",color:"bg-amber-100 text-amber-700"},{value:"Krankheit",label:"Krankheit",color:"bg-rose-100 text-rose-700"},{value:"Projekt",label:"Projekt",color:"bg-violet-100 text-violet-700"}],b=(0,o.useMemo)(()=>h?t.filter(e=>(e.event_type||e.type)===h):t,[t,h]),D=(0,o.useCallback)(e=>b.filter(t=>hp(t.start instanceof Date?t.start:Xp(t.start),e)),[b]),x=()=>{c===kf?u(function(e,t){return Es(2,arguments),yf(e,-op(t))}(l,1)):c===Af&&u(function(e,t){return Es(2,arguments),wf(e,-op(t))}(l,1))},v=()=>{c===kf?u(yf(l,1)):c===Af&&u(wf(l,1))},y=()=>{u(new Date)},w=()=>{const e=function(e){Es(1,arguments);var t=Cs(e);return t.setDate(1),t.setHours(0,0,0,0),t}(l),t=As(l),a=Ef({start:lp(e,{weekStartsOn:1}),end:up(t,{weekStartsOn:1})});return(0,Oa.jsxs)("div",{className:"mobile-calendar-native__month-view bg-white",children:[(0,Oa.jsx)("div",{className:"mobile-calendar-native__weekdays grid grid-cols-7 border-b border-slate-200",children:["Mo","Di","Mi","Do","Fr","Sa","So"].map(e=>(0,Oa.jsx)("div",{className:"py-2 text-center text-xs font-semibold text-slate-600",children:e},e))}),(0,Oa.jsx)("div",{className:"mobile-calendar-native__month-grid grid grid-cols-7",children:a.map(e=>{const t=D(e),a=function(e,t){Es(2,arguments);var n=Cs(e),r=Cs(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,l),s=Cf(e);return(0,Oa.jsxs)("button",{onClick:()=>{1===t.length?n(t[0]):t.length>1?(d(Ff),u(e)):null===r||void 0===r||r({start:e})},className:"\n                  mobile-calendar-native__day min-h-[80px] p-1 border-r border-b border-slate-100\n                  hover:bg-slate-50 transition text-left\n                  ".concat(a?"":"bg-slate-50/50 text-slate-400 is-outside","\n                  ").concat(s?"bg-blue-50 is-today":"","\n                  ").concat(t.length>0?"has-events":"","\n                "),children:[(0,Oa.jsx)("div",{className:"text-xs font-semibold mb-1 ".concat(s?"text-blue-600":""),children:Zp(e,"d")}),t.length>0&&(0,Oa.jsxs)("div",{className:"space-y-0.5",children:[t.slice(0,3).map((e,t)=>{const n=e.event_type||e.type;return(0,Oa.jsx)("div",{className:"mobile-calendar-native__event-chip text-[10px] px-1 py-0.5 rounded truncate ".concat("Arbeit"===n?"bg-sky-100 text-sky-700":"Meeting"===n?"bg-indigo-100 text-indigo-700":"Urlaub"===n?"bg-amber-100 text-amber-700":"Krankheit"===n?"bg-rose-100 text-rose-700":"bg-slate-100 text-slate-700"),children:e.title},e.id||t)}),t.length>3&&(0,Oa.jsxs)("div",{className:"mobile-calendar-native__event-more text-[10px] text-slate-500 px-1",children:["+",t.length-3," mehr"]})]})]},e.toISOString())})})]})};return(0,Oa.jsxs)("div",{className:"mobile-calendar-native flex flex-col h-full bg-slate-50",children:[(0,Oa.jsxs)("div",{className:"mobile-calendar-native__header bg-white border-b border-slate-200 sticky top-0 z-20",children:[(0,Oa.jsxs)("div",{className:"mobile-calendar-native__nav flex items-center justify-between p-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("button",{onClick:x,className:"mobile-calendar-native__nav-btn p-2 rounded-lg hover:bg-slate-100 transition",children:(0,Oa.jsx)(sp,{className:"w-5 h-5"})}),(0,Oa.jsx)("button",{onClick:y,className:"mobile-calendar-native__today-btn px-3 py-1.5 text-sm font-medium rounded-lg bg-slate-100 hover:bg-slate-200 transition",children:"Heute"}),(0,Oa.jsx)("button",{onClick:v,className:"mobile-calendar-native__nav-btn p-2 rounded-lg hover:bg-slate-100 transition",children:(0,Oa.jsx)(ip,{className:"w-5 h-5"})})]}),(0,Oa.jsx)("h2",{className:"mobile-calendar-native__title text-lg font-bold text-slate-900",children:Zp(l,c===kf?"MMMM yyyy":"MMM yyyy",{locale:si})}),(0,Oa.jsx)("button",{onClick:()=>f(!p),className:"mobile-calendar-native__filter-btn p-2 rounded-lg transition ".concat(p?"bg-blue-100 text-blue-600 is-active":"hover:bg-slate-100"),children:(0,Oa.jsx)(gf,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"mobile-calendar-native__views flex gap-1 p-2 bg-slate-50",children:[(0,Oa.jsx)("button",{onClick:()=>d(Ff),className:"mobile-calendar-native__view-btn flex-1 py-2 px-3 rounded-lg font-medium text-sm transition ".concat(c===Ff?"bg-white shadow text-blue-600 is-active":"text-slate-600 hover:bg-white/50"),children:"Tag"}),(0,Oa.jsx)("button",{onClick:()=>d(Af),className:"mobile-calendar-native__view-btn flex-1 py-2 px-3 rounded-lg font-medium text-sm transition ".concat(c===Af?"bg-white shadow text-blue-600 is-active":"text-slate-600 hover:bg-white/50"),children:"Woche"}),(0,Oa.jsx)("button",{onClick:()=>d(kf),className:"mobile-calendar-native__view-btn flex-1 py-2 px-3 rounded-lg font-medium text-sm transition ".concat(c===kf?"bg-white shadow text-blue-600 is-active":"text-slate-600 hover:bg-white/50"),children:"Monat"}),(0,Oa.jsx)("button",{onClick:()=>d(Nf),className:"mobile-calendar-native__view-btn flex-1 py-2 px-3 rounded-lg font-medium text-sm transition ".concat(c===Nf?"bg-white shadow text-blue-600 is-active":"text-slate-600 hover:bg-white/50"),children:"Liste"})]}),p&&(0,Oa.jsx)("div",{className:"mobile-calendar-native__filters p-2 bg-white border-t border-slate-100",children:(0,Oa.jsx)("div",{className:"flex gap-1 overflow-x-auto pb-1",children:g.map(e=>(0,Oa.jsx)("button",{onClick:()=>m(e.value),className:"mobile-calendar-native__filter-chip px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition ".concat(h===e.value?"".concat(e.color," shadow is-active"):"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.label},e.value||"all"))})})]}),(0,Oa.jsx)("div",{className:"mobile-calendar-native__content flex-1 overflow-y-auto",children:i?(0,Oa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Oa.jsx)("div",{className:"animate-spin w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full"})}):(()=>{switch(c){case Ff:return(()=>{const e=D(l);return Array.from({length:24},(e,t)=>t),(0,Oa.jsxs)("div",{className:"mobile-calendar-native__day-view bg-white",children:[(0,Oa.jsxs)("div",{className:"mobile-calendar-native__section-header p-3 border-b border-slate-200",children:[(0,Oa.jsx)("h3",{className:"font-semibold text-slate-900",children:Zp(l,"EEEE, dd. MMMM yyyy",{locale:si})}),e.length>0&&(0,Oa.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:[e.length," ",1===e.length?"Termin":"Termine"]})]}),0===e.length?(0,Oa.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,Oa.jsx)(bf,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),(0,Oa.jsx)("p",{children:"Keine Termine f\xfcr diesen Tag"}),(0,Oa.jsx)("button",{onClick:()=>null===r||void 0===r?void 0:r({start:l}),className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium",children:"Termin hinzuf\xfcgen"})]}):(0,Oa.jsx)("div",{className:"divide-y divide-slate-100",children:e.map(e=>{const t=e.event_type||e.type;return(0,Oa.jsx)("button",{onClick:()=>n(e),className:"mobile-calendar-native__day-event w-full p-3 hover:bg-slate-50 transition text-left",children:(0,Oa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Oa.jsx)("div",{className:"\n                      mt-1 w-3 h-3 rounded-full flex-shrink-0\n                      ".concat("Arbeit"===t?"bg-sky-500":"Meeting"===t?"bg-indigo-500":"Urlaub"===t?"bg-amber-500":"Krankheit"===t?"bg-rose-500":"bg-slate-500","\n                    ")}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("h4",{className:"font-semibold text-slate-900",children:e.title}),!e.all_day&&(0,Oa.jsxs)("div",{className:"flex items-center gap-1 mt-1 text-sm text-slate-600",children:[(0,Oa.jsx)(Df,{className:"w-4 h-4"}),Zp(e.start instanceof Date?e.start:Xp(e.start),"HH:mm")," - ",Zp(e.end instanceof Date?e.end:Xp(e.end),"HH:mm")]}),e.location&&(0,Oa.jsxs)("div",{className:"flex items-center gap-1 mt-1 text-sm text-slate-600",children:[(0,Oa.jsx)(xf,{className:"w-4 h-4"}),e.location]}),e.description&&(0,Oa.jsx)("p",{className:"mt-2 text-sm text-slate-500 line-clamp-2",children:e.description})]})]})},e.id)})})]})})();case Af:return(()=>{const e=Ef({start:lp(l,{weekStartsOn:1}),end:up(l,{weekStartsOn:1})});return(0,Oa.jsx)("div",{className:"mobile-calendar-native__week-view bg-white",children:(0,Oa.jsx)("div",{className:"divide-y divide-slate-100",children:e.map(e=>{const t=D(e),r=Cf(e);return(0,Oa.jsxs)("div",{className:"mobile-calendar-native__week-day p-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2 ".concat(r?"text-blue-600":"text-slate-900"),children:[(0,Oa.jsx)("span",{className:"font-semibold",children:Zp(e,"EEEE",{locale:si})}),(0,Oa.jsx)("span",{className:"text-sm",children:Zp(e,"dd.MM")})]}),0===t.length?(0,Oa.jsx)("p",{className:"text-xs text-slate-400 italic",children:"Keine Termine"}):(0,Oa.jsx)("div",{className:"space-y-1",children:t.map(e=>{const t=e.event_type||e.type;return(0,Oa.jsxs)("button",{onClick:()=>n(e),className:"mobile-calendar-native__week-event w-full text-left p-2 rounded-lg text-xs transition hover:shadow ".concat("Arbeit"===t?"bg-sky-50 hover:bg-sky-100":"Meeting"===t?"bg-indigo-50 hover:bg-indigo-100":"Urlaub"===t?"bg-amber-50 hover:bg-amber-100":"Krankheit"===t?"bg-rose-50 hover:bg-rose-100":"bg-slate-50 hover:bg-slate-100"),children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)(Df,{className:"w-3 h-3 text-slate-400"}),(0,Oa.jsx)("span",{className:"font-medium",children:e.title})]}),!e.all_day&&(0,Oa.jsx)("div",{className:"text-[10px] text-slate-500 ml-5",children:Zp(e.start instanceof Date?e.start:Xp(e.start),"HH:mm")})]},e.id)})})]},e.toISOString())})})})})();case kf:return w();case Nf:return(()=>{const e=[...b].sort((e,t)=>(e.start instanceof Date?e.start:new Date(e.start))-(t.start instanceof Date?t.start:new Date(t.start))),t=e.filter(e=>(e.start instanceof Date?e.start:new Date(e.start))>=new Date);return(0,Oa.jsxs)("div",{className:"mobile-calendar-native__list-view bg-white",children:[(0,Oa.jsx)("div",{className:"mobile-calendar-native__section-header p-3 border-b border-slate-200",children:(0,Oa.jsxs)("h3",{className:"font-semibold text-slate-900",children:["Anstehende Termine (",t.length,")"]})}),(0,Oa.jsx)("div",{className:"divide-y divide-slate-100",children:0===t.length?(0,Oa.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,Oa.jsx)(bf,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),(0,Oa.jsx)("p",{children:"Keine anstehenden Termine"})]}):t.map(e=>(0,Oa.jsx)("button",{onClick:()=>n(e),className:"mobile-calendar-native__list-item w-full p-3 hover:bg-slate-50 transition text-left",children:(0,Oa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Oa.jsx)("div",{className:"\n                    mobile-calendar-native__list-dot mt-0.5 w-2 h-2 rounded-full flex-shrink-0\n                    ".concat("Arbeit"===(e.event_type||e.type)?"bg-sky-500":"Meeting"===(e.event_type||e.type)?"bg-indigo-500":"Urlaub"===(e.event_type||e.type)?"bg-amber-500":"Krankheit"===(e.event_type||e.type)?"bg-rose-500":"bg-slate-500","\n                  ")}),(0,Oa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oa.jsx)("h4",{className:"font-semibold text-slate-900 truncate",children:e.title}),(0,Oa.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-600",children:[(0,Oa.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Oa.jsx)(Df,{className:"w-3 h-3"}),Zp(e.start instanceof Date?e.start:Xp(e.start),"dd.MM.yyyy HH:mm")]}),e.location&&(0,Oa.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Oa.jsx)(xf,{className:"w-3 h-3"}),e.location]})]}),e.description&&(0,Oa.jsx)("p",{className:"mt-1 text-xs text-slate-500 line-clamp-2",children:e.description})]}),(0,Oa.jsx)(ip,{className:"w-4 h-4 text-slate-400 flex-shrink-0"})]})},e.id))})]})})();default:return w()}})()}),(0,Oa.jsx)("button",{onClick:()=>null===r||void 0===r?void 0:r({start:l}),className:"mobile-calendar-native__fab fixed bottom-20 right-4 w-14 h-14 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition flex items-center justify-center z-10",children:(0,Oa.jsx)(vf,{className:"w-6 h-6"})})]})},_f=cs("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),Sf=cs("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Bf=cs("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);let Mf=0,Of="";const Tf=()=>"undefined"!==typeof document,Rf=e=>{let{isOpen:t,onClose:n,children:r,overlayClassName:a,dialogClassName:s,closeOnOverlayClick:i}=e;const[l,u]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!Tf())return;const e=document.createElement("div");return e.className="base-modal-portal-root",document.body.appendChild(e),u(e),()=>{document.body.contains(e)&&document.body.removeChild(e)}},[]),(0,o.useEffect)(()=>{if(l)return t?l.classList.add("base-modal-portal-root--active"):l.classList.remove("base-modal-portal-root--active"),()=>{l.classList.remove("base-modal-portal-root--active")}},[t,l]),(0,o.useEffect)(()=>{if(!t)return;Tf()&&(0===Mf&&(Of=document.body.style.overflow),Mf+=1,document.body.style.overflow="hidden",document.body.classList.add("modal-open"));const e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e),Tf()&&(Mf=Math.max(0,Mf-1),0===Mf&&(document.body.style.overflow=Of||"",document.body.classList.remove("modal-open"),Of=""))}},[t,n]),t&&l?Ee.createPortal((0,Oa.jsx)("div",{className:"base-modal-overlay ".concat(a).trim(),role:"presentation",onClick:i?n:void 0,children:(0,Oa.jsx)("div",{className:"base-modal-dialog ".concat(s).trim(),onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:r})}),l):null};Rf.defaultProps={onClose:()=>{},overlayClassName:"",dialogClassName:"",closeOnOverlayClick:!0};const If=Rf,Pf=e=>{var t,n,r,a,s,i,l;let{isOpen:u,onClose:c,event:d,onEdit:h,onDelete:m,onDuplicate:p}=e;const f=re(),[g,b]=(0,o.useState)(!1),[D,x]=(0,o.useState)(!1),[v,y]=(0,o.useState)(!1),[w,E]=(0,o.useState)(null),[C,F]=(0,o.useState)(!1),[A,k]=(0,o.useState)(0);if(!u)return null;if(!d)return console.error("EventDetailsModal: event is null or undefined"),null;const N=qe(qe({},d),{},{date:d.date||d.start_date||d.start||new Date,startTime:d.startTime||d.start_time||"",endTime:d.endTime||d.end_time||"",isAllDay:null!==(t=null!==(n=d.isAllDay)&&void 0!==n?n:d.all_day)&&void 0!==t&&t,isRecurring:null!==(r=null!==(a=d.isRecurring)&&void 0!==a?a:d.is_recurring)&&void 0!==r&&r,recurrencePattern:d.recurrencePattern||d.recurring_pattern||d.recurrence_pattern,recurrenceEndDate:d.recurrenceEndDate||d.recurring_end||d.recurrence_end_date}),j=of(N.date||N.start||N.start_date),_=N.attachments?(Array.isArray(N.attachments)?N.attachments:[]).filter(e=>"image"===e.type||e.url&&e.url.match(/\.(jpg|jpeg|png|gif)$/i)):[];return(0,Oa.jsxs)(If,{isOpen:u,onClose:c,overlayClassName:"modal-backdrop-mobile backdrop-blur-sm",dialogClassName:"modal-bottom-sheet bg-gradient-to-br from-white via-blue-50/30 to-purple-50/30 sm:modal sm:rounded-2xl w-full sm:max-w-2xl shadow-2xl border border-gray-200/50",children:[(0,Oa.jsx)("div",{className:"modal-handle sm:hidden bg-gradient-to-r from-gray-300 to-gray-400"}),(0,Oa.jsxs)("div",{className:"modal-header-mobile relative overflow-hidden",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600"}),(0,Oa.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Oa.jsx)("div",{className:"relative z-10 p-6 sm:p-8",children:(0,Oa.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,Oa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oa.jsxs)("div",{className:"flex items-center flex-wrap gap-2.5 mb-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 bg-white/95 backdrop-blur-md px-4 py-2 rounded-xl shadow-lg border border-white/50",children:[(0,Oa.jsx)("span",{className:"text-2xl",children:(M=N.type,{Arbeit:"\ud83d\udcbc",Urlaub:"\ud83c\udfd6\ufe0f",Krankheit:"\ud83c\udfe5",Meeting:"\ud83d\udc65",Projekt:"\ud83d\udcca",Training:"\ud83d\udcda",Abwesend:"\ud83d\udeab"}[M]||"\ud83d\udcc5")}),(0,Oa.jsx)("span",{className:"text-sm font-bold text-gray-900",children:N.type})]}),N.priority&&(0,Oa.jsxs)("div",{className:"flex items-center gap-2 bg-white/90 backdrop-blur-md px-3 py-1.5 rounded-xl shadow-md border border-white/40",children:[(0,Oa.jsx)("span",{className:"text-lg",children:(B=N.priority,{low:"\ud83d\udfe2",medium:"\ud83d\udfe1",high:"\ud83d\udd34"}[B]||"\ud83d\udfe1")}),(0,Oa.jsx)("span",{className:"text-xs font-semibold text-gray-700",children:(e=>({low:"Niedrig",medium:"Mittel",high:"Hoch"}[e]||"Mittel"))(N.priority)})]})]}),(0,Oa.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-3 break-words drop-shadow-lg",children:N.title}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-white/95",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Oa.jsx)("p",{className:"text-base sm:text-lg font-semibold",children:lf(j,"EEEE, dd. MMMM yyyy",{locale:si,fallback:"\u2014"})})]})]}),(0,Oa.jsx)("button",{onClick:c,className:"btn-icon-mobile flex-shrink-0 bg-white/20 hover:bg-white/30 backdrop-blur-md border border-white/40 mobile-touch-feedback transition-all hover:scale-105",children:(0,Oa.jsx)(vs,{className:"w-5 h-5 text-white"})})]})})]}),(0,Oa.jsxs)("div",{className:"modal-body-mobile p-6 sm:p-8 space-y-3",children:[!N.isAllDay&&(N.startTime||N.endTime)&&(0,Oa.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100/50 hover:shadow-md transition-shadow",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:(0,Oa.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsxs)("p",{className:"font-bold text-gray-900 text-lg",children:[N.startTime," - ",N.endTime]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:N.isAllDay?"Ganzt\xe4gig":"Zeitraum"})]})]}),N.location&&(0,Oa.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl border border-green-100/50 hover:shadow-md transition-shadow",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:(0,Oa.jsxs)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("p",{className:"font-bold text-gray-900 text-base",children:N.location}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Ort"})]})]}),N.attendees&&(0,Oa.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100/50 hover:shadow-md transition-shadow",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:(0,Oa.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("p",{className:"font-bold text-gray-900 text-base mb-2",children:"Teilnehmer"}),(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(N.attendees)?N.attendees:N.attendees.split(",")).map((e,t)=>(0,Oa.jsxs)("span",{className:"inline-flex items-center gap-1.5 bg-white border border-purple-200 px-3 py-1.5 rounded-lg text-sm font-medium text-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[(0,Oa.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.trim()]},t))})]})]}),N.isRecurring&&(0,Oa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oa.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,Oa.jsx)("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"font-medium text-gray-800",children:(S=N.recurrencePattern,{daily:"T\xe4glich",weekly:"W\xf6chentlich",biweekly:"Alle 2 Wochen",monthly:"Monatlich",yearly:"J\xe4hrlich"}[S]||S)}),(0,Oa.jsxs)("p",{className:"text-sm text-gray-600",children:["Wiederholender Termin",N.recurrenceEndDate&&(0,Oa.jsxs)("span",{children:[" bis ",Zp(new Date(N.recurrenceEndDate),"dd.MM.yyyy",{locale:si})]})]})]})]}),N.reminder&&"0"!==N.reminder&&(0,Oa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oa.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,Oa.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5v-12h0z"})})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("p",{className:"font-medium text-gray-800",children:[N.reminder<60?"".concat(N.reminder," Minuten"):N.reminder<1440?"".concat(Math.floor(N.reminder/60)," Stunden"):"".concat(Math.floor(N.reminder/1440)," Tage")," vorher"]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Erinnerung"})]})]}),N.description&&(0,Oa.jsxs)("div",{className:"space-y-2",children:[(0,Oa.jsx)("h4",{className:"font-medium text-gray-800",children:"Beschreibung"}),(0,Oa.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,Oa.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:N.description})})]}),N.audio_url&&(0,Oa.jsxs)("div",{className:"space-y-2",children:[(0,Oa.jsxs)("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Audio-Anweisung"]}),(0,Oa.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:[(0,Oa.jsx)("audio",{ref:e=>E(e),src:N.audio_url,onEnded:()=>y(!1),onPlay:()=>y(!0),onPause:()=>y(!1),className:"w-full mb-3",controls:!0}),(0,Oa.jsx)("button",{onClick:()=>{w&&(v?(w.pause(),y(!1)):(w.play(),y(!0)))},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:v?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(_f,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{children:"Pause"})]}):(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(Sf,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{children:"Abspielen"})]})})]})]}),_.length>0&&(0,Oa.jsxs)("div",{className:"space-y-2",children:[(0,Oa.jsxs)("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Fotos (",_.length,")"]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[_.slice(0,6).map((e,t)=>(0,Oa.jsxs)("div",{className:"relative cursor-pointer group aspect-square",onClick:()=>{k(t),F(!0)},children:[(0,Oa.jsx)("img",{src:e.url,alt:e.filename||"Photo ".concat(t+1),className:"w-full h-full object-cover rounded-lg group-hover:opacity-90 transition-opacity"}),(0,Oa.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg flex items-center justify-center",children:(0,Oa.jsx)("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]},t)),_.length>6&&(0,Oa.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{k(6),F(!0)},children:(0,Oa.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:["+",_.length-6," mehr"]})})]})]})]}),(0,Oa.jsx)("div",{className:"modal-footer-mobile p-4 sm:p-6 border-t border-gray-200",children:g?(0,Oa.jsxs)("div",{className:"space-y-3 animate-spring",children:[(0,Oa.jsx)("div",{className:"card-mobile bg-red-50 border-2 border-red-200 p-4",children:(0,Oa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Oa.jsx)("div",{className:"text-2xl",children:"\u26a0\ufe0f"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-sm sm:text-base text-red-800 font-semibold",children:"Sind Sie sicher, dass Sie diesen Termin l\xf6schen m\xf6chten?"}),(0,Oa.jsx)("p",{className:"text-xs sm:text-sm text-red-600 mt-1",children:"Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden."})]})]})}),(0,Oa.jsxs)("div",{className:"flex gap-3",children:[(0,Oa.jsx)("button",{onClick:()=>b(!1),className:"btn-mobile btn-secondary-mobile flex-1 mobile-touch-feedback",children:"Abbrechen"}),(0,Oa.jsx)("button",{onClick:async()=>{x(!0);try{await m(N.id),c()}catch(e){console.error("Error deleting event:",e)}finally{x(!1),b(!1)}},disabled:D,className:"btn-mobile flex-1 bg-red-600 text-white hover:bg-red-700 mobile-touch-feedback disabled:opacity-50 disabled:cursor-not-allowed",children:D?(0,Oa.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Oa.jsx)("div",{className:"loading-spinner-mobile w-4 h-4 border-2"}),(0,Oa.jsx)("span",{children:"L\xf6schen..."})]}):"Best\xe4tigen"})]})]}):(0,Oa.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Oa.jsxs)("button",{onClick:()=>h(N),className:"btn-mobile btn-primary-mobile flex-1 mobile-touch-feedback flex items-center justify-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,Oa.jsx)("span",{children:"Bearbeiten"})]}),(0,Oa.jsxs)("button",{onClick:()=>{p&&p(qe(qe({},N),{},{id:void 0,title:"".concat(N.title," (Kopie)")})),c()},className:"btn-mobile btn-secondary-mobile mobile-touch-feedback flex items-center justify-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,Oa.jsx)("span",{className:"hidden sm:inline",children:"Duplizieren"})]}),(0,Oa.jsxs)("button",{onClick:()=>b(!0),className:"btn-mobile mobile-touch-feedback flex items-center justify-center gap-2 border-2 border-red-300 text-red-600 bg-red-50 hover:bg-red-100",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Oa.jsx)("span",{className:"hidden sm:inline",children:"L\xf6schen"})]})]}),(0,Oa.jsxs)("button",{onClick:()=>{var e,t;f("/messages",{state:{shareEvent:{id:N.id,title:N.title,start_time:(null===(e=N.date)||void 0===e||null===(t=e.toISOString)||void 0===t?void 0:t.call(e))||(new Date).toISOString(),end_time:N.endTime?new Date("".concat(N.date," ").concat(N.endTime)).toISOString():(new Date).toISOString(),location:N.location||null}}}),c()},className:"btn-mobile w-full mobile-touch-feedback flex items-center justify-center gap-2 border-2 border-blue-300 text-blue-700 bg-blue-50 hover:bg-blue-100",children:[(0,Oa.jsx)(Bf,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{children:"In Nachricht teilen"})]})]})}),C&&_.length>0&&(0,Oa.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[60] flex items-center justify-center",onClick:()=>F(!1),children:[(0,Oa.jsx)("button",{onClick:()=>F(!1),className:"absolute top-4 right-4 p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-colors z-10","aria-label":"Close gallery",children:(0,Oa.jsx)(vs,{className:"w-6 h-6 text-white"})}),_.length>1&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("button",{onClick:e=>{e.stopPropagation(),k(e=>(e-1+_.length)%_.length)},className:"absolute left-4 p-3 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-colors","aria-label":"Previous image",children:(0,Oa.jsx)(sp,{className:"w-6 h-6 text-white"})}),(0,Oa.jsx)("button",{onClick:e=>{e.stopPropagation(),k(e=>(e+1)%_.length)},className:"absolute right-4 p-3 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-colors","aria-label":"Next image",children:(0,Oa.jsx)(ip,{className:"w-6 h-6 text-white"})})]}),(0,Oa.jsxs)("div",{className:"max-w-7xl max-h-[calc(100vh-4rem)] px-4",onClick:e=>e.stopPropagation(),children:[(0,Oa.jsx)("img",{src:null===(s=_[A])||void 0===s?void 0:s.url,alt:(null===(i=_[A])||void 0===i?void 0:i.filename)||"Photo ".concat(A+1),className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"}),(0,Oa.jsxs)("div",{className:"text-center mt-4",children:[(0,Oa.jsxs)("p",{className:"text-white text-sm font-medium",children:[A+1," / ",_.length]}),(null===(l=_[A])||void 0===l?void 0:l.filename)&&(0,Oa.jsx)("p",{className:"text-white text-xs mt-1 opacity-75",children:_[A].filename})]})]}),_.length>1&&(0,Oa.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 max-w-full overflow-x-auto px-4",children:_.map((e,t)=>(0,Oa.jsx)("button",{onClick:e=>{e.stopPropagation(),k(t)},className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ".concat(t===A?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"),children:(0,Oa.jsx)("img",{src:e.url,alt:e.filename||"Thumbnail ".concat(t+1),className:"w-full h-full object-cover"})},t))})]})]});var S,B,M},Lf=cs("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),zf=cs("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Uf=cs("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),Wf=cs("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Hf=cs("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),qf=cs("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Vf=cs("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Kf=e=>{let{onRecordingComplete:t,existingAudioUrl:n=null}=e;const[r,a]=(0,o.useState)(!1),[s,i]=(0,o.useState)(!1),[l,u]=(0,o.useState)(null),[c,d]=(0,o.useState)(n),[h,m]=(0,o.useState)(!1),[p,f]=(0,o.useState)(0),g=(0,o.useRef)(null),b=(0,o.useRef)([]),D=(0,o.useRef)(null),x=(0,o.useRef)(null);(0,o.useEffect)(()=>{n&&d(n)},[n]),(0,o.useEffect)(()=>()=>{x.current&&clearInterval(x.current),c&&!n&&URL.revokeObjectURL(c)},[c,n]);return(0,Oa.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 border border-blue-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oa.jsxs)("label",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[(0,Oa.jsx)(Uf,{className:"w-4 h-4 text-blue-600"}),"Audio-Anweisung"]}),(r||p>0)&&(0,Oa.jsx)("span",{className:"text-sm font-mono text-blue-600 font-semibold",children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(p)})]}),!c&&!r&&(0,Oa.jsxs)("button",{type:"button",onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e,{mimeType:"audio/webm;codecs=opus"});g.current=t,b.current=[],t.ondataavailable=e=>{e.data.size>0&&b.current.push(e.data)},t.onstop=()=>{const t=new Blob(b.current,{type:"audio/webm"}),n=URL.createObjectURL(t);u(t),d(n),e.getTracks().forEach(e=>e.stop())},t.start(),a(!0),f(0),x.current=setInterval(()=>{f(e=>e+1)},1e3)}catch(e){console.error("Error accessing microphone:",e),sn.error("Mikrofon konnte nicht aktiviert werden")}},className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:from-red-600 hover:to-red-700 transition-all shadow-md hover:shadow-lg",children:[(0,Oa.jsx)(Uf,{className:"w-5 h-5"}),"Aufnahme starten"]}),r&&(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{g.current&&r&&(s?(g.current.resume(),x.current=setInterval(()=>{f(e=>e+1)},1e3)):(g.current.pause(),x.current&&clearInterval(x.current)),i(!s))},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl font-semibold hover:bg-yellow-600 transition-all shadow-md",children:[s?(0,Oa.jsx)(Sf,{className:"w-5 h-5"}):(0,Oa.jsx)(_f,{className:"w-5 h-5"}),s?"Fortsetzen":"Pause"]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{g.current&&r&&(g.current.stop(),a(!1),i(!1),x.current&&(clearInterval(x.current),x.current=null))},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-all shadow-md",children:[(0,Oa.jsx)(qf,{className:"w-5 h-5"}),"Stopp"]})]}),(0,Oa.jsx)("div",{className:"h-2 bg-white/50 rounded-full overflow-hidden",children:(0,Oa.jsx)("div",{className:"h-full bg-gradient-to-r from-red-500 to-pink-500 animate-pulse"})})]}),c&&!r&&(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsx)("audio",{ref:D,src:c,onEnded:()=>m(!1),onPlay:()=>m(!0),onPause:()=>m(!1),className:"w-full",controls:!0}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{D.current&&(h?D.current.pause():D.current.play(),m(!h))},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-all shadow-md",children:[h?(0,Oa.jsx)(_f,{className:"w-4 h-4"}):(0,Oa.jsx)(Sf,{className:"w-4 h-4"}),h?"Pause":"Abspielen"]}),!n&&l&&(0,Oa.jsxs)("button",{type:"button",onClick:()=>{l&&(t(l),sn.success("Audio-Anweisung hinzugef\xfcgt"))},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-all shadow-md",children:[(0,Oa.jsx)(Vf,{className:"w-4 h-4"}),"Hinzuf\xfcgen"]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>{c&&!n&&URL.revokeObjectURL(c),u(null),d(null),f(0),m(!1)},className:"flex items-center justify-center p-2 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-all",title:"L\xf6schen",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]})]})]})},Yf=[{value:"Arbeit",label:"Arbeit",color:"#0EA5E9"},{value:"Meeting",label:"Meeting",color:"#6366F1"},{value:"Urlaub",label:"Urlaub",color:"#F97316"},{value:"Krankheit",label:"Krankheit",color:"#EF4444"},{value:"Training",label:"Training",color:"#10B981"},{value:"Projekt",label:"Projekt",color:"#8B5CF6"},{value:"Termin",label:"Termin",color:"#06B6D4"},{value:"Deadline",label:"Deadline",color:"#DC2626"},{value:"Personal",label:"Personal",color:"#84CC16"}],Gf=[{value:"low",label:"Niedrig",color:"#10B981",icon:"\ud83d\udfe2"},{value:"medium",label:"Mittel",color:"#F59E0B",icon:"\ud83d\udfe1"},{value:"high",label:"Hoch",color:"#EF4444",icon:"\ud83d\udd34"}],$f=[{value:"daily",label:"T\xe4glich"},{value:"weekly",label:"W\xf6chentlich"},{value:"biweekly",label:"Alle 2 Wochen"},{value:"monthly",label:"Monatlich"},{value:"yearly",label:"J\xe4hrlich"}],Zf=e=>{if(!e&&0!==e)return null;if(e instanceof Date)return Number.isNaN(e.getTime())?null:e;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},Xf=e=>{const t=Zf(e);return t?Zp(t,"yyyy-MM-dd"):""},Qf=e=>{const t=Zf(e);return t?Zp(t,"HH:mm"):""},Jf=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=e||Xf(r);if(!a)return null;const s=Xf(a),i=n?"00:00":(e=>{if(!e)return"00:00";const[t="00",n="00"]=e.split(":");return"".concat(t.padStart(2,"0"),":").concat(n.padStart(2,"0"))})(t||Qf(r));return Zf("".concat(s,"T").concat(i,":00"))},eg=e=>{let{isOpen:t,onClose:n,onSave:r,event:a=null,selectedDate:s=new Date,mode:i="create"}=e;const[l,u]=(0,o.useState)({title:"",description:"",start_date:Zp(s,"yyyy-MM-dd"),end_date:Zp(s,"yyyy-MM-dd"),start_time:"09:00",end_time:"17:00",start:Zf(s),end:Zf(s)?new Date(new Date(s).getTime()+36e5):null,all_day:!1,type:"Arbeit",priority:"medium",location:"",attendees:[],reminder:15,notes:"",recurring:!1,recurring_pattern:"weekly",recurring_end:"",audio_url:null,attachments:[]}),[c,d]=(0,o.useState)({}),[h,m]=(0,o.useState)(""),[p,f]=(0,o.useState)(!1),[g,b]=(0,o.useState)(!1),[D,x]=(0,o.useState)(!1),[v,y]=(0,o.useState)([]),[w,E]=(0,o.useState)(null),[C,F]=(0,o.useState)(!1),[A,k]=(0,o.useState)(""),[N,j]=(0,o.useState)([]),_=(0,o.useCallback)(e=>{j(t=>[...t,e])},[]),S=(0,o.useCallback)((e,t)=>{j(n=>n.map(n=>n.id===e?qe(qe({},n),t):n))},[]),B=(0,o.useCallback)(e=>{j(t=>t.filter(t=>t.id!==e))},[]),M=(0,o.useCallback)(e=>{setTimeout(()=>B(e),1400)},[B]);(0,o.useEffect)(()=>{if(a&&"edit"===i){const e=a.start||a.start_date,t=a.end||a.end_date,n=Xf(e),r=Xf(t),s=a.all_day?"":Qf(e),i=a.all_day?"":Qf(t),o=Xf(a.recurring_end);if(u(qe(qe({},a),{},{start:Zf(e),end:Zf(t),attendees:Array.isArray(a.attendees)?a.attendees:[],attachments:Array.isArray(a.attachments)?a.attachments:[],start_date:n||"",end_date:r||"",start_time:s||"",end_time:i||"",recurring_end:o||""})),f(Boolean(a.recurring)),E(null),k(""),F(!1),a.attachments&&Array.isArray(a.attachments)){const e=a.attachments.filter(e=>"image"===e.type||e.url&&e.url.match(/\.(jpg|jpeg|png|gif)$/i));y(e)}}else{const e=Zf(s)||new Date,t=new Date(e.getTime()+36e5);u({title:"",description:"",start_date:Xf(e)||Zp(s,"yyyy-MM-dd"),end_date:Xf(t),start_time:Qf(e)||"09:00",end_time:Qf(t)||"17:00",start:e,end:t,all_day:!1,type:"Arbeit",priority:"medium",location:"",attendees:[],reminder:15,notes:"",recurring:!1,recurring_pattern:"weekly",recurring_end:"",audio_url:null,attachments:[]}),f(!1),y([])}},[a,i,s]),(0,o.useEffect)(()=>()=>{w&&URL.revokeObjectURL(w)},[w]);const O=(0,o.useCallback)((e,t)=>{u(n=>qe(qe({},n),{},{[e]:t})),c[e]&&d(t=>qe(qe({},t),{},{[e]:null}))},[c]),T=(0,o.useCallback)(e=>{u(t=>qe(qe({},t),{},{attachments:[...t.attachments||[],e]}))},[]),R=(0,o.useCallback)(e=>{e&&u(t=>qe(qe({},t),{},{attachments:(t.attachments||[]).filter(t=>t.url!==e)}))},[]),I=(0,o.useCallback)(()=>{const e=h.trim();e&&e.includes("@")&&(l.attendees.includes(e)||(O("attendees",[...l.attendees,e]),m("")))},[h,l.attendees,O]),P=(0,o.useCallback)(e=>{O("attendees",l.attendees.filter(t=>t!==e))},[l.attendees,O]),L=(0,o.useCallback)(async e=>{if(!e)return;w&&URL.revokeObjectURL(w);const t=URL.createObjectURL(e);E(t),x(!1),F(!0),k("");const n=new FormData;n.append("file",e,"event-audio-".concat(Date.now(),".webm")),n.append("context","calendar");const r="audio-".concat(Date.now());_({id:r,name:"Audioaufnahme",progress:0,status:"uploading"});try{const e=(await Go(n,{onUploadProgress:e=>{if(!e.total)return;const t=Math.min(100,Math.round(e.loaded/e.total*100));S(r,{progress:t})}})).data;T(e),O("audio_url",e.url),sn.success("Audio-Anweisung hinzugef\xfcgt"),S(r,{progress:100,status:"done"}),M(r)}catch(a){console.error("Error uploading audio attachment",a),k("Audio konnte nicht hochgeladen werden"),sn.error("Audio konnte nicht hochgeladen werden"),S(r,{status:"error"}),M(r)}finally{F(!1),t&&URL.revokeObjectURL(t),E(null)}},[T,w,O,Go]),z=(0,o.useCallback)(async e=>{const t=Array.from(e.target.files||[]);if(!t.length)return;const n=[];for(const a of t){if(!a.type.startsWith("image/"))continue;const e=20971520;if(a.size>e){sn.error("Bild zu gro\xdf (max. 20MB)");continue}const t=new FormData;t.append("file",a),t.append("context","calendar");const s="photo-".concat(a.name,"-").concat(a.lastModified);_({id:s,name:a.name,progress:0,status:"uploading"});try{const e=(await Go(t,{onUploadProgress:e=>{if(!e.total)return;const t=Math.min(100,Math.round(e.loaded/e.total*100));S(s,{progress:t})}})).data;T(e),n.push(e),S(s,{progress:100,status:"done"}),M(s)}catch(r){console.error("Error uploading photo attachment",r),sn.error("Foto konnte nicht hochgeladen werden"),S(s,{status:"error"}),M(s)}}n.length&&y(e=>[...e,...n]),e.target&&(e.target.value="")},[T]),U=(0,o.useCallback)(e=>{y(t=>{const n=t[e];return null!==n&&void 0!==n&&n.url&&R(n.url),t.filter((t,n)=>n!==e)})},[R]),W=(0,o.useCallback)(()=>{const e={};if(l.title&&""!==l.title.trim()||(e.title="Titel ist erforderlich"),l.start_date||(e.start_date="Startdatum ist erforderlich"),l.end_date||(e.end_date="Enddatum ist erforderlich"),l.start_date&&l.end_date){const t=new Date(l.start_date);new Date(l.end_date)<t&&(e.end_date="Enddatum muss nach Startdatum liegen")}if(!l.all_day&&l.start_date===l.end_date){const[t,n]=l.start_time.split(":").map(Number),[r,a]=l.end_time.split(":").map(Number);60*r+a<=60*t+n&&(e.end_time="Endzeit muss nach Startzeit liegen")}return l.recurring&&!l.recurring_end&&(e.recurring_end="Wiederholungsende ist erforderlich"),d(e),0===Object.keys(e).length},[l]),H=(0,o.useCallback)(async e=>{if(e.preventDefault(),!W())return;const t=Jf(l.start_date,l.start_time,l.all_day,l.start),a=Jf(l.end_date||l.start_date,l.end_time,l.all_day,l.end||t)||t;b(!0);try{await r(qe(qe({},l),{},{start:t,end:a,start_date:Xf(t)||l.start_date,end_date:Xf(a)||l.end_date||l.start_date,start_time:l.all_day?"":Qf(t)||l.start_time,end_time:l.all_day?"":Qf(a)||l.end_time})),n()}catch(s){console.error("Error saving event:",s),d({submit:"Fehler beim Speichern des Termins"})}finally{b(!1)}},[l,W,r,n]),q=l.audio_url||w;return t?(0,Oa.jsxs)(If,{isOpen:t,onClose:n,dialogClassName:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[calc(100vh-4rem)] my-8 flex flex-col overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl z-10 flex-shrink-0",children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"edit"===i?"Termin bearbeiten":"Neuer Termin"}),(0,Oa.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-6 h-6"})})]}),(0,Oa.jsxs)("form",{id:"event-form",onSubmit:H,className:"p-6 space-y-6 overflow-y-auto flex-1",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Titel *"}),(0,Oa.jsx)("input",{type:"text",value:l.title,onChange:e=>O("title",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ".concat(c.title?"border-red-500":"border-gray-300"),placeholder:"z.B. Team Meeting"}),c.title&&(0,Oa.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,Oa.jsx)(Lf,{className:"w-4 h-4"}),c.title]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Typ"}),(0,Oa.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:Yf.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>O("type",e.value),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat(l.type===e.value?"ring-2 ring-offset-2":"hover:bg-gray-100"),style:{backgroundColor:l.type===e.value?e.color:"#f3f4f6",color:l.type===e.value?"white":"#374151",ringColor:e.color},children:e.label},e.value))})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(fs,{className:"w-4 h-4"}),"Startdatum *"]}),(0,Oa.jsx)("input",{type:"date",value:l.start_date,onChange:e=>O("start_date",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.start_date?"border-red-500":"border-gray-300")}),c.start_date&&(0,Oa.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.start_date})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(fs,{className:"w-4 h-4"}),"Enddatum *"]}),(0,Oa.jsx)("input",{type:"date",value:l.end_date,onChange:e=>O("end_date",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.end_date?"border-red-500":"border-gray-300")}),c.end_date&&(0,Oa.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.end_date})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("input",{type:"checkbox",id:"all_day",checked:l.all_day,onChange:e=>O("all_day",e.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Oa.jsx)("label",{htmlFor:"all_day",className:"text-sm font-medium text-gray-700",children:"Ganzt\xe4gig"})]}),!l.all_day&&(0,Oa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Df,{className:"w-4 h-4"}),"Startzeit"]}),(0,Oa.jsx)("input",{type:"time",value:l.start_time,onChange:e=>O("start_time",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Df,{className:"w-4 h-4"}),"Endzeit"]}),(0,Oa.jsx)("input",{type:"time",value:l.end_time,onChange:e=>O("end_time",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.end_time?"border-red-500":"border-gray-300")}),c.end_time&&(0,Oa.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.end_time})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priorit\xe4t"}),(0,Oa.jsx)("div",{className:"grid grid-cols-3 gap-2",children:Gf.map(e=>(0,Oa.jsxs)("button",{type:"button",onClick:()=>O("priority",e.value),className:"px-4 py-3 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2 ".concat(l.priority===e.value?"ring-2 ring-offset-2":"hover:bg-gray-100"),style:{backgroundColor:l.priority===e.value?e.color+"20":"#f3f4f6",color:l.priority===e.value?e.color:"#374151",ringColor:e.color},children:[(0,Oa.jsx)("span",{children:e.icon}),(0,Oa.jsx)("span",{children:e.label})]},e.value))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(xf,{className:"w-4 h-4"}),"Ort"]}),(0,Oa.jsx)("input",{type:"text",value:l.location,onChange:e=>O("location",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"z.B. Konferenzraum A"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(zf,{className:"w-4 h-4"}),"Teilnehmer"]}),(0,Oa.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Oa.jsx)("input",{type:"email",value:h,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),I())},className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"E-Mail-Adresse hinzuf\xfcgen"}),(0,Oa.jsx)("button",{type:"button",onClick:I,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Hinzuf\xfcgen"})]}),l.attendees.length>0&&(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2",children:l.attendees.map((e,t)=>(0,Oa.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 text-blue-800 px-3 py-1.5 rounded-full text-sm",children:[(0,Oa.jsx)("span",{children:e}),(0,Oa.jsx)("button",{type:"button",onClick:()=>P(e),className:"hover:bg-blue-200 rounded-full p-0.5",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]},t))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Beschreibung"}),(0,Oa.jsx)("textarea",{value:l.description,onChange:e=>O("description",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y min-h-[80px]",placeholder:"Weitere Details zum Termin..."})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Uf,{className:"w-4 h-4"}),"Audio-Anweisung"]}),!D&&!q&&!C&&(0,Oa.jsxs)("button",{type:"button",onClick:()=>x(!0),className:"px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-colors w-full text-gray-600 hover:text-blue-600 font-medium flex items-center justify-center gap-2",children:[(0,Oa.jsx)(Uf,{className:"w-5 h-5"}),"Audio aufnehmen"]}),D&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)(Kf,{onRecordingComplete:L,existingAudioUrl:q}),(0,Oa.jsx)("button",{type:"button",onClick:()=>x(!1),className:"mt-2 text-sm text-gray-600 hover:text-gray-800",children:"Abbrechen"})]}),q&&!D&&(0,Oa.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-xl",children:[(0,Oa.jsx)("div",{className:"flex-1",children:(0,Oa.jsx)("audio",{controls:!0,src:q,className:"w-full"})}),(0,Oa.jsx)("button",{type:"button",onClick:()=>{const e=l.audio_url;O("audio_url",null),R(e),w&&(URL.revokeObjectURL(w),E(null))},className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",title:"Audio l\xf6schen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),C&&(0,Oa.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Audio wird hochgeladen..."}),A&&(0,Oa.jsx)("p",{className:"text-sm text-red-600 mt-2",children:A}),N.length>0&&(0,Oa.jsxs)("div",{className:"mt-4",children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Uploads"}),(0,Oa.jsx)("div",{className:"upload-progress",children:N.map(e=>(0,Oa.jsxs)("div",{className:"upload-progress__item ".concat(e.status||""),children:[(0,Oa.jsxs)("div",{className:"upload-progress__meta",children:[(0,Oa.jsx)("span",{className:"upload-progress__name",children:e.name}),(0,Oa.jsxs)("span",{className:"upload-progress__percent",children:[e.progress,"%"]})]}),(0,Oa.jsx)("div",{className:"upload-progress__bar",children:(0,Oa.jsx)("span",{className:"upload-progress__fill",style:{width:"".concat(e.progress,"%")}})})]},e.id))})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Wf,{className:"w-4 h-4"}),"Fotos"]}),(0,Oa.jsx)("input",{type:"file",id:"photo-upload",accept:"image/*",multiple:!0,onChange:z,className:"hidden"}),(0,Oa.jsxs)("label",{htmlFor:"photo-upload",className:"px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-colors w-full text-gray-600 hover:text-blue-600 font-medium flex items-center justify-center gap-2 cursor-pointer",children:[(0,Oa.jsx)(Wf,{className:"w-5 h-5"}),"Fotos hinzuf\xfcgen"]}),v.length>0&&(0,Oa.jsx)("div",{className:"grid grid-cols-3 gap-3 mt-3",children:v.map((e,t)=>(0,Oa.jsxs)("div",{className:"relative group",children:[(0,Oa.jsx)("img",{src:e.url,alt:e.filename,className:"w-full h-24 object-cover rounded-lg"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>U(t),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]},t))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Oa.jsx)("input",{type:"checkbox",id:"recurring",checked:l.recurring,onChange:e=>{O("recurring",e.target.checked),f(e.target.checked)},className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Oa.jsxs)("label",{htmlFor:"recurring",className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Oa.jsx)(Hf,{className:"w-4 h-4"}),"Wiederholender Termin"]})]}),p&&(0,Oa.jsxs)("div",{className:"ml-8 space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wiederholung"}),(0,Oa.jsx)("select",{value:l.recurring_pattern,onChange:e=>O("recurring_pattern",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:$f.map(e=>(0,Oa.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endet am *"}),(0,Oa.jsx)("input",{type:"date",value:l.recurring_end,onChange:e=>O("recurring_end",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.recurring_end?"border-red-500":"border-gray-300")}),c.recurring_end&&(0,Oa.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.recurring_end})]})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Erinnerung"}),(0,Oa.jsxs)("select",{value:l.reminder,onChange:e=>O("reminder",Number(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Oa.jsx)("option",{value:0,children:"Keine Erinnerung"}),(0,Oa.jsx)("option",{value:5,children:"5 Minuten vorher"}),(0,Oa.jsx)("option",{value:15,children:"15 Minuten vorher"}),(0,Oa.jsx)("option",{value:30,children:"30 Minuten vorher"}),(0,Oa.jsx)("option",{value:60,children:"1 Stunde vorher"}),(0,Oa.jsx)("option",{value:120,children:"2 Stunden vorher"}),(0,Oa.jsx)("option",{value:1440,children:"1 Tag vorher"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notizen"}),(0,Oa.jsx)("textarea",{value:l.notes,onChange:e=>O("notes",e.target.value),rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y min-h-[60px]",placeholder:"Private Notizen..."})]}),c.submit&&(0,Oa.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,Oa.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,Oa.jsx)(Lf,{className:"w-5 h-5"}),c.submit]})})]}),(0,Oa.jsxs)("div",{className:"flex gap-3 p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[(0,Oa.jsx)("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",disabled:g,children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"submit",form:"event-form",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:g?(0,Oa.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Oa.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,Oa.jsx)("span",{children:"Speichern..."})]}):"edit"===i?"Aktualisieren":"Erstellen"})]})]}):null},tg=e=>{let{isOpen:t,onClose:n,onSave:r,selectedDate:a}=e;const[s,i]=(0,o.useState)({title:"",description:"",start_date:"",end_date:"",type:"Urlaub",is_all_day:!0}),[l,u]=(0,o.useState)({}),[c,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(t){const e=Zp(a||new Date,"yyyy-MM-dd");i({title:"",description:"",start_date:e,end_date:e,type:"Urlaub",is_all_day:!0}),u({})}},[t,a]);const h=e=>{const{name:t,value:n,type:r,checked:a}=e.target,s="checkbox"===r?a:n;if(i(e=>qe(qe({},e),{},{[t]:s})),"type"===t){const e={Urlaub:"Urlaub",Krankheit:"Krankschreibung","\xdcberstundenabbau":"\xdcberstundenabbau"};i(t=>qe(qe({},t),{},{title:e[n]||""}))}l[t]&&u(e=>qe(qe({},e),{},{[t]:""}))},m=()=>{if(s.start_date&&s.end_date){const e=new Date(s.start_date),t=new Date(s.end_date).getTime()-e.getTime();return Math.ceil(t/864e5)+1}return 1};if(!t)return null;const p=[{value:"Urlaub",label:"Urlaub",icon:"\ud83c\udfd6\ufe0f",color:"text-blue-600",description:"Geplanter Urlaub oder Freizeit"},{value:"Krankheit",label:"Krankschreibung",icon:"\ud83c\udfe5",color:"text-red-600",description:"Krankheitsbedingte Abwesenheit"},{value:"\xdcberstundenabbau",label:"\xdcberstundenabbau",icon:"\u23f0",color:"text-green-600",description:"Abbau von angesammelten \xdcberstunden"}],f=p.find(e=>e.value===s.type);return(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Oa.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,Oa.jsxs)("div",{className:"p-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Abwesenheit melden"}),(0,Oa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Oa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Oa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.title.trim()||(e.title="Titel ist erforderlich"),s.start_date||(e.start_date="Startdatum ist erforderlich"),s.end_date||(e.end_date="Enddatum ist erforderlich"),s.start_date&&s.end_date&&s.start_date>s.end_date&&(e.end_date="Enddatum muss nach oder gleich dem Startdatum sein"),u(e),0===Object.keys(e).length})()){d(!0);try{await r(s),n()}catch(t){console.error("Error saving absence:",t),u({submit:"Fehler beim Speichern der Abwesenheit"})}finally{d(!1)}}},className:"space-y-6",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Art der Abwesenheit"}),(0,Oa.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,Oa.jsxs)("label",{className:"flex items-center p-3 rounded-lg border-2 cursor-pointer transition-all ".concat(s.type===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,Oa.jsx)("input",{type:"radio",name:"type",value:e.value,checked:s.type===e.value,onChange:h,className:"sr-only"}),(0,Oa.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Oa.jsx)("span",{className:"text-2xl mr-3",children:e.icon}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("div",{className:"font-medium ".concat(e.color),children:e.label}),(0,Oa.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]}),s.type===e.value&&(0,Oa.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]},e.value))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),(0,Oa.jsx)("input",{type:"text",name:"title",value:s.title,onChange:h,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.title?"border-red-500":"border-gray-300"),placeholder:"z.B. Sommerurlaub, Krankmeldung..."}),l.title&&(0,Oa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.title})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Von *"}),(0,Oa.jsx)("input",{type:"date",name:"start_date",value:s.start_date,onChange:h,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.start_date?"border-red-500":"border-gray-300")}),l.start_date&&(0,Oa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.start_date})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bis *"}),(0,Oa.jsx)("input",{type:"date",name:"end_date",value:s.end_date,onChange:h,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.end_date?"border-red-500":"border-gray-300")}),l.end_date&&(0,Oa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.end_date})]})]}),s.start_date&&s.end_date&&(0,Oa.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Oa.jsxs)("div",{className:"flex items-center",children:[(0,Oa.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83d\udcc5"}),(0,Oa.jsxs)("span",{className:"text-blue-700 font-medium",children:["Dauer: ",m()," ",1===m()?"Tag":"Tage"]})]})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung (optional)"}),(0,Oa.jsx)("textarea",{name:"description",value:s.description,onChange:h,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zus\xe4tzliche Informationen..."})]}),(0,Oa.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Oa.jsxs)("div",{className:"flex",children:[(0,Oa.jsx)("div",{className:"flex-shrink-0",children:(0,Oa.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,Oa.jsx)("div",{className:"ml-3",children:(0,Oa.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,Oa.jsx)("strong",{children:"Hinweis:"})," Diese Abwesenheit \xfcberschreibt automatisch generierte Arbeitszeiten f\xfcr den gew\xe4hlten Zeitraum."]})})]})}),l.submit&&(0,Oa.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,Oa.jsx)("p",{className:"text-red-700 text-sm",children:l.submit})}),(0,Oa.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[(0,Oa.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2 rounded-lg transition-colors ".concat(f?"bg-".concat(f.color.split("-")[1],"-600 hover:bg-").concat(f.color.split("-")[1],"-700"):"bg-blue-600 hover:bg-blue-700"," text-white disabled:opacity-50 disabled:cursor-not-allowed"),children:c?"Speichern...":"Abwesenheit melden"})]})]})]})})})},ng=e=>{if(!e&&0!==e)return null;if(e instanceof Date)return Number.isNaN(e.getTime())?null:e;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},rg=e=>{const t=ng(e);return t?Zp(t,"yyyy-MM-dd"):""},ag=e=>{const t=ng(e);return t?Zp(t,"HH:mm"):""},sg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?rg(e):e;if(!r&&n)return ng(n);if(!r)return null;const a=t&&5===t.length?t:"".concat(String(t||"00:00").padStart(5,"0")),s="".concat(r,"T").concat(a,":00");return ng(s)},ig=async(e,t,n,r)=>{try{var a;const s=await((e,t,n,r)=>{const a=new URLSearchParams;return e&&a.append("startDate",e),t&&a.append("endDate",t),n&&a.append("type",n),r&&a.append("priority",r),ja.get("/schedule/events".concat(a.toString()?"?".concat(a.toString()):""))})(e,t,n,r);if(304===(null===s||void 0===s?void 0:s.status))return{data:[],noChange:!0};return{data:Array.isArray(null===s||void 0===s?void 0:s.data)?s.data:Array.isArray(null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.data)?s.data.data:[],noChange:!1}}catch(s){throw console.error("Error fetching events:",s),s}},og=async(e,t)=>{try{const n={title:e.title,description:e.description,startDate:e.start_date||e.startDate,endDate:e.end_date||e.endDate,startTime:e.start_time||e.startTime,endTime:e.end_time||e.endTime,all_day:e.all_day,type:e.type||e.event_type,priority:e.priority,location:e.location,attendees:e.attendees,reminder:e.reminder,notes:e.notes,is_recurring:e.recurring||e.is_recurring,recurrence_pattern:e.recurring_pattern||e.recurrence_pattern,recurrence_end_date:e.recurring_end||e.recurrence_end_date,audio_url:e.audio_url,attachments:e.attachments,color:e.color,status:e.status,category:e.category},r=await(e=>ja.post("/schedule/events",e))(n);return t&&"function"===typeof t&&await t(),r.data}catch(n){throw console.error("Error creating event:",n),n}},lg=async(e,t,n)=>{try{const r=await((e,t)=>ja.put("/schedule/events/".concat(e),t))(e,t);return n&&"function"===typeof n&&await n(),r.data}catch(r){throw console.error("Error updating event:",r),r}},ug=async(e,t)=>{try{await(n=e,ja.delete("/schedule/events/".concat(n))),t&&"function"===typeof t&&await t()}catch(r){throw console.error("Error deleting event:",r),r}var n},cg=(e,t)=>{if(!e||!e.on)return console.warn("Invalid socket provided to setupCalendarWebSocketListeners"),()=>{};const n=e=>{console.log("Calendar: Event created via WebSocket",e),t&&"function"===typeof t&&t()},r=e=>{console.log("Calendar: Event updated via WebSocket",e),t&&"function"===typeof t&&t()},a=e=>{console.log("Calendar: Event deleted via WebSocket",e),t&&"function"===typeof t&&t()};return e.on("calendar:event_created",n),e.on("calendar:event_updated",r),e.on("calendar:event_deleted",a),()=>{e.off("calendar:event_created",n),e.off("calendar:event_updated",r),e.off("calendar:event_deleted",a)}},dg=e=>{if(!e)return null;if(e instanceof Date)return e;if("string"===typeof e){const t=e.includes("T")?e:e.replace(" ","T"),n=new Date(t);if(!Number.isNaN(n.getTime()))return n}return null},hg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;if(Array.isArray(e))return e;if("string"===typeof e){try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(n){const t=e.split(/[;,]/).map(e=>e.trim()).filter(Boolean);if(t.length>0)return t}return t}return t},mg=e=>{var t,n,r;const a=null!==(t=dg(e.start_time))&&void 0!==t?t:new Date,s=null!==(n=dg(e.end_time))&&void 0!==n?n:new Date(a.getTime()+36e5),i=Boolean(e.all_day),o=e.event_type||e.type||"Termin",l=rg(a),u=rg(s),c=i?"":ag(a),d=i?"":ag(s),h=Array.isArray(e.attachments)?e.attachments:hg(e.attachments),m=Array.isArray(e.attendees)?e.attendees:hg(e.attendees),p=Array.isArray(e.tags)?e.tags:hg(e.tags),f=Boolean(e.is_recurring);return{id:e.id,title:e.title,description:e.description||"",start:a,end:s,all_day:i,start_date:l,end_date:u,start_time:c,end_time:d,type:o,priority:e.priority||"medium",location:e.location||"",attendees:m,reminder:null!==(r=e.reminder)&&void 0!==r?r:15,status:e.status||"confirmed",color:e.color||fg(o),notes:e.notes||"",category:e.category||"work",recurring:f,recurring_pattern:f?e.recurrence_pattern||"weekly":null,recurring_end:f&&e.recurrence_end_date?dg(e.recurrence_end_date):null,tags:p,attachments:h,cover_image:e.cover_image||null,audio_url:e.audio_url||null,raw:e}},pg=e=>{var t;const n=Boolean(e.recurring),r=e.type||e.event_type||"Termin",a=Boolean(e.all_day),s=sg(e.start_date||e.start,e.start_time||ag(e.start),e.start||null,a),i=sg(e.end_date||e.end,e.end_time||ag(e.end)||(a?"23:59":null),e.end||s,a)||s,o=s?Zp(s,"yyyy-MM-dd"):e.start_date||"",l=i?Zp(i,"yyyy-MM-dd"):e.end_date||o,u=a?"":ag(s||e.start_time),c=a?"":ag(i||e.end_time);return{start:s,end:i,title:e.title,description:e.description||"",startDate:o,endDate:l,startTime:u,endTime:c,start_time:u,end_time:c,event_type:r,type:r,all_day:a,isAllDay:a,is_recurring:n,isRecurring:n,recurrence_pattern:n&&e.recurring_pattern||null,recurrencePattern:n&&e.recurring_pattern||null,recurrence_end_date:n&&e.recurring_end?e.recurring_end instanceof Date?e.recurring_end.toISOString():new Date(e.recurring_end).toISOString():null,recurrenceEndDate:n&&e.recurring_end?e.recurring_end instanceof Date?e.recurring_end.toISOString():new Date(e.recurring_end).toISOString():null,priority:e.priority||"medium",status:e.status||"confirmed",category:e.category||"work",location:e.location||"",attendees:Array.isArray(e.attendees)?e.attendees:[],reminder:null!==(t=e.reminder)&&void 0!==t?t:15,notes:e.notes||"",color:e.color||null,tags:Array.isArray(e.tags)?e.tags:[],attachments:Array.isArray(e.attachments)?e.attachments:[],cover_image:e.cover_image||null,audio_url:e.audio_url||null}},fg=function(){const e={Arbeit:"#0EA5E9",Meeting:"#6366F1",Urlaub:"#F97316",Krankheit:"#EF4444",Training:"#10B981",Projekt:"#8B5CF6",Termin:"#06B6D4",Deadline:"#DC2626",Personal:"#84CC16",inspection:"#FB923C",disposal:"#22C55E",default:"#475569"};return e[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Arbeit"]||e.default};function gg(e,t){var n,r;Es(1,arguments);var a=Cs(e);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"extended"),i=String(null!==(r=null===t||void 0===t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==i&&"time"!==i&&"complete"!==i)throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",l="",u="extended"===s?"-":"",c="extended"===s?":":"";if("time"!==i){var d=Cp(a.getDate(),2),h=Cp(a.getMonth()+1,2),m=Cp(a.getFullYear(),4);o="".concat(m).concat(u).concat(h).concat(u).concat(d)}if("date"!==i){var p=a.getTimezoneOffset();if(0!==p){var f=Math.abs(p),g=Cp(Math.floor(f/60),2),b=Cp(f%60,2);l="".concat(p<0?"+":"-").concat(g,":").concat(b)}else l="Z";var D=""===o?"":"T",x=[Cp(a.getHours(),2),Cp(a.getMinutes(),2),Cp(a.getSeconds(),2)].join(c);o="".concat(o).concat(D).concat(x).concat(l)}return o}const bg=[{value:null,label:"Alle",chipClass:"bg-slate-100 text-slate-600 hover:bg-slate-200"},{value:"Arbeit",label:"Arbeit",chipClass:"bg-sky-100 text-sky-700 hover:bg-sky-200"},{value:"Meeting",label:"Meetings",chipClass:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"},{value:"Urlaub",label:"Urlaub",chipClass:"bg-amber-100 text-amber-700 hover:bg-amber-200"},{value:"Krankheit",label:"Ausf\xe4lle",chipClass:"bg-rose-100 text-rose-700 hover:bg-rose-200"},{value:"Projekt",label:"Projekt",chipClass:"bg-violet-100 text-violet-700 hover:bg-violet-200"},{value:"inspection",label:"Kisten",chipClass:"bg-orange-100 text-orange-700 hover:bg-orange-200"},{value:"disposal",label:"Entsorgung",chipClass:"bg-green-100 text-green-700 hover:bg-green-200"}],Dg=[{value:null,label:"Alle",badgeClass:"bg-slate-200 text-slate-700"},{value:"low",label:"\u23f1\ufe0f Locker",badgeClass:"bg-emerald-100 text-emerald-700"},{value:"medium",label:"\u26a1 Normal",badgeClass:"bg-amber-100 text-amber-700"},{value:"high",label:"\ud83d\udd25 Hoch",badgeClass:"bg-rose-100 text-rose-700"}],xg=(0,o.memo)(e=>{let{toast:t,onClose:n}=e;return t?(0,Oa.jsx)("div",{className:"fixed right-4 top-24 z-[1200] max-w-sm rounded-2xl border border-slate-200 bg-white/95 px-4 py-3 shadow-xl backdrop-blur",role:"status",children:(0,Oa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Oa.jsx)("div",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ".concat("error"===t.type?"bg-rose-100 text-rose-600":"success"===t.type?"bg-emerald-100 text-emerald-600":"bg-sky-100 text-sky-600"),children:"error"===t.type?"!":"success"===t.type?"\u2713":"\u2139\ufe0f"}),(0,Oa.jsxs)("div",{className:"flex-1 text-sm text-slate-700",children:[(0,Oa.jsx)("p",{className:"font-semibold text-slate-900",children:t.title}),t.message&&(0,Oa.jsx)("p",{className:"mt-1 leading-relaxed",children:t.message})]}),(0,Oa.jsx)("button",{onClick:n,className:"text-slate-400 transition hover:text-slate-600","aria-label":"Hinweis schlie\xdfen",children:"\xd7"})]})}):null}),vg=()=>{const e=Pa(),t=null===e||void 0===e?void 0:e.user,n=Oo(),r=null===n||void 0===n?void 0:n.socket,a=te(),s=re(),[i,l]=(0,o.useState)(new Date),[u,c]=(0,o.useState)("calendar"),[d,h]=(0,o.useState)(null),[m,p]=(0,o.useState)("create"),[f,g]=(0,o.useState)(!1),[b,D]=(0,o.useState)(!1),[x,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)([]),[E,C]=(0,o.useState)(!1),[F,A]=(0,o.useState)(null),[k,N]=(0,o.useState)(()=>"undefined"!==typeof window&&window.matchMedia("(max-width: 767px)").matches),[j,_]=(0,o.useState)(bg[0].value),[S,B]=(0,o.useState)(Dg[0].value),[M,O]=(0,o.useState)(()=>{const e=new Date;return{start:lp(e,{weekStartsOn:1}),end:up(e,{weekStartsOn:1}),view:"week"}}),T=(0,o.useCallback)(e=>{A(qe({id:Date.now()},e))},[]);(0,o.useEffect)(()=>{if(!F)return;const e=setTimeout(()=>A(null),4200);return()=>clearTimeout(e)},[F]),(0,o.useEffect)(()=>{if("undefined"===typeof window||"function"!==typeof window.matchMedia)return;const e=window.matchMedia("(max-width: 767px)"),t=e=>N(e.matches);return"function"===typeof e.addEventListener?e.addEventListener("change",t):"function"===typeof e.addListener&&e.addListener(t),N(e.matches),()=>{"function"===typeof e.removeEventListener?e.removeEventListener("change",t):"function"===typeof e.removeListener&&e.removeListener(t)}},[]);const R=(0,o.useCallback)(async()=>{try{C(!0);const e=null!==M&&void 0!==M&&M.start?gg(M.start):null,t=null!==M&&void 0!==M&&M.end?gg(M.end):null,n=await ig(e,t,j||void 0,S||void 0);n.noChange||w(n.data.map(mg))}catch(BM){console.error("Error loading events:",BM),T({type:"error",title:"Termine konnten nicht geladen werden",message:"Bitte \xfcberpr\xfcfe deine Verbindung und versuche es erneut."})}finally{C(!1)}},[null===M||void 0===M?void 0:M.start,null===M||void 0===M?void 0:M.end,j,S,T]);(0,o.useEffect)(()=>{R()},[R]),(0,o.useEffect)(()=>{if(r){return cg(r,R)}},[r,R]),(0,o.useEffect)(()=>{var e;if(null!==(e=a.state)&&void 0!==e&&e.focusEventId&&y.length>0){const e=a.state.focusEventId,t=y.find(t=>t.id===e);t&&(c("calendar"),h(t),D(!0),s(a.pathname,{replace:!0,state:{}}))}},[a.state,a.pathname,s,y]);const I=(0,o.useCallback)(e=>{O(e)},[]),P=((0,o.useCallback)((e,t)=>{e&&t&&(O(n=>{const r=(null===n||void 0===n?void 0:n.start)&&n.start.getTime()===e.getTime(),a=(null===n||void 0===n?void 0:n.end)&&n.end.getTime()===t.getTime();return r&&a&&"week"===(null===n||void 0===n?void 0:n.view)?n:{start:e,end:t,view:"week"}}),c("calendar"),l(e))},[O,c,l]),(0,o.useCallback)(e=>{if(!e)return;const t=dp(e),n=cp(t,1);O(e=>{const r=(null===e||void 0===e?void 0:e.start)&&e.start.getTime()===t.getTime(),a=(null===e||void 0===e?void 0:e.end)&&e.end.getTime()===n.getTime();return r&&a&&"day"===(null===e||void 0===e?void 0:e.view)?e:{start:t,end:n,view:"day"}}),c("calendar"),l(t)},[O,c,l]),(0,o.useCallback)(e=>{h(e),D(!0)},[])),L=(0,o.useCallback)(async e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.title)&&void 0!==t&&t.trim())try{const t=pg(e);"create"===m?(await og(t,R),T({type:"success",title:"Termin erstellt",message:"".concat(e.title," wurde hinzugef\xfcgt.")})):(await lg(e.id,t,R),T({type:"success",title:"Termin aktualisiert"})),g(!1),D(!1),h(null)}catch(BM){console.error("Error saving event:",BM),T({type:"error",title:"Speichern fehlgeschlagen",message:"Der Termin konnte nicht gespeichert werden."})}else T({type:"error",title:"Titel fehlt",message:"Bitte gib einen aussagekr\xe4ftigen Titel f\xfcr den Termin an."})},[m,R,T]),z=(0,o.useCallback)(async(e,t)=>{try{const n=pg(t);await lg(e,n,R),T({type:"success",title:"Termin verschoben"})}catch(BM){console.error("Error updating event:",BM),T({type:"error",title:"Aktualisierung fehlgeschlagen",message:"Der Termin konnte nicht verschoben werden."})}},[R,T]),U=(0,o.useCallback)(async e=>{try{await ug(e,R),T({type:"success",title:"Termin gel\xf6scht"}),D(!1),h(null)}catch(BM){console.error("Error deleting event:",BM),T({type:"error",title:"L\xf6schen fehlgeschlagen",message:"Bitte versuche es in ein paar Sekunden erneut."})}},[R,T]),W=(0,o.useCallback)(e=>{h(e),p("edit"),g(!0),D(!1)},[]),H=(0,o.useCallback)(async e=>{try{const t=e.start instanceof Date?e.start:new Date(e.start),n=e.end instanceof Date?e.end:new Date(e.end),r=cp(t,1),a=cp(n,1),s=qe(qe({},e),{},{title:"".concat(e.title||"Termin"," (Kopie)"),start:r,end:a,start_date:Zp(r,"yyyy-MM-dd"),end_date:Zp(a,"yyyy-MM-dd"),start_time:e.all_day?"":Zp(r,"HH:mm"),end_time:e.all_day?"":Zp(a,"HH:mm")}),i=pg(s);await og(i,R),T({type:"success",title:"Termin dupliziert",message:"".concat(e.title," wurde auf den Folgetag kopiert.")}),D(!1),h(null)}catch(BM){console.error("Error duplicating event:",BM),T({type:"error",title:"Duplizieren fehlgeschlagen"})}},[R,T]),q=(0,o.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.start?new Date(t.start):i||new Date,r=t.end?new Date(t.end):pp(n,60);l(n),h({title:t.title||"",description:t.description||"",start:n,end:r,start_date:Zp(n,"yyyy-MM-dd"),end_date:Zp(r,"yyyy-MM-dd"),start_time:t.all_day?"":Zp(n,"HH:mm"),end_time:t.all_day?"":Zp(r,"HH:mm"),all_day:Boolean(t.all_day),type:t.type||"Arbeit",priority:t.priority||"medium",location:t.location||"",attendees:t.attendees||[],reminder:null!==(e=t.reminder)&&void 0!==e?e:15,status:"confirmed",category:t.category||"work",notes:t.notes||"",attachments:[],audio_url:null}),p("create"),g(!0)},[i,l]),V=(0,o.useCallback)(e=>{_(e)},[]),K=(0,o.useCallback)(e=>{B(e)},[]),Y=(0,o.useMemo)(()=>bg.find(e=>e.value===j),[j]),G=(0,o.useMemo)(()=>Dg.find(e=>e.value===S),[S]),$=(0,o.useCallback)(async e=>{try{await(e=>ja.post("/schedule/absence",e))(e),T({type:"success",title:"Abwesenheit gemeldet",message:"".concat(e.title," wurde erfolgreich f\xfcr ").concat(e.start_date," bis ").concat(e.end_date," gemeldet.")}),await R(),v(!1)}catch(BM){console.error("Error creating absence:",BM),T({type:"error",title:"Fehler beim Speichern",message:"Die Abwesenheit konnte nicht gespeichert werden. Bitte versuche es erneut."})}},[R,T]),Z=(0,o.useCallback)(()=>{v(!1)},[]);return(0,Oa.jsxs)("div",{className:"mx-auto max-w-7xl px-3 sm:px-6 lg:px-8 ".concat(k?"pt-5 pb-24":"py-6"),children:[(0,Oa.jsxs)("div",{className:"mb-6",children:[(0,Oa.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Dashboard"}),(0,Oa.jsxs)("p",{className:"text-gray-600",children:["Willkommen zur\xfcck, ",(null===t||void 0===t?void 0:t.name)||"User","! Hier ist dein \xdcberblick f\xfcr heute."]})]}),(0,Oa.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,Oa.jsxs)("nav",{className:"flex ".concat(k?"flex-nowrap gap-2 overflow-x-auto pb-2 -mx-1 px-1":"space-x-8"),children:[(0,Oa.jsx)("button",{onClick:()=>c("calendar"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("calendar"===u?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," ").concat(k?"flex-shrink-0 px-3":""),children:"Kalender"}),(0,Oa.jsx)(Oe,{to:"/kanban",className:"py-4 px-1 font-medium text-sm border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 transition-colors",children:"Kanban Board"})]})}),"calendar"===u&&(0,Oa.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-white shadow-xl ring-1 ring-slate-100 ".concat(k?"p-4":"p-6"),children:[(0,Oa.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Oa.jsx)("div",{children:(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Kalender"})}),(0,Oa.jsxs)("div",{className:"".concat(k?"hidden":"flex items-center gap-2"),children:[(0,Oa.jsx)("button",{onClick:()=>{q({start:i})},className:"rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-500",children:"+ Neuer Termin"}),"Vollzeit"===(null===t||void 0===t?void 0:t.employment_type)&&(0,Oa.jsx)("button",{onClick:()=>v(!0),className:"rounded-full bg-orange-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-orange-500",children:"\ud83c\udfd6\ufe0f Abwesenheit melden"})]})]}),(0,Oa.jsxs)("div",{className:"mt-5 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,Oa.jsx)("div",{className:"".concat(k?"flex flex-nowrap gap-2 overflow-x-auto pb-1 -mx-1 px-1":"flex flex-wrap gap-2"),children:bg.map(e=>(0,Oa.jsx)("button",{onClick:()=>V(e.value),className:"rounded-full px-3 py-1 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-blue-400 ".concat(j===e.value?"".concat(e.chipClass," ring-2 ring-blue-200"):"".concat(e.chipClass," opacity-70")),children:e.label},e.label))}),(0,Oa.jsx)("div",{className:"".concat(k?"flex flex-nowrap gap-2 overflow-x-auto pb-1 -mx-1 px-1":"flex items-center gap-2 overflow-x-auto"),children:Dg.map(e=>(0,Oa.jsx)("button",{onClick:()=>K(e.value),className:"rounded-full px-3 py-1 text-xs font-semibold transition ".concat(S===e.value?"".concat(e.badgeClass," ring-2 ring-offset-1 ring-offset-white"):"".concat(e.badgeClass," opacity-60")),children:e.label},e.label))})]}),k&&"Vollzeit"===(null===t||void 0===t?void 0:t.employment_type)&&(0,Oa.jsx)("button",{onClick:()=>v(!0),className:"mt-1 w-full rounded-2xl border border-orange-200 bg-orange-50 px-4 py-2 text-sm font-semibold text-orange-700 shadow-sm",children:"\ud83c\udfd6\ufe0f Abwesenheit melden"}),((null===Y||void 0===Y?void 0:Y.value)||(null===G||void 0===G?void 0:G.value))&&(0,Oa.jsx)("div",{className:"mt-4 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:(0,Oa.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1",children:[(0,Oa.jsx)("span",{className:"font-semibold text-slate-700",children:"Filter aktiv:"}),(0,Oa.jsx)("span",{children:null===Y||void 0===Y?void 0:Y.label}),(0,Oa.jsx)("span",{children:"\u2022"}),(0,Oa.jsx)("span",{children:null===G||void 0===G?void 0:G.label}),(0,Oa.jsx)("button",{onClick:()=>{_(bg[0].value),B(Dg[0].value)},className:"ml-2 text-slate-400 hover:text-slate-600","aria-label":"Filter zur\xfccksetzen",children:"\xd7"})]})}),(0,Oa.jsx)("div",{className:"relative mt-6 w-full",children:k?(0,Oa.jsx)(jf,{events:y,onEventClick:P,onEventCreate:q,onViewChange:e=>console.log("View changed to:",e),onDateChange:e=>l(e),loading:E}):(0,Oa.jsx)(ff,{events:y,onEventClick:P,onEventCreate:q,onEventUpdate:z,onRangeChange:I,onEventEdit:W,onEventDelete:U,loading:E,isMobile:k})})]}),(0,Oa.jsx)(eg,{isOpen:f,onClose:()=>{g(!1),h(null)},onSave:L,event:d,selectedDate:i,mode:m}),d&&(0,Oa.jsx)(Pf,{isOpen:b,onClose:()=>{D(!1),h(null)},event:d,onEdit:e=>{D(!1),h(e),p("edit"),g(!0)},onDelete:U,onDuplicate:H}),(0,Oa.jsx)(tg,{isOpen:x,onClose:Z,onSave:$,selectedDate:i}),(0,Oa.jsx)(xg,{toast:F,onClose:()=>A(null)})]})},yg=cs("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),wg=cs("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]),Eg=cs("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Cg=cs("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]]),Fg=cs("forward",[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]),Ag=cs("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),kg=cs("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Ng=cs("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),jg=cs("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),_g=cs("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),Sg=cs("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Bg=cs("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Mg=cs("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Og=e=>{let{variant:t="spinner",size:n="md",color:r="blue-600",fullScreen:a=!1,text:s="",className:i=""}=e;const o={spinner:{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-16 h-16 border-4",xl:"w-24 h-24 border-4"},dots:{sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4",xl:"w-6 h-6"},pulse:{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"}},l={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},u=()=>(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Oa.jsx)("div",{className:"".concat(o.spinner[n]," border-gray-200 border-t-").concat(r," rounded-full animate-spin transition-all duration-300")}),s&&(0,Oa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium animate-pulse"),children:s})]}),c=()=>(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Oa.jsxs)("div",{className:"flex space-x-2",children:[(0,Oa.jsx)("div",{className:"".concat(o.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"0ms"}}),(0,Oa.jsx)("div",{className:"".concat(o.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"150ms"}}),(0,Oa.jsx)("div",{className:"".concat(o.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"300ms"}})]}),s&&(0,Oa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium"),children:s})]}),d=()=>(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("div",{className:"".concat(o.pulse[n]," bg-").concat(r," rounded-full animate-ping absolute opacity-75")}),(0,Oa.jsx)("div",{className:"".concat(o.pulse[n]," bg-").concat(r," rounded-full relative")})]}),s&&(0,Oa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium animate-pulse"),children:s})]}),h=()=>{const e={sm:"w-1",md:"w-1.5",lg:"w-2",xl:"w-3"};return(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Oa.jsx)("div",{className:"flex items-end space-x-1",children:{sm:["h-4","h-6","h-8","h-6","h-4"],md:["h-6","h-8","h-10","h-8","h-6"],lg:["h-8","h-12","h-16","h-12","h-8"],xl:["h-12","h-16","h-24","h-16","h-12"]}[n].map((t,a)=>(0,Oa.jsx)("div",{className:"".concat(e[n]," ").concat(t," bg-").concat(r," rounded-full animate-pulse"),style:{animationDelay:"".concat(100*a,"ms")}},a))}),s&&(0,Oa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium"),children:s})]})},m=()=>{switch(t){case"dots":return(0,Oa.jsx)(c,{});case"pulse":return(0,Oa.jsx)(d,{});case"bars":return(0,Oa.jsx)(h,{});default:return(0,Oa.jsx)(u,{})}};return a?(0,Oa.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity duration-300 ".concat(i),children:m()}):(0,Oa.jsx)("div",{className:"flex items-center justify-center p-4 ".concat(i),children:m()})},Tg=e=>sn.success(e,{duration:3e3,position:"top-right"}),Rg=function(e){var t,n,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===a||void 0===a?void 0:a.message)||e;return sn.error(s,{duration:5e3,position:"top-right"})},Ig={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_ID:"1769023108",REACT_APP_BUILD_DATE:"2026-01-21T19:18:28Z"}.REACT_APP_GIPHY_API_KEY||"sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh",Pg="https://api.giphy.com/v1/gifs",Lg=[{label:"Gl\xfccklich",query:"Happy",emoji:"\ud83d\ude0a"},{label:"Traurig",query:"Sad",emoji:"\ud83d\ude22"},{label:"Liebe",query:"Love",emoji:"\u2764\ufe0f"},{label:"Lustig",query:"Funny",emoji:"\ud83d\ude02"},{label:"Feiern",query:"Celebrate",emoji:"\ud83c\udf89"},{label:"Daumen hoch",query:"Thumbs Up",emoji:"\ud83d\udc4d"},{label:"Tanzen",query:"Dance",emoji:"\ud83d\udc83"},{label:"Wow",query:"Wow",emoji:"\ud83d\ude2e"}],zg=e=>{let{onSelectGif:t,onClose:n}=e;const[r,a]=(0,o.useState)(""),[s,i]=(0,o.useState)([]),[l,u]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[h,m]=(0,o.useState)(null),p=(0,o.useCallback)(async()=>{try{u(!0);const e=await fetch("".concat(Pg,"/trending?api_key=").concat(Ig,"&limit=20&rating=g"));if(!e.ok)throw new Error("Failed to load trending GIFs");const t=await e.json();i(t.data||[])}catch(e){console.error("Error loading trending GIFs:",e),Rg("Fehler beim Laden der Trend-GIFs"),i([])}finally{u(!1)}},[]),f=(0,o.useCallback)(async e=>{try{u(!0);const t=await fetch("".concat(Pg,"/search?api_key=").concat(Ig,"&q=").concat(encodeURIComponent(e),"&limit=20&rating=g"));if(!t.ok)throw new Error("Failed to search GIFs");const n=await t.json();i(n.data||[])}catch(t){console.error("Error searching GIFs:",t),Rg("Fehler beim Suchen der GIFs"),i([])}finally{u(!1)}},[]);(0,o.useEffect)(()=>{const e=setTimeout(()=>{const e=(null===c||void 0===c?void 0:c.query)||r;e.trim()?f(e):c||p()},500);return()=>clearTimeout(e)},[r,c,f,p]),(0,o.useEffect)(()=>{p()},[p]);return(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000] p-4 pt-20 backdrop-blur-sm animate-fadeIn",onClick:n,children:(0,Oa.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[80vh] overflow-hidden shadow-2xl transform transition-all",onClick:e=>e.stopPropagation(),children:[(0,Oa.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-purple-500 to-pink-500",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center",children:[(0,Oa.jsx)("span",{className:"mr-2",children:"GIF-Auswahl"}),(0,Oa.jsx)("span",{className:"text-sm font-normal opacity-90",children:"bereitgestellt von Giphy"})]}),(0,Oa.jsx)("button",{onClick:n,className:"text-white hover:bg-white hover:bg-opacity-30 p-2 rounded-full transition-colors bg-white bg-opacity-20 hover:scale-110","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("input",{type:"text",value:r,onChange:e=>{a(e.target.value),d(null)},placeholder:"Suche nach GIFs...",className:"w-full border-0 rounded-lg px-4 py-2 pl-10 focus:ring-2 focus:ring-purple-300 text-gray-900",autoFocus:!0}),(0,Oa.jsx)("svg",{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r&&(0,Oa.jsx)("button",{onClick:()=>{a(""),d(null),p()},className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:Lg.map(e=>(0,Oa.jsxs)("button",{onClick:()=>(e=>{d(e),a(e.label)})(e),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-all ".concat((null===c||void 0===c?void 0:c.query)===e.query?"bg-white text-purple-600 shadow-md":"bg-white bg-opacity-20 text-white hover:bg-opacity-30"),children:[(0,Oa.jsx)("span",{className:"mr-1",children:e.emoji}),e.label]},e.query))})]}),(0,Oa.jsx)("div",{className:"overflow-y-auto p-4",style:{maxHeight:"calc(80vh - 180px)"},children:l?(0,Oa.jsx)(Og,{variant:"dots",size:"md",text:"Lade GIFs..."}):0===s.length?(0,Oa.jsxs)("div",{className:"text-center p-8 text-gray-500",children:[(0,Oa.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Oa.jsx)("p",{className:"text-lg font-medium",children:"Keine GIFs gefunden"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Versuche eine andere Suche"})]}):(0,Oa.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:s.map(e=>{var r,a,s,i,o,l,u,c;const d=(null===(r=e.images)||void 0===r||null===(a=r.fixed_width_small)||void 0===a?void 0:a.url)||(null===(s=e.images)||void 0===s||null===(i=s.fixed_width)||void 0===i?void 0:i.url),p=(null===(o=e.images)||void 0===o||null===(l=o.original)||void 0===l?void 0:l.url)||(null===(u=e.images)||void 0===u||null===(c=u.downsized)||void 0===c?void 0:c.url);return(0,Oa.jsxs)("div",{onClick:()=>(e=>{var r,a,s,i,o,l,u,c;const d=(null===(r=e.images)||void 0===r||null===(a=r.original)||void 0===a?void 0:a.url)||(null===(s=e.images)||void 0===s||null===(i=s.downsized)||void 0===i?void 0:i.url),h=(null===(o=e.images)||void 0===o||null===(l=o.fixed_width_small)||void 0===l?void 0:l.url)||(null===(u=e.images)||void 0===u||null===(c=u.fixed_width)||void 0===c?void 0:c.url);d?(t({url:d,preview:h||d,title:e.title||"GIF"}),n()):Rg("GIF URL nicht gefunden")})(e),onMouseEnter:()=>m(e.id),onMouseLeave:()=>m(null),className:"relative aspect-square rounded-lg overflow-hidden cursor-pointer group bg-gray-100",children:[(0,Oa.jsx)("img",{src:h===e.id?p:d,alt:e.title||"GIF",className:"w-full h-full object-cover transition-all group-hover:scale-105",loading:"lazy"}),(0,Oa.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:(0,Oa.jsx)("svg",{className:"w-10 h-10 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})})]},e.id)})})}),(0,Oa.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50 text-center",children:(0,Oa.jsxs)("p",{className:"text-xs text-gray-500",children:["Powered by"," ",(0,Oa.jsx)("a",{href:"https://tenor.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Tenor"})]})})]})})},Ug=e=>{var t;let{userName:n}=e;return n?(0,Oa.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 rounded-xl border border-slate-200 w-fit",children:[(0,Oa.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-md",children:(null===(t=n[0])||void 0===t?void 0:t.toUpperCase())||"?"}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsxs)("span",{className:"text-sm text-slate-600",children:[n," schreibt"]}),(0,Oa.jsxs)("div",{className:"flex gap-1",children:[(0,Oa.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,Oa.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,Oa.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]}):null},Wg=e=>{let{onClose:t,onMessageSelect:n,contacts:r=[],threads:a=[],currentConversationId:s=null,currentUserId:i=null}=e;const[l,u]=(0,o.useState)(""),[c,d]=(0,o.useState)([]),[h,m]=(0,o.useState)(!1),[p,f]=(0,o.useState)({from:"",date:"",type:"all",conversationId:s||""}),[g,b]=(0,o.useState)(!1),[D,x]=(0,o.useState)(0),v=(0,o.useMemo)(()=>r.filter(e=>null===e||void 0===e?void 0:e.id).map(e=>({id:e.id,label:e.name||e.email||"Benutzer ".concat(e.id)})).sort((e,t)=>e.label.localeCompare(t.label)),[r]),y=(0,o.useMemo)(()=>a.map(e=>{var t,n;const r="group"===(null===e||void 0===e?void 0:e.type)||"group"===(null===e||void 0===e?void 0:e.conversation_type),a=Array.isArray(null===e||void 0===e?void 0:e.members)&&e.members.length>0?(null===(t=e.members[0])||void 0===t?void 0:t.name)||(null===(n=e.members[0])||void 0===n?void 0:n.email):null,s=(null===e||void 0===e?void 0:e.name)||a||(r?"Gruppenchat":"Direktchat");return{id:null===e||void 0===e?void 0:e.id,label:r?"Gruppe: ".concat(s):s}}).filter(e=>e.id),[a]),w=(0,o.useCallback)(async()=>{if(l.trim().length<2)d([]);else{m(!0);try{const e=qe({q:l},p),t=await(e=>To.get("/messages/search",{params:e}))(e);d(t.data.results||[]),x(t.data.total||0)}catch(e){console.error("Search error:",e),Rg("Suchfehler"),d([])}finally{m(!1)}}},[l,p]);(0,o.useEffect)(()=>{s&&!p.conversationId&&f(e=>qe(qe({},e),{},{conversationId:s}))},[s,p.conversationId]),(0,o.useEffect)(()=>{const e=setTimeout(()=>{l.trim().length>=2&&w()},300);return()=>clearTimeout(e)},[l,w]);const E=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),C=(e,t)=>{if(!t||!e)return e;const n=t.trim().split(/\s+/).filter(Boolean);if(!n.length)return e;const r=n.map(E),a=new RegExp("(".concat(r.join("|"),")"),"gi");return e.split(a).map((e,t)=>n.some(t=>e.toLowerCase()===t.toLowerCase())?(0,Oa.jsx)("mark",{className:"bg-yellow-200 text-slate-900 px-0.5 rounded",children:e},t):e)};return(0,Oa.jsx)("div",{className:"fixed inset-0 z-[99999] bg-black/50 backdrop-blur-sm flex items-start justify-center pt-4 md:pt-20 px-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] md:max-h-[80vh] overflow-hidden flex flex-col",children:[(0,Oa.jsxs)("div",{className:"p-4 border-b border-slate-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oa.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:"Nachrichten durchsuchen"}),(0,Oa.jsx)("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Oa.jsx)("input",{type:"text",value:l,onChange:e=>u(e.target.value),placeholder:"Nachricht suchen...",className:"w-full pl-10 pr-12 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),(0,Oa.jsx)("button",{onClick:()=>b(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-lg transition ".concat(g?"bg-blue-100 text-blue-600":"hover:bg-slate-100"),children:(0,Oa.jsx)(gf,{className:"w-5 h-5"})})]}),g&&(0,Oa.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(zf,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Oa.jsxs)("select",{value:p.conversationId,onChange:e=>f(qe(qe({},p),{},{conversationId:e.target.value})),className:"w-full pl-8 pr-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[(0,Oa.jsx)("option",{value:"",children:"Alle Chats"}),s&&(0,Oa.jsx)("option",{value:s,children:"Aktueller Chat"}),y.map(e=>(0,Oa.jsx)("option",{value:e.id,children:e.label},"thread-".concat(e.id)))]})]}),(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(dl,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Oa.jsxs)("select",{value:p.from,onChange:e=>f(qe(qe({},p),{},{from:e.target.value})),className:"w-full pl-8 pr-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[(0,Oa.jsx)("option",{value:"",children:"Alle Absender"}),v.map(e=>(0,Oa.jsx)("option",{value:e.id,children:e.label},"contact-".concat(e.id)))]})]}),(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(fs,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Oa.jsx)("input",{type:"date",value:p.date,onChange:e=>f(qe(qe({},p),{},{date:e.target.value})),className:"w-full pl-8 pr-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]}),(0,Oa.jsxs)("select",{value:p.type,onChange:e=>f(qe(qe({},p),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[(0,Oa.jsx)("option",{value:"all",children:"Alle Typen"}),(0,Oa.jsx)("option",{value:"text",children:"Text"}),(0,Oa.jsx)("option",{value:"image",children:"Bild"}),(0,Oa.jsx)("option",{value:"audio",children:"Audio"}),(0,Oa.jsx)("option",{value:"gif",children:"GIF"})]})]}),l.length>=2&&(0,Oa.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:h?"Suche...":"".concat(D," Ergebnis").concat(1!==D?"se":""," gefunden")})]}),(0,Oa.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[h&&(0,Oa.jsx)("div",{className:"flex justify-center py-8",children:(0,Oa.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})}),!h&&l.length<2&&(0,Oa.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,Oa.jsx)(rl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,Oa.jsx)("p",{children:"Gib mindestens 2 Zeichen ein, um zu suchen"})]}),!h&&l.length>=2&&0===c.length&&(0,Oa.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,Oa.jsx)(rl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,Oa.jsx)("p",{children:"Keine Ergebnisse gefunden"})]}),!h&&c.map(e=>{var t,r;const a=(s=e.message_type)&&"text"!==s?"image"===s?"Bild":"audio"===s?"Audio":"gif"===s?"GIF":s.toUpperCase():"";var s;const o=i?e.sender_id===i?e.receiver_name:e.sender_name:e.receiver_name||e.sender_name,u=e.conversation_name?"group"===e.conversation_type?"Gruppe \xb7 ".concat(e.conversation_name):"Chat \xb7 ".concat(e.conversation_name):o?"Direkt \xb7 ".concat(o):"Direktnachricht";return(0,Oa.jsxs)("button",{onClick:()=>n(e),className:"w-full text-left p-4 bg-slate-50 hover:bg-blue-50 rounded-xl transition border border-slate-200 hover:border-blue-300",children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold",children:(null===(t=e.sender_name)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.toUpperCase())||"?"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"font-semibold text-slate-900",children:e.sender_name}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500",children:Zp(new Date(e.created_at),"dd.MM.yyyy HH:mm",{locale:si})}),(0,Oa.jsx)("p",{className:"text-xs text-slate-400",children:u})]})]}),a&&(0,Oa.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:a})]}),(0,Oa.jsx)("p",{className:"text-sm text-slate-700 line-clamp-2",children:C(e.message,l)})]},e.id)})]})]})})},Hg=cs("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),qg=e=>{let{userId:t,onClose:n,onSuccess:r,showSuccess:a,showError:s}=e;const[i,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(null),[d,h]=(0,o.useState)(""),[m,p]=(0,o.useState)(!1),[f,g]=(0,o.useState)(!1),[b,D]=(0,o.useState)(null),[x,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)(""),E=(0,o.useRef)(null),C=(0,o.useRef)(null),F=(0,o.useRef)(null),A=(0,o.useRef)(null),k=e=>{if(!e)return!1;if(!e.type.startsWith("image/")&&!e.type.startsWith("video/"))return null===s||void 0===s||s("Nur Bilder und Videos sind erlaubt"),!1;if(e.size>52428800)return null===s||void 0===s||s("Datei zu gro\xdf (max 50MB)"),!1;l(e);const t=new FileReader;return t.onload=e=>{c(e.target.result)},t.readAsDataURL(e),!0},N=()=>{b&&(b.getTracks().forEach(e=>e.stop()),D(null)),g(!1)};(0,o.useEffect)(()=>()=>{b&&b.getTracks().forEach(e=>e.stop())},[b]);const j=Boolean(u),_=x?"Lass los, um hochzuladen":"Oder Datei hierher ziehen",S=j?"Schritt 2 von 2":"Schritt 1 von 2",B=j?"Beschreibung hinzuf\xfcgen":"Medien ausw\xe4hlen",M=j?100:50;return(0,o.useEffect)(()=>{var e;j&&(null===(e=C.current)||void 0===e||e.focus({preventScroll:!0}))},[j]),(0,Oa.jsx)("div",{className:"story-composer-overlay",onClick:n,children:(0,Oa.jsxs)("div",{className:"story-composer-modal",onClick:e=>e.stopPropagation(),children:[(0,Oa.jsxs)("div",{className:"story-composer-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"story-composer-step",children:S}),(0,Oa.jsx)("h2",{children:"Story erstellen"}),(0,Oa.jsx)("p",{className:"story-composer-subtitle",children:B})]}),(0,Oa.jsx)("button",{type:"button",onClick:n,className:"close-btn","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsx)("div",{className:"story-composer-progress","aria-hidden":"true",children:(0,Oa.jsx)("div",{className:"story-composer-progress__bar",style:{width:"".concat(M,"%")}})}),(0,Oa.jsx)("div",{className:"story-composer-body",children:j?(0,Oa.jsxs)("div",{className:"story-composer-grid",children:[(0,Oa.jsxs)("div",{className:"story-composer-preview-column",children:[(0,Oa.jsxs)("div",{className:"preview-media",children:[null!==i&&void 0!==i&&i.type.startsWith("image/")?(0,Oa.jsx)("img",{src:u,alt:"Preview",className:"preview-image"}):(0,Oa.jsx)("video",{src:u,controls:!0,className:"preview-video"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>{l(null),c(null),h(""),E.current&&(E.current.value=""),v(!1)},className:"remove-preview-btn","aria-label":"Entfernen",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]}),(0,Oa.jsxs)("div",{className:"story-composer-preview-actions",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"story-composer-preview-label",children:"Datei"}),(0,Oa.jsxs)("p",{className:"story-composer-preview-info",children:[(null===i||void 0===i?void 0:i.name)||"Unbekannt",(0,Oa.jsxs)("span",{className:"story-composer-preview-meta",children:[(T=i,null!==T&&void 0!==T&&T.type?T.type.startsWith("video/")?"Video":"Bild":"Unbekannt")," \xb7 ",(O=null===i||void 0===i?void 0:i.size,O?O>=1048576?"".concat((O/1048576).toFixed(1)," MB"):O>=1024?"".concat((O/1024).toFixed(1)," KB"):"".concat(O," B"):"Unbekannt")]})]})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},className:"story-composer-link-btn",children:"Datei ersetzen"})]}),(0,Oa.jsx)("div",{className:"story-composer-preview-hint",children:(0,Oa.jsx)("p",{children:"Bereit f\xfcr vertikale Formate und schnelle Ausspielung."})})]}),(0,Oa.jsxs)("div",{className:"story-composer-editor-column",children:[(0,Oa.jsxs)("div",{className:"story-composer-editor-section",children:[(0,Oa.jsx)("p",{className:"story-composer-editor-label",children:"Beschreibung"}),(0,Oa.jsxs)("div",{className:"caption-input-container",children:[(0,Oa.jsx)("textarea",{ref:C,value:d,onChange:e=>h(e.target.value),placeholder:"Schreibe eine Beschreibung... (optional)",className:"caption-input",maxLength:200,rows:3}),(0,Oa.jsxs)("div",{className:"caption-counter",children:[d.length,"/200"]})]})]}),(0,Oa.jsxs)("div",{className:"story-composer-editor-section story-composer-editor-notes",children:[(0,Oa.jsx)("p",{className:"story-composer-editor-label",children:"Tipps & Hinweise"}),(0,Oa.jsxs)("ul",{children:[(0,Oa.jsx)("li",{children:"Empfohlene Aufl\xf6sung: 1080 \xd7 1920 Pixel f\xfcr maximale Klarheit."}),(0,Oa.jsx)("li",{children:"Videos unter 60 Sekunden laden schneller und wirken fl\xfcssiger."}),(0,Oa.jsx)("li",{children:"Stories bleiben 24 Stunden sichtbar \u2013 nutze deshalb pr\xe4gnante Aussagen."})]})]})]})]}):(0,Oa.jsxs)("div",{className:"upload-area".concat(x?" dragging":""),onDragEnter:e=>{e.preventDefault(),v(!0)},onDragOver:e=>{e.preventDefault(),v(!0)},onDragLeave:e=>{e.preventDefault(),v(!1)},onDrop:e=>{var t,n;e.preventDefault(),v(!1),k(null===(t=e.dataTransfer)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0])},onClick:()=>{var e;f||(null===(e=E.current)||void 0===e||e.click())},onKeyDown:e=>{var t;f||("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),null===(t=E.current)||void 0===t||t.click()))},role:"button",tabIndex:0,children:[f&&(0,Oa.jsxs)("div",{className:"camera-preview",children:[(0,Oa.jsx)("video",{ref:F,className:"camera-video",autoPlay:!0,muted:!0,playsInline:!0}),(0,Oa.jsxs)("div",{className:"camera-actions",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>{if(!F.current||!A.current)return;const e=F.current,t=A.current,n=e.videoWidth||640,r=e.videoHeight||480;t.width=n,t.height=r;t.getContext("2d").drawImage(e,0,0,n,r),t.toBlob(e=>{if(!e)return;const t=new File([e],"story-".concat(Date.now(),".png"),{type:"image/png"});l(t);const n=new FileReader;n.onload=e=>c(e.target.result),n.readAsDataURL(t)},"image/png"),N()},className:"camera-capture-btn",children:"Foto aufnehmen"}),(0,Oa.jsx)("button",{type:"button",onClick:N,className:"camera-close-btn",children:"Abbrechen"})]}),(0,Oa.jsx)("canvas",{ref:A,className:"hidden"})]}),(0,Oa.jsxs)("div",{className:"upload-prompt",children:[(0,Oa.jsx)(Wf,{className:"w-16 h-16 text-slate-400 mb-4"}),(0,Oa.jsx)("h3",{children:"Foto oder Video ausw\xe4hlen"}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500 mb-2",children:"Maximal 50MB \u2022 Bilder oder Videos"}),(0,Oa.jsx)("p",{className:"story-composer-drag-hint mb-4",children:_}),(0,Oa.jsxs)("div",{className:"upload-buttons",children:[(0,Oa.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),(async()=>{var e;if(w(""),null!==(e=navigator.mediaDevices)&&void 0!==e&&e.getUserMedia)try{const e=await navigator.mediaDevices.getUserMedia({video:!0});D(e),g(!0),F.current&&(F.current.srcObject=e,F.current.play().catch(()=>{}))}catch(t){console.error("Camera error:",t),w("Kamera kann nicht gestartet werden. Bitte Berechtigungen pr\xfcfen oder Foto ausw\xe4hlen.")}else w("Browser unterst\xfctzt keine Kamera. Bitte w\xe4hlen Sie ein Foto aus.")})()},className:"upload-btn camera-btn",children:[(0,Oa.jsx)(Hg,{className:"w-5 h-5 mr-2"}),"Kamera"]}),(0,Oa.jsxs)("button",{type:"button",onClick:e=>{var t;e.stopPropagation(),null===(t=E.current)||void 0===t||t.click()},className:"upload-btn",children:[(0,Oa.jsx)(Vf,{className:"w-5 h-5 mr-2"}),"Galerie"]})]}),y&&(0,Oa.jsx)("p",{className:"text-xs text-red-500 mt-2 text-center",children:y})]})]})}),(0,Oa.jsx)("input",{ref:E,type:"file",accept:"image/*,video/*",onChange:e=>{var t;v(!1);const n=null===(t=e.target.files)||void 0===t?void 0:t[0];!k(n)&&E.current&&(E.current.value="")},className:"hidden"}),(0,Oa.jsxs)("div",{className:"story-composer-footer",children:[(0,Oa.jsx)("button",{type:"button",onClick:n,className:"cancel-btn",disabled:m,children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"button",onClick:async()=>{if(i){p(!0);try{const e=new FormData;e.append("file",i),d.trim()&&e.append("caption",d.trim()),await Io(0,e),null===a||void 0===a||a("Story erfolgreich hochgeladen! \ud83c\udf89"),null===r||void 0===r||r(),n()}catch(o){var e,t;console.error("Error uploading story:",o),null===s||void 0===s||s((null===o||void 0===o||null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Fehler beim Hochladen der Story")}finally{p(!1)}}else null===s||void 0===s||s("Bitte w\xe4hle eine Datei")},className:"publish-btn",disabled:!i||m,children:m?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(Mg,{className:"w-5 h-5 mr-2 animate-spin"}),"Wird hochgeladen..."]}):"Story ver\xf6ffentlichen"})]})]})});var O,T},Vg=cs("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Kg=cs("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Yg=e=>{let{onSelect:t,onClose:n}=e;const[r,a]=(0,o.useState)([]),[s,i]=(0,o.useState)(!0),[l,u]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[h,m]=(0,o.useState)({title:"",content:"",shortcut:"",category:"general"}),[p,f]=(0,o.useState)("all"),g={all:"Alle",general:"Allgemein",greeting:"Begr\xfc\xdfung",closing:"Abschluss",question:"Frage",other:"Sonstiges"};(0,o.useEffect)(()=>{b()},[]);const b=async()=>{i(!0);try{const e=await $o();a(e.data||[])}catch(e){console.error("Error loading templates:",e),Rg("Fehler beim Laden der Vorlagen")}finally{i(!1)}},D=async e=>{if(window.confirm("Vorlage wirklich l\xf6schen?"))try{await(e=>To.delete("/messages/quick-replies/".concat(e)))(e),Tg("Vorlage gel\xf6scht"),b()}catch(t){console.error("Error deleting template:",t),Rg("Fehler beim L\xf6schen")}},x=async e=>{try{await(n=e.id,To.post("/messages/quick-replies/".concat(n,"/use"))),t(e.content)}catch(r){console.error("Error using template:",r)}var n},v="all"===p?r:r.filter(e=>e.category===p);return(0,Oa.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Oa.jsx)("div",{className:"p-4 border-b border-slate-200 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)(Sg,{className:"w-6 h-6"}),(0,Oa.jsx)("h3",{className:"text-lg font-bold",children:"Schnellantworten"})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[!l&&(0,Oa.jsx)("button",{onClick:()=>u(!0),className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition",title:"Neue Vorlage",children:(0,Oa.jsx)(vf,{className:"w-5 h-5"})}),(0,Oa.jsx)("button",{onClick:n,className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]})]})}),(0,Oa.jsx)("div",{className:"p-4 border-b border-slate-200 overflow-x-auto",children:(0,Oa.jsx)("div",{className:"flex gap-2",children:["all","general","greeting","closing","question","other"].map(e=>(0,Oa.jsx)("button",{onClick:()=>f(e),className:"px-4 py-2 rounded-lg font-medium text-sm transition whitespace-nowrap ".concat(p===e?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:g[e]||e},e))})}),l&&(0,Oa.jsx)("div",{className:"p-4 border-b border-slate-200 bg-blue-50",children:(0,Oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{c?(await((e,t)=>To.put("/messages/quick-replies/".concat(e),t))(c,h),Tg("Vorlage aktualisiert")):(await(e=>To.post("/messages/quick-replies",e))(h),Tg("Vorlage erstellt")),m({title:"",content:"",shortcut:"",category:"general"}),u(!1),d(null),b()}catch(t){console.error("Error saving template:",t),Rg("Fehler beim Speichern")}},className:"space-y-3",children:[(0,Oa.jsx)("div",{children:(0,Oa.jsx)("input",{type:"text",placeholder:"Titel",value:h.title,onChange:e=>m(qe(qe({},h),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})}),(0,Oa.jsx)("div",{children:(0,Oa.jsx)("textarea",{placeholder:"Nachrichtentext",value:h.content,onChange:e=>m(qe(qe({},h),{},{content:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",rows:3,required:!0})}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Oa.jsx)("input",{type:"text",placeholder:"K\xfcrzel (z.B. /hi)",value:h.shortcut,onChange:e=>m(qe(qe({},h),{},{shortcut:e.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,Oa.jsxs)("select",{value:h.category,onChange:e=>m(qe(qe({},h),{},{category:e.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Oa.jsx)("option",{value:"general",children:g.general}),(0,Oa.jsx)("option",{value:"greeting",children:g.greeting}),(0,Oa.jsx)("option",{value:"closing",children:g.closing}),(0,Oa.jsx)("option",{value:"question",children:g.question}),(0,Oa.jsx)("option",{value:"other",children:g.other})]})]}),(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsxs)("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[(0,Oa.jsx)(Vg,{className:"w-4 h-4"}),c?"Aktualisieren":"Erstellen"]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>{u(!1),d(null),m({title:"",content:"",shortcut:"",category:"general"})},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Abbrechen"})]})]})}),(0,Oa.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[s&&(0,Oa.jsx)("div",{className:"flex justify-center py-8",children:(0,Oa.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})}),!s&&0===v.length&&(0,Oa.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,Oa.jsx)(Sg,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,Oa.jsx)("p",{children:"Keine Vorlagen gefunden"}),(0,Oa.jsx)("p",{className:"text-sm mt-1",children:"Erstelle eine neue Schnellantwort"})]}),!s&&v.map(e=>(0,Oa.jsx)("div",{className:"p-4 bg-slate-50 hover:bg-blue-50 rounded-xl transition border border-slate-200 hover:border-blue-300 group",children:(0,Oa.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Oa.jsx)("h4",{className:"font-semibold text-slate-900",children:e.title}),e.shortcut&&(0,Oa.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded font-mono",children:e.shortcut}),(0,Oa.jsx)("span",{className:"px-2 py-0.5 bg-slate-200 text-slate-600 text-xs rounded",children:e.category})]}),(0,Oa.jsx)("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.content}),(0,Oa.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[e.usage_count||0,"x verwendet"]})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition",children:[(0,Oa.jsx)("button",{onClick:()=>x(e),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",title:"Verwenden",children:(0,Oa.jsx)(Sg,{className:"w-4 h-4"})}),(0,Oa.jsx)("button",{onClick:()=>(e=>{m({title:e.title,content:e.content,shortcut:e.shortcut||"",category:e.category||"general"}),d(e.id),u(!0)})(e),className:"p-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",title:"Bearbeiten",children:(0,Oa.jsx)(Kg,{className:"w-4 h-4"})}),(0,Oa.jsx)("button",{onClick:()=>D(e.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition",title:"L\xf6schen",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]})]})},e.id))]})]})})},Gg=cs("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),$g=e=>{let{contactId:t,contactName:n}=e;const[r,a]=(0,o.useState)(""),[s,i]=(0,o.useState)([]),[l,u]=(0,o.useState)(""),[c,d]=(0,o.useState)(!0),[h,m]=(0,o.useState)(!1),[p,f]=(0,o.useState)(!1);(0,o.useEffect)(()=>{g()},[t]);const g=async()=>{if(t){d(!0);try{const e=await(e=>To.get("/messages/contacts/".concat(e,"/notes")))(t);e.data?(a(e.data.note||""),i(e.data.tags||[])):(a(""),i([])),f(!1)}catch(e){console.error("Error loading note:",e)}finally{d(!1)}}},b=()=>{const e=l.trim();e&&!s.includes(e)&&(i([...s,e]),u(""),f(!0))};return t?(0,Oa.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)(Ng,{className:"w-5 h-5 text-blue-600"}),(0,Oa.jsxs)("h3",{className:"font-semibold text-slate-900",children:["Notizen zu ",n]})]}),p&&(0,Oa.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Nicht gespeichert"})]}),c?(0,Oa.jsx)("div",{className:"flex justify-center py-8",children:(0,Oa.jsx)("div",{className:"animate-spin w-6 h-6 border-4 border-blue-600 border-t-transparent rounded-full"})}):(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsx)("div",{children:(0,Oa.jsx)("textarea",{value:r,onChange:e=>{a(e.target.value),f(!0)},placeholder:"Notizen \xfcber diesen Kontakt...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",rows:4})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 mb-2",children:[(0,Oa.jsx)(Gg,{className:"w-4 h-4"}),"Tags"]}),(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:s.map((e,t)=>(0,Oa.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:[e,(0,Oa.jsx)("button",{onClick:()=>{return t=e,i(s.filter(e=>e!==t)),void f(!0);var t},className:"hover:bg-blue-200 rounded-full p-0.5 transition",children:(0,Oa.jsx)(vs,{className:"w-3 h-3"})})]},t))}),(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsx)("input",{type:"text",value:l,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),b())},placeholder:"Tag hinzuf\xfcgen...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"}),(0,Oa.jsx)("button",{onClick:b,disabled:!l.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm font-medium",children:"Hinzuf\xfcgen"})]})]}),(0,Oa.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,Oa.jsxs)("button",{onClick:async()=>{if(r.trim()){m(!0);try{await((e,t)=>To.put("/messages/contacts/".concat(e,"/notes"),t))(t,{note:r,tags:s}),Tg("Notiz gespeichert"),f(!1)}catch(e){console.error("Error saving note:",e),Rg("Fehler beim Speichern")}finally{m(!1)}}else Rg("Notiz darf nicht leer sein")},disabled:!p||h||!r.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition font-medium",children:[(0,Oa.jsx)(Vg,{className:"w-4 h-4"}),h?"Speichern...":"Speichern"]}),r&&(0,Oa.jsx)("button",{onClick:async()=>{if(window.confirm("Notiz wirklich l\xf6schen?"))try{await(e=>To.delete("/messages/contacts/".concat(e,"/notes")))(t),a(""),i([]),f(!1),Tg("Notiz gel\xf6scht")}catch(e){console.error("Error deleting note:",e),Rg("Fehler beim L\xf6schen")}},className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition font-medium",title:"Notiz l\xf6schen",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]})]})]}):null},Zg=e=>{let{message:t,onClose:n,onSuccess:r}=e;const[a,s]=(0,o.useState)([]),[i,l]=(0,o.useState)([]),[u,c]=(0,o.useState)(""),[d,h]=(0,o.useState)(""),[m,p]=(0,o.useState)(!0),[f,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{b()},[]);const b=async()=>{try{const e=await Ro();s(e.data||[])}catch(e){console.error("Error loading contacts:",e),Rg("Fehler beim Laden der Kontakte")}finally{p(!1)}},D=a.filter(e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase()))});return(0,Oa.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Oa.jsx)("div",{className:"p-4 border-b border-slate-200 bg-gradient-to-r from-green-600 to-green-700 text-white",children:(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)(Fg,{className:"w-6 h-6"}),(0,Oa.jsx)("h3",{className:"text-lg font-bold",children:"Nachricht weiterleiten"})]}),(0,Oa.jsx)("button",{onClick:n,className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]})}),(0,Oa.jsxs)("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:[(0,Oa.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Weiterzuleitende Nachricht:"}),(0,Oa.jsx)("div",{className:"p-3 bg-white rounded-lg border border-slate-200",children:(0,Oa.jsx)("p",{className:"text-sm text-slate-700 line-clamp-3",children:t.message})})]}),(0,Oa.jsxs)("div",{className:"p-4 border-b border-slate-200",children:[(0,Oa.jsx)("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Kommentar hinzuf\xfcgen (optional)"}),(0,Oa.jsx)("textarea",{value:u,onChange:e=>c(e.target.value),placeholder:"F\xfcge einen Kommentar hinzu...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 resize-none",rows:2})]}),(0,Oa.jsxs)("div",{className:"p-4 border-b border-slate-200",children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Oa.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"Kontakte durchsuchen...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),i.length>0&&(0,Oa.jsxs)("p",{className:"mt-2 text-sm text-green-600 font-medium",children:[i.length," Empf\xe4nger ausgew\xe4hlt"]})]}),(0,Oa.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[m&&(0,Oa.jsx)("div",{className:"flex justify-center py-8",children:(0,Oa.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-green-600 border-t-transparent rounded-full"})}),!m&&0===D.length&&(0,Oa.jsx)("div",{className:"text-center py-12 text-slate-400",children:(0,Oa.jsx)("p",{children:"Keine Kontakte gefunden"})}),!m&&D.map(e=>{var t,n;const r=i.includes(e.id);return(0,Oa.jsxs)("button",{onClick:()=>{return t=e.id,void l(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-full flex items-center gap-3 p-3 rounded-xl transition border-2 ".concat(r?"bg-green-50 border-green-300":"bg-slate-50 border-transparent hover:border-slate-200"),children:[(0,Oa.jsx)("div",{className:"w-6 h-6 rounded-lg border-2 flex items-center justify-center transition ".concat(r?"bg-green-600 border-green-600":"bg-white border-slate-300"),children:r&&(0,Oa.jsx)(bs,{className:"w-4 h-4 text-white"})}),(0,Oa.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold shadow-md",children:(null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"?"}),(0,Oa.jsxs)("div",{className:"flex-1 text-left",children:[(0,Oa.jsx)("p",{className:"font-semibold text-slate-900",children:e.name}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500",children:e.email})]})]},e.id)})]}),(0,Oa.jsxs)("div",{className:"p-4 border-t border-slate-200 flex gap-2",children:[(0,Oa.jsx)("button",{onClick:n,className:"flex-1 px-4 py-3 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 transition font-medium",children:"Abbrechen"}),(0,Oa.jsxs)("button",{onClick:async()=>{if(0!==i.length){g(!0);try{await((e,t,n)=>To.post("/messages/".concat(e,"/forward"),{recipientIds:t,comment:n}))(t.id,i,u),Tg("Nachricht an ".concat(i.length," Empf\xe4nger weitergeleitet")),null===r||void 0===r||r(),n()}catch(e){console.error("Error forwarding message:",e),Rg("Fehler beim Weiterleiten")}finally{g(!1)}}else Rg("W\xe4hle mindestens einen Empf\xe4nger")},disabled:0===i.length||f,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition font-medium",children:[(0,Oa.jsx)(Fg,{className:"w-5 h-5"}),f?"Wird weitergeleitet...":"Weiterleiten"]})]})]})})},Xg=cs("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Qg=cs("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Jg=[1,1.5,2],eb=e=>{let{audioUrl:t,duration:n,className:r=""}=e;const a=(0,o.useRef)(null),[s,i]=(0,o.useState)(!1),[l,u]=(0,o.useState)(0),[c,d]=(0,o.useState)(n||0),[h,m]=(0,o.useState)(1),[p,f]=(0,o.useState)(1),[g,b]=(0,o.useState)(!1),[D,x]=(0,o.useState)([]);(0,o.useEffect)(()=>{const e=Array.from({length:40},()=>.7*Math.random()+.3);x(e)},[]),(0,o.useEffect)(()=>{const e=a.current;if(!e)return;const t=()=>{u(e.currentTime)},n=()=>{d(e.duration)},r=()=>{i(!1),u(0)};return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",n),e.addEventListener("ended",r),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",n),e.removeEventListener("ended",r)}},[]),(0,o.useEffect)(()=>{a.current&&(a.current.playbackRate=h)},[h]),(0,o.useEffect)(()=>{a.current&&(a.current.volume=g?0:p)},[p,g]);const v=()=>{b(!g)},y=e=>{if(!e||isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))},w=c>0?l/c*100:0;return(0,Oa.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 border border-blue-200 ".concat(r),children:[(0,Oa.jsx)("audio",{ref:a,src:t,preload:"metadata"}),(0,Oa.jsxs)("div",{onClick:e=>{const t=a.current;if(!t)return;const n=e.currentTarget.getBoundingClientRect(),r=(e.clientX-n.left)/n.width*c;t.currentTime=r,u(r)},className:"relative h-16 mb-4 cursor-pointer group",role:"progressbar","aria-label":"Audiowiedergabe","aria-valuenow":w,"aria-valuemin":"0","aria-valuemax":"100",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 flex items-center justify-between gap-0.5",children:D.map((e,t)=>{const n=t/D.length*100<=w;return(0,Oa.jsx)("div",{className:"flex-1 flex items-center justify-center transition-all duration-150",children:(0,Oa.jsx)("div",{className:"w-full rounded-full transition-all ".concat(n?"bg-blue-600 group-hover:bg-blue-700":"bg-blue-200 group-hover:bg-blue-300"," ").concat(s&&n?"animate-pulse":""),style:{height:"".concat(100*e,"%"),animationDelay:"".concat(50*t,"ms")}})},t)})}),(0,Oa.jsx)("div",{className:"absolute top-0 left-0 h-full bg-blue-600/10 pointer-events-none transition-all",style:{width:"".concat(w,"%")}})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("button",{onClick:()=>{const e=a.current;e&&(s?e.pause():e.play(),i(!s))},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center transition shadow-lg shadow-blue-600/30 flex-shrink-0","aria-label":s?"Pause":"Abspielen",children:s?(0,Oa.jsx)(_f,{className:"w-5 h-5 sm:w-6 sm:h-6"}):(0,Oa.jsx)(Sf,{className:"w-5 h-5 sm:w-6 sm:h-6 ml-0.5"})}),(0,Oa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm font-medium text-slate-700",children:[(0,Oa.jsx)("span",{children:y(l)}),(0,Oa.jsx)("span",{className:"text-slate-500",children:"/"}),(0,Oa.jsx)("span",{children:y(c)})]}),(0,Oa.jsx)("div",{className:"mt-1 h-1 bg-blue-200 rounded-full overflow-hidden",children:(0,Oa.jsx)("div",{className:"h-full bg-blue-600 transition-all",style:{width:"".concat(w,"%")}})})]}),(0,Oa.jsxs)("button",{onClick:()=>{const e=(Jg.indexOf(h)+1)%Jg.length;m(Jg[e])},className:"px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl bg-white border border-blue-200 text-blue-700 font-semibold text-xs sm:text-sm hover:bg-blue-50 hover:border-blue-300 transition flex-shrink-0","aria-label":"Wiedergabegeschwindigkeit: ".concat(h,"x"),children:[h,"x"]}),(0,Oa.jsxs)("div",{className:"hidden sm:flex items-center gap-2 flex-shrink-0",children:[(0,Oa.jsx)("button",{onClick:v,className:"w-8 h-8 rounded-lg bg-white border border-blue-200 text-blue-700 flex items-center justify-center hover:bg-blue-50 hover:border-blue-300 transition","aria-label":g?"Stummschaltung aufheben":"Stummschalten",children:g?(0,Oa.jsx)(Xg,{className:"w-4 h-4"}):(0,Oa.jsx)(Qg,{className:"w-4 h-4"})}),(0,Oa.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:g?0:p,onChange:e=>{f(parseFloat(e.target.value)),g&&b(!1)},className:"w-16 accent-blue-600","aria-label":"Lautst\xe4rke"})]}),(0,Oa.jsx)("button",{onClick:v,className:"sm:hidden w-10 h-10 rounded-lg bg-white border border-blue-200 text-blue-700 flex items-center justify-center hover:bg-blue-50 hover:border-blue-300 transition flex-shrink-0","aria-label":g?"Stummschaltung aufheben":"Stummschalten",children:g?(0,Oa.jsx)(Xg,{className:"w-5 h-5"}):(0,Oa.jsx)(Qg,{className:"w-5 h-5"})})]})]})},tb=e=>{let{user:t,contacts:n,threads:r,messages:a,selectedThreadId:s,selectedContact:i,activeThread:l,messageInput:u,sending:c,isRecording:d,pendingAttachments:h,typingUsers:m,showComposerActions:p,setShowComposerActions:f,setSelectedThreadId:g,setSelectedContact:b,setMessageInput:D,handleSendMessage:x,handleContactClick:v,handleThreadSelect:y,handleInputChange:w,fileInputRef:E,mobileTextareaRef:C,messagesEndRef:F,messagesContainerRef:A,setShowGifPicker:k,showGifPicker:N,handleSelectGif:j,openEventPicker:_,showEventPicker:S,setShowEventPicker:B,calendarEvents:M,handleEventSelect:O,startRecording:T,stopRecording:R,handleBotInvoke:I,setShowStoryComposer:P,showStoryComposer:L,handleStoryCreated:z,storiesLoading:U,storyEntries:W,handleFileAttachment:H,handleLongPressStart:q,handleLongPressEnd:V,handleLongPressMove:K,handleLongPressCancel:Y,handleLongPressContextMenu:G,longPressMenuMessage:$,closeLongPressMenu:Z,longPressMenuCoords:X,handleReaction:Q,handleForward:J,handleReply:ee,handleDelete:te,handlePin:ne,pinnedMessages:ae,replyToMessage:se,setReplyToMessage:ie,selectedEvent:oe,setSelectedEvent:le,handleMessageSearchSelect:ue}=e;const ce=re(),[de,he]=(0,o.useState)("list"),[me,pe]=(0,o.useState)(null),[fe,ge]=(0,o.useState)(!1),[be,De]=(0,o.useState)(!1),[xe,ve]=(0,o.useState)(null),ye=e=>{if(!e)return"";try{const t=new Date(e),n=new Date-t,r=Math.floor(n/864e5);return 0===r?Zp(t,"HH:mm"):1===r?"Gestern":Zp(t,r<7?"EEEE":"dd.MM.yy")}catch(t){return""}};(0,o.useEffect)(()=>{(s||i)&&he("chat")},[s,i]);if(console.log("[MobileMessenger] Render:",{contacts:null===n||void 0===n?void 0:n.length,threads:null===r||void 0===r?void 0:r.length,messages:null===a||void 0===a?void 0:a.length,mobileMode:de,selectedThreadId:s,selectedContact:null===i||void 0===i?void 0:i.name,activeThread:null===l||void 0===l?void 0:l.name,user:null===t||void 0===t?void 0:t.id}),"chat"===de){const e=s||(null===l||void 0===l?void 0:l.id),t=a.filter(t=>t.thread_id===e);console.log("[MobileMessenger] Chat View:",{threadId:e,currentMessages:t.length,allMessages:a.length,allThreadIds:[...new Set(a.map(e=>e.thread_id||e.conversation_id))],firstMessage:a[0]})}return n&&r&&t?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"messenger-mobile-container mobile-messenger-container",children:"list"===de?(()=>{const e=n.filter(e=>e.id!==(null===t||void 0===t?void 0:t.id)),s=[...r].sort((e,t)=>{const n=new Date(e.updated_at||e.created_at||0).getTime();return new Date(t.updated_at||t.created_at||0).getTime()-n});return(0,Oa.jsxs)("div",{className:"mobile-messenger-list",children:[(0,Oa.jsxs)("div",{className:"mobile-messenger-header",children:[(0,Oa.jsx)("h1",{className:"mobile-messenger-title",children:"Chats"}),(0,Oa.jsxs)("div",{className:"mobile-messenger-actions",children:[(0,Oa.jsx)("button",{className:"mobile-messenger-icon-btn",children:(0,Oa.jsx)(rl,{size:20})}),(0,Oa.jsx)("button",{className:"mobile-messenger-icon-btn",children:(0,Oa.jsx)(vf,{size:20})})]})]}),(0,Oa.jsxs)("div",{className:"mobile-messenger-stories",children:[(0,Oa.jsx)("div",{className:"mobile-messenger-stories-label",children:"PINNED"}),(0,Oa.jsxs)("div",{className:"mobile-messenger-stories-scroll",children:[(0,Oa.jsxs)("div",{className:"mobile-messenger-story",onClick:()=>P(!0),children:[(0,Oa.jsx)("div",{className:"mobile-messenger-story-avatar add",children:(0,Oa.jsx)("div",{className:"mobile-messenger-story-plus",children:"+"})}),(0,Oa.jsx)("div",{className:"mobile-messenger-story-name",children:"Add"})]}),e.slice(0,6).map(e=>{var t,n,r;const a=null===W||void 0===W?void 0:W.some(t=>t.user_id===e.id);return(0,Oa.jsxs)("div",{className:"mobile-messenger-story",onClick:()=>{v(e),he("chat")},children:[(0,Oa.jsx)("div",{className:"mobile-messenger-story-avatar ".concat(a?"has-story":""),children:e.profile_photo||e.profile_photo_url?(0,Oa.jsx)("img",{src:nl(e.profile_photo||e.profile_photo_url),alt:e.name,className:"mobile-messenger-story-img"}):(0,Oa.jsx)("div",{className:"mobile-messenger-story-initials",children:(null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"?"})}),(0,Oa.jsx)("div",{className:"mobile-messenger-story-name",children:null===(r=e.name)||void 0===r?void 0:r.split(" ")[0]})]},e.id)})]})]}),(0,Oa.jsxs)("div",{className:"mobile-messenger-chats",children:[(0,Oa.jsx)("div",{className:"mobile-messenger-section-title",children:"Your Messages"}),0===s.length?(0,Oa.jsx)("div",{className:"mobile-messenger-empty",children:"Keine Unterhaltungen"}):s.map(n=>{var r,s,i,o;const l=a.filter(e=>e.thread_id===n.id),u=l[l.length-1],c=n.unread_count||0,d=e.find(e=>{var t;return"direct"===n.type&&(null===(t=n.members)||void 0===t?void 0:t.some(t=>t.id===e.id||t.user_id===e.id))});return(0,Oa.jsxs)("div",{className:"mobile-messenger-chat-item",onClick:()=>{y(n),he("chat")},children:[(0,Oa.jsxs)("div",{className:"mobile-messenger-chat-avatar",children:[null!==d&&void 0!==d&&d.profile_photo||null!==d&&void 0!==d&&d.profile_photo_url?(0,Oa.jsx)("img",{src:nl(d.profile_photo||d.profile_photo_url),alt:"",className:"mobile-messenger-chat-avatar-img"}):(0,Oa.jsx)("div",{className:"mobile-messenger-chat-avatar-initials",children:(null===(r=n.name)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.toUpperCase())||(null===d||void 0===d||null===(i=d.name)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.toUpperCase())||"?"}),(null===d||void 0===d?void 0:d.online)&&(0,Oa.jsx)("div",{className:"mobile-messenger-chat-online"})]}),(0,Oa.jsxs)("div",{className:"mobile-messenger-chat-content",children:[(0,Oa.jsxs)("div",{className:"mobile-messenger-chat-header",children:[(0,Oa.jsx)("div",{className:"mobile-messenger-chat-name",children:n.name||(null===d||void 0===d?void 0:d.name)||"Unbenannt"}),(0,Oa.jsx)("div",{className:"mobile-messenger-chat-time",children:null!==u&&void 0!==u&&u.created_at?ye(u.created_at):""})]}),(0,Oa.jsxs)("div",{className:"mobile-messenger-chat-message",children:[(null===u||void 0===u?void 0:u.sender_id)===(null===t||void 0===t?void 0:t.id)&&(0,Oa.jsx)(xs,{size:16,className:"mobile-messenger-chat-status"}),(0,Oa.jsx)("div",{className:"mobile-messenger-chat-text",children:(null===u||void 0===u?void 0:u.message)||(null===u||void 0===u?void 0:u.content)||"Keine Nachrichten"}),c>0&&(0,Oa.jsx)("div",{className:"mobile-messenger-chat-unread",children:c})]})]})]},n.id)})]}),(0,Oa.jsxs)("div",{className:"mobile-messenger-bottom-nav",children:[(0,Oa.jsxs)("button",{className:"mobile-messenger-nav-item active",children:[(0,Oa.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Oa.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})}),(0,Oa.jsx)("span",{children:"Chats"})]}),(0,Oa.jsxs)("button",{className:"mobile-messenger-nav-item",children:[(0,Oa.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Oa.jsx)("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"})}),(0,Oa.jsx)("span",{children:"Calls"})]}),(0,Oa.jsxs)("button",{className:"mobile-messenger-nav-item",children:[(0,Oa.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Oa.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),(0,Oa.jsx)("span",{children:"Groups"})]}),(0,Oa.jsxs)("button",{className:"mobile-messenger-nav-item",children:[(0,Oa.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Oa.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),(0,Oa.jsx)("span",{children:"More"})]})]})]})})():(()=>{var e,r,o;const D=s||(null===l||void 0===l?void 0:l.id),v=a.filter(e=>e.thread_id===D||e.conversation_id===D);console.log("MobileMessenger Debug:",{threadId:D,selectedThreadId:s,activeThreadId:null===l||void 0===l?void 0:l.id,totalMessages:a.length,currentMessages:v.length,allMessages:a});const y=i||"direct"===(null===l||void 0===l?void 0:l.type)&&n.find(e=>{var n;return null===(n=l.members)||void 0===n?void 0:n.some(n=>(n.id===e.id||n.user_id===e.id)&&e.id!==(null===t||void 0===t?void 0:t.id))}),N=(null===y||void 0===y?void 0:y.name)||(null===l||void 0===l?void 0:l.name)||"Chat",j=(null===y||void 0===y?void 0:y.online)||!1;return(0,Oa.jsxs)("div",{className:"mobile-messenger-chat",children:[(0,Oa.jsxs)("div",{className:"mobile-messenger-chat-header",children:[(0,Oa.jsx)("button",{className:"mobile-messenger-chat-back",onClick:()=>{he("list"),g(null),b(null)},children:(0,Oa.jsx)(sp,{size:24})}),(0,Oa.jsx)("button",{className:"mobile-messenger-chat-avatar-header",onClick:()=>{null!==y&&void 0!==y&&y.id&&ce("/profile/".concat(y.id))},children:null!==y&&void 0!==y&&y.profile_photo||null!==y&&void 0!==y&&y.profile_photo_url?(0,Oa.jsx)("img",{src:nl(y.profile_photo||y.profile_photo_url),alt:N,className:"mobile-messenger-chat-avatar-img"}):(0,Oa.jsx)("div",{className:"mobile-messenger-chat-avatar-initials",children:(null===N||void 0===N||null===(e=N[0])||void 0===e?void 0:e.toUpperCase())||"?"})}),(0,Oa.jsxs)("div",{className:"mobile-messenger-chat-info",children:[(0,Oa.jsx)("div",{className:"mobile-messenger-chat-name",children:N}),(0,Oa.jsx)("div",{className:"mobile-messenger-chat-status ".concat(j?"online":""),children:"group"===(null===l||void 0===l?void 0:l.type)?"".concat((null===(r=l.members)||void 0===r?void 0:r.length)||0," Mitglieder"):j?"Online":"Offline"})]}),(0,Oa.jsx)("button",{className:"mobile-messenger-chat-search",onClick:()=>ge(!0),children:(0,Oa.jsx)(rl,{size:20})})]}),(0,Oa.jsxs)("div",{className:"mobile-messenger-messages",ref:A,children:[0===v.length?(0,Oa.jsxs)("div",{className:"mobile-messenger-empty-chat",children:[(0,Oa.jsx)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3",children:(0,Oa.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),(0,Oa.jsx)("p",{children:"Keine Nachrichten"}),(0,Oa.jsx)("p",{className:"sub",children:"Beginnen Sie eine neue Unterhaltung"})]}):v.map(e=>{var n,r,a,s;const i=e.sender_id===(null===t||void 0===t?void 0:t.id),o=null===ae||void 0===ae?void 0:ae.some(t=>t.id===e.id);return(0,Oa.jsxs)("div",{className:"mobile-messenger-message ".concat(i?"mine":"other"," ").concat(o?"pinned":""),onTouchStart:t=>q(t,e),onTouchEnd:V,onTouchMove:K,onTouchCancel:Y,onContextMenu:t=>G(t,e),children:[(0,Oa.jsxs)("div",{className:"mobile-messenger-message-bubble",children:[o&&(0,Oa.jsx)("div",{className:"mobile-messenger-message-pinned-badge",children:(0,Oa.jsx)(wg,{size:12})}),(null===(n=e.attachments)||void 0===n?void 0:n.length)>0&&null!==(r=e.attachments[0].type)&&void 0!==r&&r.startsWith("image/")?(0,Oa.jsx)("div",{className:"mobile-messenger-message-image",children:(0,Oa.jsx)("img",{src:nl(e.attachments[0].url),alt:""})}):null,(null===(a=e.attachments)||void 0===a?void 0:a.some(e=>{var t,n;return"audio"===e.type||(null===(t=e.mimeType)||void 0===t?void 0:t.startsWith("audio/"))||(null===(n=e.type)||void 0===n?void 0:n.startsWith("audio/"))}))&&(0,Oa.jsx)("div",{className:"mobile-messenger-message-audio",children:(0,Oa.jsx)(eb,{audioUrl:nl(e.attachments.find(e=>{var t,n;return"audio"===e.type||(null===(t=e.mimeType)||void 0===t?void 0:t.startsWith("audio/"))||(null===(n=e.type)||void 0===n?void 0:n.startsWith("audio/"))}).url),duration:e.audio_duration||(null===(s=e.metadata)||void 0===s?void 0:s.audio_duration)})}),"gif"===e.message_type||e.message&&(e.message.includes("giphy.com")||e.message.includes("tenor.com")||e.message.match(/\.(gif|webp)(\?|$)/i))||e.content&&(e.content.includes("giphy.com")||e.content.includes("tenor.com")||e.content.match(/\.(gif|webp)(\?|$)/i))?(0,Oa.jsx)("img",{src:e.message||e.content,alt:"GIF",loading:"lazy",className:"rounded-xl w-full h-auto max-h-[280px] object-contain"}):null,!e.message&&!e.content||"gif"===e.message_type||e.message&&(e.message.includes("giphy.com")||e.message.includes("tenor.com")||e.message.match(/\.(gif|webp)(\?|$)/i))||e.content&&(e.content.includes("giphy.com")||e.content.includes("tenor.com")||e.content.match(/\.(gif|webp)(\?|$)/i))?null:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("p",{className:"mobile-messenger-message-text",children:e.message||e.content}),(0,Oa.jsx)("div",{className:"mobile-messenger-message-time",children:ye(e.created_at)})]})]}),e.reactions&&Object.keys(e.reactions).length>0&&(0,Oa.jsx)("div",{className:"mobile-messenger-message-reactions",children:Object.entries(e.reactions).map(n=>{let[r,a]=n;const s=Array.isArray(a)?a:"object"===typeof a?Object.values(a).map(e=>e.id||e):[],i=s.includes(null===t||void 0===t?void 0:t.id);return(0,Oa.jsxs)("button",{onClick:()=>Q&&Q(e.id,r),className:"mobile-messenger-reaction-chip ".concat(i?"active":""),children:[(0,Oa.jsx)("span",{className:"mobile-messenger-reaction-chip-emoji",children:r}),(0,Oa.jsx)("span",{className:"mobile-messenger-reaction-chip-count",children:s.length})]},r)})})]},e.id)}),Object.keys(m).length>0&&(0,Oa.jsxs)("div",{className:"mobile-messenger-typing",children:[(0,Oa.jsx)("div",{className:"mobile-messenger-typing-dot"}),(0,Oa.jsx)("div",{className:"mobile-messenger-typing-dot"}),(0,Oa.jsx)("div",{className:"mobile-messenger-typing-dot"})]}),(0,Oa.jsx)("div",{ref:F})]}),(se||oe)&&(0,Oa.jsxs)("div",{className:"mobile-messenger-composer-stack",children:[se&&(0,Oa.jsxs)("div",{className:"mobile-messenger-composer-item",children:[(0,Oa.jsx)("div",{className:"mobile-messenger-composer-icon",children:(0,Oa.jsx)(Cg,{size:18})}),(0,Oa.jsxs)("div",{className:"mobile-messenger-composer-content",children:[(0,Oa.jsxs)("p",{className:"mobile-messenger-composer-label",children:["Antworten auf ",se.sender_name]}),(0,Oa.jsx)("p",{className:"mobile-messenger-composer-text",children:se.message})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>ie(null),className:"mobile-messenger-composer-close",children:(0,Oa.jsx)(vs,{size:18})})]}),oe&&(0,Oa.jsxs)("div",{className:"mobile-messenger-composer-item",children:[(0,Oa.jsx)("div",{className:"mobile-messenger-composer-icon calendar",children:(0,Oa.jsx)(bf,{size:18})}),(0,Oa.jsxs)("div",{className:"mobile-messenger-composer-content",children:[(0,Oa.jsx)("p",{className:"mobile-messenger-composer-label",children:"Termin teilen"}),(0,Oa.jsx)("p",{className:"mobile-messenger-composer-text",children:oe.title})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>le(null),className:"mobile-messenger-composer-close",children:(0,Oa.jsx)(vs,{size:18})})]})]}),(0,Oa.jsxs)("form",{className:"mobile-messenger-input",onSubmit:x,children:[(0,Oa.jsx)("button",{type:"button",className:"mobile-messenger-input-btn",onClick:()=>f(!p),children:(0,Oa.jsx)(vf,{size:20})}),(0,Oa.jsx)("div",{className:"mobile-messenger-input-wrapper",children:(0,Oa.jsx)("textarea",{ref:C,className:"mobile-messenger-input-field",value:u,onChange:w,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x(e))},placeholder:"Message",rows:"1"})}),u.trim()||h.length>0?(0,Oa.jsx)("button",{type:"submit",className:"mobile-messenger-input-btn send",disabled:c,children:(0,Oa.jsx)(Bg,{size:20})}):(0,Oa.jsx)("button",{type:"button",className:"mobile-messenger-input-btn mic",onTouchStart:T,onTouchEnd:R,onMouseDown:T,onMouseUp:R,children:d?(0,Oa.jsx)(_g,{size:20}):(0,Oa.jsx)(Uf,{size:20})})]}),p&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"mobile-messenger-backdrop",onClick:()=>f(!1)}),(0,Oa.jsxs)("div",{className:"mobile-messenger-actions-menu",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{var e;null===(e=E.current)||void 0===e||e.click(),f(!1)},className:"mobile-messenger-action-item",children:[(0,Oa.jsx)(yg,{size:24}),(0,Oa.jsx)("span",{children:"Datei"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{T(),f(!1)},className:"mobile-messenger-action-item",children:[(0,Oa.jsx)(Uf,{size:24}),(0,Oa.jsx)("span",{children:"Audio"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{_(),f(!1)},className:"mobile-messenger-action-item",children:[(0,Oa.jsx)(bf,{size:24}),(0,Oa.jsx)("span",{children:"Termin"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{k(!0),f(!1)},className:"mobile-messenger-action-item",children:[(0,Oa.jsx)(Wf,{size:24}),(0,Oa.jsx)("span",{children:"GIF"})]}),"group"===(null===l||void 0===l?void 0:l.type)&&(null===(o=l.members)||void 0===o?void 0:o.some(e=>8===e.user_id||8===e.id))&&(0,Oa.jsxs)("button",{type:"button",onClick:()=>{I(),f(!1)},className:"mobile-messenger-action-item",children:[(0,Oa.jsx)(Ag,{size:24}),(0,Oa.jsx)("span",{children:"Bot"})]})]})]})]})})()}),N&&(0,Oa.jsx)(zg,{onSelectGif:j,onClose:()=>k(!1)}),$&&"undefined"!==typeof document&&(0,Ee.createPortal)((0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black/30 z-[20000]",onClick:Z,style:{touchAction:"none"}}),(0,Oa.jsx)("div",{className:"fixed bg-white rounded-2xl shadow-2xl overflow-hidden z-[20001]",style:{top:"".concat((null===X||void 0===X?void 0:X.y)||100,"px"),left:"".concat((null===X||void 0===X?void 0:X.x)||100,"px"),transform:"translate(-50%, 0)",minWidth:"200px",maxWidth:"calc(100vw - 40px)"},children:(0,Oa.jsxs)("div",{className:"py-2",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{pe($.id),Z()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(Eg,{className:"w-5 h-5 text-blue-500"}),(0,Oa.jsx)("span",{className:"font-medium",children:"Reagieren"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{ee&&ee($),Z()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(Cg,{className:"w-5 h-5 text-green-500"}),(0,Oa.jsx)("span",{className:"font-medium",children:"Antworten"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{ve($),De(!0),Z()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(Fg,{className:"w-5 h-5 text-purple-500"}),(0,Oa.jsx)("span",{className:"font-medium",children:"Weiterleiten"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{ne&&ne($),Z()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(wg,{className:"w-5 h-5 ".concat(null!==ae&&void 0!==ae&&ae.some(e=>e.id===$.id)?"text-yellow-500":"text-slate-400")}),(0,Oa.jsx)("span",{className:"font-medium",children:null!==ae&&void 0!==ae&&ae.some(e=>e.id===$.id)?"Entfestigen":"Anpinnen"})]}),$.sender_id===(null===t||void 0===t?void 0:t.id)&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"h-px bg-slate-200 my-1"}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{te&&te($.id),Z()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-red-600 hover:bg-red-50 active:bg-red-100 transition-colors",children:[(0,Oa.jsx)(Ds,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"font-medium",children:"L\xf6schen"})]})]})]})})]}),document.body),me&&(0,Ee.createPortal)((0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black/30 z-[20000]",onClick:()=>pe(null)}),(0,Oa.jsx)("div",{className:"fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-white rounded-2xl shadow-2xl p-4 z-[20001]",style:{minWidth:"280px"},children:(0,Oa.jsx)("div",{className:"grid grid-cols-4 gap-4",children:["\u2764\ufe0f","\ud83d\udc4d","\ud83d\ude02","\ud83d\ude2e","\ud83d\ude22","\ud83d\udd25","\ud83d\udc4f","\u2705"].map(e=>(0,Oa.jsx)("button",{onClick:()=>{Q&&Q(me,e),pe(null)},className:"text-4xl hover:scale-125 transition-transform active:scale-110 p-2",children:e},e))})})]}),document.body),S&&(0,Oa.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/80",children:(0,Oa.jsxs)("div",{className:"bg-[#0a0a0a] rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[(0,Oa.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Termin ausw\xe4hlen"}),(0,Oa.jsx)("button",{onClick:()=>B(!1),className:"text-white/70 hover:text-white",children:(0,Oa.jsx)(vs,{size:24})})]}),(0,Oa.jsx)("div",{className:"overflow-y-auto max-h-[60vh] p-4",children:M&&M.length>0?M.map(e=>(0,Oa.jsxs)("button",{onClick:()=>{O(e),B(!1)},className:"w-full p-3 mb-2 bg-white/5 hover:bg-white/10 rounded-lg text-left transition",children:[(0,Oa.jsx)("div",{className:"font-medium text-white",children:e.title}),(0,Oa.jsx)("div",{className:"text-sm text-white/60 mt-1",children:Zp(new Date(e.start),"dd.MM.yyyy HH:mm")})]},e.id)):(0,Oa.jsx)("p",{className:"text-white/60 text-center py-8",children:"Keine Termine verf\xfcgbar"})})]})}),L&&(0,Oa.jsx)(qg,{userId:null===t||void 0===t?void 0:t.id,onClose:()=>P(!1),onSuccess:z,showSuccess:Tg,showError:Rg}),(0,Oa.jsx)("input",{type:"file",ref:E,onChange:H,style:{display:"none"},multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),fe&&(0,Oa.jsx)(Wg,{onClose:()=>ge(!1),onMessageSelect:e=>{ue(e),ge(!1)},contacts:n,threads:r,currentConversationId:s,currentUserId:null===t||void 0===t?void 0:t.id}),be&&xe&&(0,Oa.jsx)(Zg,{message:xe,onClose:()=>{De(!1),ve(null)},onSuccess:()=>{De(!1),ve(null),Tg("Nachricht erfolgreich weitergeleitet")}})]}):(0,Oa.jsx)("div",{className:"messenger-mobile-container mobile-messenger-container",children:(0,Oa.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#ffffff",flexDirection:"column",gap:"16px",backgroundColor:"#000000"},children:[(0,Oa.jsx)("div",{style:{fontSize:"48px"},children:"\ud83d\udcf1"}),(0,Oa.jsx)("div",{style:{fontSize:"18px",fontWeight:600},children:"Loading..."}),(0,Oa.jsxs)("div",{style:{fontSize:"14px",color:"#999"},children:["User: ",t?"\u2713":"\u2717"," | Contacts: ",(null===n||void 0===n?void 0:n.length)||0," | Threads: ",(null===r||void 0===r?void 0:r.length)||0]})]})})},nb=["general chat","general","allgemein","allgemeiner chat","teamchat"],rb=[8,999999],ab=e=>"group"===(null===e||void 0===e?void 0:e.type)&&nb.some(t=>((null===e||void 0===e?void 0:e.name)||"").toLowerCase().includes(t)),sb=e=>{if(!e)return!1;const t=(e.name||"").toLowerCase(),n=(e.email||"").toLowerCase();return Boolean(e.is_bot||rb.includes(e.id)||t.includes("bot")||n.includes("bot"))},ib=e=>{const t=Number(e);return!Number.isNaN(t)&&Number.isFinite(t)?t:e},ob=(e,t)=>ib(e)===ib(t),lb=function(){var e,t,n,r,a,s,i,o,l,u,c,d,h,m,p,f;let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:g.id,userId:null!==(e=g.user_id)&&void 0!==e?e:g.userId,userName:null!==(t=null!==(n=g.user_name)&&void 0!==n?n:g.userName)&&void 0!==t?t:g.name,mediaUrl:null!==(r=g.media_url)&&void 0!==r?r:g.mediaUrl,mediaType:null!==(a=g.media_type)&&void 0!==a?a:g.mediaType,caption:null!==(s=g.caption)&&void 0!==s?s:"",createdAt:null!==(i=g.created_at)&&void 0!==i?i:g.createdAt,updatedAt:null!==(o=null!==(l=g.updated_at)&&void 0!==l?l:g.updatedAt)&&void 0!==o?o:g.created_at,expiresAt:null!==(u=g.expires_at)&&void 0!==u?u:g.expiresAt,viewCount:Number(null!==(c=null!==(d=g.view_count)&&void 0!==d?d:g.viewCount)&&void 0!==c?c:0),viewerHasSeen:Boolean(null!==(h=null!==(m=g.viewed_by_me)&&void 0!==m?m:g.viewerHasSeen)&&void 0!==h&&h),profilePhoto:null!==(p=null!==(f=g.profile_photo_url)&&void 0!==f?f:g.profilePhotoUrl)&&void 0!==p?p:g.profilePhoto}},ub=()=>{var e,t,n;const r=re(),a=te(),{user:s}=Pa(),{isConnected:i,onConversationEvent:l,joinConversationRoom:u,onlineUsers:c}=Oo(),{isMobile:d}=ii(),[h,m]=(0,o.useState)([]),[p,f]=(0,o.useState)([]),[g,b]=(0,o.useState)([]),[D,x]=(0,o.useState)(!0),[v,y]=(0,o.useState)(null),[w,E]=(0,o.useState)(null),[C,F]=(0,o.useState)(null),[A,k]=(0,o.useState)([]),[N,j]=(0,o.useState)(""),[_,S]=(0,o.useState)(""),[B,M]=(0,o.useState)(!0),[O,T]=(0,o.useState)("list"),[R,I]=(0,o.useState)(!0),[P,L]=(0,o.useState)(!1),[z,U]=(0,o.useState)(!1),[W,H]=(0,o.useState)([]),[q,V]=(0,o.useState)([]),[K,Y]=(0,o.useState)(!1),[G,$]=(0,o.useState)(0),[Z,X]=(0,o.useState)(!1),[Q,J]=(0,o.useState)([]),[ee,ne]=(0,o.useState)(!1),[ae,se]=(0,o.useState)(""),[ie,oe]=(0,o.useState)(null),[le,ue]=(0,o.useState)(null),[ce,de]=(0,o.useState)([]),[he,me]=(0,o.useState)(null),[pe,fe]=(0,o.useState)(null),[ge,be]=(0,o.useState)(!1),[De,xe]=(0,o.useState)(null),[ve,ye]=(0,o.useState)(!1),[we,Ce]=(0,o.useState)(!1),[Fe,Ae]=(0,o.useState)(!1),[ke,Ne]=(0,o.useState)(!1),[je,_e]=(0,o.useState)(null),[Se,Be]=(0,o.useState)(!1),[Me,Oe]=(0,o.useState)([]),[Te,Re]=(0,o.useState)([]),[Ie,Pe]=(0,o.useState)(!1),[Le,ze]=(0,o.useState)(""),[Ue,We]=(0,o.useState)(0),[He,Ve]=(0,o.useState)({}),[Ke,Ye]=(0,o.useState)(!1),[Ge,$e]=(0,o.useState)(!1),[Ze,Xe]=(0,o.useState)([]),[Qe,Je]=(0,o.useState)(!1),[et,tt]=(0,o.useState)(!1),[nt,rt]=(0,o.useState)(null),[at,st]=(0,o.useState)({x:0,y:0}),[it,ot]=(0,o.useState)(!1),[lt,ut]=(0,o.useState)(!1),[ct,dt]=(0,o.useState)(0),[ht,mt]=(0,o.useState)(!1),[pt,ft]=(0,o.useState)(""),[gt,bt]=(0,o.useState)(""),[Dt,xt]=(0,o.useState)([]),[vt,yt]=(0,o.useState)(""),[wt,Et]=(0,o.useState)(!0),[Ct,Ft]=(0,o.useState)(!1),[At,kt]=(0,o.useState)(""),[Nt,jt]=(0,o.useState)(""),[_t,Bt]=(0,o.useState)(!1),[Mt,Ot]=(0,o.useState)(!1),[Tt,Rt]=(0,o.useState)(""),[It,Pt]=(0,o.useState)([]),[Lt,zt]=(0,o.useState)(!1),Ut=(0,o.useMemo)(()=>{const e={};return h.forEach(t=>{null!==t&&void 0!==t&&t.id&&(e[t.id]=t.name||t.email||"User ".concat(t.id))}),Me.forEach(t=>{var n;const r=null!==(n=null===t||void 0===t?void 0:t.user_id)&&void 0!==n?n:null===t||void 0===t?void 0:t.id;r&&(e[r]=(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.user_name)||(null===t||void 0===t?void 0:t.email)||e[r])}),null!==s&&void 0!==s&&s.id&&(e[s.id]=s.name||e[s.id]),e},[h,Me,s]),Wt=(0,o.useCallback)(e=>Array.isArray(e)?e.filter(Boolean):[],[]),Ht=(0,o.useCallback)(e=>{const t=Array.isArray(e)?e:[],n=new Map;return t.forEach(e=>{Array.isArray(null===e||void 0===e?void 0:e.members)&&e.members.forEach(e=>{const t=ib((null===e||void 0===e?void 0:e.user_id)||(null===e||void 0===e?void 0:e.id));t&&!n.has(t)&&t!==(null===s||void 0===s?void 0:s.id)&&n.set(t,{id:t,name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)||"Benutzer ".concat(t),email:(null===e||void 0===e?void 0:e.email)||"",is_bot:(null===e||void 0===e?void 0:e.is_system_user)||sb(e),online:(null===e||void 0===e?void 0:e.online)||!1})})}),Array.from(n.values())},[null===s||void 0===s?void 0:s.id]),qt=(0,o.useCallback)((e,t)=>{const n=Array.isArray(e)?e.filter(Boolean):[],r=Array.isArray(t)?t.filter(Boolean):[],a=new Map;n.forEach(e=>{null!==e&&void 0!==e&&e.id&&a.set(e.id,e)}),r.forEach(e=>{null!==e&&void 0!==e&&e.id&&(a.has(e.id)||a.set(e.id,e))});return Wt(Array.from(a.values()))},[Wt]),Vt=(0,o.useCallback)(async(e,t)=>{const n=Array.isArray(e)?e:[],r=Array.isArray(t)?t.filter(Boolean):[];let a=[...n];if(!a.some(e=>ab(e)))try{const e=await Ro(),t=(Array.isArray(null===e||void 0===e?void 0:e.data)?e.data:[]).map(e=>null===e||void 0===e?void 0:e.id).filter(e=>Boolean(e)&&e!==(null===s||void 0===s?void 0:s.id));null!==s&&void 0!==s&&s.id&&t.push(s.id),console.log("Creating General Chat with all users:",t);const n=await Uo({name:"Allgemeiner Chat",type:"group",description:"Offener Chat f\xfcr das gesamte Team",memberIds:t});null!==n&&void 0!==n&&n.data&&(a=[kn(n.data),...a])}catch(i){console.error("Error ensuring General Chat exists:",i)}if(!a.some(e=>(null===e||void 0===e?void 0:e.is_bot)||"direct"===(null===e||void 0===e?void 0:e.type)&&((null===e||void 0===e?void 0:e.name)||"").toLowerCase().includes("bot"))){const e=r.find(e=>sb(e));if(null!==e&&void 0!==e&&e.id)try{const t=await Uo({name:e.name||"BL_Bot",type:"direct",memberIds:[e.id],is_bot:!0});null!==t&&void 0!==t&&t.data&&(a=[kn(t.data),...a])}catch(i){console.error("Error ensuring bot thread exists:",i)}}return a},[]),Kt=(0,o.useCallback)(e=>{if(!Array.isArray(e)||0===e.length)return null;const t=e.find(e=>ab(e));return t||e[0]},[]),Yt=(0,o.useRef)(null),Gt=(0,o.useRef)(null),$t=(0,o.useRef)(null),Zt=(0,o.useRef)(null),Xt=(0,o.useRef)(null),Qt=(0,o.useRef)({x:0,y:0}),Jt=(0,o.useRef)(null),en=(0,o.useRef)(!1),tn=(0,o.useRef)(null),nn=(0,o.useRef)(null),rn=(0,o.useRef)(null),an=(0,o.useRef)([]),sn=(0,o.useRef)(null),on=(0,o.useRef)(null),ln=(0,o.useRef)(!1),un=(0,o.useRef)(!1),cn=(0,o.useRef)({}),dn=(0,o.useRef)({}),hn=(0,o.useRef)({}),mn=(0,o.useRef)(null),pn=(0,o.useRef)(null),fn=(0,o.useRef)(!0),gn=(0,o.useRef)(null),bn=e=>{const t=Number.isFinite(e)?Math.max(0,Math.round(e)):0,n=Math.floor(t/60),r=String(t%60).padStart(2,"0");return"".concat(n,":").concat(r)},Dn=(e,t)=>"".concat(e.name,"-").concat(e.size,"-").concat(e.lastModified,"-").concat(t,"-").concat(Date.now()),xn=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.map(e=>{if(e&&"object"===typeof e){var t,n,r,a,s,i;const o=null!==(t=null!==(n=e.user_id)&&void 0!==n?n:e.id)&&void 0!==t?t:e.userId,l="string"===typeof o&&Number.isFinite(Number(o))?Number(o):o;return l?{id:l,name:null!==(r=null!==(a=e.user_name)&&void 0!==a?a:e.name)&&void 0!==r?r:Ut[l],photo:null!==(s=null!==(i=e.user_photo)&&void 0!==i?i:e.profile_photo)&&void 0!==s?s:e.photo}:null}if(Number.isInteger(e)||"string"===typeof e){const t=Number(e);return Number.isNaN(t)?null:{id:t,name:Ut[t]}}return null}).filter(Boolean):[]},[Ut]),vn=(0,o.useCallback)(e=>{const t={};return Array.isArray(e)?e.forEach(e=>{var n,r,a;if(null===e||void 0===e||!e.emoji)return;const s=null!==(n=null!==(r=null!==(a=e.users)&&void 0!==a?a:e.user_ids)&&void 0!==r?r:e.userIds)&&void 0!==n?n:[];t[e.emoji]=xn(s)}):e&&"object"===typeof e&&Object.entries(e).forEach(e=>{let[n,r]=e;t[n]=xn(r)}),t},[xn]),yn=(0,o.useCallback)((e,t)=>{V(n=>n.map(n=>n.id===e?qe(qe({},n),t):n))},[]),wn=(0,o.useCallback)(e=>{V(t=>t.filter(t=>t.id!==e))},[]),En=(0,o.useCallback)(e=>{cn.current[e]&&clearTimeout(cn.current[e]),cn.current[e]=setTimeout(()=>{wn(e),delete cn.current[e]},1400)},[wn]);(0,o.useEffect)(()=>{if(!K)return $(0),void(on.current=null);const e=Date.now();on.current=e,$(0);const t=setInterval(()=>{$(Math.round((Date.now()-e)/1e3))},500);return()=>clearInterval(t)},[K]),(0,o.useEffect)(()=>()=>{Object.values(cn.current||{}).forEach(e=>{clearTimeout(e)})},[]),(0,o.useEffect)(()=>()=>{var e;try{rn.current&&"inactive"!==rn.current.state&&rn.current.stop()}catch(t){console.warn("Failed to stop recorder on unmount",t)}null===(e=sn.current)||void 0===e||e.getTracks().forEach(e=>e.stop()),sn.current=null,ln.current=!1},[]);const Cn=(0,o.useCallback)(e=>{if(!e)return e;let t=[];if(Array.isArray(e.attachments))t=e.attachments;else if("string"===typeof e.attachments)try{const n=JSON.parse(e.attachments);t=Array.isArray(n)?n:[]}catch(s){t=[]}let n=[];if(Array.isArray(e.calendar_refs))n=e.calendar_refs;else if(e.calendar_refs&&"string"===typeof e.calendar_refs)try{const t=JSON.parse(e.calendar_refs);n=Array.isArray(t)?t:[]}catch(s){n=[]}let r={};if(e.metadata)if("string"===typeof e.metadata)try{r=JSON.parse(e.metadata)||{}}catch(s){r={}}else"object"===typeof e.metadata&&(r=qe({},e.metadata));const a=vn(e.reactions);return qe(qe({},e),{},{attachments:t,calendar_refs:n,metadata:r,reactions:a})},[vn]),Fn=(0,o.useCallback)(e=>{var t,n;return e?qe(qe({},e),{},{online:Boolean(null!==(t=null!==(n=e.online)&&void 0!==n?n:e.is_online)&&void 0!==t&&t),is_bot:Boolean(e.is_bot||e.is_system_user||sb(e))}):e},[]),An=(0,o.useCallback)(e=>{var t,n,r,a,s,i,o,l,u,c,d,h;if(!e)return null;const m=null!==(t=null!==(n=null!==(r=e.content)&&void 0!==r?r:e.message)&&void 0!==n?n:e.text)&&void 0!==t?t:"",p=null!==(a=null!==(s=null!==(i=e.createdAt)&&void 0!==i?i:e.created_at)&&void 0!==s?s:e.createdAt)&&void 0!==a?a:e.created_at,f=null!==(o=null!==(l=null!==(u=e.messageType)&&void 0!==u?u:e.message_type)&&void 0!==l?l:e.type)&&void 0!==o?o:"text",g=null!==(c=null!==(d=null!==(h=e.senderId)&&void 0!==h?h:e.sender_id)&&void 0!==d?d:e.senderId)&&void 0!==c?c:e.sender_id;return qe(qe({},e),{},{content:m,createdAt:p,messageType:f,senderId:g})},[]),kn=(0,o.useCallback)(e=>{var t,n,r,a;return e?qe(qe({},e),{},{type:e.type||e.conversation_type,unreadCount:Number(null!==(t=null!==(n=e.unreadCount)&&void 0!==n?n:e.unread_count)&&void 0!==t?t:0),participantCount:Number(null!==(r=null!==(a=e.participantCount)&&void 0!==a?a:e.participant_count)&&void 0!==r?r:0),members:Array.isArray(e.members)?e.members:Array.isArray(e.member_snapshot)?e.member_snapshot:[],lastMessage:An(e.lastMessage)}):e},[An]),Nn=(0,o.useCallback)(e=>{const t=null===e||void 0===e?void 0:e.lastMessage;return(null===t||void 0===t?void 0:t.createdAt)||(null===t||void 0===t?void 0:t.created_at)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.updated_at)||null},[]),jn=(e,t)=>{const n=e?new Date(e):null,r=t?new Date(t):null;if(!n||Number.isNaN(n.getTime()))return"Unbekannter Zeitraum";const a=Zp(n,"dd.MM.yyyy HH:mm",{locale:si});if(!r||Number.isNaN(r.getTime()))return a;return Zp(n,"dd.MM.yyyy",{locale:si})===Zp(r,"dd.MM.yyyy",{locale:si})?"".concat(a," \u2013 ").concat(Zp(r,"HH:mm",{locale:si})):"".concat(a," \u2013 ").concat(Zp(r,"dd.MM.yyyy HH:mm",{locale:si}))};(0,o.useEffect)(()=>{(async()=>{try{var e,t,n;I(!0),x(!0),console.log("\ud83d\udd0d [DirectMessenger] Starting to load contacts, threads, and stories...");const[r,a,i]=await Promise.all([Ro().catch(e=>(console.error("\u274c Error loading contacts:",e),{data:{contacts:[]}})),To.get("/messages/threads").catch(e=>(console.error("\u274c Error loading threads:",e),{data:[]})),Po().catch(e=>(console.error("\u274c Error loading stories:",e),{data:{stories:[]}}))]),o=Array.isArray(null===r||void 0===r?void 0:r.data)?r.data:Array.isArray(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.contacts)?r.data.contacts:Array.isArray(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.data)?r.data.data:[],l=o.map(Fn).filter(e=>e.id!==(null===s||void 0===s?void 0:s.id)),u=Wt(l),c=(Array.isArray(null===a||void 0===a?void 0:a.data)?a.data:[]).map(kn),d=(await Vt(c,u)).map(kn),h=Ht(d).map(Fn),p=qt(u,h).map(Fn).filter(e=>e.id!==(null===s||void 0===s?void 0:s.id));m(p),f(d);const g=Array.isArray(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.stories)?i.data.stories:Array.isArray(null===i||void 0===i?void 0:i.data)?i.data:[];b(g.map(lb))}catch(r){console.error("\u274c Error loading data:",r),Rg("Fehler beim Laden der Daten"),m([]),f([]),b([])}finally{I(!1),x(!1)}})()},[Ht,Wt,Vt,qt,Fn,kn]),(0,o.useEffect)(()=>{M(!d)},[d]),(0,o.useEffect)(()=>(document.body.classList.add("messenger-page"),()=>{document.body.classList.remove("messenger-page")}),[]),(0,o.useEffect)(()=>{a.pathname.includes("/messages")&&(d&&T("list"),M(!d))},[d,a.pathname]),(0,o.useEffect)(()=>{const e=Ht(p).map(Fn),t=qt(h,e).map(Fn).filter(e=>e.id!==(null===s||void 0===s?void 0:s.id)),n=new Set(h.map(e=>e.id)),r=new Set(t.map(e=>e.id));(n.size!==r.size||Array.from(r).some(e=>!n.has(e)))&&m(t)},[Ht,h,qt,Fn,p,null===s||void 0===s?void 0:s.id]),(0,o.useEffect)(()=>{if(!c||0===c.length)return;const e=new Set(c.map(e=>e.userId)),t=new Map(c.map(e=>[e.userId,e]));m(n=>n.map(n=>{const r=e.has(n.id),a=t.get(n.id);return qe(qe({},n),{},{online:r,last_seen_at:(null===a||void 0===a?void 0:a.lastSeen)||n.last_seen_at})}))},[c]),(0,o.useEffect)(()=>{oe(null)},[C]),(0,o.useEffect)(()=>{dt(0),ut(!1)},[C]),(0,o.useEffect)(()=>{(async()=>{var e;if(C)try{const t=await(e=C,To.get("/messages/conversations/".concat(e,"/pins")));de(t.data||[])}catch(t){console.error("Error loading pinned messages:",t),de([])}else de([])})()},[C]),(0,o.useEffect)(()=>{var e;if(null!==(e=a.state)&&void 0!==e&&e.shareEvent){const e=a.state.shareEvent;xe(e),be(!0),r(a.pathname,{replace:!0,state:{}})}},[a.state,a.pathname,r]),(0,o.useEffect)(()=>{var e;fn.current&&(null===(e=mn.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))},[A]);const _n=(0,o.useCallback)(e=>{e&&f(t=>t.map(t=>ob(t.id,e)?qe(qe({},t),{},{unreadCount:0}):t))},[]),Sn=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!C)return;const t=String(C),n=Date.now(),r=dn.current[t]||0;if(!e&&n-r<1200){if(!hn.current[t]){const e=Math.max(1200-(n-r),300);hn.current[t]=setTimeout(()=>{delete hn.current[t],dn.current[t]=Date.now(),Yo(C).then(()=>_n(C)).catch(e=>{console.error("\u274c Failed to mark conversation as read:",e)})},e)}}else{hn.current[t]&&(clearTimeout(hn.current[t]),delete hn.current[t]),dn.current[t]=n;try{await Yo(C),_n(C)}catch(BM){console.error("\u274c Failed to mark conversation as read:",BM)}}},[_n,Yo,C]),Bn=(0,o.useCallback)(()=>{var e;fn.current=!0,null===(e=mn.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),ut(!1),dt(0),Sn(!0)},[Sn]);(0,o.useEffect)(()=>()=>{Object.values(hn.current).forEach(e=>{e&&clearTimeout(e)}),hn.current={}},[]),(0,o.useEffect)(()=>{if(!C||!fn.current)return;const e=pn.current;if(!e)return;e.scrollHeight-e.scrollTop-e.clientHeight<120&&Sn()},[A,Sn,C]),(0,o.useEffect)(()=>{const e=pn.current;if(!e)return;const t=()=>{const{scrollTop:t,scrollHeight:n,clientHeight:r}=e,a=n-t-r<120;fn.current=a,ut(!a),a&&(dt(0),Sn())};return t(),e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[d,Sn,C]),(0,o.useEffect)(()=>{if(!C||!i)return;u(C);const e=l("new_message",e=>{var t,n,r;if(null===e||void 0===e||!e.conversationId||null===e||void 0===e||!e.message)return;const a=Cn(e.message),i=An(a),o=ob(e.conversationId,C),l=null!==(t=null!==(n=a.sender_id)&&void 0!==n?n:a.senderId)&&void 0!==t?t:null===(r=a.sender)||void 0===r?void 0:r.id,u=ib(l)===ib(null===s||void 0===s?void 0:s.id),c=o?pn.current:null,d=c?c.scrollHeight-c.scrollTop-c.clientHeight:0,h=!!o&&d<120;o&&(fn.current=h),f(t=>t.map(t=>ob(t.id,e.conversationId)?qe(qe({},t),{},{lastMessage:i,unreadCount:(()=>{const e=t.unreadCount||0;return o&&h?0:u?e:e+1})()}):t)),o&&(k(e=>Array.isArray(e)&&e.some(e=>(null===e||void 0===e?void 0:e.id)===a.id)?e:Array.isArray(e)?[...e,a]:[a]),h?requestAnimationFrame(()=>{Bn()}):(ut(!0),u||dt(e=>e+1)))}),t=l("message:reaction",e=>{ob(null===e||void 0===e?void 0:e.conversationId,C)&&null!==e&&void 0!==e&&e.messageId&&k(t=>Array.isArray(t)?t.map(t=>{if((null===t||void 0===t?void 0:t.id)===e.messageId){const n=vn(e.reactions);return qe(qe({},t),{},{reactions:n})}return t}):t)}),n=l("message:pin",e=>{if(ob(null===e||void 0===e?void 0:e.conversationId,C)&&null!==e&&void 0!==e&&e.message){var t;const n=null===(t=e.isPinned)||void 0===t||t;de(n?t=>{const n=t.some(t=>t.id===e.message.id);return n?t:[...t,Cn(e.message)]}:t=>t.filter(t=>t.id!==e.message.id))}}),r=l("typing:start",e=>{ob(null===e||void 0===e?void 0:e.conversationId,C)&&null!==e&&void 0!==e&&e.userId&&e.userId!==(null===s||void 0===s?void 0:s.id)&&(Ve(t=>qe(qe({},t),{},{[e.userId]:{name:e.userName||"Benutzer",timestamp:Date.now()}})),setTimeout(()=>{Ve(t=>{const n=qe({},t);return delete n[e.userId],n})},3e3))}),a=l("typing:stop",e=>{ob(null===e||void 0===e?void 0:e.conversationId,C)&&null!==e&&void 0!==e&&e.userId&&Ve(t=>{const n=qe({},t);return delete n[e.userId],n})}),o=l("message:read",e=>{var t;const n=null!==(t=null===e||void 0===e?void 0:e.conversationId)&&void 0!==t?t:null===e||void 0===e?void 0:e.conversation_id;if(!n)return;const r=ib(n);f(e=>e.map(e=>ib(e.id)===r?qe(qe({},e),{},{unreadCount:0}):e))}),c=l("conversation:members_updated",e=>{null!==e&&void 0!==e&&e.conversationId&&(ob(e.conversationId,C)&&Array.isArray(e.members)&&Oe(e.members),f(t=>t.map(t=>ob(t.id,e.conversationId)?qe(qe({},t),{},{members:Array.isArray(e.members)?e.members:t.members,participantCount:Array.isArray(e.members)?Math.max(e.members.length-1,0):t.participantCount}):t)))}),d=l("conversation:created",e=>{var t;if(null===e||void 0===e||null===(t=e.conversation)||void 0===t||!t.id)return;const n=kn(qe(qe({},e.conversation),{},{members:Array.isArray(e.members)?e.members:[]}));f(e=>e.some(e=>e.id===n.id)?e:[n,...e])}),h=l("conversation:updated",e=>{if(null===e||void 0===e||!e.conversationId)return;const t=e.conversation||{};f(n=>n.map(n=>{var r,a,s;return ob(n.id,e.conversationId)?qe(qe({},n),{},{name:null!==(r=t.name)&&void 0!==r?r:n.name,description:null!==(a=t.description)&&void 0!==a?a:n.description,updatedAt:null!==(s=t.updatedAt)&&void 0!==s?s:n.updatedAt}):n})),ob(e.conversationId,C)&&Array.isArray(e.members)&&Oe(e.members)}),m=l("conversation:removed",e=>{null!==e&&void 0!==e&&e.conversationId&&(f(t=>t.filter(t=>!ob(t.id,e.conversationId))),ob(e.conversationId,C)&&(F(null),E(null),k([]),T("list")))});return()=>{e(),t(),n(),r(),a(),o(),c(),d(),h(),m()}},[i,u,Sn,Cn,vn,kn,An,l,Bn,C,s]),(0,o.useEffect)(()=>{Se||(Pt([]),Rt(""))},[Se]),(0,o.useEffect)(()=>{if(!d||"chat"!==O)return;const e=()=>{const e=Gt.current;if(!e)return;const{height:t}=e.getBoundingClientRect();document.documentElement.style.setProperty("--messenger-input-height","".concat(Math.ceil(t),"px"))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[d,O,Ke,Lt]),(0,o.useEffect)(()=>{d?!C&&!w||Lt||requestAnimationFrame(()=>{var e;null===(e=$t.current)||void 0===e||e.focus()}):(C||w)&&requestAnimationFrame(()=>{var e;null===(e=Zt.current)||void 0===e||e.focus({preventScroll:!0})})},[d,C,w,Lt]),(0,o.useEffect)(()=>{var e;d&&Lt&&(null===(e=$t.current)||void 0===e||e.blur())},[d,Lt]);const Mn=(0,o.useCallback)(async e=>{if(e)try{const t=await Ho(e),n=Array.isArray(null===t||void 0===t?void 0:t.data)?t.data:[];fn.current=!0,k(n.map(e=>Cn(e)))}catch(t){console.error("Error loading messages:",t),Rg("Fehler beim Laden der Nachrichten"),k([])}else console.warn("loadMessages called without threadId")},[Cn]),On=(0,o.useCallback)(async e=>{var t;if(e)try{const n=await(t=e,To.get("/messages/conversations/".concat(t))),r=null===n||void 0===n?void 0:n.data;null!==r&&void 0!==r&&r.members&&Array.isArray(r.members)?Oe(r.members):Oe([]),void 0!==(null===r||void 0===r?void 0:r.name)&&kt(r.name||""),void 0!==(null===r||void 0===r?void 0:r.description)&&jt(r.description||"")}catch(n){console.error("Error loading group details:",n)}},[]),Tn=(0,o.useCallback)(async e=>{if(e){console.log("[handleThreadSelect] Selecting thread:",e.id,e.name),F(e.id),E(null),T("chat"),u&&u(e.id);try{var t;const n=await Ho(e.id);if(console.log("[handleThreadSelect] Messages loaded:",null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.length),null!==n&&void 0!==n&&n.data&&Array.isArray(n.data)){const t=n.data.map(Cn).filter(Boolean);k(t),console.log("[handleThreadSelect] Set messages:",t.length),await Yo(e.id)}}catch(n){console.error("[handleThreadSelect] Error loading messages:",n),k([])}setTimeout(()=>{var e;null===(e=mn.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)}},[Cn,u,Yo]),Rn=(0,o.useCallback)(async e=>{if(console.log("[DirectMessenger] ===== handleContactClick START ====="),console.log("[DirectMessenger] Contact:",e),console.log("[DirectMessenger] Threads length:",null===p||void 0===p?void 0:p.length),null===e||void 0===e||!e.id)return console.error("[DirectMessenger] ERROR: No contact ID"),void Rg("Kontakt nicht gefunden");try{console.log("[DirectMessenger] Setting selected contact..."),E(e),console.log("[DirectMessenger] Searching for existing thread...");const n=Array.isArray(p)?p.find(t=>"direct"===(null===t||void 0===t?void 0:t.type)&&Array.isArray(t.members)&&t.members.some(t=>ib(null===t||void 0===t?void 0:t.user_id)===ib(e.id))):null;if(console.log("[DirectMessenger] Existing thread:",n),null!==n&&void 0!==n&&n.id)console.log("[DirectMessenger] Using existing thread:",n.id),F(n.id),await Mn(n.id),ut(!1);else{var t;console.log("[DirectMessenger] Creating new thread...");const n=await Uo({name:e.name||"Unbekannt",type:"direct",memberIds:[ib(e.id)]});if(console.log("[DirectMessenger] Create thread response:",n),null===n||void 0===n||null===(t=n.data)||void 0===t||!t.id)throw new Error("Ung\xfcltige Antwort vom Server");{console.log("[DirectMessenger] Thread created successfully:",n.data.id);const e=kn(n.data);F(e.id),k([]),f(t=>Array.isArray(t)?[...t,e]:[e]);try{await Yo(e.id),_n(e.id)}catch(BM){console.error("\u274c Failed to mark new thread as read:",BM)}}}console.log("[DirectMessenger] Mobile check:",d),d&&T("chat"),console.log("[DirectMessenger] ===== handleContactClick SUCCESS =====")}catch(a){var n,r;console.error("[DirectMessenger] ===== handleContactClick ERROR ====="),console.error("[DirectMessenger] Error object:",a),console.error("[DirectMessenger] Error message:",null===a||void 0===a?void 0:a.message),console.error("[DirectMessenger] Error stack:",null===a||void 0===a?void 0:a.stack);const e=(null===a||void 0===a||null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||(null===a||void 0===a?void 0:a.message)||"Unbekannter Fehler";Rg("Chat konnte nicht ge\xf6ffnet werden: "+e)}},[_n,d,Mn,Yo,kn,p]),In=(0,o.useCallback)(async e=>{if(null!==e&&void 0!==e&&e.id)try{E(null),F(e.id),u&&u(e.id),await Mn(e.id),ut(!1),d&&T("chat")}catch(t){console.error("Error opening group chat:",t),Rg("Gruppenchat konnte nicht geladen werden: "+((null===t||void 0===t?void 0:t.message)||"Unbekannter Fehler"))}else Rg("Gruppenchat nicht gefunden")},[_n,d,u,Mn,Yo]);(0,o.useEffect)(()=>{if(d)return;if(it)return;if(!Array.isArray(p)||0===p.length)return;if(C||w)return;const e=Kt(p);if(!e)return;if(ot(!0),"group"===e.type)return void In(e);const t=Array.isArray(e.members)&&e.members.find(e=>(null===e||void 0===e?void 0:e.user_id)&&e.user_id!==(null===s||void 0===s?void 0:s.id)),n=t&&h.find(e=>e.id===t.user_id)||h.find(e=>sb(e));n?Rn(n):e.id&&(F(e.id),Mn(e.id))},[it,h,Rn,In,Mn,Kt,w,C,p,null===s||void 0===s?void 0:s.id]),(0,o.useEffect)(()=>{if(!C)return;const e=setTimeout(async()=>{try{await Yo(C),_n(C),console.log("\u2705 Auto-marked conversation as read after 3s:",C)}catch(BM){console.error("\u274c Failed to auto-mark as read:",BM)}},3e3);return()=>clearTimeout(e)},[C,Yo,_n]),(0,o.useEffect)(()=>{const e=p.find(e=>ob(e.id,C));"group"===(null===e||void 0===e?void 0:e.type)&&C?On(C):(Oe([]),kt(""),jt("")),Pt([]),Rt("")},[On,C,p]),(0,o.useEffect)(()=>{var e;if(ln.current&&"inactive"!==(null===(e=rn.current)||void 0===e?void 0:e.state))try{rn.current.stop()}catch(t){console.warn("Failed to stop recording on thread change",t)}ln.current=!1,un.current=!1,Y(!1),zt(!1)},[C,w]);const Pn=e=>{const t=e.target.value,n=e.target.selectionStart;if(Lt&&zt(!1),$t.current&&d){const e=$t.current;e.style.height="auto";const t=20,n=80,r=e.scrollHeight;e.style.height="".concat(Math.max(t,Math.min(n,r)),"px"),e.style.overflowY=r>n?"auto":"hidden"}j(t),We(n),t.trim()&&C&&i?(window.socket&&window.socket.emit("typing:start",{conversationId:C,userId:null===s||void 0===s?void 0:s.id,userName:null===s||void 0===s?void 0:s.name}),gn.current&&clearTimeout(gn.current),gn.current=setTimeout(()=>{window.socket&&C&&window.socket.emit("typing:stop",{conversationId:C,userId:null===s||void 0===s?void 0:s.id})},3e3)):!t.trim()&&window.socket&&C&&window.socket.emit("typing:stop",{conversationId:C,userId:null===s||void 0===s?void 0:s.id});const r=t.substring(0,n),a=r.lastIndexOf("@");if(-1!==a){const e=r.substring(a+1);if(e.includes(" ")||e.includes("}"))Pe(!1);else{const t=e.replace(/^\{/,"").toLowerCase();if(ze(t),Array.isArray(Me)&&Me.length>0){const e=Me.filter(e=>{var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(t))}).slice(0,5);Re(e),Pe(e.length>0)}}}else Pe(!1)},Ln=(e,t)=>{if(!e)return e;const n=/@(\{[^}]+\}|[^\s]+)/g,r=[];let a,i=0;for(;null!==(a=n.exec(e));){a.index>i&&r.push(e.substring(i,a.index));const n=a[1],o=n.startsWith("{")&&n.endsWith("}")?n.slice(1,-1):n,l=Array.isArray(Me)&&Me.some(e=>e.name===o&&e.user_id===(null===s||void 0===s?void 0:s.id));r.push((0,Oa.jsxs)("span",{className:"font-semibold ".concat(l?"bg-yellow-200 text-yellow-900 px-1 rounded":t?"text-blue-200":"text-blue-600"),children:["@",o]},a.index)),i=a.index+a[0].length}return i<e.length&&r.push(e.substring(i)),r.length>0?r:e},zn=async e=>{null===e||void 0===e||e.preventDefault(),Lt&&(zt(!1),un.current=!1);const t=(null===N||void 0===N?void 0:N.trim())||"";if(!t&&(!Array.isArray(W)||0===W.length)&&!ie)return;if(!C)return void Rg("Kein Chat ausgew\xe4hlt");const n=N,r=Array.isArray(W)?[...W]:[],a=ie,i=le;j(""),H([]),Ye(!1),ue(null),L(!0);const o=r.map((e,t)=>({file:e,id:Dn(e,t)}));o.length>0&&V(o.map(e=>{let{file:t,id:n}=e;return{id:n,name:t.name,progress:0,status:"uploading"}}));const l="tmp-".concat(Date.now()),u={id:l,sender_id:null===s||void 0===s?void 0:s.id,sender_name:null===s||void 0===s?void 0:s.name,message:t||(null!==a&&void 0!==a&&a.title?"Kalender: ".concat(a.title):""),created_at:(new Date).toISOString(),attachments:r.map((e,t)=>({id:"tmp-attach-".concat(t),filename:e.name,mimetype:e.type,size:e.size,url:URL.createObjectURL(e)})),metadata:null!==a&&void 0!==a&&a.id?{shared_event:a}:void 0,status:"sending"};k(e=>[...e,u]),requestAnimationFrame(()=>Bn());try{var c,d;let e=[];if(o.length>0){const t=await Promise.all(o.map(async e=>{let{file:t,id:n}=e;try{const e=new FormData;e.append("file",t),e.append("context","message"),e.append("conversationId",C);const r=await Go(e,{onUploadProgress:e=>{if(!e.total)return;const t=Math.min(100,Math.round(e.loaded/e.total*100));yn(n,{progress:t})}});return yn(n,{progress:100,status:"done"}),En(n),{data:(null===r||void 0===r?void 0:r.data)||null,file:t}}catch(BM){return console.error("Error uploading attachment:",BM),yn(n,{status:"error"}),En(n),{data:null,file:t}}}));t.some(e=>!e.data)&&Rg("Einige Anh\xe4nge konnten nicht hochgeladen werden"),e=t.filter(e=>e.data).map(e=>{var t,n;const r=null===(t=e.file)||void 0===t?void 0:t.__audioDuration;return r&&"audio"===(null===(n=e.data)||void 0===n?void 0:n.type)?qe(qe({},e.data),{},{duration:r}):e.data})}U(!1);const n=t||(null!==a&&void 0!==a&&a.title?"Kalender: ".concat(a.title):"");if(!n&&0===e.length&&(null===a||void 0===a||!a.id))throw new Error("Keine Anh\xe4nge konnten hochgeladen werden");const r=o.map(e=>{let{file:t}=e;return(null===t||void 0===t?void 0:t.__audioDuration)||0}).reduce((e,t)=>t>e?t:e,0),s=e.some(e=>{var t;return"audio"===(null===e||void 0===e?void 0:e.type)||(null===e||void 0===e||null===(t=e.mimeType)||void 0===t?void 0:t.startsWith("audio/"))}),m={message:n,attachments:e,messageType:s&&!n?"audio":void 0};null!==a&&void 0!==a&&a.id&&(m.metadata=qe(qe({},m.metadata||{}),{},{shared_event:a})),r&&(m.metadata=qe(qe({},m.metadata||{}),{},{audio_duration:r})),null!==i&&void 0!==i&&i.id&&(m.metadata=m.metadata||{},m.metadata.reply_to={id:i.id,message:i.message||"",sender_name:i.sender_name||"Unbekannt"}),null!==a&&void 0!==a&&a.id&&(m.metadata=m.metadata||{},m.metadata.shared_event={id:a.id,title:a.title||"Ohne Titel",start_time:a.start_time,end_time:a.end_time,location:a.location||null});const p=await qo(C,m);let b=null!==p&&void 0!==p&&null!==(c=p.data)&&void 0!==c&&c.message?Cn(p.data.message):null;if(null!==(d=b)&&void 0!==d&&d.id&&null!==a&&void 0!==a&&a.id)try{var h;const e=await function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mention";return To.post("/messages/".concat(e,"/calendar-ref"),{eventId:t,refType:n})}(b.id,a.id,"share"),t={id:(null===e||void 0===e||null===(h=e.data)||void 0===h?void 0:h.id)||"event-ref-".concat(b.id,"-").concat(a.id),event_id:a.id,event_title:a.title||"Ohne Titel",event_start_time:a.start_time,event_end_time:a.end_time,location:a.location||null};b=qe(qe({},b),{},{calendar_refs:Array.isArray(b.calendar_refs)?[...b.calendar_refs,t]:[t],metadata:qe(qe({},b.metadata||{}),{},{shared_event:{id:a.id,title:a.title||"Ohne Titel",start_time:a.start_time,end_time:a.end_time,location:a.location||null}})})}catch(g){console.error("Error linking calendar event to message:",g),Rg("Kalenderereignis konnte nicht angeh\xe4ngt werden")}b?k(e=>e.filter(e=>e.id!==b.id).map(e=>e.id===l?b:e)):await Mn(C);const D=An(b||u);f(e=>e.map(e=>ob(e.id,C)?qe(qe({},e),{},{lastMessage:D,unreadCount:0}):e)),oe(null)}catch(b){var m,p;console.error("Error sending message:",b);const e=(null===b||void 0===b||null===(m=b.response)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.error)||(null===b||void 0===b?void 0:b.message)||"Fehler beim Senden";Rg(e),j(n||""),H(Array.isArray(r)?r:[]),oe(a||null),k(e=>e.filter(e=>e.id!==l))}finally{L(!1)}},Un=async e=>{if(C){Lt&&zt(!1);try{L(!0),await qo(C,{message:e.url||e,message_type:"gif"}),U(!1),Tg("GIF gesendet"),await Mn(C)}catch(t){console.error("Error sending GIF:",t),Rg("Fehler beim Senden des GIFs")}finally{L(!1)}}},Wn=e=>{const t=Array.from(e.target.files||[]);if(0===t.length)return;Lt&&zt(!1);const n=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],r=Math.max(0,5-W.length),a=[];t.forEach(e=>{e.type.startsWith("image/")||e.type.startsWith("audio/")||e.type.startsWith("video/")||n.includes(e.type)||!e.type&&[".pdf",".doc",".docx",".png",".jpg",".jpeg",".gif",".webm",".mp4",".ogg"].some(t=>{var n;return null===(n=e.name)||void 0===n?void 0:n.toLowerCase().endsWith(t)})?e.size>10485760?Rg('"'.concat(e.name,'" ist zu gro\xdf (max. 10 MB)')):a.length<r&&a.push(e):Rg('"'.concat(e.name,'" hat ein nicht unterst\xfctztes Format'))}),a.length>0&&H(e=>[...e,...a]),e.target&&(e.target.value="")},Hn=(0,o.useCallback)(e=>{H(t=>t.filter((t,n)=>n!==e))},[]),qn=(0,o.useCallback)(async()=>{ne(!0),se("");try{const e=new Date,t=new Date;t.setDate(t.getDate()+30);const n=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return To.get("/schedule/events",{params:e})}({startDate:e.toISOString(),endDate:t.toISOString()});J(Array.isArray(n.data)?n.data:[])}catch(e){console.error("Error loading calendar events:",e),J([]),se("Kalenderereignisse konnten nicht geladen werden")}finally{ne(!1)}},[]),Vn=(0,o.useCallback)(()=>{X(!0),qn()},[qn]),Kn=(0,o.useCallback)(e=>{oe(e),X(!1)},[]),Yn=(0,o.useCallback)(()=>{oe(null)},[]),Gn=((0,o.useCallback)(e=>{if(!w)return void Rg("Bitte zuerst einen Kontakt ausw\xe4hlen.");Tg("".concat({call:"Sprachanruf vorbereitet",video:"Videoanruf vorbereitet",info:"Kontaktinfo ge\xf6ffnet"}[e]||"Aktion"," \u2013 ").concat(w.name))},[w]),(0,o.useMemo)(()=>{const e={};return g.forEach(t=>{if(!t||!t.userId)return;const n=e[t.userId];if(!n)return void(e[t.userId]=t);const r=new Date(n.createdAt||0).getTime();new Date(t.createdAt||0).getTime()>r&&(e[t.userId]=t)}),e},[g])),$n=(0,o.useMemo)(()=>Object.values(Gn),[Gn]),Zn=async()=>{if(!ln.current)try{var e,t;if(null===(e=navigator)||void 0===e||null===(t=e.mediaDevices)||void 0===t||!t.getUserMedia||"undefined"===typeof MediaRecorder)return void Rg("Audioaufnahme wird von diesem Ger\xe4t nicht unterst\xfctzt");const n=await navigator.mediaDevices.getUserMedia({audio:!0});sn.current=n;const r=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg","audio/mp4"].find(e=>"undefined"!==typeof MediaRecorder&&MediaRecorder.isTypeSupported(e)),a=r?{mimeType:r}:void 0,s=a?new MediaRecorder(n,a):new MediaRecorder(n);rn.current=s,an.current=[],s.ondataavailable=e=>{e.data.size>0&&an.current.push(e.data)},s.onerror=e=>{console.error("Recording error:",(null===e||void 0===e?void 0:e.error)||e),ln.current=!1,Y(!1)},s.onstop=async()=>{var e;const t=Date.now(),n=on.current||t,a=Math.max(1,Math.round((t-n)/1e3)),s=r||"audio/webm",i=s.includes("ogg")?"ogg":s.includes("mp4")?"m4a":"webm";if(an.current.length>0){const e=new Blob(an.current,{type:s}),t=new File([e],"voice_".concat(Date.now(),".").concat(i),{type:s});t.__audioDuration=a,H(e=>[...e,t]),Tg("Audioaufnahme hinzugef\xfcgt")}null===(e=sn.current)||void 0===e||e.getTracks().forEach(e=>e.stop()),sn.current=null,rn.current=null,ln.current=!1,Y(!1)},s.start(),ln.current=!0,Y(!0)}catch(n){ln.current=!1,console.error("Error starting recording:",n),Rg("Mikrofon-Zugriff verweigert")}},Xn=()=>{if(rn.current){if("inactive"===rn.current.state)return ln.current=!1,void Y(!1);if(ln.current||K){try{rn.current.stop()}catch(e){console.error("Error stopping recording:",e)}ln.current=!1,Y(!1)}}},Qn=((0,o.useCallback)(e=>{var t;null!==e&&void 0!==e&&e.cancelable&&e.preventDefault(),null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e),un.current||ln.current||K||(un.current=!0,Zn())},[K,Zn]),(0,o.useCallback)(e=>{var t;null!==e&&void 0!==e&&e.cancelable&&e.preventDefault(),null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e),un.current&&(un.current=!1,Xn(),zt(!1))},[Xn]),(0,o.useCallback)(e=>{var t;null!==e&&void 0!==e&&e.cancelable&&e.preventDefault(),null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e),un.current&&(un.current=!1,Xn(),zt(!1))},[Xn]),(0,o.useCallback)(()=>{un.current=!1,(ln.current||K)&&Xn(),zt(!1)},[K,Xn]),async e=>{if(e){if(window.confirm("Nachricht wirklich l\xf6schen?"))try{await(e=>To.delete("/messages/".concat(e)))(e),k(t=>t.filter(t=>t.id!==e)),Tg("Nachricht gel\xf6scht")}catch(t){console.error("Error deleting message:",t),Rg("Fehler beim L\xf6schen")}}else Rg("Nachricht-ID fehlt")}),Jn=(0,o.useCallback)(async(e,t)=>{if(null!==s&&void 0!==s&&s.id){k(n=>n.map(n=>{if(n.id!==e)return n;const r=qe({},n.reactions||{}),a=xn(r[t]);if(a.map(e=>e.id).includes(s.id)){const e=a.filter(e=>e.id!==s.id);0===e.length?delete r[t]:r[t]=e}else r[t]=[...a,{id:s.id,name:s.name||Ut[s.id],photo:s.profile_photo}];return qe(qe({},n),{},{reactions:r})})),me(null);try{await((e,t)=>To.post("/messages/".concat(e,"/react"),{emoji:t}))(e,t)}catch(n){console.error("Error adding reaction:",n),Rg("Fehler beim Hinzuf\xfcgen der Reaktion"),await Mn(C)}}else Rg("Benutzer nicht gefunden")},[s,C,Mn,xn,Ut]),er=(0,o.useCallback)(e=>{ue(e)},[]),tr=(0,o.useCallback)(()=>{Xt.current&&(clearTimeout(Xt.current),Xt.current=null),en.current=!1},[]),nr=(0,o.useCallback)((e,t,n)=>{var r,a,s,i;const o=(null===n||void 0===n?void 0:n.width)||240,l=(null===n||void 0===n?void 0:n.height)||300,u=12,c=null===e||void 0===e||null===(r=e.querySelector)||void 0===r?void 0:r.call(e,".message-bubble"),d=(null===c||void 0===c||null===(a=c.getBoundingClientRect)||void 0===a?void 0:a.call(c))||(null===e||void 0===e||null===(s=e.getBoundingClientRect)||void 0===s?void 0:s.call(e)),h=null!==(i=null===t||void 0===t?void 0:t.clientX)&&void 0!==i?i:d?d.left+d.width/2:window.innerWidth/2;let m;if(d){const e=d.top-u,t=window.innerHeight-d.bottom-u;m=e>=l||!(t>=l)&&e>=t?d.top-l-u:d.bottom+u}else{var p;m=(null!==(p=null===t||void 0===t?void 0:t.clientY)&&void 0!==p?p:window.innerHeight/2)-l/2}const f=u+o/2,g=window.innerWidth-u-o/2,b=window.innerHeight-u-l;return{x:Math.min(g,Math.max(f,h)),y:Math.min(b,Math.max(12,m))}},[]),rr=(0,o.useCallback)((e,t,n)=>{const r=nr(t,n);nn.current={target:t,touchPoint:n},me(null),rt(e),st(r),en.current=!0},[nr]),ar=(0,o.useCallback)((e,t)=>{var n,r,a,s;if(!d)return;if(e.touches&&e.touches.length>1)return;const i=(null===(n=e.touches)||void 0===n?void 0:n[0])||(null===(r=e.changedTouches)||void 0===r?void 0:r[0]);Qt.current={x:null!==(a=null===i||void 0===i?void 0:i.clientX)&&void 0!==a?a:0,y:null!==(s=null===i||void 0===i?void 0:i.clientY)&&void 0!==s?s:0},Jt.current=e.currentTarget,en.current=!1,tr(),Xt.current=setTimeout(()=>{var e,n;if(rr(t,Jt.current,i),Xt.current=null,null!==(e=window)&&void 0!==e&&null!==(n=e.navigator)&&void 0!==n&&n.vibrate)try{window.navigator.vibrate(10)}catch(St){}},450)},[d,tr,rr]),sr=(0,o.useCallback)(e=>{var t,n;if(!d)return;if(!Xt.current)return;const r=(null===(t=e.touches)||void 0===t?void 0:t[0])||(null===(n=e.changedTouches)||void 0===n?void 0:n[0]);if(!r)return;const a=r.clientX-Qt.current.x,s=r.clientY-Qt.current.y;Math.hypot(a,s)>12&&tr()},[d,tr]),ir=(0,o.useCallback)(()=>{en.current||tr(),Jt.current=null},[tr]),or=(0,o.useCallback)(()=>{tr(),Jt.current=null,nn.current=null},[tr]),lr=(0,o.useCallback)((e,t)=>{d&&((null===nt||void 0===nt?void 0:nt.id)!==t.id?(e.preventDefault(),tr(),rr(t,e.currentTarget,{clientX:e.clientX,clientY:e.clientY})):e.preventDefault())},[d,nt,tr,rr]),ur=(0,o.useCallback)(()=>{en.current=!1,rt(null),nn.current=null},[]);(0,o.useEffect)(()=>()=>{tr()},[tr]),(0,o.useEffect)(()=>{if(!nt)return;const e=tn.current,t=nn.current;if(!e||null===t||void 0===t||!t.target)return;const n=window.requestAnimationFrame(()=>{const n=e.getBoundingClientRect(),r=nr(t.target,t.touchPoint,{width:n.width,height:n.height});st(r)});return()=>window.cancelAnimationFrame(n)},[nt,nr]),(0,o.useEffect)(()=>{if(!nt)return;const e=()=>{ur(),tr()};return window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[nt,ur,tr]);const cr=(0,o.useCallback)(()=>{ue(null)},[]),dr=(0,o.useCallback)(()=>{M(!0),T("list"),F(null),E(null)},[]),hr=(0,o.useCallback)(async e=>{if(null===e||void 0===e||!e.id)return void Rg("Nachricht nicht gefunden");const t=ce.some(t=>t.id===e.id);de(n=>t?n.filter(t=>t.id!==e.id):[...n,e]);try{await(n=e.id,To.post("/messages/".concat(n,"/pin"))),Tg(t?"Nachricht entfestigt":"Nachricht angepinnt")}catch(r){console.error("Error pinning message:",r),Rg("Fehler beim Pinnen der Nachricht"),de(n=>t?[...n,e]:n.filter(t=>t.id!==e.id))}var n},[ce]),mr=(0,o.useCallback)(async e=>{if(De)try{await Rn(e),oe(De),be(!1),xe(null),Tg("Termin bereit zum Teilen mit ".concat(e.name))}catch(t){console.error("Error selecting contact for event share:",t),Rg("Fehler beim Ausw\xe4hlen des Kontakts")}},[De,Rn]),pr=((0,o.useMemo)(()=>((e,t)=>{let n;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];clearTimeout(n),n=setTimeout(()=>e(...a),t)}})(e=>{if(C&&i){const t=e?"typing:start":"typing:stop";window.socket&&window.socket.emit(t,{conversationId:C,userId:s.id,userName:s.name})}},300),[C,i,s]),(0,o.useCallback)(e=>{if(!e)return;const t=document.getElementById("message-".concat(e));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("highlight-flash"),setTimeout(()=>t.classList.remove("highlight-flash"),2e3))},[])),fr=(0,o.useCallback)(async e=>{if(null===e||void 0===e||!e.id)return;ye(!1);const t=e.conversation_id||e.conversationId;if(t){const n=ib(t),r=p.find(e=>ob(e.id,n));if("group"===(null===r||void 0===r?void 0:r.type))E(null),await In(r);else{const t=e.sender_id===(null===s||void 0===s?void 0:s.id)?e.receiver_id:e.sender_id,r=h.find(e=>ib(e.id)===ib(t));r?await Rn(r):(E(null),F(n),await Mn(n),_n(n),Yo(n).catch(()=>{}))}return void setTimeout(()=>pr(e.id),200)}pr(e.id)},[_n,h,Rn,In,pr,Mn,Yo,p,null===s||void 0===s?void 0:s.id]),gr=(0,o.useCallback)(async()=>{Je(!0);try{const e=await $o(),t=Array.isArray(e.data)?e.data:[];Xe(t.slice(0,6))}catch(e){console.error("Error loading quick replies:",e),Xe([])}finally{Je(!1)}},[]),br=(0,o.useCallback)(()=>{Ce(!1),gr()},[gr]),Dr=(0,o.useCallback)(e=>{j(e),br()},[br]),xr=(0,o.useCallback)(e=>{_e(e),Ne(!0)},[]),vr=(0,o.useCallback)(()=>{Ne(!1),_e(null)},[]);(0,o.useEffect)(()=>{gr()},[gr]);const yr=(0,o.useCallback)(()=>{Ye(e=>{const t=!e;return t&&zt(!1),t})},[]),wr=(0,o.useCallback)(()=>{const e=h.find(e=>sb(e));if(null!==e&&void 0!==e&&e.id)return e;const t=Me.find(e=>sb(qe(qe({},e),{},{id:e.user_id})));return null!==t&&void 0!==t&&t.user_id?{id:t.user_id,name:t.name||"BL_Bot",email:t.email||"",is_bot:!0}:null},[h,Me]),Er=(0,o.useCallback)(async()=>{const e=wr();if(null===e||void 0===e||!e.id||!C)return e;if(!Me.some(t=>ib(t.user_id)===ib(e.id)))try{await Vo(C,[e.id]),await On(C)}catch(t){console.error("Error adding bot to conversation:",t),Rg("BL_Bot konnte nicht zur Gruppe hinzugef\xfcgt werden")}return e},[Vo,wr,Me,On,C,Rg]),Cr=(0,o.useCallback)(async()=>{var e;const t=p.find(e=>ob(e.id,C)),n="group"===(null===t||void 0===t?void 0:t.type);let r=null;var a;n?r=await Er():(r=wr(),null!==(a=r)&&void 0!==a&&a.id&&await Rn(r));if(null!==(e=r)&&void 0!==e&&e.id){if(n){var s;const e=(null===(s=r)||void 0===s?void 0:s.name)||"BL_Bot",t=e.includes(" ")?"{".concat(e,"}"):e;j(e=>{const n=e.slice(-1),r=e&&" "!==n&&"\n"!==n;return"".concat(e).concat(r?" ":"","@").concat(t," ")}),Ye(!1),setTimeout(()=>{const e=d?$t.current:Zt.current;if(e){e.focus({preventScroll:!0});const t=e.value.length;e.setSelectionRange(t,t)}},0)}}else Rg("BL_Bot ist derzeit nicht verf\xfcgbar")},[Er,wr,Rn,d,C,p]),Fr=(0,o.useCallback)(()=>{ft(""),bt(""),xt([]),yt(""),Et(!0),mt(!0)},[]),Ar=(0,o.useCallback)(e=>{xt(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),kr=(0,o.useCallback)(e=>{Pt(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),Nr=(0,o.useCallback)(async()=>{const e=pt.trim();if(!e)return void Rg("Bitte einen Gruppennamen eingeben");const t=[...Dt],n=wt?wr():null;if(null!==n&&void 0!==n&&n.id&&t.push(n.id),0!==t.length){Ft(!0);try{var r;const n=await Uo({name:e,description:gt.trim()||null,type:"group",memberIds:t});if(null===n||void 0===n||null===(r=n.data)||void 0===r||!r.id)throw new Error("Keine Gruppendaten erhalten");{const e=kn(n.data);f(t=>[e,...Array.isArray(t)?t:[]]),E(null),F(e.id),k([]),_n(e.id),await On(e.id),d&&T("chat"),mt(!1),Tg("Gruppe erstellt")}}catch(i){var a,s;console.error("Error creating group:",i),Rg((null===i||void 0===i||null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||"Gruppe konnte nicht erstellt werden")}finally{Ft(!1)}}else Rg("Bitte mindestens ein Mitglied ausw\xe4hlen")},[_n,Uo,wr,gt,wt,Dt,pt,d,kn,On]),jr=(0,o.useCallback)(async()=>{if(!C)return;const e=At.trim();if(e){Bt(!0);try{const t=await Wo(C,{name:e,description:Nt.trim()||null}),n=null===t||void 0===t?void 0:t.data;n&&f(e=>e.map(e=>ob(e.id,C)?qe(qe({},e),{},{name:n.name,description:n.description}):e)),await On(C),Tg("Gruppe aktualisiert")}catch(r){var t,n;console.error("Error updating group:",r),Rg((null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Gruppe konnte nicht aktualisiert werden")}finally{Bt(!1)}}else Rg("Bitte einen Gruppennamen eingeben")},[Nt,At,On,C,Wo]),_r=(0,o.useCallback)(async()=>{if(C&&0!==It.length){Ot(!0);try{await Vo(C,It),await On(C),Pt([]),Tg("Mitglieder hinzugef\xfcgt")}catch(n){var e,t;console.error("Error adding members:",n),Rg((null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Mitglieder konnten nicht hinzugef\xfcgt werden")}finally{Ot(!1)}}},[Vo,It,On,C]),Sr=(0,o.useCallback)(async e=>{if(C&&e){Ot(!0);try{await Ko(C,e),await On(C),Tg("Mitglied entfernt")}catch(r){var t,n;console.error("Error removing member:",r),Rg((null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Mitglied konnte nicht entfernt werden")}finally{Ot(!1)}}},[On,Ko,C]),Br=(0,o.useCallback)(async()=>{if(C&&null!==s&&void 0!==s&&s.id){Ot(!0);try{await Ko(C,s.id),f(e=>e.filter(e=>!ob(e.id,C))),F(null),E(null),k([]),Be(!1),T("list"),Tg("Du hast die Gruppe verlassen")}catch(n){var e,t;console.error("Error leaving group:",n),Rg((null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Gruppe konnte nicht verlassen werden")}finally{Ot(!1)}}},[Ko,C,null===s||void 0===s?void 0:s.id]),Mr=(0,o.useMemo)(()=>p.find(e=>ob(e.id,C))||null,[C,p]),Or=(0,o.useCallback)(async()=>{if(!C||!Mr)return;if("superadmin"!==(null===s||void 0===s?void 0:s.role))return void Rg("Nur Superadmin kann Gruppen l\xf6schen");const e=Mr.name||"diese Gruppe";if(window.confirm('M\xf6chtest du die Gruppe "'.concat(e,'" wirklich l\xf6schen? Alle Nachrichten und Mitglieder werden entfernt.'))){Ot(!0);try{await(r=C,To.delete("/messages/conversations/".concat(r))),f(e=>e.filter(e=>!ob(e.id,C))),F(null),E(null),k([]),Be(!1),T("list"),Tg("Gruppe gel\xf6scht")}catch(a){var t,n;console.error("Error deleting group:",a),Rg((null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Gruppe konnte nicht gel\xf6scht werden")}finally{Ot(!1)}var r}},[Mr,C,null===s||void 0===s?void 0:s.role]),Tr=(0,o.useCallback)(e=>{r(e?"/profile/".concat(e):"/profile/me")},[r]),Rr=(0,o.useCallback)(async()=>{try{var e;const t=await Po(),n=Array.isArray(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.stories)?t.data.stories:Array.isArray(null===t||void 0===t?void 0:t.data)?t.data:[];b(n.map(lb))}catch(t){console.error("Error refreshing stories:",t)}},[]),Ir=_.trim().toLowerCase(),Pr=(0,o.useMemo)(()=>Ir?h.filter(e=>"".concat(e.name||""," ").concat(e.email||""," ").concat(e.status||"").toLowerCase().includes(Ir)):h,[h,Ir]),Lr=(0,o.useCallback)(e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":$s(t,{locale:si,addSuffix:!0})},[]),zr=(0,o.useMemo)(()=>{if(!Array.isArray(p)||0===p.length)return{};const e={};return p.forEach(t=>{if("direct"!==(null===t||void 0===t?void 0:t.type))return;const n=Array.isArray(t.members)?t.members.find(e=>(null===e||void 0===e?void 0:e.user_id)&&ib(e.user_id)!==ib(null===s||void 0===s?void 0:s.id)):null;null!==n&&void 0!==n&&n.user_id&&(e[ib(n.user_id)]=t)}),e},[p,null===s||void 0===s?void 0:s.id]),Ur=(0,o.useMemo)(()=>Array.isArray(p)&&0!==p.length?p.filter(e=>"group"===(null===e||void 0===e?void 0:e.type)).sort((e,t)=>{const n=ab(e),r=ab(t);if(n&&!r)return-1;if(r&&!n)return 1;const a=e.unreadCount||0,s=t.unreadCount||0;if(s!==a)return s-a;const i=Nn(e),o=Nn(t);return new Date(o)-new Date(i)}):[],[Nn,p]),Wr=(0,o.useMemo)(()=>Ir?Ur.filter(e=>"".concat(e.name||""," ").concat(e.description||"").toLowerCase().includes(Ir)):Ur,[Ur,Ir]),Hr=(0,o.useMemo)(()=>{if(!Mr||"group"!==Mr.type)return!1;const e=Mr.myRole||Mr.my_role;return"owner"===e||"moderator"===e||["admin","superadmin"].includes(null===s||void 0===s?void 0:s.role)},[Mr,null===s||void 0===s?void 0:s.role]),qr=(0,o.useMemo)(()=>"superadmin"===(null===s||void 0===s?void 0:s.role),[null===s||void 0===s?void 0:s.role]),Vr=(0,o.useMemo)(()=>Pr.map(e=>{const t=zr[e.id],n=null===t||void 0===t?void 0:t.lastMessage,r=Nn(t),a=(null===n||void 0===n?void 0:n.messageType)||(null===n||void 0===n?void 0:n.message_type),s=a&&"text"!==a?"image"===a?"Bild":"audio"===a?"Audio":"gif"===a?"GIF":a.toUpperCase():"";return qe(qe({},e),{},{thread:t,unreadCount:(null===t||void 0===t?void 0:t.unreadCount)||0,lastMessageSnippet:(null===n||void 0===n?void 0:n.content)||(null===n||void 0===n?void 0:n.message)||s||e.status||"Bereit, direkt zu schreiben",lastMessageTime:r,lastMessageTimeLabel:Lr(r)})}),[Pr,Lr,Nn,zr]),Kr=(0,o.useMemo)(()=>{const e=Vr,t=(e,t)=>{const n=e.lastMessageTime?new Date(e.lastMessageTime).getTime():0,r=t.lastMessageTime?new Date(t.lastMessageTime).getTime():0;return r!==n?r-n:(e.name||"").localeCompare(t.name||"")};return{unreadContacts:e.filter(e=>e.unreadCount>0).sort(t),remainingContacts:e.filter(e=>0===e.unreadCount).sort(t)}},[Vr]),Yr=(0,o.useMemo)(()=>{const e=vt.trim().toLowerCase(),t=h.filter(e=>!sb(e));return e?t.filter(t=>"".concat(t.name||""," ").concat(t.email||"").toLowerCase().includes(e)):t},[h,vt]),Gr=(0,o.useMemo)(()=>{if(!Mr||"group"!==Mr.type)return[];const e=new Set(Me.map(e=>ib(e.user_id))),t=h.filter(t=>!e.has(ib(t.id))),n=Tt.trim().toLowerCase();return n?t.filter(e=>"".concat(e.name||""," ").concat(e.email||"").toLowerCase().includes(n)):t},[Mr,h,Tt,Me]),$r=(0,o.useMemo)(()=>{if(null===v||!g[v])return[];const e=g[v].userId;return g.filter(t=>t.userId===e).sort((e,t)=>new Date(e.createdAt||e.updatedAt||0).getTime()-new Date(t.createdAt||t.updatedAt||0).getTime())},[g,v]),Zr=(0,o.useMemo)(()=>null!==v&&g[v]?g[v]:null,[v,g]),Xr=(0,o.useMemo)(()=>{if(!Zr||0===$r.length)return 0;const e=$r.findIndex(e=>e.id===Zr.id);return e>=0?e:0},[Zr,$r]),Qr=null!==v&&v>0,Jr=null!==v&&v<g.length-1,ea=Qr||Jr,ta=(0,o.useCallback)(e=>{const t=g.findIndex(t=>t.id===e);-1!==t&&y(t)},[g]),na=(0,o.useCallback)(()=>{y(null)},[]),ra=(0,o.useCallback)(()=>{if(null===v)return;const e=v+1;e>=g.length?y(null):y(e)},[v,g.length]),aa=(0,o.useCallback)(()=>{null===v||v<=0||y(v-1)},[v]);(0,o.useEffect)(()=>{null!==v&&(g[v]||y(null))},[g,v]),(0,o.useEffect)(()=>{if(!Zr||Zr.viewerHasSeen)return;(async()=>{try{await Lo(Zr.id),b(e=>e.map((e,t)=>t===v?qe(qe({},e),{},{viewerHasSeen:!0,viewCount:(e.viewCount||0)+1}):e))}catch(e){console.error("Error marking story view:",e)}})()},[Zr,v]);const sa=(0,o.useCallback)((e,t)=>(0,Oa.jsxs)("div",{className:"relative inline-flex items-center gap-2 px-3 py-2 bg-slate-100 rounded-lg text-xs text-slate-700",children:[(0,Oa.jsx)(yg,{className:"w-4 h-4 text-slate-500"}),(0,Oa.jsx)("span",{className:"max-w-[140px] truncate",children:e.name}),(0,Oa.jsx)("button",{type:"button",onClick:()=>Hn(t),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]},"".concat(e.name,"-").concat(t)),[Hn]),ia=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return q.length?(0,Oa.jsx)("div",{className:"upload-progress ".concat(e),children:q.map(e=>(0,Oa.jsxs)("div",{className:"upload-progress__item ".concat(e.status||""),children:[(0,Oa.jsxs)("div",{className:"upload-progress__meta",children:[(0,Oa.jsx)("span",{className:"upload-progress__name",children:e.name}),(0,Oa.jsxs)("span",{className:"upload-progress__percent",children:[e.progress,"%"]})]}),(0,Oa.jsx)("div",{className:"upload-progress__bar",children:(0,Oa.jsx)("span",{className:"upload-progress__fill",style:{width:"".concat(e.progress,"%")}})})]},e.id))}):null},[q]),oa=(e,t)=>{var n,a,i;const o="message-bubble messenger-bubble messenger-bubble--".concat(t?"mine":"other"," ").concat(t?"mine":"other"),l="".concat(t?"bg-gradient-to-br from-blue-600 to-blue-700 text-white":"bg-white text-slate-900 border border-slate-200"," messenger-bubble messenger-bubble--").concat(t?"mine":"other"),u=pe===e.id,c=ce.some(t=>t.id===e.id),h=(e.id,e.created_at?Zp(Xp(e.created_at),"HH:mm",{locale:si}):""),m=Boolean(e.read_status||e.read),p=(e.attachments||[]).find(e=>{var t;return"audio"===(null===e||void 0===e?void 0:e.type)||(null===e||void 0===e||null===(t=e.mimeType)||void 0===t?void 0:t.startsWith("audio/"))}),f=e.audio_duration||(null===(n=e.metadata)||void 0===n?void 0:n.audio_duration)||(null===p||void 0===p?void 0:p.duration);return(0,Oa.jsxs)("div",{className:"relative group",onMouseEnter:()=>fe(e.id),onMouseLeave:()=>fe(null),onTouchStart:t=>ar(t,e),onTouchEnd:ir,onTouchMove:sr,onTouchCancel:or,onContextMenu:t=>lr(t,e),children:[(0,Oa.jsxs)("div",{className:"".concat(d?o:"rounded-2xl px-4 py-3 shadow-sm ".concat(l," transition-all duration-200 hover:shadow-md")," ").concat(c&&!d?"ring-2 ring-yellow-300 bg-yellow-50/20":""),children:[c&&!d&&(0,Oa.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 rounded-full p-1 shadow-md",children:(0,Oa.jsx)(wg,{className:"w-3 h-3"})}),c&&d&&(0,Oa.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-400/90 text-yellow-900 rounded-full p-1 shadow-md",children:(0,Oa.jsx)(wg,{className:"w-3 h-3"})}),!t&&e.sender_name&&!d&&(0,Oa.jsx)("p",{className:"text-xs font-semibold text-blue-600 mb-1",children:e.sender_name}),(null===(a=e.metadata)||void 0===a?void 0:a.reply_to)&&(0,Oa.jsxs)("div",{className:"mb-2 px-3 py-2 rounded-lg border-l-4 overflow-hidden ".concat(t?"bg-blue-500/20 border-blue-300":"bg-slate-100 border-slate-400"),children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold ".concat(t?"text-blue-100":"text-slate-600"," truncate"),children:e.metadata.reply_to.sender_name}),(0,Oa.jsx)("p",{className:"text-xs ".concat(t?"text-blue-200":"text-slate-500"," line-clamp-2 break-words"),children:e.metadata.reply_to.message})]}),p&&f?(0,Oa.jsx)(eb,{audioUrl:p.url,duration:f,className:"mt-2 voice-message-player"}):"gif"===e.message_type||e.message&&(e.message.includes("giphy.com")||e.message.includes("tenor.com")||e.message.match(/\.(gif|webp)(\?|$)/i))?(0,Oa.jsx)("img",{src:e.message,alt:"GIF",loading:"lazy",className:"rounded-2xl w-full h-auto max-h-[360px] object-contain bg-slate-900/20 border border-white/10 shadow-lg"}):(0,Oa.jsx)("p",{className:"".concat(d?"message-text":"text-sm whitespace-pre-wrap break-words"),children:Ln(e.message,t)}),(null===(i=e.attachments)||void 0===i?void 0:i.length)>0&&(0,Oa.jsx)("div",{className:"mt-2 space-y-2",children:e.attachments.map((e,t)=>{var n,r;return"image"===e.type?(0,Oa.jsx)("img",{src:e.url,alt:"Anhang",loading:"lazy",className:"rounded-2xl w-full h-auto max-h-80 object-cover shadow-lg border border-white/10"},"".concat(e.url,"-").concat(t)):"audio"===e.type||null!==e&&void 0!==e&&null!==(n=e.mimeType)&&void 0!==n&&n.startsWith("audio/")?(0,Oa.jsx)("audio",{controls:!0,src:e.url,className:"w-full mt-2"},"".concat(e.url,"-").concat(t)):"video"===e.type||null!==e&&void 0!==e&&null!==(r=e.mimeType)&&void 0!==r&&r.startsWith("video/")?(0,Oa.jsx)("video",{controls:!0,src:e.url,className:"w-full mt-2 rounded-2xl border border-white/10 shadow-lg"},"".concat(e.url,"-").concat(t)):(0,Oa.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs underline text-blue-600",children:["\ud83d\udcce ",e.name||"Datei"]},"".concat(e.url,"-").concat(t))})}),(n=>{const a=Array.isArray(e.calendar_refs)?e.calendar_refs:[],s=null===(n=e.metadata)||void 0===n?void 0:n.shared_event,i=[...a];return!i.length&&s&&i.push({id:"meta-".concat(e.id),event_id:s.id,event_title:s.title,event_start_time:s.start_time,event_end_time:s.end_time,location:s.location||null}),i.length?i.map(n=>(0,Oa.jsxs)("div",{className:"mt-3 w-full max-w-md rounded-2xl border ".concat(t?"border-blue-200 bg-blue-50/80":"border-slate-200 bg-white"," shadow-sm"),children:[(0,Oa.jsxs)("div",{className:"flex items-start gap-3 px-4 py-3",children:[(0,Oa.jsx)("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl ".concat(t?"bg-blue-600 text-white":"bg-blue-100 text-blue-700"),children:(0,Oa.jsx)(bf,{className:"w-5 h-5"})}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:n.event_title||"Kalenderereignis"}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500",children:jn(n.event_start_time,n.event_end_time)}),n.location&&(0,Oa.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Ort: ",n.location]})]})]}),(0,Oa.jsx)("div",{className:"border-t border-slate-200 px-4 py-3",children:(0,Oa.jsx)("button",{type:"button",onClick:()=>r("/dashboard",{state:{focusEventId:n.event_id}}),className:"text-xs font-semibold uppercase tracking-wide ".concat(t?"text-blue-700 hover:text-blue-900":"text-slate-600 hover:text-slate-800"),children:"Im Kalender \xf6ffnen \u2192"})})]},"".concat(e.id,"-event-").concat(n.id||n.event_id))):null})(),e.reactions&&Object.keys(e.reactions).length>0&&(0,Oa.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:Object.entries(e.reactions).map(t=>{let[n,r]=t;const a=xn(r),i=a.map(e=>e.id),o=a.map(e=>e.name||Ut[e.id]||"User ".concat(e.id)).filter(Boolean).join(", ");return(0,Oa.jsxs)("button",{onClick:()=>Jn(e.id,n),className:"reaction-chip inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ".concat(i.includes(null===s||void 0===s?void 0:s.id)?"bg-blue-100 border border-blue-300":"bg-slate-100 border border-slate-200"," hover:scale-110 transition-transform"),title:o||"Reaktionen","aria-label":"".concat(n," (").concat(i.length,") ").concat(o),children:[(0,Oa.jsx)("span",{children:n}),(0,Oa.jsx)("span",{className:"font-semibold",children:i.length}),o&&(0,Oa.jsx)("span",{className:"reaction-tooltip",children:o})]},n)})}),(0,Oa.jsxs)("div",{className:"message-meta mt-3 flex items-center gap-2 ".concat(t?"justify-end":"justify-start"),children:[(0,Oa.jsx)("span",{className:"message-meta__time",children:h||"\u2014"}),t&&(0,Oa.jsxs)("span",{className:"message-status ".concat(m?"read":"sent"),children:[(0,Oa.jsx)("span",{className:"message-status__icon",children:m?(0,Oa.jsx)(xs,{className:"w-3 h-3"}):(0,Oa.jsx)(bs,{className:"w-3 h-3"})}),(0,Oa.jsx)("span",{className:"message-status__label",children:m?"Gelesen":"Zugestellt"})]})]})]}),!d&&(u||he===e.id)&&(0,Oa.jsxs)("div",{className:"absolute top-0 ".concat(t?"left-0 -translate-x-full pr-3":"right-0 translate-x-full pl-3"," flex items-center gap-2 z-50"),children:[(0,Oa.jsx)("button",{onClick:()=>me(he===e.id?null:e.id),className:"p-2.5 bg-white border-2 border-slate-300 rounded-full hover:bg-blue-50 hover:border-blue-400 hover:scale-110 shadow-lg transition-all duration-200 cursor-pointer",title:"Reagieren",children:(0,Oa.jsx)(Eg,{className:"w-4 h-4 text-slate-600"})}),(0,Oa.jsx)("button",{onClick:()=>er(e),className:"p-2.5 bg-white border-2 border-slate-300 rounded-full hover:bg-green-50 hover:border-green-400 hover:scale-110 shadow-lg transition-all duration-200 cursor-pointer",title:"Antworten",children:(0,Oa.jsx)(Cg,{className:"w-4 h-4 text-slate-600"})}),(0,Oa.jsx)("button",{onClick:()=>xr(e),className:"p-2.5 bg-white border-2 border-slate-300 rounded-full hover:bg-purple-50 hover:border-purple-400 hover:scale-110 shadow-lg transition-all duration-200 cursor-pointer",title:"Weiterleiten",children:(0,Oa.jsx)(Fg,{className:"w-4 h-4 text-slate-600"})}),(0,Oa.jsx)("button",{onClick:()=>hr(e),className:"p-2.5 border-2 rounded-full shadow-lg hover:scale-110 transition-all duration-200 cursor-pointer ".concat(c?"bg-yellow-100 border-yellow-400 text-yellow-700 hover:bg-yellow-200":"bg-white border-slate-300 hover:bg-yellow-50 hover:border-yellow-400 text-slate-600"),title:c?"Entfestigen":"Anpinnen",children:(0,Oa.jsx)(wg,{className:"w-4 h-4"})}),t&&(0,Oa.jsx)("button",{onClick:()=>Qn(e.id),className:"p-2.5 bg-white border-2 border-slate-300 rounded-full hover:bg-red-50 hover:border-red-400 hover:scale-110 shadow-lg transition-all duration-200 cursor-pointer",title:"L\xf6schen",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4 text-red-600"})})]}),he===e.id&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"fixed inset-0 z-30",onClick:()=>me(null)}),(0,Oa.jsx)("div",{className:"absolute ".concat(t?"right-0":"left-0"," top-full mt-3 bg-white border-2 border-slate-300 rounded-2xl shadow-2xl p-3 flex gap-3 z-40 animate-in fade-in slide-in-from-bottom-2 duration-200 reaction-picker max-w-[92vw] overflow-x-auto"),children:["\ud83d\udc4d","\u2764\ufe0f","\ud83d\ude02","\ud83d\ude2e","\ud83d\ude22","\ud83d\ude4f"].map(t=>(0,Oa.jsx)("button",{onClick:()=>Jn(e.id,t),className:"text-3xl hover:scale-125 active:scale-110 transition-transform p-2 rounded-lg hover:bg-slate-100",title:"Reagiere mit ".concat(t),children:t},t))})]}),d&&(null===nt||void 0===nt?void 0:nt.id)===e.id&&"undefined"!==typeof document&&(0,Ee.createPortal)((0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black/20",style:{zIndex:4e5},onClick:ur}),(0,Oa.jsx)("div",{className:"fixed bg-white rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",ref:tn,style:{top:"".concat(at.y,"px"),left:"".concat(at.x,"px"),transform:"translate(-50%, 0)",minWidth:"200px",maxWidth:"calc(100vw - 40px)",zIndex:400100},children:(0,Oa.jsxs)("div",{className:"py-2",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{me(e.id),ur()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(Eg,{className:"w-5 h-5 text-blue-500"}),(0,Oa.jsx)("span",{className:"font-medium",children:"Reagieren"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{er(e),ur()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(Cg,{className:"w-5 h-5 text-green-500"}),(0,Oa.jsx)("span",{className:"font-medium",children:"Antworten"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{xr(e),ur()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(Fg,{className:"w-5 h-5 text-purple-500"}),(0,Oa.jsx)("span",{className:"font-medium",children:"Weiterleiten"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{hr(e),ur()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors",children:[(0,Oa.jsx)(wg,{className:"w-5 h-5 ".concat(c?"text-yellow-500":"text-slate-400")}),(0,Oa.jsx)("span",{className:"font-medium",children:c?"Entfestigen":"Anpinnen"})]}),t&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"h-px bg-slate-200 my-1"}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{Qn(e.id),ur()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-red-600 hover:bg-red-50 active:bg-red-100 transition-colors",children:[(0,Oa.jsx)(Ds,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"font-medium",children:"L\xf6schen"})]})]})]})})]}),document.body)]})},la=()=>{if(0===A.length)return(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[(0,Oa.jsx)(dl,{className:"w-16 h-16 mb-4"}),(0,Oa.jsx)("p",{className:"text-lg font-medium",children:"Keine Nachrichten"}),(0,Oa.jsx)("p",{className:"text-sm",children:"Beginne die Konversation!"})]});let e=null;return A.map(t=>{const n=t.sender_id===(null===s||void 0===s?void 0:s.id),r=(ce.some(e=>e.id===t.id),t.created_at?Xp(t.created_at):new Date),a=Zp(r,"yyyy-MM-dd",{locale:si}),i=Zp(r,"EEEE, d. MMMM",{locale:si}),l=a!==e;return l&&(e=a),(0,Oa.jsxs)(o.Fragment,{children:[l&&(0,Oa.jsx)("div",{className:"message-day-divider","aria-label":i,children:(0,Oa.jsx)("span",{children:i})}),(0,Oa.jsx)("div",{id:"message-".concat(t.id),className:"flex mb-3 ".concat(n?"justify-end":"justify-start"),children:(0,Oa.jsx)("div",{className:d?"flex w-full items-end gap-2 ".concat(n?"justify-end":"justify-start"):"relative max-w-[75%] lg:max-w-[60%] min-w-0",children:(0,Oa.jsx)("div",{className:"relative ".concat(d?"max-w-[85%]":"w-full min-w-0 overflow-visible"),children:oa(t,n)})})})]},t.id)})},ua=e=>{let{variant:t,storyEntries:n,storyMap:r,onStoryOpen:a,storiesLoading:s}=e;const[i,l]=(0,o.useState)(!1),u=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(d)return void l(!1);const e=u.current;if(!e)return;const t=()=>{const t=e.scrollTop;l(t>50)};return e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[d]);const c="overlay"===t?"contact-list contact-list--overlay ".concat(i?"contact-list--scrolled":""):"contact-list contact-list--panel ".concat(i?"contact-list--scrolled":""),m=h.filter(e=>!sb(e)),p=m.length,f=Ur.length,g=m.filter(e=>e.online).length,b=Pr.length,D=Wr.length,x=Ir?"".concat(b+D," Treffer \xb7 ").concat(g," online"):"".concat(p," Kontakte \xb7 ").concat(f," Gruppen \xb7 ").concat(g," online"),v=e=>{var t,n,a,s,i,o,l,u,c,d;const h=(null===w||void 0===w?void 0:w.id)===e.id,m=null===r||void 0===r?void 0:r[e.id],p=e.unreadCount||0,f=e.is_bot||e.is_system_user||(null===(t=e.email)||void 0===t?void 0:t.includes("bl_bot"))||(null===(n=e.email)||void 0===n?void 0:n.includes("entsorgungsbot")),g=e.last_seen_at||e.last_seen,b=g?Lr(g):"",D=e.online?"Online":b?"Zuletzt online ".concat(b):"Offline";return(0,Oa.jsxs)("button",{onClick:()=>Rn(e),className:"contact-card ".concat(h?"contact-card--active":""," ").concat(f?"contact-card--bot":""),children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("div",{className:"contact-card__avatar-ring ".concat(m?"has-story":""," ").concat(m&&!m.viewerHasSeen?"story-unread":""," ").concat(f?"bot-ring":""),role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),Tr(e.id)},onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),Tr(e.id))},children:(0,Oa.jsx)("div",{className:"contact-card__avatar ".concat(f?"bot-avatar":""),children:e.profile_photo?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("img",{src:nl(e.profile_photo),alt:e.name,className:"w-full h-full object-cover rounded-full",style:{display:"block"},onError:t=>{console.error("Failed to load avatar:",e.name,nl(e.profile_photo)),t.target.style.display="none";const n=t.target.nextElementSibling;n&&(n.style.display="flex")}}),(0,Oa.jsx)("div",{className:"flex items-center justify-center w-full h-full",style:{display:"none"},children:f?(0,Oa.jsx)(Ag,{className:"w-5 h-5"}):(null===(a=e.name)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.toUpperCase())||(null===(i=e.email)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.toUpperCase())||"?"})]}):(0,Oa.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:f?(0,Oa.jsx)(Ag,{className:"w-5 h-5"}):(null===(l=e.name)||void 0===l||null===(u=l[0])||void 0===u?void 0:u.toUpperCase())||(null===(c=e.email)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.toUpperCase())||"?"})})}),e.online&&!f&&(0,Oa.jsx)("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white shadow-sm"}),f&&(0,Oa.jsx)("div",{className:"absolute bottom-0 right-0 w-5 h-5 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full border-2 border-white shadow-sm flex items-center justify-center",children:(0,Oa.jsx)(Ag,{className:"w-3 h-3 text-white"})}),p>0&&(0,Oa.jsx)("div",{className:"contact-card__badge absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full min-w-[1.25rem] h-5 flex items-center justify-center px-1.5 shadow-lg",children:p>99?"99+":p})]}),(0,Oa.jsxs)("div",{className:"contact-card__body",children:[(0,Oa.jsx)("p",{className:"contact-card__name",children:e.name}),(0,Oa.jsx)("p",{className:"contact-card__last-seen",children:D})]})]},e.id)};return(0,Oa.jsxs)("div",{className:c,children:[(0,Oa.jsxs)("div",{className:"contact-list__header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"contact-list__eyebrow",children:"Team-Messenger"}),(0,Oa.jsx)("h2",{children:"Nachrichten im Griff"}),(0,Oa.jsx)("p",{className:"contact-list__subheader",children:x})]}),"overlay"===t&&(0,Oa.jsx)("button",{onClick:()=>M(!1),className:"contact-list__close","aria-label":"Kontakte schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"contact-list__actions",children:[(0,Oa.jsxs)("button",{type:"button",className:"contact-list__action",onClick:()=>Tr(),children:[(0,Oa.jsx)(dl,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Mein Profil"})]}),(0,Oa.jsxs)("button",{type:"button",className:"contact-list__action",onClick:Fr,children:[(0,Oa.jsx)(zf,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Neue Gruppe"})]}),(0,Oa.jsxs)("button",{type:"button",className:"contact-list__action contact-list__action--bot",onClick:Cr,children:[(0,Oa.jsx)(Ag,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"BL_Bot"})]})]}),(0,Oa.jsxs)("div",{className:"contact-list__search",children:[(0,Oa.jsx)(rl,{className:"w-4 h-4 text-slate-500"}),(0,Oa.jsx)("input",{type:"text",placeholder:"Kontakte und Gruppen suchen","aria-label":"Kontakte und Gruppen suchen",value:_,onChange:e=>S(e.target.value)})]}),(0,Oa.jsxs)("div",{className:"contact-list__stories",children:[(0,Oa.jsxs)("div",{className:"contact-list__stories-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"contact-list__section-title",children:"Storys"}),(0,Oa.jsx)("p",{className:"contact-list__section-subtitle",children:"Neuigkeiten aus dem Team"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>tt(!0),className:"story-header-btn",children:[(0,Oa.jsx)(vf,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Story erstellen"})]})]}),s||n.length>0?(0,Oa.jsxs)("div",{className:"contact-list__stories-row",children:[s&&Array.from({length:3}).map((e,t)=>(0,Oa.jsx)("div",{className:"story-chip story-chip--skeleton"},"story-skeleton-".concat(t))),!s&&n.map(e=>{var t,n;const r=e.mediaUrl?nl(e.mediaUrl):null,s=e.updatedAt||e.createdAt;return(0,Oa.jsxs)("button",{type:"button",onClick:()=>a(e.id),className:"story-chip ".concat(e.viewerHasSeen?"seen":"new"),"aria-label":"Story von ".concat(e.userName||"Team").concat(e.viewerHasSeen?", bereits gesehen":", neu"),title:"".concat(e.userName||"Story"," - ").concat(e.viewerHasSeen?"bereits angesehen":"neu"),children:[(0,Oa.jsx)("div",{className:"story-chip__ring ".concat(e.viewerHasSeen?"seen":"has-story"),"aria-hidden":"true",children:(0,Oa.jsx)("div",{className:"story-chip__avatar","aria-hidden":!r,children:r?(0,Oa.jsx)("img",{src:r,alt:"".concat(e.userName||"Story"," media"),className:"story-chip__avatar-img"}):(0,Oa.jsx)("span",{children:(null===(t=e.userName)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase())||"?"})})}),(0,Oa.jsx)("span",{className:"story-chip__name",children:e.userName||"Story"}),(0,Oa.jsx)("small",{className:"story-chip__meta",children:s?$s(new Date(s),{addSuffix:!0,locale:si}):"vor kurzem"})]},e.id)}),!s&&n.length>0&&(0,Oa.jsxs)("button",{type:"button",onClick:()=>tt(!0),className:"story-add-btn","aria-label":"Story erstellen",children:[(0,Oa.jsx)("div",{className:"story-add-btn__circle",children:(0,Oa.jsx)(vf,{className:"w-6 h-6"})}),(0,Oa.jsx)("span",{className:"story-add-btn__label",children:"Story"})]})]}):(0,Oa.jsxs)("div",{className:"story-empty",children:[(0,Oa.jsx)("p",{children:"Noch keine Storys."}),(0,Oa.jsx)("button",{type:"button",onClick:()=>tt(!0),children:"Erste Story erstellen"})]})]}),(0,Oa.jsx)("div",{className:"contact-list__grid",ref:u,children:R?(0,Oa.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Oa.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-white border-t-transparent rounded-full"})}):(0,Oa.jsxs)(Oa.Fragment,{children:[Wr.length>0&&(0,Oa.jsxs)("div",{className:"contact-group mb-4",children:[(0,Oa.jsxs)("p",{className:"contact-group__heading flex items-center gap-2",children:[(0,Oa.jsx)(zf,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Gruppen-Chats"}),(0,Oa.jsx)("span",{className:"ml-auto text-xs bg-gradient-to-r from-blue-500 to-purple-600 text-white px-2 py-0.5 rounded-full font-semibold",children:Wr.length})]}),(0,Oa.jsx)("div",{className:"contact-group__grid",children:Wr.map(e=>(e=>{const t=C===e.id,n=e.unreadCount||0,r=ab(e),a=r?"Allgemeiner Chat":e.name||"Gruppenchat",s=e.lastMessage,i=Nn(e),o=null!==s&&void 0!==s&&s.messageType&&"text"!==s.messageType?"image"===s.messageType?"Bild":"audio"===s.messageType?"Audio":"gif"===s.messageType?"GIF":s.messageType.toUpperCase():"",l=(null===s||void 0===s?void 0:s.content)||(null===s||void 0===s?void 0:s.message)||o||e.description||"Gruppenchat";return(0,Oa.jsxs)("button",{onClick:()=>In(e),className:"contact-card ".concat(t?"contact-card--active":""," ").concat(r?"contact-card--general":""),children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("div",{className:"contact-card__avatar-ring",children:(0,Oa.jsx)("div",{className:"contact-card__avatar bg-gradient-to-br from-blue-500 to-purple-600",children:(0,Oa.jsx)(zf,{className:"w-6 h-6 text-white"})})}),n>0&&(0,Oa.jsx)("div",{className:"contact-card__badge absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full min-w-[1.25rem] h-5 flex items-center justify-center px-1.5 shadow-lg",children:n>99?"99+":n})]}),(0,Oa.jsxs)("div",{className:"contact-card__body",children:[(0,Oa.jsxs)("p",{className:"contact-card__name",children:[a,r&&(0,Oa.jsx)("span",{className:"contact-card__pill",children:"Allgemein"})]}),(0,Oa.jsx)("p",{className:"contact-card__message",children:l}),(0,Oa.jsx)("div",{className:"contact-card__meta",children:i&&(0,Oa.jsx)("span",{children:Lr(i)})})]})]},e.id)})(e))})]}),Wr.length>0&&Vr.length>0&&(0,Oa.jsx)("div",{className:"border-t border-slate-200 my-4"}),0===Vr.length&&0===Wr.length?(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-slate-400 gap-2",children:[(0,Oa.jsx)(zf,{className:"w-12 h-12"}),(0,Oa.jsx)("p",{children:"Keine Unterhaltungen gefunden"})]}):(0,Oa.jsxs)(Oa.Fragment,{children:[Kr.unreadContacts.length>0&&(0,Oa.jsxs)("div",{className:"contact-group",children:[(0,Oa.jsx)("p",{className:"contact-group__heading",children:"Unbeantwortete Nachrichten"}),(0,Oa.jsx)("div",{className:"contact-group__grid",children:Kr.unreadContacts.map(e=>v(e))})]}),Vr.length>0&&(0,Oa.jsxs)("div",{className:"contact-group",children:[(0,Oa.jsx)("p",{className:"contact-group__heading",children:"Alle Kontakte"}),(0,Oa.jsx)("div",{className:"contact-group__grid",children:Vr.map(e=>v(e))})]})]})]})})]})};return(0,Oa.jsx)(Oa.Fragment,{children:d?(0,Oa.jsx)(tb,{user:s,contacts:h,threads:p,messages:A,selectedThreadId:C,selectedContact:w,activeThread:Mr,messageInput:N,sending:P,isRecording:K,pendingAttachments:W,typingUsers:He,showComposerActions:Ke,setShowComposerActions:Ye,setSelectedThreadId:F,setSelectedContact:E,setMessageInput:j,handleSendMessage:zn,handleContactClick:Rn,handleThreadSelect:Tn,handleInputChange:Pn,fileInputRef:Yt,mobileTextareaRef:$t,messagesEndRef:mn,messagesContainerRef:pn,setShowGifPicker:U,showGifPicker:z,handleSelectGif:Un,openEventPicker:Vn,showEventPicker:Z,setShowEventPicker:X,calendarEvents:Q,handleEventSelect:Kn,startRecording:Zn,stopRecording:Xn,handleBotInvoke:Cr,setShowStoryComposer:tt,showStoryComposer:et,handleStoryCreated:Rr,storiesLoading:D,storyEntries:$n,handleFileAttachment:Wn,handleLongPressStart:ar,handleLongPressEnd:ir,handleLongPressMove:sr,handleLongPressCancel:or,handleLongPressContextMenu:lr,longPressMenuMessage:nt,closeLongPressMenu:ur,longPressMenuCoords:at,handleReaction:Jn,handleForward:xr,handleReply:er,handleDelete:Qn,handlePin:hr,pinnedMessages:ce,replyToMessage:le,setReplyToMessage:ue,selectedEvent:ie,setSelectedEvent:oe,handleMessageSearchSelect:fr}):(0,Oa.jsxs)(Oa.Fragment,{children:[(()=>{var e,t;return(0,Oa.jsxs)("div",{className:"flex h-full bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl overflow-hidden border border-slate-200 shadow-lg",style:{height:"100%",maxHeight:"100%",overflow:"hidden"},children:[B&&(0,Oa.jsx)(ua,{variant:"panel",storyEntries:$n,storyMap:Gn,onStoryOpen:ta,storiesLoading:D}),(0,Oa.jsx)("div",{className:"flex-1 flex flex-col bg-white min-h-0 messenger-container",style:{height:"100%",maxHeight:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:w||C?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsxs)("div",{className:"messenger-desktop-header",children:[(0,Oa.jsxs)("div",{className:"messenger-desktop-header__left",children:[(0,Oa.jsx)("button",{onClick:()=>M(!0),className:"messenger-desktop-header__menu-btn md:hidden","aria-label":"Men\xfc \xf6ffnen",children:(0,Oa.jsx)(kg,{className:"w-5 h-5"})}),w?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsxs)("button",{type:"button",className:"messenger-desktop-header__avatar-wrapper",onClick:()=>Tr(w.id),"aria-label":"Profil \xf6ffnen",children:[(0,Oa.jsx)("div",{className:"messenger-desktop-header__avatar",children:(null===(e=w.name)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||"?"}),(0,Oa.jsx)("div",{className:"messenger-desktop-header__status ".concat(w.online?"online":"offline")})]}),(0,Oa.jsxs)("div",{className:"messenger-desktop-header__contact-info",children:[(0,Oa.jsx)("h3",{className:"messenger-desktop-header__name",children:w.name}),(0,Oa.jsx)("p",{className:"messenger-desktop-header__status-text",children:w.online?"Online":"Offline"})]})]}):C&&Mr?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("button",{type:"button",className:"messenger-desktop-header__avatar-wrapper",onClick:()=>Be(!0),"aria-label":"Gruppenverwaltung \xf6ffnen",children:(0,Oa.jsx)("div",{className:"messenger-desktop-header__avatar bg-gradient-to-br from-blue-500 to-purple-600",children:(0,Oa.jsx)(zf,{className:"w-6 h-6 text-white"})})}),(0,Oa.jsxs)("div",{className:"messenger-desktop-header__contact-info",children:[(0,Oa.jsx)("h3",{className:"messenger-desktop-header__name",children:Mr.name||"Gruppenchat"}),(0,Oa.jsxs)("p",{className:"messenger-desktop-header__status-text",children:[Me.length||(Mr.participantCount?Mr.participantCount+1:0)," Mitglieder"]})]})]}):null]}),(0,Oa.jsxs)("div",{className:"messenger-desktop-header__actions",children:[(0,Oa.jsxs)("button",{onClick:dr,className:"messenger-desktop-header__action-btn",title:"Zur\xfcck zu Kontakten",children:[(0,Oa.jsx)(sp,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"hidden lg:inline",children:"Kontakte"})]}),"group"===(null===Mr||void 0===Mr?void 0:Mr.type)&&(0,Oa.jsxs)("button",{onClick:()=>Be(!0),className:"messenger-desktop-header__action-btn",title:"Gruppe verwalten",children:[(0,Oa.jsx)(zf,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"hidden lg:inline",children:"Gruppe"})]}),"group"===(null===Mr||void 0===Mr?void 0:Mr.type)&&"superadmin"===(null===s||void 0===s?void 0:s.role)&&(0,Oa.jsxs)("button",{onClick:async()=>{var e;if(window.confirm('M\xf6chten Sie ALLE Nachrichten in "'.concat(Mr.name,'" l\xf6schen? Dies kann nicht r\xfcckg\xe4ngig gemacht werden!')))try{const t=await(e=C,To.delete("/messages/conversations/".concat(e,"/clear")));Tg("".concat(t.data.deletedCount," Nachrichten gel\xf6scht")),await Mn()}catch(r){var t,n;console.error("Error clearing chat:",r),Rg((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim L\xf6schen der Nachrichten")}},className:"messenger-desktop-header__action-btn",style:{color:"#dc2626"},title:"Alle Nachrichten l\xf6schen (Superadmin)",children:[(0,Oa.jsx)(Ds,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"hidden lg:inline",children:"Chat leeren"})]}),(0,Oa.jsxs)("button",{onClick:()=>ye(!0),className:"messenger-desktop-header__action-btn",title:"Nachrichten durchsuchen",children:[(0,Oa.jsx)(rl,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"hidden lg:inline",children:"Suchen"})]}),(0,Oa.jsxs)("button",{onClick:Cr,className:"messenger-desktop-header__action-btn",title:"BL_Bot \xf6ffnen",children:[(0,Oa.jsx)(Ag,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"hidden lg:inline",children:"BL_Bot"})]}),(0,Oa.jsxs)("button",{onClick:()=>Ae(!Fe),className:"messenger-desktop-header__action-btn ".concat(Fe?"active":""),title:"Kontaktnotizen",children:[(0,Oa.jsx)(Ng,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"hidden lg:inline",children:"Notizen"})]})]})]}),Fe&&w&&(0,Oa.jsx)("div",{className:"px-6 py-4 border-b border-slate-200 bg-white",children:(0,Oa.jsx)($g,{contactId:w.id,contactName:w.name})}),(0,Oa.jsxs)("div",{className:"messenger-messages-container",ref:pn,style:{flex:1,overflowY:"auto",overflowX:"hidden",minHeight:0,maxHeight:"none"},children:[la(),Object.entries(He).map(e=>{let[t,n]=e;return(0,Oa.jsx)(Ug,{userName:n.name},t)}),(0,Oa.jsx)("div",{ref:mn}),(0,Oa.jsxs)("button",{type:"button",onClick:Bn,className:"scroll-to-bottom-btn ".concat(lt?"visible":""),"aria-label":"Zum Ende scrollen",children:[(0,Oa.jsx)(jg,{}),ct>0&&(0,Oa.jsx)("span",{className:"unread-badge",children:ct>99?"99+":ct})]})]}),(0,Oa.jsxs)("form",{onSubmit:zn,className:"messenger-input-container",style:{flexShrink:0,position:"relative",borderTop:"1px solid #e2e8f0",background:"white",zIndex:100},children:[(le||ie||W.length>0||q.length>0)&&(0,Oa.jsxs)("div",{className:"messenger-composer-stack",children:[le&&(0,Oa.jsxs)("div",{className:"messenger-composer-stack__item flex items-start gap-3 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-50 to-slate-50 text-slate-700 shadow-sm border-l-4 border-blue-500",children:[(0,Oa.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-500 text-white flex-shrink-0",children:(0,Oa.jsx)(Cg,{className:"w-5 h-5"})}),(0,Oa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oa.jsxs)("p",{className:"text-xs font-semibold text-blue-600 mb-1",children:["Antworten auf ",le.sender_name]}),(0,Oa.jsx)("p",{className:"text-sm text-slate-600 line-clamp-2",children:le.message})]}),(0,Oa.jsx)("button",{type:"button",onClick:cr,className:"p-1.5 rounded-full hover:bg-slate-200/80 transition flex-shrink-0",title:"Antwort abbrechen",children:(0,Oa.jsx)(vs,{className:"w-4 h-4 text-slate-500"})})]}),ie&&(0,Oa.jsxs)("div",{className:"messenger-composer-stack__item flex items-center gap-3 px-4 py-2 rounded-xl bg-blue-50 text-blue-700 shadow-sm border border-blue-200",children:[(0,Oa.jsx)("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-blue-600 text-white",children:(0,Oa.jsx)(bf,{className:"w-5 h-5"})}),(0,Oa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold truncate",children:ie.title}),(0,Oa.jsx)("p",{className:"text-xs opacity-80",children:jn(ie.start_time,ie.end_time)})]}),(0,Oa.jsx)("button",{type:"button",onClick:Yn,className:"p-1 rounded-full hover:bg-blue-100 transition",title:"Ereignis entfernen",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]}),W.length>0&&(0,Oa.jsx)("div",{className:"messenger-composer-stack__item flex flex-wrap gap-2",children:W.map((e,t)=>sa(e,t))}),q.length>0&&(0,Oa.jsx)("div",{className:"messenger-composer-stack__item",children:ia("upload-progress--floating")})]}),K&&(0,Oa.jsxs)("div",{className:"messenger-recording-indicator",children:[(0,Oa.jsx)("span",{className:"messenger-recording-dot"}),(0,Oa.jsx)("span",{children:"Aufnahme l\xe4uft"}),(0,Oa.jsx)("span",{className:"messenger-recording-time",children:bn(G)}),(0,Oa.jsxs)("button",{type:"button",onClick:Xn,className:"messenger-recording-stop","aria-label":"Aufnahme stoppen",children:[(0,Oa.jsx)(_g,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Stop"})]})]}),(0,Oa.jsx)("button",{type:"button",onClick:yr,className:"messenger-btn-plus ".concat(Ke?"active":""),title:"Mehr Optionen",children:(0,Oa.jsx)(vf,{className:"w-5 h-5"})}),Ke&&(0,Oa.jsxs)("div",{className:"messenger-composer-menu",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{var e;null===(e=Yt.current)||void 0===e||e.click(),zt(!1),Ye(!1)},className:"messenger-composer-menu-item",children:[(0,Oa.jsx)(yg,{}),(0,Oa.jsx)("span",{children:"Datei"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{U(e=>!e),zt(!1),Ye(!1)},className:"messenger-composer-menu-item",children:[(0,Oa.jsx)(Wf,{}),(0,Oa.jsx)("span",{children:"GIF"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{Vn(),zt(!1),Ye(!1)},className:"messenger-composer-menu-item",children:[(0,Oa.jsx)(bf,{}),(0,Oa.jsx)("span",{children:"Termin"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{Ce(!0),zt(!1),Ye(!1)},className:"messenger-composer-menu-item",children:[(0,Oa.jsx)(Sg,{}),(0,Oa.jsx)("span",{children:"Schnellantworten"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{var e;d?(zt(!0),null===(e=$t.current)||void 0===e||e.blur()):K?Xn():Zn();Ye(!1)},className:"messenger-composer-menu-item",children:[K?(0,Oa.jsx)(_g,{}):(0,Oa.jsx)(Uf,{}),(0,Oa.jsx)("span",{children:"Audio"})]}),"group"===(null===Mr||void 0===Mr?void 0:Mr.type)&&(0,Oa.jsxs)("button",{type:"button",onClick:()=>{Cr(),zt(!1),Ye(!1)},className:"messenger-composer-menu-item",children:[(0,Oa.jsx)(Ag,{}),(0,Oa.jsx)("span",{children:"BL_Bot"})]})]}),(0,Oa.jsxs)("div",{className:"messenger-input-wrapper",onClick:()=>{var e;return null===(e=Zt.current)||void 0===e?void 0:e.focus({preventScroll:!0})},style:{position:"relative",zIndex:2},children:[(0,Oa.jsx)("textarea",{ref:Zt,rows:1,value:N,onChange:Pn,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),zn())},placeholder:"group"===(null===Mr||void 0===Mr?void 0:Mr.type)?"Nachricht schreiben... (Tipp: @BL_Bot f\xfcr Hilfe)":"Nachricht schreiben...",className:"messenger-text-input",style:{height:"auto",pointerEvents:"auto",cursor:"text",zIndex:1,color:"#1e293b",backgroundColor:"transparent",fontSize:"15px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',lineHeight:"1.5",padding:"12px 16px",border:"none",outline:"none",resize:"none",width:"100%",opacity:1,WebkitTextFillColor:"#1e293b",caretColor:"#3b82f6"},onInput:e=>{e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,88)+"px"}}),"group"===(null===Mr||void 0===Mr?void 0:Mr.type)&&(0,Oa.jsxs)("button",{type:"button",onClick:Cr,className:"messenger-btn-bot",title:"BL_Bot erw\xe4hnen",children:[(0,Oa.jsx)(Ag,{}),(0,Oa.jsx)("span",{children:"BL_Bot"})]})]}),(0,Oa.jsx)("button",{type:"submit",disabled:P||!N.trim()&&0===W.length&&!ie,className:"messenger-btn-send",title:"Senden",children:(0,Oa.jsx)(Bg,{})}),(0,Oa.jsx)("input",{ref:Yt,type:"file",multiple:!0,accept:"image/*,audio/*,video/*,.pdf,.doc,.docx",onChange:Wn,className:"hidden"})]})]}):(0,Oa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 bg-slate-50",children:[(0,Oa.jsx)(zf,{className:"w-24 h-24 mb-4"}),(0,Oa.jsx)("p",{className:"text-xl font-medium",children:"W\xe4hle einen Kontakt"}),(0,Oa.jsx)("p",{className:"text-sm mt-2",children:"Beginne eine Unterhaltung"})]})})]})})(),Z?(0,Oa.jsx)("div",{className:"event-picker-overlay",role:"dialog","aria-modal":"true","aria-label":"Kalenderereignis ausw\xe4hlen",onClick:()=>X(!1),children:(0,Oa.jsxs)("div",{className:"event-picker-modal",onClick:e=>e.stopPropagation(),children:[(0,Oa.jsxs)("div",{className:"modal-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h2",{children:"Kalenderereignis teilen"}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500",children:"W\xe4hle einen Termin, um ihn im Chat zu teilen."})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>X(!1),className:"rounded-xl border border-slate-100 p-2","aria-label":"Modal schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]}),(0,Oa.jsx)("div",{className:"modal-body",children:ee?(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 py-10",children:[(0,Oa.jsx)(Mg,{className:"h-10 w-10 text-blue-600 animate-spin"}),(0,Oa.jsx)("p",{className:"text-xs font-semibold text-slate-500",children:"Kalender l\xe4dt\u2026"})]}):0===Q.length?(0,Oa.jsxs)("div",{className:"text-center text-sm text-slate-500 py-10 space-y-1",children:[(0,Oa.jsx)("p",{children:ae||"Keine kommenden Termine gefunden."}),(0,Oa.jsx)("p",{children:"Versuche es sp\xe4ter erneut."})]}):Q.map(e=>(0,Oa.jsxs)("button",{type:"button",onClick:()=>Kn(e),className:"event-picker-item",children:[(0,Oa.jsx)("div",{className:"icon",children:(0,Oa.jsx)(bf,{className:"w-5 h-5"})}),(0,Oa.jsxs)("div",{className:"content",children:[(0,Oa.jsx)("p",{className:"title",children:e.title||"Unbenannter Termin"}),(0,Oa.jsx)("p",{className:"time",children:jn(e.start_time,e.end_time)}),e.location&&(0,Oa.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:["Ort: ",e.location]})]})]},e.id||e.start_time))}),(0,Oa.jsxs)("div",{className:"modal-footer",children:[(0,Oa.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>X(!1),children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"button",className:"btn-primary",onClick:qn,disabled:ee,children:"Aktualisieren"})]})]})}):null,ge&&De&&(0,Oa.jsxs)("div",{className:"fixed inset-0 z-[300100] flex items-center justify-center px-4 py-6",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-sm",onClick:()=>{be(!1),xe(null)}}),(0,Oa.jsxs)("div",{className:"relative w-full max-w-xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-200",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Empf\xe4nger ausw\xe4hlen"}),(0,Oa.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:["Termin teilen: ",De.title]})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>{be(!1),xe(null)},className:"p-2 rounded-full hover:bg-slate-100 transition","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsx)("div",{className:"px-5 py-3 border-b border-slate-200",children:(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Oa.jsx)("input",{type:"text",placeholder:"Kontakte durchsuchen...",value:_,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-slate-50"})]})}),(0,Oa.jsx)("div",{className:"max-h-[60vh] overflow-y-auto px-5 py-4 space-y-2",children:0===Pr.length?(0,Oa.jsx)("div",{className:"py-10 text-center text-sm text-slate-500",children:"Keine Kontakte gefunden"}):Pr.map(e=>{var t,n,r,a;return(0,Oa.jsxs)("button",{type:"button",onClick:()=>mr(e),className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-blue-50 border border-transparent hover:border-blue-200 transition",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg shadow-md",children:(null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||(null===(r=e.email)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.toUpperCase())||"?"}),(0,Oa.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,Oa.jsx)("p",{className:"font-semibold text-slate-900 truncate",children:e.name}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500 truncate",children:e.email})]}),e.online&&(0,Oa.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]},e.id)})})]})]}),ht&&(0,Oa.jsx)("div",{className:"group-create-overlay",children:(0,Oa.jsxs)("div",{className:"group-create-modal",children:[(0,Oa.jsxs)("div",{className:"group-create-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"group-create-eyebrow",children:"Neue Gruppe"}),(0,Oa.jsx)("h3",{children:"Team-Chat erstellen"}),(0,Oa.jsx)("p",{children:"W\xe4hle Mitglieder und starte den Chat."})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>mt(!1),className:"group-create-close","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"group-create-body",children:[(0,Oa.jsxs)("div",{className:"group-create-form",children:[(0,Oa.jsx)("label",{htmlFor:"group-draft-name",children:"Gruppenname"}),(0,Oa.jsx)("input",{id:"group-draft-name",type:"text",value:pt,onChange:e=>ft(e.target.value),placeholder:"z.B. Laborplanung"}),(0,Oa.jsx)("label",{htmlFor:"group-draft-description",children:"Beschreibung"}),(0,Oa.jsx)("textarea",{id:"group-draft-description",value:gt,onChange:e=>bt(e.target.value),placeholder:"Worum geht es in der Gruppe?",rows:3}),(0,Oa.jsxs)("label",{className:"group-create-bot",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:wt,onChange:e=>Et(e.target.checked)}),(0,Oa.jsx)("span",{children:"BL_Bot direkt hinzuf\xfcgen"})]})]}),(0,Oa.jsxs)("div",{className:"group-create-members",children:[(0,Oa.jsxs)("div",{className:"group-create-members__header",children:[(0,Oa.jsx)("span",{children:"Mitglieder ausw\xe4hlen"}),Dt.length>0&&(0,Oa.jsxs)("em",{children:[Dt.length," gew\xe4hlt"]})]}),(0,Oa.jsxs)("div",{className:"group-create-search",children:[(0,Oa.jsx)(rl,{className:"w-4 h-4"}),(0,Oa.jsx)("input",{type:"text",value:vt,onChange:e=>yt(e.target.value),placeholder:"Kontakte suchen"})]}),(0,Oa.jsx)("div",{className:"group-create-list",children:0===Yr.length?(0,Oa.jsx)("p",{className:"group-create-empty",children:"Keine Kontakte gefunden."}):Yr.map(e=>(0,Oa.jsxs)("button",{type:"button",className:"group-create-member ".concat(Dt.includes(e.id)?"selected":""),onClick:()=>Ar(e.id),children:[(0,Oa.jsx)("span",{children:e.name||e.email}),Dt.includes(e.id)&&(0,Oa.jsx)(bs,{className:"w-4 h-4"})]},"draft-".concat(e.id)))})]})]}),(0,Oa.jsxs)("div",{className:"group-create-footer",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>mt(!1),className:"group-create-cancel",children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"button",onClick:Nr,disabled:Ct,className:"group-create-submit",children:Ct?"Erstellen\u2026":"Gruppe erstellen"})]})]})}),d&&Ge&&(0,Oa.jsx)("div",{className:"fixed inset-0 z-[300100] bg-slate-900/70 backdrop-blur-sm flex flex-col justify-end",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-t-3xl p-5 shadow-2xl max-h-[75vh] overflow-y-auto",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Angepinnt"}),(0,Oa.jsxs)("h3",{className:"text-xl font-bold text-slate-900",children:[ce.length," Nachrichten"]})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>$e(!1),className:"p-2 rounded-full hover:bg-slate-100 transition","aria-label":"Gepinnte Nachrichten schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5 text-slate-500"})})]}),0===ce.length?(0,Oa.jsx)("p",{className:"text-sm text-slate-500",children:"Noch keine angepinnten Nachrichten."}):(0,Oa.jsx)("div",{className:"space-y-3",children:ce.map(e=>(0,Oa.jsxs)("button",{type:"button",onClick:()=>{$e(!1),pr(e.id)},className:"w-full text-left rounded-2xl border border-slate-200 px-4 py-3 hover:border-blue-300 hover:bg-blue-50 transition",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-400 mb-1",children:[(0,Oa.jsx)("span",{className:"font-semibold text-slate-500",children:e.sender_name||(e.sender_id===(null===s||void 0===s?void 0:s.id)?"Du":"Kontakt")}),e.created_at&&(0,Oa.jsx)("span",{children:$s(new Date(e.created_at),{addSuffix:!0,locale:si})})]}),(0,Oa.jsx)("p",{className:"text-sm text-slate-700 line-clamp-2 whitespace-pre-wrap",children:e.message||"Anh\xe4nge / Ereignis"})]},"pinned-".concat(e.id)))})]})}),Zr&&(0,Oa.jsxs)("div",{className:"fixed inset-0 z-[300200] bg-black flex flex-col relative",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 bg-gradient-to-b from-black/80 to-transparent relative",style:{paddingTop:"calc(1rem + env(safe-area-inset-top, 0))"},children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:(null===(e=Zr.userName)||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())||"?"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"font-bold text-white text-base",children:Zr.userName}),Zr.createdAt&&(0,Oa.jsx)("p",{className:"text-xs text-white/60",children:$s(new Date(Zr.createdAt),{addSuffix:!0,locale:si})})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[Zr.userId===(null===s||void 0===s?void 0:s.id)&&(0,Oa.jsx)("button",{onClick:async()=>{if(window.confirm("Story l\xf6schen?"))try{await(e=Zr.id,To.delete("/messages/stories/".concat(e))),b(e=>e.filter(e=>e.id!==Zr.id)),na(),Tg("Story gel\xf6scht")}catch(BM){console.error("Error deleting story:",BM),Rg("Fehler beim L\xf6schen")}var e},className:"w-10 h-10 flex items-center justify-center rounded-full bg-red-500/80 active:bg-red-600/80 transition-colors relative z-50",type:"button",children:(0,Oa.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Oa.jsx)("button",{onClick:na,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/20 active:bg-white/30 transition-colors relative z-50",type:"button",children:(0,Oa.jsx)(vs,{className:"w-6 h-6 text-white"})})]})]}),(0,Oa.jsx)("div",{className:"story-viewer-extra-close",children:(0,Oa.jsxs)("button",{type:"button",onClick:na,className:"story-viewer-close-btn",children:[(0,Oa.jsx)(vs,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Schlie\xdfen"})]})}),$r.length>1&&(0,Oa.jsx)("div",{className:"flex gap-1 px-4 pb-2",children:$r.map((e,t)=>(0,Oa.jsx)("div",{className:"h-1 flex-1 rounded-full bg-white/30 overflow-hidden",children:(0,Oa.jsx)("div",{className:"h-full bg-white transition-all duration-300 ".concat(t<Xr?"w-full":t===Xr?"w-full animate-pulse":"w-0")})},t))}),(0,Oa.jsxs)("div",{className:"flex-1 flex items-center justify-center px-4 relative",children:[ea&&(0,Oa.jsxs)(Oa.Fragment,{children:[Qr&&(0,Oa.jsx)("button",{onClick:aa,className:"absolute left-0 top-0 bottom-0 w-1/3 z-10 active:bg-white/10 transition-colors","aria-label":"Vorherige Story"}),Jr&&(0,Oa.jsx)("button",{onClick:ra,className:"absolute right-0 top-0 bottom-0 w-1/3 z-10 active:bg-white/10 transition-colors","aria-label":"N\xe4chste Story"})]}),null!==(n=Zr.mediaType)&&void 0!==n&&n.startsWith("video")?(0,Oa.jsx)("video",{src:nl(Zr.mediaUrl),controls:!0,autoPlay:!0,className:"max-h-[75vh] max-w-full rounded-2xl shadow-2xl relative z-20"}):(0,Oa.jsx)("img",{src:nl(Zr.mediaUrl),alt:Zr.caption||"Story",className:"max-h-[75vh] max-w-full rounded-2xl shadow-2xl object-contain relative z-20"})]}),Zr.caption&&(0,Oa.jsx)("div",{className:"px-6 py-4 bg-gradient-to-t from-black/80 to-transparent",children:(0,Oa.jsx)("p",{className:"text-sm text-white text-center leading-relaxed",children:Zr.caption})}),ea&&(0,Oa.jsxs)("div",{className:"flex items-center justify-between px-4 pb-6 bg-gradient-to-t from-black/60 to-transparent",style:{paddingBottom:"calc(1.5rem + env(safe-area-inset-bottom, 0))"},children:[(0,Oa.jsxs)("button",{onClick:aa,disabled:!Qr,className:"flex items-center gap-2 px-5 py-3 rounded-full bg-white/20 backdrop-blur-md text-white font-medium active:bg-white/30 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[(0,Oa.jsx)(sp,{className:"w-5 h-5"}),(0,Oa.jsx)("span",{className:"text-sm",children:"Zur\xfcck"})]}),(0,Oa.jsxs)("div",{className:"text-white/60 text-sm font-medium",children:[Xr+1," / ",$r.length]}),(0,Oa.jsxs)("button",{onClick:ra,disabled:!Jr,className:"flex items-center gap-2 px-5 py-3 rounded-full bg-white/20 backdrop-blur-md text-white font-medium active:bg-white/30 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[(0,Oa.jsx)("span",{className:"text-sm",children:"Weiter"}),(0,Oa.jsx)(ip,{className:"w-5 h-5"})]})]})]}),z&&(0,Oa.jsx)(zg,{onSelectGif:Un,onClose:()=>U(!1)}),ve&&(0,Oa.jsx)(Wg,{onClose:()=>ye(!1),onMessageSelect:fr,contacts:h,threads:p,currentConversationId:C,currentUserId:null===s||void 0===s?void 0:s.id}),we&&(0,Oa.jsx)(Yg,{onSelect:Dr,onClose:br}),ke&&je&&(0,Oa.jsx)(Zg,{message:je,onClose:()=>{Ne(!1),_e(null)},onSuccess:vr}),Se&&(0,Oa.jsx)("div",{className:"group-settings-overlay",children:(0,Oa.jsxs)("div",{className:"group-settings-modal",children:[(0,Oa.jsxs)("div",{className:"group-settings-header",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"group-settings-eyebrow",children:"Gruppeneinstellungen"}),(0,Oa.jsx)("h3",{children:(null===Mr||void 0===Mr?void 0:Mr.name)||"Gruppe"}),(0,Oa.jsxs)("p",{children:[Me.length," Mitglieder"]})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>Be(!1),className:"group-settings-close","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"group-settings-body",children:[(0,Oa.jsxs)("section",{className:"group-settings-section",children:[(0,Oa.jsxs)("div",{className:"group-settings-section__header",children:[(0,Oa.jsx)("h4",{children:"Gruppendetails"}),!Hr&&(0,Oa.jsx)("span",{children:"Nur Admins"})]}),Hr?(0,Oa.jsxs)("div",{className:"group-settings-form",children:[(0,Oa.jsx)("label",{htmlFor:"group-name",children:"Gruppenname"}),(0,Oa.jsx)("input",{id:"group-name",type:"text",value:At,onChange:e=>kt(e.target.value),placeholder:"z.B. Laborplanung"}),(0,Oa.jsx)("label",{htmlFor:"group-description",children:"Beschreibung"}),(0,Oa.jsx)("textarea",{id:"group-description",value:Nt,onChange:e=>jt(e.target.value),placeholder:"Kurzbeschreibung der Gruppe",rows:3}),(0,Oa.jsx)("button",{type:"button",onClick:jr,disabled:_t,className:"group-settings-save",children:_t?"Speichern\u2026":"\xc4nderungen speichern"})]}):(0,Oa.jsxs)("div",{className:"group-settings-readonly",children:[(0,Oa.jsx)("p",{children:(0,Oa.jsx)("strong",{children:At||(null===Mr||void 0===Mr?void 0:Mr.name)})}),(0,Oa.jsx)("p",{children:Nt||(null===Mr||void 0===Mr?void 0:Mr.description)||"Keine Beschreibung hinterlegt."})]})]}),(0,Oa.jsxs)("section",{className:"group-settings-section",children:[(0,Oa.jsxs)("div",{className:"group-settings-section__header",children:[(0,Oa.jsx)("h4",{children:"Mitglieder hinzuf\xfcgen"}),It.length>0&&(0,Oa.jsxs)("span",{children:[It.length," ausgew\xe4hlt"]})]}),Hr?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsxs)("div",{className:"group-settings-search",children:[(0,Oa.jsx)(rl,{className:"w-4 h-4"}),(0,Oa.jsx)("input",{type:"text",value:Tt,onChange:e=>Rt(e.target.value),placeholder:"Kontakte suchen"})]}),(0,Oa.jsx)("div",{className:"group-settings-candidates",children:0===Gr.length?(0,Oa.jsx)("p",{className:"group-settings-empty",children:"Keine passenden Kontakte gefunden."}):Gr.map(e=>(0,Oa.jsxs)("button",{type:"button",className:"group-settings-candidate ".concat(It.includes(e.id)?"selected":""),onClick:()=>kr(e.id),children:[(0,Oa.jsx)("span",{children:e.name||e.email}),It.includes(e.id)&&(0,Oa.jsx)(bs,{className:"w-4 h-4"})]},"invite-".concat(e.id)))}),(0,Oa.jsx)("button",{type:"button",onClick:_r,disabled:Mt||0===It.length,className:"group-settings-add",children:Mt?"Hinzuf\xfcgen\u2026":"Mitglieder hinzuf\xfcgen"})]}):(0,Oa.jsx)("p",{className:"group-settings-empty",children:"Du kannst keine Mitglieder hinzuf\xfcgen."})]}),(0,Oa.jsxs)("section",{className:"group-settings-section",children:[(0,Oa.jsxs)("div",{className:"group-settings-section__header",children:[(0,Oa.jsx)("h4",{children:"Mitglieder"}),(0,Oa.jsx)("span",{children:Me.length})]}),(0,Oa.jsx)("div",{className:"group-settings-members",children:Me.map(e=>{var t,n;const r=e.user_id===(null===s||void 0===s?void 0:s.id),a="owner"===e.role,i=Hr&&!a&&!r;return(0,Oa.jsxs)("div",{className:"group-settings-member",children:[(0,Oa.jsx)("div",{className:"group-settings-member__avatar",role:"button",tabIndex:0,onClick:()=>Tr(e.user_id),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),Tr(e.user_id))},children:(null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"?"}),(0,Oa.jsxs)("div",{className:"group-settings-member__info",children:[(0,Oa.jsxs)("div",{className:"group-settings-member__name",children:[(0,Oa.jsx)("span",{children:e.name}),r&&(0,Oa.jsx)("em",{children:"Du"})]}),(0,Oa.jsxs)("div",{className:"group-settings-member__meta",children:[(0,Oa.jsx)("span",{children:e.email}),e.role&&(0,Oa.jsx)("strong",{children:"owner"===e.role?"Besitzer":"moderator"===e.role?"Moderator":"Mitglied"})]})]}),i&&(0,Oa.jsx)("button",{type:"button",onClick:()=>Sr(e.user_id),className:"group-settings-member__remove",disabled:Mt,children:"Entfernen"})]},e.user_id)})})]}),qr&&"group"===(null===Mr||void 0===Mr?void 0:Mr.type)&&(0,Oa.jsxs)("section",{className:"group-settings-section group-settings-section--danger",children:[(0,Oa.jsxs)("div",{className:"group-settings-section__header",children:[(0,Oa.jsx)("h4",{children:"Superadmin"}),(0,Oa.jsx)("span",{children:"Gefahr"})]}),(0,Oa.jsxs)("div",{className:"group-settings-danger",children:[(0,Oa.jsx)("p",{children:"Diese Aktion l\xf6scht die Gruppe dauerhaft inklusive aller Nachrichten."}),(0,Oa.jsx)("button",{type:"button",onClick:Or,disabled:Mt,className:"group-settings-delete",children:"Gruppe l\xf6schen"})]})]})]}),(0,Oa.jsxs)("div",{className:"group-settings-footer",children:[(0,Oa.jsx)("button",{type:"button",onClick:Br,disabled:Mt,className:"group-settings-leave",children:"Gruppe verlassen"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>Be(!1),className:"group-settings-close-btn",children:"Schlie\xdfen"})]})]})}),Ie&&Te.length>0&&(0,Oa.jsx)("div",{className:"fixed bg-white border border-slate-200 rounded-xl shadow-2xl z-50 max-w-xs w-full",style:{bottom:"120px",left:d?"20px":"auto",right:d?"20px":"400px"},children:(0,Oa.jsx)("div",{className:"p-2 space-y-1",children:Te.map(e=>{var t,n,r;return(0,Oa.jsxs)("button",{onClick:()=>(e=>{const t=N.substring(0,Ue),n=N.substring(Ue),r=t.lastIndexOf("@");if(-1!==r){var a;const s=null!==(a=e.name)&&void 0!==a&&a.includes(" ")?"{".concat(e.name,"}"):e.name,i=t.substring(0,r)+"@".concat(s," ")+n;j(i),Pe(!1),ze("")}})(e),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-blue-50 transition text-left",children:[(0,Oa.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold flex-shrink-0",children:(null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"?"}),(0,Oa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oa.jsx)("p",{className:"font-semibold text-slate-900 truncate text-sm",children:e.name}),(0,Oa.jsxs)("p",{className:"text-xs text-slate-500 truncate",children:["@",null!==(r=e.name)&&void 0!==r&&r.includes(" ")?"{".concat(e.name,"}"):e.name]})]})]},e.user_id)})})}),et&&(0,Oa.jsx)(qg,{userId:null===s||void 0===s?void 0:s.id,onClose:()=>tt(!1),onSuccess:Rr,showSuccess:Tg,showError:Rg})]})})},cb=()=>((0,o.useEffect)(()=>(document.body.classList.add("messenger-page"),()=>{document.body.classList.remove("messenger-page")}),[]),(0,Oa.jsx)("div",{className:"messenger-page-container flex flex-col flex-1 min-h-0 overflow-hidden",children:(0,Oa.jsx)(ub,{})})),db=cs("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),hb=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[a,s]=(0,o.useState)([]),[i,l]=(0,o.useState)(!0),[u,c]=(0,o.useState)(!1),[d,h]=(0,o.useState)({}),[m,p]=(0,o.useState)({name:"",location:"",quantity:"",unit:"St\xfcck",notes:""}),f=(0,o.useCallback)(async()=>{try{l(!0),console.log("[WASTE] Loading data...");const[e,n,r]=await Promise.all([Ma.get("/waste-categories").then(e=>(console.log("[WASTE] Categories response:",e),e)).catch(e=>{throw console.error("[WASTE] Categories error:",e),console.error("[WASTE] Categories error response:",e.response),e}),Ma.get("/waste/items").catch(e=>(console.error("[WASTE] Items error:",e),{data:[]})),Ma.get("/waste/templates").catch(e=>(console.error("[WASTE] Templates error:",e),{data:[]}))]),a=e=>Array.isArray(e)?e:e&&(Array.isArray(e.active)||Array.isArray(e.history))?[...Array.isArray(e.active)?e.active:[],...Array.isArray(e.history)?e.history:[]]:[],i=Array.isArray(r.data)?r.data:[],o=i.reduce((e,t)=>{const n=(t.category||t.name||"").toLowerCase();return n?(e[n]||(e[n]=[]),e[n].push(t),e):e},{}),u=i.reduce((e,t)=>{const n=(t.category||t.name||"").toLowerCase();return!n||e.find(e=>e._key===n)||e.push({id:t.id||"template-".concat(n),name:t.category||t.name||"Abfall",description:t.description||t.safety_instructions||"Vorlage aus Abfalltypen",color:t.color||"#3B82F6",icon:t.icon||"\u267b\ufe0f",instructions:t.instructions||t.safety_instructions||"",templateId:t.id||null,_key:n}),e},[]),c=Array.isArray(e.data)&&e.data.length>0?e.data:u,d=a(n.data);console.log("Loaded categories:",c.length),console.log("Loaded items:",d.length);const m=c.map(e=>{var t;const n=(e.name||"").toLowerCase(),r=n?null===(t=o[n])||void 0===t?void 0:t[0]:null,a=e.template_id||e.templateId||(null===r||void 0===r?void 0:r.id)||null;return qe(qe({},e),{},{template_id:a,templateId:a,icon:e.icon||(null===r||void 0===r?void 0:r.icon)||"\u267b\ufe0f",color:e.color||(null===r||void 0===r?void 0:r.color)||"#3B82F6",description:e.description||(null===r||void 0===r?void 0:r.description)||e.instructions||"",instructions:e.instructions||(null===r||void 0===r?void 0:r.instructions)||""})});t(m),s(d),h(o)}catch(e){console.error("Error loading data:",e),sn.error("Fehler beim Laden der Daten")}finally{l(!1)}},[]);(0,o.useEffect)(()=>{f()},[f]);if(i)return(0,Oa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)(Ds,{className:"w-16 h-16 text-blue-600 mx-auto mb-4 animate-pulse"}),(0,Oa.jsx)("p",{className:"text-gray-600",children:"L\xe4dt Abfallverwaltung..."})]})});const g=a.filter(e=>"active"===e.status),b=a.filter(e=>"disposed"===e.status);return(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 pb-20",children:(0,Oa.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oa.jsx)("div",{className:"mb-8",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,Oa.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl flex items-center justify-center shadow-lg",children:(0,Oa.jsx)(Ds,{className:"w-8 h-8 text-white"})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Entsorgungsverwaltung"}),(0,Oa.jsx)("p",{className:"text-gray-600 mt-1",children:"W\xe4hlen Sie eine Abfallkategorie zum Hinzuf\xfcgen"})]})]})}),(0,Oa.jsxs)("div",{className:"mb-12",children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Abfallkategorien"}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:e.map(e=>{const t=g.filter(t=>{var n,r;return(null===(n=t.category)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())}).length,n=e.color||"#3B82F6",a=e.icon||"\u267b\ufe0f";return(0,Oa.jsxs)("button",{onClick:()=>(e=>{r(e),c(!0),p({name:"",location:"",quantity:"",unit:"St\xfcck",notes:""})})(e),className:"group relative overflow-hidden rounded-2xl p-6 text-left transition-all duration-300 hover:scale-105 hover:shadow-2xl",style:{background:"linear-gradient(135deg, ".concat(n,"15 0%, ").concat(n,"30 100%)"),borderLeft:"4px solid ".concat(n)},children:[(0,Oa.jsx)("div",{className:"text-6xl mb-3 group-hover:scale-110 transition-transform",children:a}),(0,Oa.jsx)("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:e.name}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),t>0&&(0,Oa.jsx)("div",{className:"absolute top-3 right-3",children:(0,Oa.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full text-white text-sm font-bold shadow-lg",style:{backgroundColor:n},children:t})}),(0,Oa.jsx)("div",{className:"absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Oa.jsx)(vf,{className:"w-6 h-6 text-white p-1 rounded-full shadow-lg",style:{backgroundColor:n}})})]},e.id)})})]}),g.length>0&&(0,Oa.jsxs)("div",{className:"mb-8",children:[(0,Oa.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Aktive Abf\xe4lle (",g.length,")"]}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(t=>{const n=e.find(e=>{var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=t.category)||void 0===r?void 0:r.toLowerCase())});return(0,Oa.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Oa.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("span",{className:"text-3xl",children:(null===n||void 0===n?void 0:n.icon)||"\ud83d\udce6"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"font-bold text-gray-900",children:t.name}),(0,Oa.jsx)("p",{className:"text-sm text-gray-500",children:t.category})]})]})}),t.location&&(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,Oa.jsx)(xf,{className:"w-4 h-4"}),t.location]}),t.quantity&&(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[(0,Oa.jsx)(db,{className:"w-4 h-4"}),t.quantity," ",t.unit]}),(0,Oa.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Oa.jsxs)("button",{onClick:()=>(async e=>{try{await Ma.put("/waste/items/".concat(e),{status:"disposed",last_disposal_date:(new Date).toISOString()}),sn.success("Als entsorgt markiert"),f()}catch(t){console.error("Error marking disposed:",t),sn.error("Fehler beim Aktualisieren")}})(t.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-semibold",children:[(0,Oa.jsx)(bs,{className:"w-4 h-4"}),"Entsorgt"]}),(0,Oa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Abfall wirklich l\xf6schen?"))try{await Ma.delete("/waste/items/".concat(e)),sn.success("Abfall gel\xf6scht"),f()}catch(t){console.error("Error deleting item:",t),sn.error("Fehler beim L\xf6schen")}})(t.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]})]},t.id)})})]}),b.length>0&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Entsorgt (",b.length,")"]}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(t=>{const n=e.find(e=>{var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=t.category)||void 0===r?void 0:r.toLowerCase())});return(0,Oa.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 shadow-sm border border-gray-200 opacity-75",children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("span",{className:"text-3xl grayscale",children:(null===n||void 0===n?void 0:n.icon)||"\ud83d\udce6"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"font-bold text-gray-700",children:t.name}),(0,Oa.jsx)("p",{className:"text-sm text-gray-500",children:t.category})]})]}),(0,Oa.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full font-semibold",children:"Entsorgt"})]}),t.last_disposal_date&&(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Oa.jsx)(fs,{className:"w-4 h-4"}),Zp(new Date(t.last_disposal_date),"dd.MM.yyyy",{locale:si})]})]},t.id)})})]}),u&&n&&(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,Oa.jsx)("span",{className:"text-5xl",children:n.icon}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n.name}),(0,Oa.jsx)("p",{className:"text-gray-600",children:"Neuen Abfall hinzuf\xfcgen"})]})]}),(0,Oa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!n)return;let t=n.templateId||n.template_id;if(!t){var r;const e=null===(r=n.name)||void 0===r?void 0:r.toLowerCase().trim(),a=e?d[e]:null;if(null!==a&&void 0!==a&&a.length)t=a[0].id;else if(e)try{const e=await Ma.get("/waste/templates/category/".concat(encodeURIComponent(n.name)));Array.isArray(e.data)&&e.data.length>0&&(t=e.data[0].id)}catch(b){console.error("[CREATE-ITEM] Failed to fetch template by category",b)}}if(!t)return console.error("[CREATE-ITEM] Missing template_id for category even after fallback",n),void sn.error("Keine passende Vorlage f\xfcr diese Kategorie gefunden");try{var a,s,i,o,l,u;console.log("[CREATE-ITEM] Sending:",{template_id:t,name:(null===(a=m.name)||void 0===a?void 0:a.trim())||n.name,location:(null===(s=m.location)||void 0===s?void 0:s.trim())||null,quantity:m.quantity?parseFloat(m.quantity):null,unit:m.unit,notes:(null===(i=m.notes)||void 0===i?void 0:i.trim())||null}),await Ma.post("/waste/items",{template_id:t,name:(null===(o=m.name)||void 0===o?void 0:o.trim())||n.name,location:(null===(l=m.location)||void 0===l?void 0:l.trim())||null,quantity:m.quantity?parseFloat(m.quantity):null,unit:m.unit,notes:(null===(u=m.notes)||void 0===u?void 0:u.trim())||null,status:"active"}),sn.success("Abfall erfolgreich hinzugef\xfcgt"),c(!1),f()}catch(D){var h,p,g;console.error("[CREATE-ITEM] Error:",D),console.error("[CREATE-ITEM] Error response:",null===(h=D.response)||void 0===h?void 0:h.data),sn.error((null===(p=D.response)||void 0===p||null===(g=p.data)||void 0===g?void 0:g.error)||"Fehler beim Erstellen")}},className:"space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name / Beschreibung *"}),(0,Oa.jsx)("input",{type:"text",value:m.name,onChange:e=>p(qe(qe({},m),{},{name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"z.B. ".concat(n.name," Labor 3"),required:!0})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Standort"}),(0,Oa.jsx)("input",{type:"text",value:m.location,onChange:e=>p(qe(qe({},m),{},{location:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"z.B. Lager Raum 204"})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Menge"}),(0,Oa.jsx)("input",{type:"number",step:"0.01",value:m.quantity,onChange:e=>p(qe(qe({},m),{},{quantity:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Einheit"}),(0,Oa.jsxs)("select",{value:m.unit,onChange:e=>p(qe(qe({},m),{},{unit:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Oa.jsx)("option",{value:"St\xfcck",children:"St\xfcck"}),(0,Oa.jsx)("option",{value:"kg",children:"kg"}),(0,Oa.jsx)("option",{value:"L",children:"L"}),(0,Oa.jsx)("option",{value:"ml",children:"ml"}),(0,Oa.jsx)("option",{value:"g",children:"g"})]})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notizen"}),(0,Oa.jsx)("textarea",{value:m.notes,onChange:e=>p(qe(qe({},m),{},{notes:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"3",placeholder:"Zus\xe4tzliche Informationen..."})]}),(0,Oa.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-semibold",children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold shadow-lg",style:{backgroundColor:n.color},children:"Hinzuf\xfcgen"})]})]})]})})]})})},mb=()=>(0,Oa.jsx)(hb,{}),pb=e=>{let{value:t,onChange:n,label:r,disabled:a=!1}=e;const{isMobile:s}=ii(),[i,l]=(0,o.useState)(!1),[u,c]=(0,o.useState)("08"),[d,h]=(0,o.useState)("00"),m=(0,o.useRef)(null),p=(0,o.useRef)(null),[f,g]=(0,o.useState)(null),b=(0,o.useRef)(0),D=(0,o.useRef)({overflow:"",position:"",top:"",width:""});(0,o.useEffect)(()=>{if(t){const e=t.split(":");2===e.length&&(c(e[0].padStart(2,"0")),h(e[1].padStart(2,"0")))}},[t]),(0,o.useEffect)(()=>{if(s&&i)return b.current=window.scrollY||window.pageYOffset||0,D.current={overflow:document.body.style.overflow,position:document.body.style.position,top:document.body.style.top,width:document.body.style.width},document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-".concat(b.current,"px"),document.body.style.width="100%",()=>{document.body.style.overflow=D.current.overflow,document.body.style.position=D.current.position,document.body.style.top=D.current.top,document.body.style.width=D.current.width,window.scrollTo(0,b.current)}},[i,s]),(0,o.useEffect)(()=>{const e=e=>{const t=m.current,n=p.current;t&&t.contains(e.target)||n&&n.contains(e.target)||l(!1)};if(i&&!s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[i,s]);const x=()=>{n("".concat(u,":").concat(d)),l(!1)},v=()=>{c("08"),h("00"),n(""),l(!1)},y=Array.from({length:24},(e,t)=>t),w=Array.from({length:60},(e,t)=>t),E=["00","15","30","45"],C=e=>String(e).padStart(2,"0"),F=e=>{const t=parseInt(u,10)||0;c(C((t+e+24)%24))},A=e=>{const t=parseInt(d,10)||0;h(C((t+e+60)%60))},k=e=>{const t=Math.min(Math.max(parseInt(e,10)||0,0),59);h(C(t))},N=()=>{if(!p.current)return;const e=p.current.getBoundingClientRect(),t=12,n=Math.max(e.width,280),r=Math.max(t,window.innerWidth-n-t),a=Math.min(Math.max(e.left,t),r),s=window.innerHeight-e.bottom-t,i=e.top-t,o=s<360&&i>s?Math.max(t,e.top-360-8):Math.min(e.bottom+8,window.innerHeight-360-t);g({top:"".concat(o,"px"),left:"".concat(a,"px"),width:"".concat(n,"px")})};return(0,o.useEffect)(()=>{if(!i||s)return;N();const e=()=>N(),t=()=>N();return window.addEventListener("scroll",e,!0),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",t)}},[s,i]),s?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("label",{className:"block text-xs sm:text-sm text-gray-700 font-medium mb-1",children:r}),(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("input",{type:"text",value:t||"",readOnly:!0,onClick:()=>!a&&l(!0),disabled:a,placeholder:"--:--",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 transition-all cursor-pointer disabled:bg-gray-100 disabled:cursor-not-allowed text-base font-medium"}),(0,Oa.jsx)(Df,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),i&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black/40 z-[60]",onClick:()=>l(!1)}),(0,Oa.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center px-4",children:(0,Oa.jsxs)("div",{className:"w-full max-w-sm bg-white rounded-3xl shadow-2xl pb-safe",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,Oa.jsx)("button",{type:"button",onClick:v,className:"text-red-600 font-semibold text-sm px-3 py-2 rounded-lg hover:bg-red-50 transition",children:"L\xf6schen"}),(0,Oa.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Zeit w\xe4hlen"}),(0,Oa.jsx)("button",{type:"button",onClick:x,className:"text-blue-600 font-semibold text-sm px-3 py-2 rounded-lg hover:bg-blue-50 transition",children:"OK"})]}),(0,Oa.jsxs)("div",{className:"p-6 space-y-5",children:[(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{className:"space-y-3 text-center",children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Stunden"}),(0,Oa.jsxs)("div",{className:"rounded-2xl bg-slate-100 p-3 flex flex-col items-center gap-3",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>F(1),className:"w-12 h-12 rounded-full bg-white shadow hover:bg-slate-50 active:scale-95 text-2xl font-semibold text-slate-700",children:"+"}),(0,Oa.jsx)("input",{type:"number",value:u,onChange:e=>(e=>{const t=Math.min(Math.max(parseInt(e,10)||0,0),23);c(C(t))})(e.target.value),min:"0",max:"23",inputMode:"numeric",className:"w-16 text-center text-4xl font-semibold text-slate-900 bg-transparent border-none focus:outline-none focus:ring-0 tabular-nums"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>F(-1),className:"w-12 h-12 rounded-full bg-white shadow hover:bg-slate-50 active:scale-95 text-2xl font-semibold text-slate-700",children:"\u2212"})]})]}),(0,Oa.jsxs)("div",{className:"space-y-3 text-center",children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Minuten"}),(0,Oa.jsxs)("div",{className:"rounded-2xl bg-slate-100 p-3 flex flex-col items-center gap-3",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>A(1),className:"w-12 h-12 rounded-full bg-white shadow hover:bg-slate-50 active:scale-95 text-2xl font-semibold text-slate-700",children:"+"}),(0,Oa.jsx)("input",{type:"number",value:d,onChange:e=>k(e.target.value),min:"0",max:"59",inputMode:"numeric",className:"w-16 text-center text-4xl font-semibold text-slate-900 bg-transparent border-none focus:outline-none focus:ring-0 tabular-nums"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>A(-1),className:"w-12 h-12 rounded-full bg-white shadow hover:bg-slate-50 active:scale-95 text-2xl font-semibold text-slate-700",children:"\u2212"})]})]})]}),(0,Oa.jsx)("div",{className:"flex flex-wrap items-center gap-2 justify-center",children:E.map(e=>(0,Oa.jsxs)("button",{type:"button",onClick:()=>k(e),className:"px-3 py-1.5 rounded-lg text-sm font-medium border ".concat(d===e?"border-blue-500 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600"),children:[":",e]},e))})]})]})})]}),(0,Oa.jsx)("style",{jsx:!0,children:"\n          .scrollbar-hide::-webkit-scrollbar {\n            display: none;\n          }\n          .scrollbar-hide {\n            -ms-overflow-style: none;\n            scrollbar-width: none;\n          }\n          .pb-safe {\n            padding-bottom: env(safe-area-inset-bottom);\n          }\n        "})]}):(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("label",{className:"block text-xs sm:text-sm text-gray-700 font-medium mb-1",children:r}),(0,Oa.jsxs)("div",{className:"relative",ref:p,children:[(0,Oa.jsx)("input",{type:"text",value:t||"",readOnly:!0,onClick:()=>!a&&l(!i),disabled:a,placeholder:"--:--",className:"w-full px-3 py-2 sm:py-2.5 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-200 transition-all cursor-pointer disabled:bg-gray-100 disabled:cursor-not-allowed text-sm sm:text-base"}),(0,Oa.jsx)(Df,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),i&&(0,Ee.createPortal)((0,Oa.jsxs)("div",{ref:m,className:"fixed z-[9999] bg-white rounded-xl shadow-2xl border-2 border-gray-200 p-4 w-full sm:w-auto",style:f||{visibility:"hidden"},children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oa.jsx)("h3",{className:"font-bold text-gray-900",children:"Zeit auswahlen"}),(0,Oa.jsx)("button",{onClick:()=>l(!1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold text-gray-600 mb-2 text-center",children:"Stunden"}),(0,Oa.jsx)("div",{className:"grid grid-cols-4 gap-1 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2",children:y.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>(e=>{const t=String(e).padStart(2,"0");c(t),s||n("".concat(t,":").concat(d))})(e),className:"px-2 py-1.5 rounded text-sm font-medium transition-all ".concat(String(e).padStart(2,"0")===u?"bg-blue-600 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-blue-100"),children:String(e).padStart(2,"0")},e))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs font-semibold text-gray-600 mb-2 text-center",children:"Minuten"}),(0,Oa.jsx)("div",{className:"grid grid-cols-3 gap-1 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2",children:w.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>(e=>{const t=String(e).padStart(2,"0");h(t),s||n("".concat(u,":").concat(t))})(e),className:"px-2 py-1.5 rounded text-sm font-medium transition-all ".concat(String(e).padStart(2,"0")===d?"bg-blue-600 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-blue-100"),children:String(e).padStart(2,"0")},e))})]})]}),(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsx)("button",{type:"button",onClick:v,className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium text-sm transition-all",children:"Loschen"}),(0,Oa.jsx)("button",{type:"button",onClick:x,className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-all",children:"OK"})]})]}),document.body)]})},fb=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],gb=[{start:"08:00",end:"12:00"},{start:"12:30",end:"16:30"}],bb=(e,t,n)=>Array.isArray(e)&&e.length>0?e.map(e=>({start:e.start,end:e.end})):t&&n?[{start:t,end:n}]:[];function Db(e){const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(0===n?-6:1);return new Date(t.setDate(r))}function xb(e){return e.toLocaleDateString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit"})}function vb(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function yb(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function wb(e,t){if(!e||!t)return 0;const[n,r]=e.split(":").map(Number),[a,s]=t.split(":").map(Number);return(60*a+s-(60*n+r))/60}const Eb=()=>{var e,t;const[n,r]=(0,o.useState)(Db(new Date)),[a,s]=(0,o.useState)([]),[i,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(!0),[d,h]=(0,o.useState)(!1),m=(0,o.useRef)({}),{isMobile:p}=ii(),f=(0,o.useCallback)(async()=>{try{c(!0);const e=vb(n),[t,r]=await Promise.all([Ma.get("/schedule/week/".concat(e)),Ma.get("/schedule/hours-summary/".concat(e))]),a=(t.data||[]).map(e=>{const t=bb(e.time_blocks,e.start_time,e.end_time);return qe(qe({},e),{},{time_blocks:t,start_time:e.start_time,end_time:e.end_time})});s(a),l(r.data)}catch(e){console.error("Error loading schedule:",e),sn.error("Fehler beim Laden des Stundenplans")}finally{c(!1)}},[n]);(0,o.useEffect)(()=>{f();const e=m.current;return()=>{Object.values(e).forEach(e=>clearTimeout(e))}},[f]);const g=(e,t)=>{m.current[e]&&clearTimeout(m.current[e]),m.current[e]=setTimeout(()=>{b(e,t)},600)},b=async(e,t)=>{try{const n=a[e];if(!n||!n.id)return void sn.error("Ung\xfcltiger Tag");h(!0);const r={isWorking:t.is_working,timeBlocks:t.time_blocks},i=await Ma.put("/schedule/day/".concat(n.id),r),o=qe(qe({},i.data),{},{time_blocks:bb(i.data.time_blocks,i.data.start_time,i.data.end_time)}),l=[...a];l[e]=o,s(l),await D(),sn.success("Stundenplan aktualisiert")}catch(i){var n,r;console.error("Error updating day:",i),sn.error((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Fehler beim Aktualisieren des Stundenplans"),f()}finally{h(!1)}},D=(0,o.useCallback)(async()=>{try{const e=vb(n),t=await Ma.get("/schedule/hours-summary/".concat(e));l(t.data)}catch(e){console.error("Error refreshing summary:",e)}},[n]),x=e=>{const t=a[e],n=!t.is_working,r=n?t.time_blocks.length?t.time_blocks:[...gb]:[],i=qe(qe({},t),{},{is_working:n,time_blocks:r});s(t=>{const n=[...t];return n[e]=i,n}),g(e,i)},v=(e,t,n,r)=>{const i=a[e],o=[...i.time_blocks],l=qe(qe({},o[t]),{},{[n]:r});if(l.start&&l.end&&function(e,t){const[n,r]=e.split(":").map(Number),[a,s]=t.split(":").map(Number);return 60*n+r-(60*a+s)}(l.start,l.end)>=0)return void sn.error("Endzeit muss nach Startzeit liegen");o[t]=l;const u=o.some(e=>!e.start||!e.end),c=u?o:[...o].sort((e,t)=>e.start<t.start?-1:e.start>t.start?1:0),d=qe(qe({},i),{},{time_blocks:c});s(t=>{const n=[...t];return n[e]=d,n}),u||g(e,d)},y=(0,o.useCallback)(e=>{if(!Array.isArray(e)||0===e.length)return 0;return e.reduce((e,t)=>e+wb(t.start,t.end),0).toFixed(1)},[]),w=(0,o.useMemo)(()=>a.reduce((e,t)=>e+parseFloat(y(t.time_blocks)),0).toFixed(1),[a,y]),E=(0,o.useMemo)(()=>yb(n,6),[n]),C=(0,o.useMemo)(()=>{if(!i)return null;const e=Number(i.expectedHours);if(Number.isFinite(e))return e;const t=Number(i.weeklyQuota);return Number.isFinite(t)?t:null},[i]),F=e=>{const t=new Date(n);t.setDate(t.getDate()+e),r(Db(t))};return u?(0,Oa.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Oa.jsxs)("div",{className:"hours-calendar rounded-[32px] border border-slate-200 bg-white/90 backdrop-blur shadow-[0_28px_60px_rgba(15,23,42,0.08)] overflow-hidden",children:[(0,Oa.jsx)("header",{className:"hours-calendar__header bg-gradient-to-br from-blue-600 via-indigo-600 to-sky-600 text-white px-5 sm:px-7 py-6",children:(0,Oa.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-5",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-blue-100/70",children:"Planung & Kontrolle"}),(0,Oa.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold mt-1",children:"Arbeitsstunden Kalender"}),(0,Oa.jsx)("p",{className:"text-blue-100/90 text-sm mt-1",children:"Plane konzentrierte Arbeitsbl\xf6cke, Pausen und individuelle Abwesenheiten."})]}),i&&(0,Oa.jsxs)("div",{className:"hours-calendar__summary bg-white/15 backdrop-blur-lg rounded-3xl px-5 py-4 min-w-[220px] shadow-lg shadow-blue-900/20",children:[(0,Oa.jsx)("div",{className:"text-xs uppercase tracking-widest text-blue-100 mb-1",children:"Diese Woche"}),(0,Oa.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,Oa.jsxs)("span",{className:"text-3xl font-bold",children:[i.totalBooked.toFixed(1),"h"]}),(0,Oa.jsxs)("span",{className:"text-sm text-blue-100/80",children:["/ ",null!==(e=null===C||void 0===C?void 0:C.toFixed(1))&&void 0!==e?e:"--","h"]})]}),(0,Oa.jsxs)("div",{className:"text-xs text-blue-100/70 mt-1",children:["Soll (bereinigt) \xb7 Standard ",i.weeklyQuota,"h"]}),"exact"!==i.status&&(0,Oa.jsxs)("div",{className:"text-xs mt-2 font-semibold ".concat("over"===i.status?"text-rose-100":"text-amber-100"),children:["over"===i.status?"+":"",i.difference.toFixed(1),"h","over"===i.status?" \xfcber Soll":" verbleibend"]}),Number.isFinite(i.publicHolidaysCount)&&i.publicHolidaysCount>0&&(0,Oa.jsxs)("div",{className:"text-[11px] text-blue-100/70 mt-1",children:["Feiertage ber\xfccksichtigt: ",i.publicHolidaysCount]})]})]})}),(0,Oa.jsx)("section",{className:"hours-calendar__toolbar border-b border-slate-200/80 px-4 sm:px-6 py-4 bg-white/70 backdrop-blur",children:(0,Oa.jsxs)("div",{className:"flex ".concat(p?"flex-col gap-4":"items-center justify-between gap-4"),children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3 flex-wrap rounded-2xl border border-slate-200/80 bg-white/80 backdrop-blur px-3 py-2 shadow-sm shadow-slate-200/60",children:[(0,Oa.jsx)("button",{onClick:()=>F(-7),className:"inline-flex items-center justify-center w-11 h-11 rounded-2xl border border-amber-300 bg-white text-amber-600 shadow-sm transition hover:bg-amber-50 disabled:opacity-60",disabled:d,"aria-label":"Vorherige Woche",children:(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Oa.jsx)("span",{className:"flex-1 min-w-[120px] text-center text-xs font-semibold tracking-[0.4em] uppercase text-slate-500 whitespace-nowrap",children:"Diese Woche"}),(0,Oa.jsx)("button",{onClick:()=>F(7),className:"inline-flex items-center justify-center w-11 h-11 rounded-2xl border border-transparent bg-gradient-to-br from-blue-500 to-sky-600 text-white shadow-xl transition hover:translate-y-0.5 hover:shadow-2xl disabled:opacity-60",disabled:d,"aria-label":"N\xe4chste Woche",children:(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,Oa.jsxs)("div",{className:"flex-1 text-center order-last sm:order-none",children:[(0,Oa.jsxs)("div",{className:"hours-calendar__week text-lg font-semibold text-slate-800",children:[xb(n)," \u2013 ",xb(E)]}),(0,Oa.jsx)("button",{onClick:()=>r(Db(new Date)),className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition",children:"Zur aktuellen Woche"})]}),!p&&(0,Oa.jsxs)("div",{className:"rounded-xl bg-slate-100 text-slate-700 px-4 py-2 font-semibold",children:["Gesamt geplant: ",w,"h"]})]})}),(0,Oa.jsxs)("div",{className:"hours-calendar__body px-4 sm:px-6 py-5 bg-white/85",children:[(0,Oa.jsx)("div",{className:"hours-calendar__day-list space-y-4",children:a.map((e,t)=>{const r=yb(n,t),i=function(e){const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(r);return(0,Oa.jsxs)("div",{className:"hours-calendar__day-card relative rounded-2xl border p-4 sm:p-5 transition-all shadow-sm ".concat(e.is_working?"border-emerald-200 bg-emerald-50/70":"border-slate-200 bg-slate-50/60"," ").concat(i?"ring-2 ring-blue-200":""," ").concat(d?"opacity-75 pointer-events-none":""),children:[i&&(0,Oa.jsx)("span",{className:"absolute -top-3 left-5 text-xs font-semibold px-2 py-0.5 rounded-full bg-blue-600 text-white shadow",children:"Heute"}),(0,Oa.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3 min-w-[180px]",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>x(t),className:"relative inline-flex h-6 w-11 flex-shrink-0 rounded-full transition ".concat(e.is_working?"bg-emerald-500":"bg-slate-300"),disabled:d,children:[(0,Oa.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white shadow transition ".concat(e.is_working?"translate-x-5":"translate-x-1")}),(0,Oa.jsx)("span",{className:"sr-only",children:"Arbeitsstatus umschalten"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("div",{className:"font-semibold text-slate-900 text-lg",children:fb[t]}),(0,Oa.jsx)("div",{className:"text-xs text-slate-500",children:xb(r)})]}),e.is_working&&(0,Oa.jsxs)("span",{className:"px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-semibold",children:[y(e.time_blocks)," h"]})]}),e.is_working?(0,Oa.jsxs)("div",{className:"flex-1 space-y-3",children:[e.time_blocks.map((e,n)=>(0,Oa.jsxs)("div",{className:"hours-calendar__block flex flex-col lg:flex-row items-start lg:items-center gap-3 bg-white rounded-2xl border border-slate-200/80 p-3 lg:p-4 shadow-sm",children:[(0,Oa.jsxs)("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-3 w-full",children:[(0,Oa.jsx)(pb,{label:"Start",value:e.start,onChange:e=>v(t,n,"start",e),disabled:d}),(0,Oa.jsx)(pb,{label:"Ende",value:e.end,onChange:e=>v(t,n,"end",e),disabled:d})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2 self-stretch",children:[(0,Oa.jsxs)("div",{className:"text-sm font-semibold text-slate-600 bg-slate-100 px-3 py-1 rounded-full",children:[wb(e.start,e.end).toFixed(1)," h"]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>((e,t)=>{const n=a[e];if(1===n.time_blocks.length)return void x(e);const r=n.time_blocks.filter((e,n)=>n!==t),i=qe(qe({},n),{},{time_blocks:r});s(t=>{const n=[...t];return n[e]=i,n}),g(e,i)})(t,n),className:"p-2 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-100 transition",disabled:d,"aria-label":"Intervall entfernen",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]})]},"".concat(t,"-").concat(n))),(0,Oa.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{const t=a[e],n=t.time_blocks[t.time_blocks.length-1],r=n?n.end:gb[0].start,i=qe(qe({},t),{},{time_blocks:[...t.time_blocks,{start:r,end:""}]});s(t=>{const n=[...t];return n[e]=i,n})})(t)},className:"hours-calendar__add-block inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-50 text-blue-600 font-medium hover:bg-blue-100 transition",disabled:d,children:[(0,Oa.jsx)("span",{className:"text-lg leading-none",children:"+"}),"Zeitintervall hinzuf\xfcgen"]})]}):(0,Oa.jsx)("div",{className:"flex-1 text-slate-400 italic",children:"Dieser Tag ist aktuell als frei markiert."})]})]},e.id||t)})}),(0,Oa.jsx)("footer",{className:"hours-calendar__footer mt-6 border border-slate-200/80 rounded-2xl bg-white px-4 sm:px-6 py-5 shadow-inner",children:(0,Oa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[(0,Oa.jsxs)("div",{className:"space-y-1",children:[(0,Oa.jsx)("div",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Geplant diese Woche"}),(0,Oa.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[w,"h"]})]}),(0,Oa.jsxs)("div",{className:"space-y-1",children:[(0,Oa.jsx)("div",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Soll (bereinigt)"}),(0,Oa.jsxs)("div",{className:"text-2xl font-bold text-slate-800",children:[null!==(t=null===C||void 0===C?void 0:C.toFixed(1))&&void 0!==t?t:"--","h"]}),(null===i||void 0===i?void 0:i.weeklyQuota)&&(0,Oa.jsxs)("div",{className:"text-[11px] text-slate-400",children:["Standard: ",i.weeklyQuota,"h"]})]}),(0,Oa.jsxs)("div",{className:"space-y-1",children:[(0,Oa.jsx)("div",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Differenz"}),(0,Oa.jsx)("div",{className:"text-2xl font-bold ".concat((null===i||void 0===i?void 0:i.difference)>0?"text-rose-600":(null===i||void 0===i?void 0:i.difference)<0?"text-amber-600":"text-emerald-600"),children:i?"".concat(i.difference.toFixed(1),"h"):"--"})]})]})})]})]})},Cb=()=>{var e;const[t,n]=(0,o.useState)(new Date),[r,a]=(0,o.useState)(null),[s,i]=(0,o.useState)(!0),l=(0,o.useCallback)(async()=>{try{i(!0);const e=t.getFullYear(),n=t.getMonth()+1,r=await Ma.get("/schedule/hours-summary/month/".concat(e,"/").concat(n));a(r.data)}catch(e){console.error("Error loading monthly summary:",e),sn.error("Fehler beim Laden der Monats\xfcbersicht")}finally{i(!1)}},[t]);(0,o.useEffect)(()=>{l()},[l]);if(s)return(0,Oa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,Oa.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(!r)return null;const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number.isFinite(e)?e:t},c=Number.isFinite(r.totalWeeks)?r.totalWeeks:Number.isFinite(r.workingDaysCount)?parseFloat((r.workingDaysCount/5).toFixed(2)):0,d=u(r.weeklyQuota,0),h=u(r.totalBooked,0),m=u(r.expectedHours,c*d),p=Number.isFinite(r.totalQuota)?r.totalQuota:c*d,f=u(r.difference,h-m),g=m>0?h/m*100:0;return(0,Oa.jsxs)("div",{className:"monthly-hours bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,Oa.jsx)("div",{className:"monthly-hours__header p-6",children:(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold mb-1",children:"Monatlicher Stundenrechner"}),(0,Oa.jsx)("p",{className:"text-sm",children:"Pr\xe4zise Monatsbilanz basierend auf Arbeitstagen, Feiertagen und Wochen."})]}),(0,Oa.jsxs)("div",{className:"monthly-hours__meta",children:[(0,Oa.jsxs)("span",{children:["Wochenziel: ",d.toFixed(1),"h"]}),(0,Oa.jsxs)("span",{children:["Kalenderziel: ",p.toFixed(1),"h"]})]})]})}),(0,Oa.jsx)("div",{className:"monthly-hours__nav border-b border-gray-200 px-6 py-4",children:(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("button",{onClick:()=>{const e=new Date(t);e.setMonth(e.getMonth()-1),n(e)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"][t.getMonth()]," ",t.getFullYear()]}),(0,Oa.jsx)("button",{onClick:()=>{n(new Date)},className:"monthly-hours__current text-sm font-semibold transition-colors",children:"Zum aktuellen Monat"})]}),(0,Oa.jsx)("button",{onClick:()=>{const e=new Date(t);e.setMonth(e.getMonth()+1),n(e)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,Oa.jsxs)("div",{className:"monthly-hours__summary p-6",children:[(0,Oa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,Oa.jsxs)("div",{className:"monthly-hours__card monthly-hours__card--weeks",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("div",{className:"text-sm font-medium",children:"Kalenderwochen"}),(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})]}),(0,Oa.jsx)("div",{className:"text-3xl font-bold",children:c}),(0,Oa.jsxs)("p",{className:"text-xs mt-1",children:["Wochenschnitt: ",d.toFixed(1),"h"]})]}),(0,Oa.jsxs)("div",{className:"monthly-hours__card monthly-hours__card--days",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("div",{className:"text-sm font-medium",children:"Arbeitstage"}),(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),(0,Oa.jsx)("div",{className:"text-3xl font-bold",children:null!==(e=r.workingDaysCount)&&void 0!==e?e:0}),(0,Oa.jsx)("p",{className:"text-xs mt-1",children:"Feiertage werden automatisch abgezogen."})]}),(0,Oa.jsxs)("div",{className:"monthly-hours__card monthly-hours__card--expected",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("div",{className:"text-sm font-medium",children:"Soll (bereinigt)"}),(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})]}),(0,Oa.jsxs)("div",{className:"text-3xl font-bold",children:[m.toFixed(1),"h"]}),(0,Oa.jsxs)("p",{className:"text-xs mt-1",children:["Kalenderziel: ",p.toFixed(1),"h"]})]}),(0,Oa.jsxs)("div",{className:"monthly-hours__card monthly-hours__card--booked",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("div",{className:"text-sm font-medium",children:"Gebucht gesamt"}),(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,Oa.jsxs)("div",{className:"text-3xl font-bold",children:[h.toFixed(1),"h"]}),(0,Oa.jsx)("p",{className:"text-xs mt-1",children:"Monatsfortschritt in Echtzeit."})]})]}),(0,Oa.jsxs)("div",{className:"monthly-hours__progress mb-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Monatsfortschritt (bereinigt)"}),(0,Oa.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[g.toFixed(1),"%"]})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,Oa.jsxs)("span",{children:[h.toFixed(1),"h gebucht"]}),(0,Oa.jsxs)("span",{children:[m.toFixed(1),"h Ziel"]})]}),(0,Oa.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,Oa.jsx)("div",{className:"h-4 rounded-full transition-all duration-500 ".concat(g>100?"bg-gradient-to-r from-red-500 to-red-600":g>=90?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-sky-500 to-teal-500"),style:{width:"".concat(Math.min(g,100),"%")}})})]}),(0,Oa.jsx)("div",{className:"monthly-hours__delta rounded-lg p-6 mb-6 ".concat("over"===r.status?"bg-gradient-to-r from-rose-50 to-rose-100 border-2 border-rose-300":"under"===r.status?"bg-gradient-to-r from-amber-50 to-amber-100 border-2 border-amber-300":"bg-gradient-to-r from-emerald-50 to-emerald-100 border-2 border-emerald-300"),children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsxs)("div",{className:"text-6xl font-bold mb-2 ".concat("over"===r.status?"text-rose-700":"under"===r.status?"text-amber-700":"text-emerald-700"),children:[f>=0?"+":"",f.toFixed(1),"h"]}),(0,Oa.jsxs)("div",{className:"text-lg font-semibold ".concat("over"===r.status?"text-rose-800":"under"===r.status?"text-amber-800":"text-emerald-800"),children:["over"===r.status&&"\xdcber dem Soll","under"===r.status&&"Unter dem Soll","exact"===r.status&&"Perfekte Balance"]}),(0,Oa.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["over"===r.status&&"Du hast ".concat(Math.abs(f).toFixed(1)," Stunden mehr geplant als vorgesehen."),"under"===r.status&&"Dir fehlen noch ".concat(Math.abs(f).toFixed(1)," Stunden zum Soll."),"exact"===r.status&&"Deine geplanten Stunden treffen das Soll exakt."]})]})}),r.weeks&&r.weeks.length>0&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"W\xf6chentliche Aufschl\xfcsselung"}),(0,Oa.jsx)("div",{className:"space-y-2",children:r.weeks.map((e,t)=>{const n=Number.isFinite(e.expectedHours)?e.expectedHours:d,r=n>0?e.totalBooked/n*100:0,a=(e=>{if(!e)return null;if(e instanceof Date)return e;const t=String(e);if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r)}const n=new Date(t);return Number.isNaN(n.getTime())?null:n})(e.weekStart);return(0,Oa.jsxs)("div",{className:"monthly-hours__week bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Woche ab ",a?a.toLocaleDateString("de-DE"):"\u2014",Number.isFinite(e.workingDaysCount)&&(0,Oa.jsxs)("span",{className:"text-xs text-gray-500",children:[" \xb7 ",e.workingDaysCount," Arbeitstage"]})]}),(0,Oa.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[e.totalBooked.toFixed(1),"h / ",n.toFixed(1),"h"]})]}),(0,Oa.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,Oa.jsx)("div",{className:"h-2 rounded-full ".concat(r>100?"bg-red-500":r>=90?"bg-green-500":"bg-sky-500"),style:{width:"".concat(Math.min(r,100),"%")}})})]},t)})})]})]})]})},Fb=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],Ab=e=>{const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(0===n?-6:1);return new Date(t.setDate(r))},kb=e=>e?e.substring(0,5):"",Nb=()=>{const[e,t]=(0,o.useState)(Ab(new Date)),[n,r]=(0,o.useState)([]),[a,s]=(0,o.useState)(!0),i=(0,o.useCallback)(async()=>{try{s(!0);const t=(e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)})(e),n=await Ma.get("/schedule/team-week/".concat(t));r(n.data||[])}catch(t){console.error("Error loading team schedule:",t),sn.error("Fehler beim Laden des Team-Stundenplans")}finally{s(!1)}},[e]);(0,o.useEffect)(()=>{i()},[i]);const l=(()=>{const t=[];for(let n=0;n<7;n++){const r=new Date(e);r.setDate(r.getDate()+n),t.push(r)}return t})(),u=e=>{const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return"".concat(t,".").concat(n)},c=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()};return a?(0,Oa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Oa.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Lade Team-Stundenplan..."})]})}):(0,Oa.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:[(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Oa.jsx)(zf,{className:"w-5 h-5 text-blue-600"})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Team-Stundenplan"}),(0,Oa.jsxs)("p",{className:"text-sm text-gray-600",children:[l[0].toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})," - ",l[6].toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("button",{onClick:()=>{const n=new Date(e);n.setDate(n.getDate()-7),t(n)},className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors","aria-label":"Vorherige Woche",children:(0,Oa.jsx)(sp,{className:"w-5 h-5"})}),(0,Oa.jsx)("button",{onClick:()=>{t(Ab(new Date))},className:"px-4 py-2 rounded-2xl bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-semibold shadow-lg shadow-blue-500/40 transition-all transform-gpu hover:-translate-y-[1px] hover:shadow-2xl focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-300",children:"Diese Woche"}),(0,Oa.jsx)("button",{onClick:()=>{const n=new Date(e);n.setDate(n.getDate()+7),t(n)},className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors","aria-label":"N\xe4chste Woche",children:(0,Oa.jsx)(ip,{className:"w-5 h-5"})})]})]}),(0,Oa.jsx)("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:(0,Oa.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,Oa.jsx)("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:(0,Oa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Oa.jsx)("thead",{className:"bg-gray-50",children:(0,Oa.jsxs)("tr",{children:[(0,Oa.jsx)("th",{scope:"col",className:"sticky left-0 z-10 bg-gray-50 px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 min-w-[140px]",children:"Mitarbeiter"}),l.map((e,t)=>(0,Oa.jsx)("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-semibold uppercase tracking-wider min-w-[120px] ".concat(c(e)?"bg-blue-50 text-blue-700":"text-gray-700"),children:(0,Oa.jsxs)("div",{className:"flex flex-col",children:[(0,Oa.jsx)("span",{children:Fb[t].substring(0,2)}),(0,Oa.jsx)("span",{className:"text-xs font-normal mt-1",children:u(e)})]})},t))]})}),(0,Oa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===n.length?(0,Oa.jsx)("tr",{children:(0,Oa.jsx)("td",{colSpan:8,className:"px-4 py-8 text-center text-sm text-gray-500",children:"Keine Mitarbeiter gefunden"})}):n.map(e=>{var t;return(0,Oa.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Oa.jsx)("td",{className:"sticky left-0 z-10 bg-white px-4 py-3 border-r border-gray-200",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("div",{className:"flex-shrink-0",children:e.profile_photo?(0,Oa.jsx)("img",{src:nl(e.profile_photo),alt:e.name,className:"w-8 h-8 rounded-full object-cover"}):(0,Oa.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,Oa.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Oa.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.employment_type})]})]})}),[0,1,2,3,4,5,6].map(t=>{const r=((e,t)=>{const r=n.find(t=>t.user_id===e);return r&&r.week_schedule?r.week_schedule.find(e=>e.day_of_week===t):null})(e.user_id,t),a=null===r||void 0===r?void 0:r.is_working;return(0,Oa.jsx)("td",{className:"px-2 py-2 text-center text-xs ".concat(c(l[t])?"bg-blue-50/30":""),children:a?(0,Oa.jsx)("div",{className:"space-y-1",children:r.time_blocks&&r.time_blocks.length>0?r.time_blocks.map((e,t)=>(0,Oa.jsxs)("div",{className:"bg-green-100 border border-green-300 rounded px-1.5 py-1 text-green-800",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Oa.jsx)(Df,{className:"w-3 h-3"}),(0,Oa.jsx)("span",{className:"font-medium",children:kb(e.start)})]}),(0,Oa.jsxs)("div",{className:"text-[10px] leading-tight",children:["bis ",kb(e.end)]})]},t)):(0,Oa.jsxs)("div",{className:"bg-green-100 border border-green-300 rounded px-1.5 py-1 text-green-800",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Oa.jsx)(Df,{className:"w-3 h-3"}),(0,Oa.jsx)("span",{className:"font-medium",children:kb(r.start_time)})]}),(0,Oa.jsxs)("div",{className:"text-[10px] leading-tight",children:["bis ",kb(r.end_time)]})]})}):(0,Oa.jsx)("div",{className:"text-gray-400 text-xs",children:"-"})},t)})]},e.user_id)})})]})})})}),n.length>0&&(0,Oa.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,Oa.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Oa.jsx)(zf,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{className:"text-xs font-semibold uppercase",children:"Team"})]}),(0,Oa.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:n.length}),(0,Oa.jsx)("p",{className:"text-xs text-blue-600",children:"Mitarbeiter insgesamt"})]}),(0,Oa.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[(0,Oa.jsx)(Df,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{className:"text-xs font-semibold uppercase",children:"Arbeitstage"})]}),(0,Oa.jsx)("p",{className:"text-2xl font-bold text-green-900",children:n.reduce((e,t)=>{var n;return e+((null===(n=t.week_schedule)||void 0===n?void 0:n.filter(e=>e.is_working).length)||0)},0)}),(0,Oa.jsx)("p",{className:"text-xs text-green-600",children:"Diese Woche"})]}),(0,Oa.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Oa.jsx)(Df,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{className:"text-xs font-semibold uppercase",children:"Stunden"})]}),(0,Oa.jsxs)("p",{className:"text-2xl font-bold text-purple-900",children:[n.reduce((e,t)=>e+(t.total_hours||0),0).toFixed(1),"h"]}),(0,Oa.jsx)("p",{className:"text-xs text-purple-600",children:"Gesamt diese Woche"})]})]})]})},jb=()=>{const e=Pa(),t=null===e||void 0===e?void 0:e.user,[n,r]=(0,o.useState)("calendar"),[a,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(async()=>{if(t&&!1===t.first_login_completed&&!a){s(!0);try{const t=localStorage.getItem("token");await Na.post("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_ID:"1769023108",REACT_APP_BUILD_DATE:"2026-01-21T19:18:28Z"}.REACT_APP_API_URL,"/api/schedule/initialize-default"),{},{headers:{Authorization:"Bearer ".concat(t)}}),null!==e&&void 0!==e&&e.refetchUser&&await e.refetchUser()}catch(n){console.error("Error initializing default schedule:",n)}finally{s(!1)}}})()},[t,a,e]),(0,Oa.jsx)("div",{className:"schedule-page min-h-screen bg-slate-50 pt-4 pb-20 px-3 sm:px-6",children:(0,Oa.jsxs)("div",{className:"schedule-page__container w-full mx-auto space-y-8",children:[(0,Oa.jsxs)("div",{className:"schedule-header space-y-4",children:[(0,Oa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Arbeitsstunden Planung"}),(0,Oa.jsx)("p",{className:"text-gray-600",children:"Verwalten Sie Ihren Wochenplan und verfolgen Sie Ihr monatliches Stundenkonto"}),(0,Oa.jsx)("div",{className:"schedule-user-card mt-4 bg-white rounded-lg shadow-sm p-4 inline-block",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),(0,Oa.jsx)("span",{className:"text-sm text-gray-700",children:(null===t||void 0===t?void 0:t.name)||"User"})]}),(0,Oa.jsx)("div",{className:"h-4 w-px bg-gray-300"}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),(0,Oa.jsx)("span",{className:"text-sm text-gray-700",children:(null===t||void 0===t?void 0:t.employment_type)||"Werkstudent"})]}),(0,Oa.jsx)("div",{className:"h-4 w-px bg-gray-300"}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),(0,Oa.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(null===t||void 0===t?void 0:t.weekly_hours_quota)||20,"h/week"]})]})]})})]}),(0,Oa.jsx)("div",{className:"schedule-tabs",children:(0,Oa.jsx)("div",{className:"border-b border-gray-200",children:(0,Oa.jsxs)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[(0,Oa.jsx)("button",{onClick:()=>r("calendar"),className:"".concat("calendar"===n?"schedule-tab--active border-blue-600 text-blue-600":"schedule-tab--inactive border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," schedule-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Wochenkalender"]})}),(0,Oa.jsx)("button",{onClick:()=>r("monthly"),className:"".concat("monthly"===n?"schedule-tab--active border-amber-600 text-amber-600":"schedule-tab--inactive border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," schedule-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Monatsrechner"]})}),(0,Oa.jsx)("button",{onClick:()=>r("team"),className:"".concat("team"===n?"schedule-tab--active border-green-600 text-green-600":"schedule-tab--inactive border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," schedule-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Team-\xdcbersicht"]})})]})})}),(0,Oa.jsxs)("div",{className:"schedule-content space-y-8",children:["calendar"===n&&(0,Oa.jsx)(Eb,{}),"monthly"===n&&(0,Oa.jsx)(Cb,{}),"team"===n&&(0,Oa.jsx)(Nb,{})]}),(0,Oa.jsxs)("div",{className:"schedule-help mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"So funktioniert es"]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Wochenkalender"}),(0,Oa.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Markieren Sie die Tage, an denen Sie arbeiten"})]}),(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Legen Sie Start- und Endzeiten f\xfcr jeden Tag fest"})]}),(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Sehen Sie die Stundenberechnung in Echtzeit"})]}),(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Verfolgen Sie, ob Sie unter- oder \xfcberplant sind"})]})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Monatsrechner"}),(0,Oa.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Sehen Sie das monatliche Stundenkonto"})]}),(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Sehen Sie die w\xf6chentliche Aufschl\xfcsselung"})]}),(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Verfolgen Sie die Einhaltung Ihres Vertrags"})]}),(0,Oa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Oa.jsx)("span",{children:"Vermeiden Sie \xdcberplanung und Burnout"})]})]})]})]})]})]})})},_b=()=>{const[e,t]=(0,o.useState)({name:"",email:"",password:"",confirmPassword:""}),[n,r]=(0,o.useState)(""),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!1),[u,c]=(0,o.useState)("checking"),d=re(),h=Pa(),m=null===h||void 0===h?void 0:h.login;(0,o.useEffect)(()=>{(async()=>{try{(await ja.get("/auth/first-setup")).data.isFirstSetup?c("ready"):d("/login")}catch(BM){console.error("Error checking first setup:",BM),r("Verbindung zum Server konnte nicht hergestellt werden. Bitte versuchen Sie es sp\xe4ter erneut."),c("error")}})()},[d]);const p=n=>{t(qe(qe({},e),{},{[n.target.name]:n.target.value}))};return"checking"===u?(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,Oa.jsx)("p",{className:"text-white text-lg",children:"\xdcberpr\xfcfe Systemstatus..."})]})}):"error"===u?(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,Oa.jsxs)("div",{className:"bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20 text-center",children:[(0,Oa.jsx)("div",{className:"mb-4 p-3 bg-red-100 rounded-full inline-block",children:(0,Oa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Oa.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Fehler"}),(0,Oa.jsx)("p",{className:"text-gray-600 mb-4",children:n}),(0,Oa.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Seite neu laden"})]})}):(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,Oa.jsxs)("div",{className:"bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20",children:[(0,Oa.jsxs)("div",{className:"text-center mb-8",children:[(0,Oa.jsx)("div",{className:"mb-4 p-3 bg-blue-100 rounded-full inline-block",children:(0,Oa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Oa.jsx)("h1",{className:"text-3xl font-bold text-biolab-dark mb-2",children:"Biolab Logistik Planner"}),(0,Oa.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Ersteinrichtung"}),(0,Oa.jsx)("p",{className:"text-gray-600",children:"Erstelle deinen Admin-Account, um das System zu konfigurieren"})]}),a?(0,Oa.jsxs)("div",{className:"text-center py-8",children:[(0,Oa.jsx)("div",{className:"inline-block p-4 bg-green-100 rounded-full mb-4",children:(0,Oa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Oa.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erfolgreich eingerichtet!"}),(0,Oa.jsx)("p",{className:"text-gray-600 mb-4",children:"Du wirst automatisch weitergeleitet..."}),(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-biolab-blue mx-auto"})]}):(0,Oa.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r(""),l(!0),!e.name.trim())return r("Name ist erforderlich"),void l(!1);if(!e.email.trim())return r("E-Mail ist erforderlich"),void l(!1);if(!/\S+@\S+\.\S+/.test(e.email))return r("Bitte geben Sie eine g\xfcltige E-Mail-Adresse ein"),void l(!1);if(e.password.length<6)return r("Passwort muss mindestens 6 Zeichen lang sein"),void l(!1);if(e.password!==e.confirmPassword)return r("Passw\xf6rter stimmen nicht \xfcberein"),void l(!1);try{var n;const t=await Sa(e.name,e.email,e.password),r=(null===(n=t.data)||void 0===n?void 0:n.data)||t.data,a=null===r||void 0===r?void 0:r.token,i=null===r||void 0===r?void 0:r.user;a&&i&&(localStorage.setItem("token",a),m(a,i)),s(!0),setTimeout(()=>{d("/dashboard")},2e3)}catch(BM){var a,i;if(console.error("Registration error:",BM),null!==(a=BM.response)&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.firstSetupRequired)c("ready");else{var o,u;const t=null===(o=BM.response)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.error,n="string"===typeof t?t:null===t||void 0===t?void 0:t.message;r(n||"Registrierung fehlgeschlagen. Bitte versuchen Sie es erneut.")}}finally{l(!1)}},className:"space-y-6",children:[n&&(0,Oa.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md text-sm",children:n}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,Oa.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Dein Name"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail-Adresse *"}),(0,Oa.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"dein@email.de"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort *"}),(0,Oa.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Mindestens 6 Zeichen"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort best\xe4tigen *"}),(0,Oa.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Passwort wiederholen"})]}),(0,Oa.jsx)("div",{children:(0,Oa.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-biolab-blue hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-2 px-4 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-biolab-blue",children:i?"Erstelle Admin-Account...":"Admin-Account erstellen"})})]}),(0,Oa.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hinweis"}),(0,Oa.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,Oa.jsx)("li",{children:"\u2022 Dieser Account erh\xe4lt automatisch Admin-Rechte"}),(0,Oa.jsx)("li",{children:"\u2022 Du kannst sp\xe4ter weitere Benutzer hinzuf\xfcgen"}),(0,Oa.jsx)("li",{children:"\u2022 Das Passwort muss mindestens 6 Zeichen lang sein"})]})]})})]})})},Sb=(0,o.memo)(e=>{let{userItem:t,currentUserId:n,onEdit:r,onDelete:a}=e;return(0,Oa.jsxs)("tr",{className:t.id===n?"bg-blue-50":"",children:[(0,Oa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[t.name,t.id===n&&(0,Oa.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Du"})]}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.email}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oa.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat((e=>{switch(e){case"superadmin":return"bg-indigo-100 text-indigo-700";case"admin":return"bg-purple-100 text-purple-800";case"observer":return"bg-teal-100 text-teal-800";default:return"bg-green-100 text-green-800"}})(t.role)),children:(e=>{switch(e){case"superadmin":return"Superadministrator";case"admin":return"Administrator";case"observer":return"Beobachter";default:return"Mitarbeiter"}})(t.role)})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oa.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Vollzeit"===t.employment_type?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:t.employment_type||"Werkstudent"})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString("de-DE",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Oa.jsxs)("div",{className:"flex space-x-2",children:[(0,Oa.jsx)("button",{onClick:()=>r(t),className:"text-blue-600 hover:text-blue-900",children:"Bearbeiten"}),t.id!==n&&(0,Oa.jsx)("button",{onClick:()=>a(t.id,t.name),className:"text-red-600 hover:text-red-900",children:"L\xf6schen"})]})})]})});Sb.displayName="UserRow";const Bb=()=>{const e=Pa(),t=null===e||void 0===e?void 0:e.user,[n,r]=(0,o.useState)([]),[a,s]=(0,o.useState)(!0),[i,l]=(0,o.useState)(""),[u,c]=(0,o.useState)(""),[d,h]=(0,o.useState)(!1),[m,p]=(0,o.useState)(null),[f,g]=(0,o.useState)({name:"",email:"",role:"employee",employment_type:"Werkstudent",password:"",confirmPassword:""}),b=(0,o.useCallback)(async()=>{try{s(!0),l("");const e=await Ba();r(e.data)}catch(BM){console.error("Error loading users:",BM),l("Fehler beim Laden der Benutzer. Bitte versuche es sp\xe4ter erneut.")}finally{s(!1)}},[]),D=null===t||void 0===t?void 0:t.role;(0,o.useEffect)(()=>{D&&["admin","superadmin"].includes(D)&&b()},[D,b]);const x=(0,o.useCallback)(e=>{l(""),c(""),p(e),g({name:e.name,email:e.email,role:e.role,employment_type:e.employment_type||"Werkstudent",password:"",confirmPassword:""}),h(!0)},[]),v=(0,o.useCallback)(async(e,t)=>{var n;if(window.confirm('Bist du sicher, dass du den Benutzer "'.concat(t,'" l\xf6schen m\xf6chtest?')))try{c(""),await(n=e,ja.delete("/admin/users/".concat(n))),c("Benutzer ".concat(t," wurde gel\xf6scht.")),b()}catch(BM){console.error("Error deleting user:",BM),l("Fehler beim L\xf6schen des Benutzers.")}},[b]),y=(0,o.useCallback)(()=>{h(!1),p(null),g({name:"",email:"",role:"employee",password:"",confirmPassword:""}),l(""),c("")},[]);return t?["admin","superadmin"].includes(t.role)?a?(0,Oa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-biolab-blue mx-auto"}),(0,Oa.jsx)("p",{className:"mt-4 text-gray-600",children:"Benutzer werden geladen..."})]})}):(0,Oa.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oa.jsxs)("div",{className:"mb-8",children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-biolab-dark mb-2",children:"Benutzerverwaltung"}),(0,Oa.jsx)("p",{className:"text-gray-600",children:"Verwalte alle Benutzer des Systems"})]}),i&&(0,Oa.jsx)("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:i}),u&&(0,Oa.jsx)("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md",children:u}),(0,Oa.jsx)("div",{className:"mb-6",children:(0,Oa.jsx)("button",{onClick:()=>{p(null),g({name:"",email:"",role:"employee",password:"",confirmPassword:""}),l(""),c(""),h(!0)},className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Neuen Benutzer hinzuf\xfcgen"})}),d&&(0,Oa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,Oa.jsx)("h3",{className:"text-lg font-bold text-biolab-dark mb-4",children:m?"Benutzer bearbeiten":"Neuen Benutzer erstellen"}),(0,Oa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f.name.trim())if(f.email.trim())if(/\S+@\S+\.\S+/.test(f.email))if(m||f.password)if(f.password&&f.password.length<6)l("Passwort muss mindestens 6 Zeichen lang sein");else if(f.password===f.confirmPassword)try{if(l(""),c(""),m){var t,n;const e={name:f.name,email:f.email,role:f.role,employment_type:f.employment_type};f.password&&(e.password=f.password);const r=await((e,t)=>ja.put("/admin/users/".concat(e),t))(m.id,e),a=(null===(t=r.data)||void 0===t?void 0:t.data)||r.data,s=(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.name)||f.name;c("Benutzer ".concat(s," wurde aktualisiert."))}else{var r,a;const e=await Sa(f.name,f.email,f.password,f.role,f.employment_type),t=(null===(r=e.data)||void 0===r?void 0:r.data)||e.data,n=(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.name)||f.name;c("Benutzer ".concat(n," wurde erstellt."))}h(!1),p(null),g({name:"",email:"",role:"employee",employment_type:"Werkstudent",password:"",confirmPassword:""}),b()}catch(BM){var s,i;console.error("Error saving user:",BM);const t=null===(s=BM.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error,n="string"===typeof t?t:null===t||void 0===t?void 0:t.message;l(n||"Fehler beim Speichern des Benutzers.")}else l("Passw\xf6rter stimmen nicht \xfcberein");else l("Passwort ist f\xfcr neue Benutzer erforderlich");else l("Bitte geben Sie eine g\xfcltige E-Mail-Adresse ein");else l("E-Mail ist erforderlich");else l("Name ist erforderlich")},className:"space-y-4",children:[(0,Oa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Oa.jsx)("input",{type:"text",name:"name",value:f.name,onChange:e=>g(qe(qe({},f),{},{name:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail *"}),(0,Oa.jsx)("input",{type:"email",name:"email",value:f.email,onChange:e=>g(qe(qe({},f),{},{email:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rolle *"}),(0,Oa.jsxs)("select",{name:"role",value:f.role,onChange:e=>g(qe(qe({},f),{},{role:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",children:[(0,Oa.jsx)("option",{value:"observer",children:"Beobachter"}),(0,Oa.jsx)("option",{value:"employee",children:"Mitarbeiter"}),(0,Oa.jsx)("option",{value:"admin",children:"Administrator"}),"superadmin"===t.role&&(0,Oa.jsx)("option",{value:"superadmin",children:"Superadministrator"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Besch\xe4ftigungsart *"}),(0,Oa.jsxs)("select",{name:"employment_type",value:f.employment_type,onChange:e=>g(qe(qe({},f),{},{employment_type:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",children:[(0,Oa.jsx)("option",{value:"Werkstudent",children:"Werkstudent"}),(0,Oa.jsx)("option",{value:"Vollzeit",children:"Vollzeit"})]}),(0,Oa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Vollzeit"===f.employment_type?"8:00-17:00 wird automatisch geplant":"Buchung von Arbeitszeiten erforderlich"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Passwort ",m?"(optional)":"*"]}),(0,Oa.jsx)("input",{type:"password",name:"password",value:f.password,onChange:e=>g(qe(qe({},f),{},{password:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:m?"Nur bei \xc4nderung ausf\xfcllen":"Mindestens 6 Zeichen"})]}),f.password&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passwort best\xe4tigen *"}),(0,Oa.jsx)("input",{type:"password",name:"confirmPassword",value:f.confirmPassword,onChange:e=>g(qe(qe({},f),{},{confirmPassword:e.target.value})),required:!!f.password,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]}),(0,Oa.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Oa.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"submit",className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:m?"Aktualisieren":"Erstellen"})]})]})]}),(0,Oa.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,Oa.jsx)("div",{className:"overflow-x-auto",children:(0,Oa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Oa.jsx)("thead",{className:"bg-gray-50",children:(0,Oa.jsxs)("tr",{children:[(0,Oa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Oa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-Mail"}),(0,Oa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rolle"}),(0,Oa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Besch\xe4ftigungsart"}),(0,Oa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Erstellt am"}),(0,Oa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktionen"})]})}),(0,Oa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>(0,Oa.jsx)(Sb,{userItem:e,currentUserId:t.id,onEdit:x,onDelete:v},e.id))})]})})}),0===n.length&&!a&&(0,Oa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center mt-6",children:[(0,Oa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,Oa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Benutzer vorhanden"}),(0,Oa.jsx)("p",{className:"text-gray-500",children:"F\xfcge neue Benutzer hinzu, um das System zu konfigurieren"})]})]}):(0,Oa.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Oa.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:"Du hast keine Berechtigung, diese Seite anzuzeigen."})}):(0,Oa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-biolab-blue mx-auto"}),(0,Oa.jsx)("p",{className:"mt-4 text-gray-600",children:"Benutzer werden geladen..."})]})})},Mb=cs("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ob=cs("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Tb=cs("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Rb=cs("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ib=cs("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Pb=cs("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Lb=cs("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),zb=cs("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Ub=cs("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Wb=cs("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Hb=cs("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),qb=cs("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Vb=cs("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Kb=cs("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Yb=cs("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Gb=cs("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),$b=cs("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Zb=cs("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),Xb=cs("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Qb={info:"bg-blue-50 text-blue-600 ring-1 ring-blue-100",warning:"bg-amber-50 text-amber-600 ring-1 ring-amber-100",success:"bg-emerald-50 text-emerald-600 ring-1 ring-emerald-100",error:"bg-red-50 text-red-600 ring-1 ring-red-100"},Jb=e=>{if(!e)return"\u2013";const t=new Date(e);return Number.isNaN(t.getTime())?"\u2013":new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},eD=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;const t=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"").trim();return t.length<=e?t:"".concat(t.slice(0,e).trim(),"\u2026")},tD=[{value:"activate",label:"Aktivieren"},{value:"deactivate",label:"Deaktivieren"},{value:"delete",label:"L\xf6schen"},{value:"updateRole",label:"Rolle \xe4ndern"}],nD=[{value:"employee",label:"Mitarbeiter"},{value:"admin",label:"Admin"},{value:"superadmin",label:"Superadmin"},{value:"observer",label:"Beobachter"}],rD=()=>{var e,t,n,r,a,s,i,l,u,c,d,h,m;const{user:p}=Pa(),[f,g]=(0,o.useState)("overview"),[b,D]=(0,o.useState)(null),[x,v]=(0,o.useState)(null),[y,w]=(0,o.useState)([]),[E,C]=(0,o.useState)([]),[F,A]=(0,o.useState)([]),[k,N]=(0,o.useState)(null),[j,_]=(0,o.useState)([]),[S,B]=(0,o.useState)(!0),[M,O]=(0,o.useState)({category:"all",severity:"all",days:7}),[T,R]=(0,o.useState)([]),[I,P]=(0,o.useState)(!1),L=(0,o.useRef)(!1),[z,U]=(0,o.useState)(null),[W,H]=(0,o.useState)(""),[q,V]=(0,o.useState)(""),[K,Y]=(0,o.useState)(!1),[G,$]=(0,o.useState)("info"),[Z,X]=(0,o.useState)("info"),[Q,J]=(0,o.useState)([]),[ee,te]=(0,o.useState)(!1),[ne,re]=(0,o.useState)(null),[ae,se]=(0,o.useState)([]),[ie,oe]=(0,o.useState)(!1),[le,ue]=(0,o.useState)(tD[0].value),[ce,de]=(0,o.useState)("employee"),[he,me]=(0,o.useState)(!1),{isConnected:pe,adminEvents:fe,onAdminEvent:ge}=Oo(),{category:be,severity:De,days:xe}=M,ve=(0,o.useCallback)(async()=>{try{const e=await Ma.get("/admin/stats");v(e.data)}catch(n){var e,t;401===(null===(e=n.response)||void 0===e?void 0:e.status)||403===(null===(t=n.response)||void 0===t?void 0:t.status)?(P(!0),L.current||(sn.error("Kein Zugriff auf Administratorfunktionen"),L.current=!0)):(console.error("Error fetching dashboard stats:",n),v({totalUsers:0,activeUsersToday:0,totalEventsThisMonth:0,totalTasks:{todo:0,"in-progress":0,done:0},totalWasteItems:{pending:0,scheduled:0,completed:0},totalKbArticles:0,totalMessagesToday:0}))}},[]),ye=(0,o.useCallback)(async()=>{try{const e=await Ma.get("/admin/users");A(e.data.users||e.data||[])}catch(e){console.error("Error fetching users:",e),A([])}},[]);(0,o.useEffect)(()=>{se(e=>e.filter(e=>F.some(t=>t.id===e)))},[F]),(0,o.useEffect)(()=>{oe(F.length>0&&ae.length===F.length)},[F,ae]);const we=(0,o.useCallback)(e=>{se(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),Ee=(0,o.useCallback)(()=>{if(ie)return se([]),void oe(!1);se(F.map(e=>e.id)),oe(!0)},[F,ie]),Ce=(0,o.useCallback)(async()=>{if(ae.length){me(!0);try{const e="updateRole"===le?{action:le,userIds:ae,payload:{role:ce}}:{action:le,userIds:ae},t=await Ma.post("/admin/users/bulk",e);sn.success("Bulk-Aktion durchgef\xfchrt (".concat(t.data.affected||0," Benutzer betroffen)")),se([]),oe(!1),"updateRole"!==le&&"delete"!==le&&ue("activate"),ye()}catch(n){var e,t;console.error("Bulk user action error:",n),sn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Bulk-Aktion fehlgeschlagen")}finally{me(!1)}}else sn.error("W\xe4hle zuerst Benutzer aus")},[le,ce,ae,ye]),Fe=(0,o.useCallback)(async()=>{try{const e=await Ma.get("/admin/system-health");N(e.data)}catch(e){console.error("Error fetching system health:",e),N({database:"unknown",server:"running",uptime:"0s",activeConnections:0,recentErrors:[]})}},[]),Ae=(0,o.useCallback)(async()=>{try{const e=await Ma.get("/admin/activity",{params:{limit:50}});_(e.data.activities||e.data||[])}catch(e){console.error("Error fetching activity log:",e),_([])}},[]),ke=(0,o.useCallback)(async()=>{te(!0);try{const e=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return To.get("/admin/broadcasts",{params:e})}({limit:6});J(e.data.broadcasts||[])}catch(e){console.error("Error fetching broadcast history:",e),J([])}finally{te(!1)}},[]),Ne=(0,o.useCallback)(async()=>{if(!I)try{B(!0);const e=[Ma.get("/admin/audit/stats",{params:{days:xe}}).catch(e=>{var t,n;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)||403===(null===(n=e.response)||void 0===n?void 0:n.status)?(P(!0),L.current||(sn.error("Kein Zugriff auf Administratorfunktionen"),L.current=!0),{data:{total:0,byCategory:{},bySeverity:{},recent_activity:[]}}):(console.error("Stats error:",e),{data:{total:0,byCategory:{},bySeverity:{},recent_activity:[]}})}),Ma.get("/admin/audit/logs",{params:{limit:50,category:be,severity:De}}).catch(e=>{var t,n;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)||403===(null===(n=e.response)||void 0===n?void 0:n.status)?(P(!0),L.current||(sn.error("Kein Zugriff auf Administratorfunktionen"),L.current=!0),{data:{logs:[]}}):(console.error("Logs error:",e),{data:{logs:[]}})}),Ma.get("/admin/users/online").catch(e=>{var t,n;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)||403===(null===(n=e.response)||void 0===n?void 0:n.status)?(P(!0),L.current||(sn.error("Kein Zugriff auf Administratorfunktionen"),L.current=!0),{data:{users:[]}}):(console.error("Online users error:",e),{data:{users:[]}})})],[t,n,r]=await Promise.all(e);D(t.data),w(n.data.logs||[]),C(r.data.users||[]),"overview"===f?await ve():"users"===f?await ye():"monitoring"===f?await Fe():"activity"===f&&await Ae(),await ke()}catch(e){console.error("Fehler beim Laden der Admin-Daten:",e),sn.error("Fehler beim Laden der Administrator-Daten")}finally{B(!1)}},[I,be,xe,De,f,ve,ye,Fe,Ae,ke]);(0,o.useEffect)(()=>{if(I)return;Ne();const e=setInterval(Ne,3e4);return()=>clearInterval(e)},[Ne,I]),(0,o.useEffect)(()=>{if(!ge||I)return;const e=e=>{R(t=>[e,...t].slice(0,25)),Ne()},t=ge("audit_log",e),n=ge("broadcast",e);return()=>{null===t||void 0===t||t(),null===n||void 0===n||n()}},[Ne,ge,I]),(0,o.useEffect)(()=>{if(!fe||0===fe.length)return;const e=fe[fe.length-1];e&&R(t=>t.some(t=>t.timestamp===e.timestamp&&t.action===e.action)?t:[e,...t].slice(0,25))},[fe]);const je=(0,o.useCallback)(async e=>{if(null!==e&&void 0!==e&&e.id){re(e.id);try{const t=await(r=e.id,To.post("/admin/broadcasts/".concat(r,"/resend")));sn.success("Broadcast erneut gesendet (".concat(t.data.recipients||0," Empf\xe4nger)")),ke()}catch(a){var t,n;console.error("Error resending broadcast:",a),sn.error((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Broadcast konnte nicht erneut gesendet werden")}finally{re(null)}var r}},[ke]),_e=async e=>{try{const t=await Ma.get("/admin/export/".concat(e),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","".concat(e,"-export-").concat((new Date).toISOString().split("T")[0],".json")),document.body.appendChild(r),r.click(),r.remove(),sn.success("".concat(e," erfolgreich exportiert"))}catch(t){console.error("Export failed:",t),sn.error("Fehler beim Exportieren von ".concat(e))}},Se=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";try{const t=await Ma.get("/admin/audit/export",{params:{format:e,days:M.days},responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","audit-logs-".concat((new Date).toISOString().split("T")[0],".").concat(e)),document.body.appendChild(r),r.click(),r.remove(),sn.success("Logs erfolgreich exportiert")}catch(t){console.error("Export failed:",t),sn.error("Fehler beim Exportieren der Logs")}},Be=e=>{switch(e){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},Me=e=>{switch(e){case"critical":return(0,Oa.jsx)(Mb,{className:"w-4 h-4"});case"high":return(0,Oa.jsx)(Ob,{className:"w-4 h-4"});case"medium":return(0,Oa.jsx)(Lf,{className:"w-4 h-4"});case"low":return(0,Oa.jsx)(Tb,{className:"w-4 h-4"});default:return(0,Oa.jsx)(Rb,{className:"w-4 h-4"})}},Oe=e=>{switch(e){case"authentication":return"bg-blue-100 text-blue-800";case"authorization":return"bg-purple-100 text-purple-800";case"data_modification":return"bg-green-100 text-green-800";case"security":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Te=e=>{switch(e){case"superadmin":return"bg-purple-100 text-purple-800";case"admin":return"bg-blue-100 text-blue-800";case"observer":return"bg-teal-100 text-teal-800";case"employee":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Re=Q.reduce((e,t)=>e+(t.recipients||0),0),Ie=(null===(e=Q[0])||void 0===e?void 0:e.created_at)||null;return I?(0,Oa.jsxs)("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6 text-amber-700",children:[(0,Oa.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Kein Zugriff"}),(0,Oa.jsx)("p",{className:"text-sm",children:"F\xfcr diese Administratoransicht ist eine Rolle mit Systemrechten erforderlich (Admin oder Superadmin). Bitte melden Sie sich mit einem entsprechenden Benutzer an oder wenden Sie sich an den Systemverantwortlichen."})]}):!S||b||x?(0,Oa.jsxs)("div",{className:"space-y-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)(Ib,{className:"w-8 h-8 text-blue-600"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Administrator-Panel"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"System\xfcberwachung und Kontrolle"})]})]}),(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsxs)("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ".concat(pe?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-600"),children:[(0,Oa.jsx)("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:pe?"#047857":"#dc2626"}}),pe?"Live verbunden":"Offline"]}),(0,Oa.jsxs)("button",{onClick:Ne,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,Oa.jsx)(Pb,{className:"w-4 h-4"}),"Aktualisieren"]})]})]}),(0,Oa.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-2",children:(0,Oa.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Oa.jsxs)("button",{onClick:()=>g("overview"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ".concat("overview"===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Oa.jsx)(Lb,{className:"w-4 h-4"}),"\xdcbersicht"]}),(0,Oa.jsxs)("button",{onClick:()=>g("users"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ".concat("users"===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Oa.jsx)(zf,{className:"w-4 h-4"}),"Benutzer"]}),(0,Oa.jsxs)("button",{onClick:()=>g("monitoring"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ".concat("monitoring"===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Oa.jsx)(zb,{className:"w-4 h-4"}),"Monitoring"]}),(0,Oa.jsxs)("button",{onClick:()=>g("bulk"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ".concat("bulk"===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Oa.jsx)(Bg,{className:"w-4 h-4"}),"Massenvorg\xe4nge"]}),(0,Oa.jsxs)("button",{onClick:()=>g("settings"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ".concat("settings"===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Oa.jsx)(fl,{className:"w-4 h-4"}),"Einstellungen"]}),(0,Oa.jsxs)("button",{onClick:()=>g("audit"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ".concat("audit"===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Oa.jsx)(Df,{className:"w-4 h-4"}),"Audit-Logs"]})]})}),"overview"===f&&(0,Oa.jsxs)("div",{className:"space-y-6",children:[x&&(0,Oa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(zf,{className:"w-8 h-8 text-blue-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:x.totalUsers||0})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Benutzer Gesamt"}),(0,Oa.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[x.activeUsersToday||0," heute aktiv"]})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(bf,{className:"w-8 h-8 text-indigo-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:x.totalEventsThisMonth||0})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Termine diesen Monat"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Kalendereintr\xe4ge"})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(Ub,{className:"w-8 h-8 text-green-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:((null===(t=x.totalTasks)||void 0===t?void 0:t.todo)||0)+((null===(n=x.totalTasks)||void 0===n?void 0:n["in-progress"])||0)+((null===(r=x.totalTasks)||void 0===r?void 0:r.done)||0)})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Aufgaben Gesamt"}),(0,Oa.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[(null===(a=x.totalTasks)||void 0===a?void 0:a.todo)||0," offen, ",(null===(s=x.totalTasks)||void 0===s?void 0:s["in-progress"])||0," in Arbeit, ",(null===(i=x.totalTasks)||void 0===i?void 0:i.done)||0," erledigt"]})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(Ds,{className:"w-8 h-8 text-orange-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:((null===(l=x.totalWasteItems)||void 0===l?void 0:l.pending)||0)+((null===(u=x.totalWasteItems)||void 0===u?void 0:u.scheduled)||0)+((null===(c=x.totalWasteItems)||void 0===c?void 0:c.completed)||0)})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Abfall-Eintr\xe4ge"}),(0,Oa.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[(null===(d=x.totalWasteItems)||void 0===d?void 0:d.pending)||0," ausstehend"]})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(cl,{className:"w-8 h-8 text-purple-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:x.totalKbArticles||0})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"KB Artikel"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Wissensdatenbank"})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(ds,{className:"w-8 h-8 text-cyan-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:x.totalMessagesToday||0})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Nachrichten heute"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Kommunikation"})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(Wb,{className:"w-8 h-8 text-green-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:E.length})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Jetzt Online"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Aktive Verbindungen"})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)(Ob,{className:"w-8 h-8 text-red-600"}),(0,Oa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:((null===b||void 0===b||null===(h=b.bySeverity)||void 0===h?void 0:h.high)||0)+((null===b||void 0===b||null===(m=b.bySeverity)||void 0===m?void 0:m.critical)||0)})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"Kritische Ereignisse"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Ben\xf6tigen Aufmerksamkeit"})]})]}),T.length>0&&(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-blue-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Live-System-Feed"}),(0,Oa.jsx)("span",{className:"text-xs uppercase tracking-wide text-blue-600 font-semibold",children:"Echtzeit"})]}),(0,Oa.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-3",children:T.map((e,t)=>(0,Oa.jsxs)("div",{className:"flex items-start gap-3 border-l-4 border-blue-500 bg-blue-50 rounded-lg px-3 py-2",children:[(0,Oa.jsx)("div",{className:"text-sm font-semibold text-blue-700",children:"broadcast"===e.type?"Broadcast":"Audit"}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("p",{className:"text-sm text-gray-800",children:e.message||e.action||"Systemereignis"}),(0,Oa.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(e.timestamp).toLocaleString("de-DE"),e.from&&" \u2022 ".concat(e.from)]})]})]},"".concat(e.timestamp,"-").concat(e.action||e.message,"-").concat(t)))})]}),(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Broadcast-Verlauf"}),(0,Oa.jsxs)("p",{className:"text-sm text-gray-500",children:["Letzte ",Q.length||0," Broadcasts im Blick behalten."]})]}),(0,Oa.jsxs)("button",{onClick:ke,disabled:ee,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-slate-100 text-slate-700 text-xs font-semibold hover:bg-slate-200 transition disabled:opacity-50",children:[(0,Oa.jsx)(Pb,{className:"w-4 h-4"}),"Aktualisieren"]})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center text-xs text-gray-500 mb-4",children:[(0,Oa.jsxs)("div",{className:"rounded-2xl bg-slate-50 px-3 py-2",children:[(0,Oa.jsx)("p",{className:"uppercase tracking-wide text-[10px] text-slate-400",children:"Letzter Versand"}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:Jb(Ie)})]}),(0,Oa.jsxs)("div",{className:"rounded-2xl bg-slate-50 px-3 py-2",children:[(0,Oa.jsx)("p",{className:"uppercase tracking-wide text-[10px] text-slate-400",children:"Empf\xe4nger gesamt"}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:Re})]}),(0,Oa.jsxs)("div",{className:"rounded-2xl bg-slate-50 px-3 py-2",children:[(0,Oa.jsx)("p",{className:"uppercase tracking-wide text-[10px] text-slate-400",children:"Eintr\xe4ge"}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:Q.length})]})]}),ee?(0,Oa.jsx)("div",{className:"border border-dashed border-slate-200 rounded-2xl p-6",children:(0,Oa.jsxs)("div",{className:"flex items-center justify-center gap-3 text-sm text-blue-600",children:[(0,Oa.jsx)("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"Lade Broadcasts\u2026"]})}):0===Q.length?(0,Oa.jsx)("div",{className:"border border-dashed border-slate-200 rounded-2xl p-6 text-center text-sm text-gray-500",children:"Noch keine Broadcasts vorhanden. Sende eine Nachricht, um den Verlauf zu f\xfcllen."}):(0,Oa.jsx)("div",{className:"space-y-3",children:Q.map(e=>(0,Oa.jsxs)("div",{className:"flex items-start justify-between gap-4 border border-slate-100 rounded-2xl p-4 bg-slate-50 shadow-sm",children:[(0,Oa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:eD(e.message)}),(0,Oa.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.admin_name||"Admin"," \xb7 ",Jb(e.created_at)]}),(0,Oa.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Empf\xe4nger: ",e.recipients||0]})]}),(0,Oa.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,Oa.jsx)("span",{className:"text-[10px] px-2 py-1 rounded-full font-semibold uppercase tracking-wide ".concat(Qb[e.severity||"info"]),children:(e.severity||"info").toUpperCase()}),(0,Oa.jsx)("button",{type:"button",onClick:()=>je(e),disabled:ne===e.id,className:"text-xs font-semibold px-3 py-1.5 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition disabled:opacity-60",children:ne===e.id?"Sende\u2026":"Erneut senden"})]})]},e.id))})]}),E.length>0&&(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(zf,{className:"w-5 h-5 text-green-600"}),"Online Benutzer"]}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:E.map(e=>(0,Oa.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[(0,Oa.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Oa.jsx)("p",{className:"text-xs text-gray-600",children:e.role})]}),e.currentPage&&(0,Oa.jsx)("span",{className:"text-xs text-gray-500 px-2 py-1 bg-white rounded",children:e.currentPage})]},e.id))})]})]}),"users"===f&&(0,Oa.jsxs)("div",{className:"space-y-6",children:[(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(zf,{className:"w-5 h-5 text-blue-600"}),"Benutzerverwaltung"]}),(0,Oa.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,Oa.jsxs)("div",{className:"flex flex-col gap-3 rounded-2xl border border-slate-200 bg-slate-50 p-4 md:flex-row md:items-center md:justify-between",children:[(0,Oa.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Bulk-Operationen"}),(0,Oa.jsxs)("p",{className:"text-xs text-slate-500",children:[ae.length," Benutzer ausgew\xe4hlt.",0===ae.length&&" Bitte w\xe4hle Nutzer in der Tabelle aus."]})]}),(0,Oa.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Oa.jsx)("select",{value:le,onChange:e=>ue(e.target.value),className:"rounded-full border border-slate-200 px-3 py-1 text-sm font-semibold text-slate-700",children:tD.map(e=>(0,Oa.jsx)("option",{value:e.value,children:e.label},e.value))}),"updateRole"===le&&(0,Oa.jsx)("select",{value:ce,onChange:e=>de(e.target.value),className:"rounded-full border border-slate-200 px-3 py-1 text-sm font-semibold text-slate-700",children:nD.map(e=>(0,Oa.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Oa.jsx)("button",{type:"button",onClick:Ce,disabled:he||0===ae.length,className:"rounded-full bg-blue-600 px-4 py-1 text-sm font-semibold text-white shadow hover:bg-blue-700 transition disabled:opacity-60 disabled:cursor-not-allowed",children:he?"Wird angewendet\u2026":"Bulk ausf\xfchren"})]})]}),ae.length>0&&(0,Oa.jsx)("button",{type:"button",onClick:()=>{se([]),oe(!1)},className:"text-xs text-blue-600 hover:text-blue-800 font-semibold",children:"Auswahl aufheben"})]}),(0,Oa.jsx)("div",{className:"overflow-x-auto",children:(0,Oa.jsxs)("table",{className:"w-full",children:[(0,Oa.jsx)("thead",{className:"bg-gray-50",children:(0,Oa.jsxs)("tr",{children:[(0,Oa.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Oa.jsx)("input",{type:"checkbox",checked:ie,onChange:Ee,"aria-label":"Alle Benutzer ausw\xe4hlen",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benutzer"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-Mail"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rolle"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktionen"})]})}),(0,Oa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===F.length?(0,Oa.jsx)("tr",{children:(0,Oa.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:"Keine Benutzer gefunden"})}):F.map(e=>{var t;return(0,Oa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Oa.jsx)("td",{className:"px-3 py-4",children:(0,Oa.jsx)("input",{type:"checkbox",checked:ae.includes(e.id),onChange:()=>we(e.id),"aria-label":"Benutzer ".concat(e.name," ausw\xe4hlen"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:null===(t=e.name)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500",children:e.employment_type})]})]})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.email}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oa.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(Te(e.role)),children:e.role})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oa.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Aktiv":"Inaktiv"})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("button",{onClick:()=>U(e),className:"text-blue-600 hover:text-blue-800",title:"Bearbeiten",children:(0,Oa.jsx)(Hb,{className:"w-4 h-4"})}),(0,Oa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("M\xf6chten Sie das Passwort f\xfcr diesen Benutzer wirklich zur\xfccksetzen?"))try{const t=await Ma.post("/admin/users/".concat(e,"/reset-password"));sn.success("Neues Passwort: ".concat(t.data.newPassword))}catch(t){console.error("Error resetting password:",t),sn.error("Fehler beim Zur\xfccksetzen des Passworts")}})(e.id),className:"text-yellow-600 hover:text-yellow-800",title:"Passwort zur\xfccksetzen",children:(0,Oa.jsx)(qb,{className:"w-4 h-4"})}),e.is_active?(0,Oa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("M\xf6chten Sie diesen Benutzer wirklich deaktivieren?"))try{await Ma.post("/admin/users/".concat(e,"/deactivate")),sn.success("Benutzer deaktiviert"),await ye()}catch(t){console.error("Error deactivating user:",t),sn.error("Fehler beim Deaktivieren des Benutzers")}})(e.id),className:"text-orange-600 hover:text-orange-800",title:"Deaktivieren",children:(0,Oa.jsx)(Vb,{className:"w-4 h-4"})}):(0,Oa.jsx)("button",{onClick:()=>(async e=>{try{await Ma.post("/admin/users/".concat(e,"/activate")),sn.success("Benutzer aktiviert"),await ye()}catch(t){console.error("Error activating user:",t),sn.error("Fehler beim Aktivieren des Benutzers")}})(e.id),className:"text-green-600 hover:text-green-800",title:"Aktivieren",children:(0,Oa.jsx)(Kb,{className:"w-4 h-4"})}),(0,Oa.jsx)("button",{onClick:()=>g("activity"),className:"text-gray-600 hover:text-gray-800",title:"Aktivit\xe4tsprotokoll anzeigen",children:(0,Oa.jsx)(Yb,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]}),z&&(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[(0,Oa.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Benutzer bearbeiten"}),(0,Oa.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async(e,t)=>{try{await Ma.put("/admin/users/".concat(e),t),sn.success("Benutzer erfolgreich aktualisiert"),U(null),await ye()}catch(n){console.error("Error updating user:",n),sn.error("Fehler beim Aktualisieren des Benutzers")}})(z.id,{name:t.get("name"),email:t.get("email"),role:t.get("role")})},children:[(0,Oa.jsxs)("div",{className:"space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Oa.jsx)("input",{type:"text",name:"name",defaultValue:z.name,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail"}),(0,Oa.jsx)("input",{type:"email",name:"email",defaultValue:z.email,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rolle"}),(0,Oa.jsxs)("select",{name:"role",defaultValue:z.role,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Oa.jsx)("option",{value:"employee",children:"Employee"}),(0,Oa.jsx)("option",{value:"observer",children:"Beobachter"}),(0,Oa.jsx)("option",{value:"admin",children:"Admin"}),"superadmin"===(null===p||void 0===p?void 0:p.role)&&(0,Oa.jsx)("option",{value:"superadmin",children:"Superadmin"})]})]})]}),(0,Oa.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Oa.jsxs)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[(0,Oa.jsx)(Vg,{className:"w-4 h-4"}),"Speichern"]}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>U(null),className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center justify-center gap-2",children:[(0,Oa.jsx)(vs,{className:"w-4 h-4"}),"Abbrechen"]})]})]})]})})]}),"monitoring"===f&&(0,Oa.jsx)("div",{className:"space-y-6",children:(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(zb,{className:"w-5 h-5 text-blue-600"}),"System-Monitoring"]}),k&&(0,Oa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Oa.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Datenbankstatus"}),(0,Oa.jsx)(Gb,{className:"w-5 h-5 ".concat("healthy"===k.database?"text-green-600":"text-red-600")})]}),(0,Oa.jsx)("p",{className:"text-lg font-semibold ".concat("healthy"===k.database?"text-green-600":"text-red-600"),children:"healthy"===k.database?"Gesund":k.database})]}),(0,Oa.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Server-Status"}),(0,Oa.jsx)(zb,{className:"w-5 h-5 text-green-600"})]}),(0,Oa.jsx)("p",{className:"text-lg font-semibold text-green-600",children:k.server||"Running"})]}),(0,Oa.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Server-Laufzeit"}),(0,Oa.jsx)(Df,{className:"w-5 h-5 text-blue-600"})]}),(0,Oa.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:k.uptime||"0s"})]}),(0,Oa.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"WebSocket-Verbindungen"}),(0,Oa.jsx)(Wb,{className:"w-5 h-5 text-green-600"})]}),(0,Oa.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:k.activeConnections||0})]})]}),(null===k||void 0===k?void 0:k.recentErrors)&&k.recentErrors.length>0&&(0,Oa.jsxs)("div",{className:"mt-6",children:[(0,Oa.jsxs)("h3",{className:"text-md font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,Oa.jsx)(Ob,{className:"w-5 h-5 text-red-600"}),"Aktuelle Systemfehler"]}),(0,Oa.jsx)("div",{className:"space-y-2",children:k.recentErrors.map((e,t)=>(0,Oa.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,Oa.jsx)("p",{className:"text-sm text-red-800 font-medium",children:e.message}),(0,Oa.jsx)("p",{className:"text-xs text-red-600 mt-1",children:new Date(e.timestamp).toLocaleString("de-DE")})]},t))})]})]})}),"bulk"===f&&(0,Oa.jsx)("div",{className:"space-y-6",children:(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(Bg,{className:"w-5 h-5 text-blue-600"}),"Massenvorg\xe4nge"]}),(0,Oa.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,Oa.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-3",children:"Systemnachricht senden"}),(0,Oa.jsxs)("div",{className:"mb-3",children:[(0,Oa.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Priorit\xe4t"}),(0,Oa.jsxs)("select",{value:G,onChange:e=>$(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Oa.jsx)("option",{value:"info",children:"Info"}),(0,Oa.jsx)("option",{value:"success",children:"Erfolg"}),(0,Oa.jsx)("option",{value:"warning",children:"Warnung"}),(0,Oa.jsx)("option",{value:"error",children:"Kritisch"})]})]}),(0,Oa.jsx)("textarea",{value:W,onChange:e=>H(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3",rows:"3",placeholder:"Nachricht an alle Benutzer..."}),(0,Oa.jsxs)("button",{onClick:async()=>{if(W.trim())try{await Ma.post("/admin/broadcast",{message:W,type:G}),sn.success("Nachricht erfolgreich gesendet"),H("")}catch(e){console.error("Error broadcasting message:",e),sn.error("Fehler beim Senden der Nachricht")}else sn.error("Bitte geben Sie eine Nachricht ein")},className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[(0,Oa.jsx)(Bg,{className:"w-4 h-4"}),"Nachricht an alle senden"]})]}),(0,Oa.jsxs)("div",{className:"mb-6 p-4 bg-green-50 rounded-lg",children:[(0,Oa.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-3",children:"Benachrichtigung senden"}),(0,Oa.jsxs)("div",{className:"mb-3",children:[(0,Oa.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Priorit\xe4t"}),(0,Oa.jsxs)("select",{value:Z,onChange:e=>X(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,Oa.jsx)("option",{value:"info",children:"Info"}),(0,Oa.jsx)("option",{value:"success",children:"Erfolg"}),(0,Oa.jsx)("option",{value:"warning",children:"Warnung"}),(0,Oa.jsx)("option",{value:"error",children:"Kritisch"})]})]}),(0,Oa.jsx)("textarea",{value:q,onChange:e=>V(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 mb-3",rows:"3",placeholder:"Benachrichtigung an alle Benutzer..."}),(0,Oa.jsxs)("button",{onClick:async()=>{if(q.trim())try{await Ma.post("/admin/broadcast",{message:q,type:Z}),sn.success("Benachrichtigung an alle Benutzer gesendet"),V("")}catch(e){console.error("Error sending notification:",e),sn.error("Fehler beim Senden der Benachrichtigung")}else sn.error("Bitte geben Sie eine Benachrichtigung ein")},className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,Oa.jsx)(gs,{className:"w-4 h-4"}),"Benachrichtigung an alle senden"]})]}),(0,Oa.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,Oa.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-3",children:"Daten exportieren"}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,Oa.jsxs)("button",{onClick:()=>_e("users"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,Oa.jsx)($b,{className:"w-4 h-4"}),"Benutzer"]}),(0,Oa.jsxs)("button",{onClick:()=>_e("events"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,Oa.jsx)($b,{className:"w-4 h-4"}),"Termine"]}),(0,Oa.jsxs)("button",{onClick:()=>_e("tasks"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,Oa.jsx)($b,{className:"w-4 h-4"}),"Aufgaben"]}),(0,Oa.jsxs)("button",{onClick:()=>_e("waste"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,Oa.jsx)($b,{className:"w-4 h-4"}),"Abfall"]}),(0,Oa.jsxs)("button",{onClick:()=>_e("kb-articles"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,Oa.jsx)($b,{className:"w-4 h-4"}),"KB Artikel"]}),(0,Oa.jsxs)("button",{onClick:()=>Se("json"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,Oa.jsx)($b,{className:"w-4 h-4"}),"Audit-Logs"]})]})]})]})}),"settings"===f&&(0,Oa.jsx)("div",{className:"space-y-6",children:(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(fl,{className:"w-5 h-5 text-blue-600"}),"Systemeinstellungen"]}),(0,Oa.jsxs)("div",{className:"space-y-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"text-md font-semibold text-gray-900",children:"Wartungsmodus"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:"System f\xfcr Wartungsarbeiten sperren"})]}),(0,Oa.jsx)("button",{onClick:()=>Y(!K),className:"relative inline-flex h-6 w-11 items-center rounded-full transition ".concat(K?"bg-red-600":"bg-gray-300"),children:(0,Oa.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition ".concat(K?"translate-x-6":"translate-x-1")})})]}),(0,Oa.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Oa.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-3",children:"Feature-Schalter"}),(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-700",children:"Kalender-Modul"}),(0,Oa.jsx)(Zb,{className:"w-5 h-5 text-green-600"})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-700",children:"Kanban-Board"}),(0,Oa.jsx)(Zb,{className:"w-5 h-5 text-green-600"})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-700",children:"Abfallverwaltung"}),(0,Oa.jsx)(Zb,{className:"w-5 h-5 text-green-600"})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-700",children:"Messaging"}),(0,Oa.jsx)(Zb,{className:"w-5 h-5 text-green-600"})]})]}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Feature-Toggles sind derzeit nur zur Ansicht verf\xfcgbar"})]})]})]})}),"audit"===f&&(0,Oa.jsxs)("div",{className:"space-y-6",children:[(0,Oa.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:(0,Oa.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)(gf,{className:"w-4 h-4 text-gray-600"}),(0,Oa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),(0,Oa.jsxs)("select",{value:M.category,onChange:e=>O(qe(qe({},M),{},{category:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,Oa.jsx)("option",{value:"all",children:"Alle Kategorien"}),(0,Oa.jsx)("option",{value:"authentication",children:"Authentifizierung"}),(0,Oa.jsx)("option",{value:"authorization",children:"Autorisierung"}),(0,Oa.jsx)("option",{value:"data_modification",children:"Daten\xe4nderungen"}),(0,Oa.jsx)("option",{value:"security",children:"Sicherheit"}),(0,Oa.jsx)("option",{value:"system",children:"System"})]}),(0,Oa.jsxs)("select",{value:M.severity,onChange:e=>O(qe(qe({},M),{},{severity:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,Oa.jsx)("option",{value:"all",children:"Alle Stufen"}),(0,Oa.jsx)("option",{value:"critical",children:"Kritisch"}),(0,Oa.jsx)("option",{value:"high",children:"Hoch"}),(0,Oa.jsx)("option",{value:"medium",children:"Mittel"}),(0,Oa.jsx)("option",{value:"low",children:"Niedrig"})]}),(0,Oa.jsxs)("select",{value:M.days,onChange:e=>O(qe(qe({},M),{},{days:Number(e.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,Oa.jsx)("option",{value:1,children:"Heute"}),(0,Oa.jsx)("option",{value:7,children:"7 Tage"}),(0,Oa.jsx)("option",{value:30,children:"30 Tage"}),(0,Oa.jsx)("option",{value:90,children:"90 Tage"})]}),(0,Oa.jsxs)("button",{onClick:()=>Se("json"),className:"ml-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[(0,Oa.jsx)($b,{className:"w-4 h-4"}),"Export"]})]})}),(0,Oa.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,Oa.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,Oa.jsx)(Df,{className:"w-5 h-5 text-blue-600"}),"Letzte Audit-Ereignisse"]})}),(0,Oa.jsx)("div",{className:"overflow-x-auto",children:(0,Oa.jsxs)("table",{className:"w-full",children:[(0,Oa.jsx)("thead",{className:"bg-gray-50",children:(0,Oa.jsxs)("tr",{children:[(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zeit"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategorie"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktion"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benutzer"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stufe"}),(0,Oa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),(0,Oa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===y.length?(0,Oa.jsx)("tr",{children:(0,Oa.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"Keine Ereignisse zum Anzeigen"})}):y.map((e,t)=>(0,Oa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.timestamp).toLocaleString("de-DE")}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oa.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(Oe(e.category)),children:e.category})}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.action}),(0,Oa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[e.userId||"System",e.email&&(0,Oa.jsx)("div",{className:"text-xs text-gray-400",children:e.email})]}),(0,Oa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oa.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(Be(e.severity)),children:[Me(e.severity),e.severity]})}),(0,Oa.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.ip&&(0,Oa.jsxs)("div",{className:"text-xs",children:["IP: ",e.ip]}),e.reason&&(0,Oa.jsxs)("div",{className:"text-xs",children:["Grund: ",e.reason]}),e.changes&&(0,Oa.jsxs)("details",{className:"text-xs cursor-pointer",children:[(0,Oa.jsx)("summary",{children:"\xc4nderungen"}),(0,Oa.jsx)("pre",{className:"mt-1 text-xs bg-gray-50 p-2 rounded",children:JSON.stringify(e.changes,null,2)})]})]})]},t))})]})})]}),b&&b.byCategory&&(0,Oa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(Xb,{className:"w-5 h-5 text-blue-600"}),"Statistik nach Kategorien"]}),(0,Oa.jsx)("div",{className:"space-y-3",children:Object.entries(b.byCategory).map(e=>{let[t,n]=e;return(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat(Oe(t)),children:t}),(0,Oa.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:n})]},t)})})]})]})]}):(0,Oa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})},aD=()=>(0,Oa.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Oa.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Oa.jsx)(rD,{})})}),sD=e=>{let{onComplete:t}=e;const n=Pa(),r=null===n||void 0===n?void 0:n.user,[a,s]=(0,o.useState)("Vollzeit"===(null===r||void 0===r?void 0:r.employment_type)?40:20),[i,l]=(0,o.useState)(!1),[u,c]=(0,o.useState)(null);if(!n||!r)return null;return(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8",children:[(0,Oa.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Willkommen beim Biolab Logistik Planner! \ud83d\udc4b"}),(0,Oa.jsx)("p",{className:"text-blue-100",children:"Lassen Sie uns Ihren w\xf6chentlichen Arbeitsplan einrichten"})]}),(0,Oa.jsxs)("div",{className:"p-8",children:[(0,Oa.jsxs)("div",{className:"mb-8",children:[(0,Oa.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Setzen Sie Ihre w\xf6chentliche Stundenkontingent"}),(0,Oa.jsx)("p",{className:"text-gray-600 mb-6",children:"Dies hilft uns, Ihre Arbeitsstunden zu verfolgen und sicherzustellen, dass Sie Ihren geplanten Zeitplan nicht \xfcberschreiten. Sie k\xf6nnen dies sp\xe4ter jederzeit in Ihren Profileinstellungen \xe4ndern."}),(0,Oa.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:(0,Oa.jsxs)("div",{className:"flex items-center",children:[(0,Oa.jsx)("div",{className:"flex-shrink-0",children:(0,Oa.jsx)("svg",{className:"h-5 w-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Oa.jsx)("div",{className:"ml-3",children:(0,Oa.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Oa.jsx)("span",{className:"font-semibold",children:"Besch\xe4ftigungsart:"})," ",(null===r||void 0===r?void 0:r.employment_type)||"Nicht gesetzt"]})})]})}),(0,Oa.jsxs)("div",{className:"mb-6",children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Schnellvorlagen:"}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Werkstudent (20h)",value:20},{label:"Teilzeit (30h)",value:30},{label:"Vollzeit (40h)",value:40}].map(e=>(0,Oa.jsxs)("button",{type:"button",onClick:()=>s(e.value),className:"p-4 border-2 rounded-lg transition-all ".concat(a===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,Oa.jsxs)("div",{className:"font-semibold",children:[e.value,"h"]}),(0,Oa.jsx)("div",{className:"text-xs text-gray-600",children:e.label.split("(")[0].trim()})]},e.value))})]}),(0,Oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(null),l(!0);try{if(a<1||a>80)return c("Bitte geben Sie Stunden zwischen 1 und 80 ein"),void l(!1);const e=await Ma.post("/auth/complete-first-login",{weekly_hours_quota:a});null!==e&&void 0!==e&&e.data&&window.location.reload()}catch(BM){var t,n;console.error("Error completing first login:",BM),c((null===(t=BM.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim Speichern der Einstellungen")}finally{l(!1)}},children:[(0,Oa.jsxs)("div",{className:"mb-6",children:[(0,Oa.jsx)("label",{htmlFor:"weeklyHours",className:"block text-sm font-medium text-gray-700 mb-2",children:"Oder geben Sie individuelle Stunden pro Woche ein:"}),(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("input",{type:"number",id:"weeklyHours",min:"1",max:"80",step:"0.5",value:a,onChange:e=>s(parseFloat(e.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-lg",required:!0}),(0,Oa.jsx)("span",{className:"absolute right-4 top-3 text-gray-500 text-lg",children:"Stunden/Woche"})]}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Erlaubter Bereich: 1-80 Stunden pro Woche"})]}),u&&(0,Oa.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4",children:(0,Oa.jsxs)("div",{className:"flex",children:[(0,Oa.jsx)("div",{className:"flex-shrink-0",children:(0,Oa.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Oa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Oa.jsx)("div",{className:"ml-3",children:(0,Oa.jsx)("p",{className:"text-sm text-red-700",children:u})})]})}),(0,Oa.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg text-lg",children:i?(0,Oa.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Oa.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Oa.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Oa.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Speichert..."]}):"Weiter zum Dashboard"})]})]}),(0,Oa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mt-6",children:[(0,Oa.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Warum ben\xf6tigen wir das?"}),(0,Oa.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[(0,Oa.jsx)("li",{children:"Verfolgen Sie Ihre geplanten vs. geleisteten Stunden"}),(0,Oa.jsx)("li",{children:"\xdcberbuchung und \xdcberlastung vermeiden"}),(0,Oa.jsx)("li",{children:"Administratoren bei der Teamkapazit\xe4tsplanung unterst\xfctzen"}),(0,Oa.jsx)("li",{children:"Einhaltung Ihres Arbeitsvertrags sicherstellen"})]})]})]})]})})},iD=cs("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),oD=cs("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),lD=e=>{var t,n,r;let{userId:a,onClose:s}=e;const[i,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(!0),[d,h]=(0,o.useState)(!1),[m,p]=(0,o.useState)("profile"),[f,g]=(0,o.useState)(null),[b,D]=(0,o.useState)(null),[x,v]=(0,o.useState)({}),[y,w]=(0,o.useState)({}),[E,C]=(0,o.useState)(!1),[F,A]=(0,o.useState)({current_password:"",new_password:"",confirm_password:""}),[k,N]=(0,o.useState)([]),[j,_]=(0,o.useState)(!1),[S,B]=(0,o.useState)(null),[M,O]=(0,o.useState)(!1),{user:T}=Pa(),R=(0,o.useMemo)(()=>(null===T||void 0===T?void 0:T.id)===parseInt(a,10),[T,a]),I=(0,o.useRef)(null),{isMobile:P}=ii(),L=(0,o.useCallback)(async()=>{try{var e,t,n,r,s,i,o,u,d,h,m,p,f;c(!0);const g=await(e=>To.get("/profile/".concat(e)))(a);l(g.data),v({name:g.data.name||"",status:g.data.status||"available",status_message:g.data.status_message||"",bio:g.data.bio||"",position_description:g.data.position_description||"",phone:g.data.phone||"",phone_mobile:g.data.phone_mobile||"",emergency_contact:g.data.emergency_contact||"",emergency_phone:g.data.emergency_phone||"",address:g.data.address||"",timezone:g.data.timezone||"Europe/Berlin",language:g.data.language||"de",theme:g.data.theme||"light",employment_type:g.data.employment_type||"Werkstudent",weekly_hours_quota:g.data.weekly_hours_quota||20}),w({email_notifications:null===(e=g.data.email_notifications)||void 0===e||e,push_notifications:null===(t=g.data.push_notifications)||void 0===t||t,desktop_notifications:null===(n=g.data.desktop_notifications)||void 0===n||n,sound_enabled:null===(r=g.data.sound_enabled)||void 0===r||r,notify_messages:null===(s=g.data.notify_messages)||void 0===s||s,notify_tasks:null===(i=g.data.notify_tasks)||void 0===i||i,notify_mentions:null===(o=g.data.notify_mentions)||void 0===o||o,notify_reactions:null===(u=g.data.notify_reactions)||void 0===u||u,notify_calendar:null===(d=g.data.notify_calendar)||void 0===d||d,compact_view:null!==(h=g.data.compact_view)&&void 0!==h&&h,show_avatars:null===(m=g.data.show_avatars)||void 0===m||m,message_preview:null===(p=g.data.message_preview)||void 0===p||p,quiet_hours_enabled:null!==(f=g.data.quiet_hours_enabled)&&void 0!==f&&f,quiet_hours_start:g.data.quiet_hours_start||"22:00",quiet_hours_end:g.data.quiet_hours_end||"08:00"})}catch(g){console.error("Error loading profile:",g)}finally{c(!1)}},[a]),z=(0,o.useCallback)(async()=>{try{var e;_(!0);const t=await To.get("/messages/stories"),n=(Array.isArray(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.stories)?t.data.stories:Array.isArray(null===t||void 0===t?void 0:t.data)?t.data:[]).map(e=>{var t,n,r,a,s,i,o,l,u,c;return{id:e.id,userId:null!==(t=e.user_id)&&void 0!==t?t:e.userId,mediaUrl:null!==(n=e.media_url)&&void 0!==n?n:e.mediaUrl,mediaType:null!==(r=e.media_type)&&void 0!==r?r:e.mediaType,caption:null!==(a=e.caption)&&void 0!==a?a:"",createdAt:null!==(s=e.created_at)&&void 0!==s?s:e.createdAt,expiresAt:null!==(i=e.expires_at)&&void 0!==i?i:e.expiresAt,viewCount:Number(null!==(o=null!==(l=e.view_count)&&void 0!==l?l:e.viewCount)&&void 0!==o?o:0),viewerHasSeen:Boolean(null!==(u=null!==(c=e.viewed_by_me)&&void 0!==c?c:e.viewerHasSeen)&&void 0!==u&&u)}}).filter(Boolean),r=a?n.filter(e=>e.userId===Number(a)):n;N(r)}catch(t){console.error("Error loading stories:",t)}finally{_(!1)}},[a]);(0,o.useEffect)(()=>{L(),z()},[L,z]);const U=async e=>{B(e);try{await Lo(e.id),await z()}catch(t){console.error("Error marking story view:",t)}},W=()=>{B(null)},H=async()=>{try{if(x.weekly_hours_quota){const e=parseFloat(x.weekly_hours_quota);if(isNaN(e)||e<=0)return void sn.error("W\xf6chentliche Stunden m\xfcssen gr\xf6\xdfer als 0 sein");if(e>168)return void sn.error("W\xf6chentliche Stunden k\xf6nnen nicht mehr als 168 sein (24h \xd7 7 Tage)");if("Werkstudent"===x.employment_type&&e>40){if(!window.confirm("Als Werkstudent sollten Sie normalerweise nicht mehr als 20 Stunden w\xe4hrend des Semesters arbeiten (40 in den Ferien). M\xf6chten Sie wirklich "+e+" Stunden einstellen?"))return}}C(!0),await((e,t)=>To.put("/profile/".concat(e),t))(a,x),l(qe(qe({},i),x)),h(!1),sn.success("Profil aktualisiert!")}catch(n){var e,t;console.error("Error saving profile:",n),sn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Fehler beim Speichern des Profils")}finally{C(!1)}};if(u)return(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-lg p-8",children:[(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,Oa.jsx)("p",{className:"mt-4 text-gray-600",children:"Profil wird geladen..."})]})});return(0,Oa.jsxs)("div",{className:"user-profile-shell fixed inset-0 bg-black/60 backdrop-blur-sm z-[20000] ".concat(P?"p-0 flex items-stretch justify-center":"p-4 flex items-center justify-center"),children:[(0,Oa.jsxs)("div",{className:"bg-white shadow-2xl w-full flex flex-col ".concat(P?"h-full max-w-none rounded-none overflow-y-auto":"rounded-lg max-w-4xl max-h-[90vh] overflow-y-auto"),children:[(0,Oa.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 relative",children:[(0,Oa.jsx)("button",{onClick:s,className:"absolute top-4 right-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition",children:(0,Oa.jsx)(vs,{className:"w-6 h-6"})}),(0,Oa.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-white overflow-hidden border-4 border-white shadow-lg",children:b||null!==i&&void 0!==i&&i.profile_photo?(0,Oa.jsx)("img",{src:b||nl(i.profile_photo),alt:null===i||void 0===i?void 0:i.name,className:"w-full h-full object-cover"}):(0,Oa.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl text-gray-400 bg-gray-200",children:null===i||void 0===i||null===(t=i.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase()})}),R&&(0,Oa.jsxs)("label",{className:"absolute bottom-0 right-0 bg-blue-500 hover:bg-blue-600 rounded-full p-2 cursor-pointer shadow-lg transition",children:[(0,Oa.jsx)(Hg,{className:"w-5 h-5 text-white"}),(0,Oa.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(g(t),D(URL.createObjectURL(t)))},className:"hidden"})]})]}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold",children:null===i||void 0===i?void 0:i.name}),(0,Oa.jsx)("p",{className:"text-blue-100 mt-1",children:(null===i||void 0===i?void 0:i.position_description)||(null===i||void 0===i?void 0:i.role)}),(0,Oa.jsxs)("div",{className:"flex items-center mt-2 space-x-2",children:[(0,Oa.jsx)("div",{className:"w-3 h-3 rounded-full ".concat({available:"bg-green-500",busy:"bg-yellow-500",away:"bg-orange-500",offline:"bg-gray-500"}[(null===i||void 0===i?void 0:i.status)||"offline"])}),(0,Oa.jsx)("span",{className:"text-sm",children:(null===i||void 0===i?void 0:i.status_message)||(null===i||void 0===i?void 0:i.status)})]})]})]}),f&&(0,Oa.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Oa.jsx)("button",{onClick:async()=>{if(f)try{C(!0);const e=new FormData;e.append("photo",f);const t=await((e,t)=>To.post("/profile/".concat(e,"/photo"),t,{headers:{"Content-Type":"multipart/form-data"}}))(a,e);l(qe(qe({},i),{},{profile_photo:t.data.photo_url})),g(null),D(null),sn.success("Foto erfolgreich hochgeladen!")}catch(e){console.error("Error uploading photo:",e),sn.error("Fehler beim Hochladen des Fotos")}finally{C(!1)}},disabled:E,className:"px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 disabled:opacity-50 transition text-sm",children:"Foto speichern"}),(0,Oa.jsx)("button",{onClick:()=>{g(null),D(null)},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition text-sm",children:"Abbrechen"})]})]}),(0,Oa.jsxs)("div",{className:"px-6 py-4 bg-white border-b border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Stories"}),R&&(0,Oa.jsxs)("label",{className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg font-medium cursor-pointer hover:bg-blue-100 transition",children:[(0,Oa.jsx)(Wf,{className:"w-4 h-4"}),M?"L\xe4dt...":"Story hinzuf\xfcgen",(0,Oa.jsx)("input",{ref:I,type:"file",accept:"image/*,video/*",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const r=window.prompt("Story-Beschreibung (optional)")||"",a=new FormData;a.append("storyMedia",n),a.append("caption",r);try{O(!0),await Io(0,a),sn.success("Story ver\xf6ffentlicht"),await z()}catch(o){var s,i;console.error("Error uploading story:",o),sn.error((null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||"Fehler beim Hochladen der Story")}finally{O(!1),I.current&&(I.current.value="")}},disabled:M,className:"hidden"})]})]}),j?(0,Oa.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[(0,Oa.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"Stories werden geladen ..."]}):0===k.length?(0,Oa.jsx)("div",{className:"text-sm text-gray-500",children:"Noch keine Stories vorhanden."}):(0,Oa.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2",children:k.map(e=>{var t;const n=null===(t=e.mediaType)||void 0===t?void 0:t.startsWith("video/");return(0,Oa.jsxs)("button",{onClick:()=>U(e),className:"flex-shrink-0 w-24 flex flex-col items-center gap-2",children:[(0,Oa.jsx)("div",{className:"w-20 h-20 rounded-3xl border-4 ".concat(n?"border-purple-400":"border-blue-400"," overflow-hidden bg-gray-200 flex items-center justify-center"),style:!n&&e.mediaUrl?{backgroundImage:"url(".concat(nl(e.mediaUrl),")"),backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:n&&(0,Oa.jsx)("span",{className:"text-white text-xs bg-black/50 px-2 py-1 rounded-full",children:"Video"})}),(0,Oa.jsx)("div",{className:"text-xs text-gray-600 text-center line-clamp-2",children:e.caption||"Story"}),(0,Oa.jsxs)("div",{className:"text-[11px] text-gray-400",children:["\ud83d\udc40 ",e.views]})]},e.id)})})]}),(0,Oa.jsx)("div",{className:"border-b border-gray-200 bg-gray-50",children:(0,Oa.jsx)("div",{className:"flex overflow-x-auto",children:[{id:"profile",label:"Profil",icon:(0,Oa.jsx)(Yb,{className:"w-4 h-4"})},...R?[{id:"preferences",label:"Einstellungen",icon:(0,Oa.jsx)(gs,{className:"w-4 h-4"})},{id:"contact",label:"Kontakte",icon:(0,Oa.jsx)(iD,{className:"w-4 h-4"})},{id:"security",label:"Sicherheit",icon:(0,Oa.jsx)(Ib,{className:"w-4 h-4"})}]:[]].map(e=>(0,Oa.jsxs)("button",{onClick:()=>p(e.id),className:"flex items-center space-x-2 px-4 sm:px-6 py-3 border-b-2 transition whitespace-nowrap ".concat(m===e.id?"border-blue-500 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.icon,(0,Oa.jsx)("span",{className:"text-sm sm:text-base",children:e.label})]},e.id))})}),(0,Oa.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["profile"===m&&(0,Oa.jsxs)("div",{className:"space-y-6",children:[P&&!d&&(0,Oa.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-4",children:[(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Oa.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Position"}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:x.position_description||"Nicht angegeben"})]}),(0,Oa.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Arbeitstyp"}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:x.employment_type||"Werkstudent"})]}),(0,Oa.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Wochenstunden"}),(0,Oa.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[x.weekly_hours_quota||"20"," Std/Woche"]})]}),(0,Oa.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Telefon"}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:x.phone_mobile||x.phone||"Nicht angegeben"})]})]}),x.bio&&(0,Oa.jsxs)("div",{className:"mt-3 bg-white rounded-lg p-3 shadow-sm",children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"\xdcber mich"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-700",children:x.bio})]}),(0,Oa.jsxs)("div",{className:"mt-3 bg-white rounded-lg p-3 shadow-sm",children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"E-Mail"}),(0,Oa.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===i||void 0===i?void 0:i.email)||"Nicht verf\xfcgbar"})]})]}),(0,Oa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Oa.jsx)("h3",{className:"text-xl font-semibold",children:"Profilinformationen"}),R&&(0,Oa.jsx)("button",{onClick:()=>d?H():h(!0),disabled:E,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition",children:d?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(Vg,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Speichern"})]}):(0,Oa.jsx)("span",{children:"Bearbeiten"})})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,Oa.jsx)("input",{type:"text",value:x.name,onChange:e=>v(qe(qe({},x),{},{name:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Oa.jsxs)("select",{value:x.status,onChange:e=>v(qe(qe({},x),{},{status:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Oa.jsx)("option",{value:"available",children:"Verf\xfcgbar"}),(0,Oa.jsx)("option",{value:"busy",children:"Besch\xe4ftigt"}),(0,Oa.jsx)("option",{value:"away",children:"Abwesend"}),(0,Oa.jsx)("option",{value:"offline",children:"Offline"})]})]}),(0,Oa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statusnachricht"}),(0,Oa.jsx)("input",{type:"text",value:x.status_message,onChange:e=>v(qe(qe({},x),{},{status_message:e.target.value})),disabled:!d,placeholder:"Zum Beispiel: In Besprechung bis 14:00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografie"}),(0,Oa.jsx)("textarea",{value:x.bio,onChange:e=>v(qe(qe({},x),{},{bio:e.target.value})),disabled:!d,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Positionsbeschreibung"}),(0,Oa.jsx)("textarea",{value:x.position_description,onChange:e=>v(qe(qe({},x),{},{position_description:e.target.value})),disabled:!d,rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),(0,Oa.jsx)("input",{type:"tel",value:x.phone,onChange:e=>v(qe(qe({},x),{},{phone:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobiltelefon"}),(0,Oa.jsx)("input",{type:"tel",value:x.phone_mobile,onChange:e=>v(qe(qe({},x),{},{phone_mobile:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notfallkontakt"}),(0,Oa.jsx)("input",{type:"text",value:x.emergency_contact,onChange:e=>v(qe(qe({},x),{},{emergency_contact:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notfalltelefon"}),(0,Oa.jsx)("input",{type:"tel",value:x.emergency_phone,onChange:e=>v(qe(qe({},x),{},{emergency_phone:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),(0,Oa.jsx)("input",{type:"text",value:x.address,onChange:e=>v(qe(qe({},x),{},{address:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zeitzone"}),(0,Oa.jsxs)("select",{value:x.timezone,onChange:e=>v(qe(qe({},x),{},{timezone:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Oa.jsx)("option",{value:"Europe/Berlin",children:"Europe/Berlin"}),(0,Oa.jsx)("option",{value:"Europe/Kiev",children:"Europe/Kiev"}),(0,Oa.jsx)("option",{value:"Europe/London",children:"Europe/London"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sprache"}),(0,Oa.jsxs)("select",{value:x.language,onChange:e=>v(qe(qe({},x),{},{language:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Oa.jsx)("option",{value:"de",children:"Deutsch"}),(0,Oa.jsx)("option",{value:"uk",children:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"}),(0,Oa.jsx)("option",{value:"en",children:"English"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,Oa.jsxs)("select",{value:x.theme,onChange:e=>v(qe(qe({},x),{},{theme:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Oa.jsx)("option",{value:"light",children:"Hell"}),(0,Oa.jsx)("option",{value:"dark",children:"Dunkel"}),(0,Oa.jsx)("option",{value:"auto",children:"Automatisch"})]})]}),R&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"sm:col-span-2 border-t border-gray-200 pt-4 mt-4",children:(0,Oa.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Arbeitszeiten"})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Besch\xe4ftigungsart"}),(0,Oa.jsxs)("select",{value:x.employment_type,onChange:e=>v(qe(qe({},x),{},{employment_type:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Oa.jsx)("option",{value:"Werkstudent",children:"Werkstudent"}),(0,Oa.jsx)("option",{value:"Vollzeit",children:"Vollzeit"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["W\xf6chentliche Stunden","Werkstudent"===x.employment_type&&(0,Oa.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(max. 20 w\xe4hrend Semester, 40 in Ferien)"})]}),(0,Oa.jsx)("input",{type:"number",min:"1",max:(x.employment_type,"40"),step:"0.5",value:x.weekly_hours_quota,onChange:e=>v(qe(qe({},x),{},{weekly_hours_quota:parseFloat(e.target.value)||0})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),(0,Oa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Werkstudent"===x.employment_type?"Als Werkstudent k\xf6nnen Sie Ihre Stunden zwischen 1 und 20 w\xe4hrend des Semesters anpassen, bis zu 40 in den Ferien.":"Vollzeitbesch\xe4ftigte arbeiten standardm\xe4\xdfig 40 Stunden pro Woche."})]})]}),!R&&i&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"sm:col-span-2 border-t border-gray-200 pt-4 mt-4",children:(0,Oa.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Arbeitszeiten"})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Besch\xe4ftigungsart"}),(0,Oa.jsx)("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-700",children:i.employment_type})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"W\xf6chentliche Stunden"}),(0,Oa.jsxs)("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-700",children:[i.weekly_hours_quota," Stunden/Woche"]})]})]})]})]}),"preferences"===m&&R&&(0,Oa.jsxs)("div",{className:"space-y-6",children:[(0,Oa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Oa.jsx)("h3",{className:"text-xl font-semibold",children:"Benachrichtigungseinstellungen"}),(0,Oa.jsxs)("button",{onClick:async()=>{try{C(!0),await((e,t)=>To.put("/profile/".concat(e,"/preferences"),t))(a,y),sn.success("Einstellungen gespeichert!")}catch(e){console.error("Error saving preferences:",e),sn.error("Fehler beim Speichern der Einstellungen")}finally{C(!1)}},disabled:E,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition",children:[(0,Oa.jsx)(Vg,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Speichern"})]})]}),(0,Oa.jsxs)("div",{className:"space-y-4",children:[(0,Oa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Oa.jsx)("h4",{className:"font-medium mb-3",children:"Benachrichtigungstypen"}),(0,Oa.jsx)("div",{className:"space-y-2",children:[{key:"email_notifications",label:"E-Mail-Benachrichtigungen"},{key:"push_notifications",label:"Push-Benachrichtigungen"},{key:"desktop_notifications",label:"Desktop-Benachrichtigungen"},{key:"sound_enabled",label:"Audiobenachrichtigungen"}].map(e=>(0,Oa.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:y[e.key],onChange:t=>w(qe(qe({},y),{},{[e.key]:t.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Oa.jsx)("span",{children:e.label})]},e.key))})]}),(0,Oa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Oa.jsx)("h4",{className:"font-medium mb-3",children:"Benachrichtigen \xfcber"}),(0,Oa.jsx)("div",{className:"space-y-2",children:[{key:"notify_messages",label:"Neue Nachrichten"},{key:"notify_tasks",label:"Aufgaben"},{key:"notify_mentions",label:"Erw\xe4hnungen (@)"},{key:"notify_reactions",label:"Reaktionen"},{key:"notify_calendar",label:"Kalendertermine"}].map(e=>(0,Oa.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:y[e.key],onChange:t=>w(qe(qe({},y),{},{[e.key]:t.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Oa.jsx)("span",{children:e.label})]},e.key))})]}),(0,Oa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Oa.jsx)("h4",{className:"font-medium mb-3",children:"Anzeige"}),(0,Oa.jsx)("div",{className:"space-y-2",children:[{key:"compact_view",label:"Kompakte Ansicht"},{key:"show_avatars",label:"Avatare anzeigen"},{key:"message_preview",label:"Nachrichtenvorschau"}].map(e=>(0,Oa.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:y[e.key],onChange:t=>w(qe(qe({},y),{},{[e.key]:t.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Oa.jsx)("span",{children:e.label})]},e.key))})]}),(0,Oa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Oa.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:y.quiet_hours_enabled,onChange:e=>w(qe(qe({},y),{},{quiet_hours_enabled:e.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Oa.jsx)("h4",{className:"font-medium",children:"Ruhezeiten (Nicht st\xf6ren)"})]}),y.quiet_hours_enabled&&(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Beginn"}),(0,Oa.jsx)("input",{type:"time",value:y.quiet_hours_start,onChange:e=>w(qe(qe({},y),{},{quiet_hours_start:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Ende"}),(0,Oa.jsx)("input",{type:"time",value:y.quiet_hours_end,onChange:e=>w(qe(qe({},y),{},{quiet_hours_end:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),"contact"===m&&(0,Oa.jsxs)("div",{className:"space-y-4",children:[(0,Oa.jsx)("h3",{className:"text-xl font-semibold",children:"Kontaktinformationen"}),(0,Oa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-600",children:"E-Mail:"}),(0,Oa.jsx)("p",{className:"font-medium",children:null===i||void 0===i?void 0:i.email})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-600",children:"Telefon:"}),(0,Oa.jsx)("p",{className:"font-medium",children:(null===i||void 0===i?void 0:i.phone)||"Nicht angegeben"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-600",children:"Mobiltelefon:"}),(0,Oa.jsx)("p",{className:"font-medium",children:(null===i||void 0===i?void 0:i.phone_mobile)||"Nicht angegeben"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-600",children:"Adresse:"}),(0,Oa.jsx)("p",{className:"font-medium",children:(null===i||void 0===i?void 0:i.address)||"Nicht angegeben"})]})]})]}),"security"===m&&R&&(0,Oa.jsxs)("div",{className:"space-y-6",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(qb,{className:"w-5 h-5"}),"Passwort \xe4ndern"]}),(0,Oa.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aktuelles Passwort"}),(0,Oa.jsx)("input",{type:"password",value:F.current_password,onChange:e=>A(qe(qe({},F),{},{current_password:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Neues Passwort"}),(0,Oa.jsx)("input",{type:"password",value:F.new_password,onChange:e=>A(qe(qe({},F),{},{new_password:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Mindestens 8 Zeichen mit Gro\xdf- und Kleinbuchstaben, Zahlen und Sonderzeichen"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort best\xe4tigen"}),(0,Oa.jsx)("input",{type:"password",value:F.confirm_password,onChange:e=>A(qe(qe({},F),{},{confirm_password:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,Oa.jsxs)("button",{onClick:()=>{F.new_password===F.confirm_password?alert("Passwort-\xc4nderung noch nicht implementiert"):alert("Passw\xf6rter stimmen nicht \xfcberein")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[(0,Oa.jsx)(Vg,{className:"w-4 h-4"}),"Passwort \xe4ndern"]})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,Oa.jsx)(oD,{className:"w-5 h-5"}),"Aktive Sitzungen"]}),(0,Oa.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"font-medium text-gray-900",children:"Aktuelle Sitzung"}),(0,Oa.jsxs)("p",{className:"text-sm text-gray-500",children:["Chrome auf Windows \u2022 ",(new Date).toLocaleDateString("de-DE")]})]}),(0,Oa.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Aktiv"})]}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600 mt-4",children:"Keine weiteren aktiven Sitzungen gefunden."})]})})]})]})]})]}),S&&(0,Oa.jsxs)("div",{className:"fixed inset-0 z-[80] flex bg-black/70 ".concat(P?"items-stretch justify-center p-0":"items-center justify-center px-4 py-8"),children:[(0,Oa.jsx)("div",{className:"absolute inset-0",onClick:W}),(0,Oa.jsxs)("div",{className:"relative z-[81] w-full bg-white shadow-2xl ".concat(P?"h-full max-w-none rounded-none flex flex-col":"max-w-sm rounded-3xl overflow-hidden"),children:[(0,Oa.jsxs)("div",{className:"relative bg-black ".concat(P?"flex-1":""),children:[null!==(r=S.mediaType)&&void 0!==r&&r.startsWith("video/")?(0,Oa.jsx)("video",{src:nl(S.mediaUrl),className:"w-full ".concat(P?"h-full object-contain":"h-[420px] object-contain"," bg-black"),controls:!0,autoPlay:!0}):(0,Oa.jsx)("img",{src:nl(S.mediaUrl),alt:S.caption||"Story",className:"w-full ".concat(P?"h-full object-contain":"h-[420px] object-cover")}),(0,Oa.jsx)("button",{onClick:W,className:"absolute top-3 right-3 p-2 rounded-full bg-white/20 text-white hover:bg-white/40 transition",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"font-semibold text-gray-900",children:null===i||void 0===i?void 0:i.name}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500",children:$s(new Date(S.createdAt),{addSuffix:!0,locale:si})})]}),k.length>1&&(0,Oa.jsxs)("button",{onClick:()=>{if(!S)return;const e=k.findIndex(e=>e.id===S.id);if(-1===e)return void B(null);const t=k[(e+1)%k.length];U(t)},className:"flex items-center gap-1 text-sm font-semibold text-blue-600 hover:text-blue-700 transition",children:["Weiter",(0,Oa.jsx)(Sf,{className:"w-4 h-4"})]})]}),S.caption&&(0,Oa.jsx)("p",{className:"text-sm text-gray-700",children:S.caption}),(0,Oa.jsxs)("div",{className:"text-xs text-gray-500",children:["\ud83d\udc40 ",S.views," Aufrufe"]})]})]})]})]})},uD=()=>{const e=Pa(),t=null===e||void 0===e?void 0:e.user,{userId:n}=function(){let{matches:e}=o.useContext(Q),t=e[e.length-1];return t?t.params:{}}(),r=re(),a=(0,o.useMemo)(()=>{if(n&&"me"!==n){const e=parseInt(n,10);return Number.isNaN(e)?null===t||void 0===t?void 0:t.id:e}return null===t||void 0===t?void 0:t.id},[n,t]);return a?(0,Oa.jsx)("div",{className:"flex-1 relative",children:(0,Oa.jsx)(lD,{userId:a,onClose:()=>r(-1)})}):(0,Oa.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,Oa.jsx)("p",{className:"text-gray-600 text-center",children:"Kein Benutzer ausgew\xe4hlt oder keine Berechtigung."})})};function cD(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var dD=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),hD=()=>Math.random().toString(36).substring(7).split("").join("."),mD={INIT:"@@redux/INIT".concat(hD()),REPLACE:"@@redux/REPLACE".concat(hD()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(hD())};function pD(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function fD(e,t,n){if("function"!==typeof e)throw new Error(cD(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(cD(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(cD(1));return n(fD)(e,t)}let r=e,a=t,s=new Map,i=s,o=0,l=!1;function u(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function c(){if(l)throw new Error(cD(3));return a}function d(e){if("function"!==typeof e)throw new Error(cD(4));if(l)throw new Error(cD(5));let t=!0;u();const n=o++;return i.set(n,e),function(){if(t){if(l)throw new Error(cD(6));t=!1,u(),i.delete(n),s=null}}}function h(e){if(!pD(e))throw new Error(cD(7));if("undefined"===typeof e.type)throw new Error(cD(8));if("string"!==typeof e.type)throw new Error(cD(17));if(l)throw new Error(cD(9));try{l=!0,a=r(a,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}h({type:mD.INIT});return{dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(cD(10));r=e,h({type:mD.REPLACE})},[dD]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(cD(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[dD](){return this}}}}}function gD(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t(e.apply(this,r))}}function bD(e,t){if("function"===typeof e)return gD(e,t);if("object"!==typeof e||null===e)throw new Error(cD(16));const n={};for(const r in e){const a=e[r];"function"===typeof a&&(n[r]=gD(a,t))}return n}function DD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}n(7256);const xD=["initMapStateToProps","initMapDispatchToProps","initMergeProps"],vD=["reactReduxForwardedRef"];var yD=o.version.startsWith("19"),wD=Symbol.for(yD?"react.transitional.element":"react.element"),ED=Symbol.for("react.portal"),CD=Symbol.for("react.fragment"),FD=Symbol.for("react.strict_mode"),AD=Symbol.for("react.profiler"),kD=Symbol.for("react.consumer"),ND=Symbol.for("react.context"),jD=Symbol.for("react.forward_ref"),_D=Symbol.for("react.suspense"),SD=Symbol.for("react.suspense_list"),BD=Symbol.for("react.memo"),MD=Symbol.for("react.lazy"),OD=jD,TD=BD;function RD(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case wD:switch(e=e.type){case CD:case AD:case FD:case _D:case SD:return e;default:switch(e=e&&e.$$typeof){case ND:case jD:case MD:case BD:case kD:return e;default:return t}}case ED:return t}}}function ID(e,t,n,r,a){let s,i,o,l,u,{areStatesEqual:c,areOwnPropsEqual:d,areStatePropsEqual:h}=a,m=!1;function p(a,m){const p=!d(m,i),f=!c(a,s,m,i);return s=a,i=m,p&&f?(o=e(s,i),t.dependsOnOwnProps&&(l=t(r,i)),u=n(o,l,i),u):p?(e.dependsOnOwnProps&&(o=e(s,i)),t.dependsOnOwnProps&&(l=t(r,i)),u=n(o,l,i),u):f?function(){const t=e(s,i),r=!h(t,o);return o=t,r&&(u=n(o,l,i)),u}():u}return function(a,c){return m?p(a,c):(s=a,i=c,o=e(s,i),l=t(r,i),u=n(o,l,i),m=!0,u)}}function PD(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function LD(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function zD(e,t){return function(t,n){let{displayName:r}=n;const a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,n){a.mapToProps=e,a.dependsOnOwnProps=LD(e);let r=a(t,n);return"function"===typeof r&&(a.mapToProps=r,a.dependsOnOwnProps=LD(r),r=a(t,n)),r},a}}function UD(e,t){return(n,r)=>{throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function WD(e,t,n){return qe(qe(qe({},n),e),t)}function HD(e){e()}var qD={notify(){},get:()=>[]};function VD(e,t){let n,r=qD,a=0,s=!1;function i(){u.onStateChange&&u.onStateChange()}function o(){a++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HD(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=qD)}const u={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return u}var KD=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),YD=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),GD=(()=>KD||YD?o.useLayoutEffect:o.useEffect)();function $D(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function ZD(e,t){if($D(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!$D(e[n[a]],t[n[a]]))return!1;return!0}var XD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ex={[OD]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[TD]:JD};function tx(e){return RD(e)===BD?JD:ex[e.$$typeof]||XD}var nx=Object.defineProperty,rx=Object.getOwnPropertyNames,ax=Object.getOwnPropertySymbols,sx=Object.getOwnPropertyDescriptor,ix=Object.getPrototypeOf,ox=Object.prototype;function lx(e,t){if("string"!==typeof t){if(ox){const n=ix(t);n&&n!==ox&&lx(e,n)}let n=rx(t);ax&&(n=n.concat(ax(t)));const r=tx(e),a=tx(t);for(let s=0;s<n.length;++s){const i=n[s];if(!QD[i]&&(!a||!a[i])&&(!r||!r[i])){const n=sx(t,i);try{nx(e,i,n)}catch(Ve){}}}}return e}var ux=Symbol.for("react-redux-context"),cx="undefined"!==typeof globalThis?globalThis:{};function dx(){var e;if(!o.createContext)return{};const t=null!==(e=cx[ux])&&void 0!==e?e:cx[ux]=new Map;let n=t.get(o.createContext);return n||(n=o.createContext(null),t.set(o.createContext,n)),n}var hx=dx(),mx=[null,null];function px(e,t,n,r,a,s){e.current=r,n.current=!1,a.current&&(a.current=null,s())}function fx(e,t){return e===t}var gx=function(e,t,n){let{pure:r,areStatesEqual:a=fx,areOwnPropsEqual:s=ZD,areStatePropsEqual:i=ZD,areMergedPropsEqual:l=ZD,forwardRef:u=!1,context:c=hx}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=c,h=function(e){return e?"function"===typeof e?zD(e):UD(e,"mapStateToProps"):PD(()=>({}))}(e),m=function(e){return e&&"object"===typeof e?PD(t=>function(e,t){const n={};for(const r in e){const a=e[r];"function"===typeof a&&(n[r]=function(){return t(a(...arguments))})}return n}(e,t)):e?"function"===typeof e?zD(e):UD(e,"mapDispatchToProps"):PD(e=>({dispatch:e}))}(t),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:a,areMergedPropsEqual:s}=n,i=!1;return function(t,n,a){const o=e(t,n,a);return i?s(o,r)||(r=o):(i=!0,r=o),r}}}(e):UD(e,"mergeProps"):()=>WD}(n),f=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:f,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:m,initMergeProps:p,areStatesEqual:a,areStatePropsEqual:i,areOwnPropsEqual:s,areMergedPropsEqual:l};function c(t){const[n,a,s]=o.useMemo(()=>{const{reactReduxForwardedRef:e}=t,n=ns(t,vD);return[t.context,e,n]},[t]),i=o.useMemo(()=>{let e=d;return null!==n&&void 0!==n&&n.Consumer,e},[n,d]),l=o.useContext(i),u=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(l)&&Boolean(l.store);const h=u?t.store:l.store,m=c?l.getServerState:h.getState,p=o.useMemo(()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:a}=t,s=ns(t,xD);return ID(n(e,s),r(e,s),a(e,s),e,s)}(h.dispatch,r),[h]),[g,b]=o.useMemo(()=>{if(!f)return mx;const e=VD(h,u?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[h,u,l]),D=o.useMemo(()=>u?l:qe(qe({},l),{},{subscription:g}),[u,l,g]),x=o.useRef(void 0),v=o.useRef(s),y=o.useRef(void 0),w=o.useRef(!1),E=o.useRef(!1),C=o.useRef(void 0);GD(()=>(E.current=!0,()=>{E.current=!1}),[]);const F=o.useMemo(()=>()=>y.current&&s===v.current?y.current:p(h.getState(),s),[h,s]),A=o.useMemo(()=>e=>g?function(e,t,n,r,a,s,i,o,l,u,c){if(!e)return()=>{};let d=!1,h=null;const m=()=>{if(d||!o.current)return;const e=t.getState();let n,m;try{n=r(e,a.current)}catch(Ve){m=Ve,h=Ve}m||(h=null),n===s.current?i.current||u():(s.current=n,l.current=n,i.current=!0,c())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(f,h,g,p,v,x,w,E,y,b,e):()=>{},[g]);var k,N,j;let _;k=px,N=[v,x,w,s,y,b],GD(()=>k(...N),j);try{_=o.useSyncExternalStore(A,F,m?()=>p(m(),s):F)}catch(BM){throw C.current&&(BM.message+="\nThe error may be correlated with this previous error:\n".concat(C.current.stack,"\n\n")),BM}GD(()=>{C.current=void 0,y.current=void 0,x.current=_});const S=o.useMemo(()=>o.createElement(e,qe(qe({},_),{},{ref:a})),[a,e,_]);return o.useMemo(()=>f?o.createElement(i.Provider,{value:D},S):S,[i,S,D])}const g=o.memo(c);if(g.WrappedComponent=e,g.displayName=c.displayName=n,u){const t=o.forwardRef(function(e,t){return o.createElement(g,qe(qe({},e),{},{reactReduxForwardedRef:t}))});return t.displayName=n,t.WrappedComponent=e,lx(t,e)}return lx(g,e)}};var bx=function(e){const{children:t,context:n,serverState:r,store:a}=e,s=o.useMemo(()=>{const e=VD(a);return{store:a,subscription:e,getServerState:r?()=>r:void 0}},[a,r]),i=o.useMemo(()=>a.getState(),[a]);GD(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,i]);const l=n||hx;return o.createElement(l.Provider,{value:s},t)};var Dx="Invariant failed";var xx=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},vx=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},yx=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},wx={top:0,right:0,bottom:0,left:0},Ex=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?wx:n,a=e.border,s=void 0===a?wx:a,i=e.padding,o=void 0===i?wx:i,l=xx(vx(t,r)),u=xx(yx(t,s)),c=xx(yx(u,o));return{marginBox:l,borderBox:xx(t),paddingBox:u,contentBox:c,margin:r,border:s,padding:o}},Cx=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(Dx)}(!1),n},Fx=function(e,t){var n,r,a=e.borderBox,s=e.border,i=e.margin,o=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Ex({borderBox:l,border:s,margin:i,padding:o})},Ax=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Fx(e,t)},kx=function(e,t){var n={top:Cx(t.marginTop),right:Cx(t.marginRight),bottom:Cx(t.marginBottom),left:Cx(t.marginLeft)},r={top:Cx(t.paddingTop),right:Cx(t.paddingRight),bottom:Cx(t.paddingBottom),left:Cx(t.paddingLeft)},a={top:Cx(t.borderTopWidth),right:Cx(t.borderRightWidth),bottom:Cx(t.borderBottomWidth),left:Cx(t.borderLeftWidth)};return Ex({borderBox:e,margin:n,padding:r,border:a})},Nx=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return kx(t,n)};const jx=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function _x(e,t){}_x.bind(null,"warn"),_x.bind(null,"error");function Sx(){}function Bx(e,t,n){const r=t.map(t=>{const r=function(e,t){return qe(qe({},e),t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}});return function(){r.forEach(e=>{e()})}}const Mx="Invariant failed";class Ox extends Error{}function Tx(e,t){throw new Ox(Mx)}Ox.prototype.toString=function(){return this.message};class Rx extends o.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=Sx,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof Ox&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Bx(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Ox))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Ix=e=>e+1,Px=(e,t)=>{const n=e.droppableId===t.droppableId,r=Ix(e.index),a=Ix(t.index);return n?"\n      You have moved the item from position ".concat(r,"\n      to position ").concat(a,"\n    "):"\n    You have moved the item from position ".concat(r,"\n    in list ").concat(e.droppableId,"\n    to list ").concat(t.droppableId,"\n    in position ").concat(a,"\n  ")},Lx=(e,t,n)=>t.droppableId===n.droppableId?"\n      The item ".concat(e,"\n      has been combined with ").concat(n.draggableId):"\n      The item ".concat(e,"\n      in list ").concat(t.droppableId,"\n      has been combined with ").concat(n.draggableId,"\n      in list ").concat(n.droppableId,"\n    "),zx=e=>"\n  The item has returned to its starting position\n  of ".concat(Ix(e.index),"\n"),Ux="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Wx=e=>"\n  You have lifted an item in position ".concat(Ix(e.source.index),"\n"),Hx=e=>{const t=e.destination;if(t)return Px(e.source,t);const n=e.combine;return n?Lx(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},qx=e=>{if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      ".concat(zx(e.source),"\n    ");const t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      ".concat(Px(e.source,t),"\n    "):n?"\n      You have dropped the item.\n      ".concat(Lx(e.draggableId,e.source,n),"\n    "):"\n    The item has been dropped while not over a drop area.\n    ".concat(zx(e.source),"\n  ")};function Vx(e,t){return e===t||!(!Number.isNaN(e)||!Number.isNaN(t))}function Kx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Vx(e[n],t[n]))return!1;return!0}function Yx(e,t){const n=(0,o.useState)(()=>({inputs:t,result:e()}))[0],r=(0,o.useRef)(!0),a=(0,o.useRef)(n),s=r.current||Boolean(t&&a.current.inputs&&Kx(t,a.current.inputs))?a.current:{inputs:t,result:e()};return(0,o.useEffect)(()=>{r.current=!1,a.current=s},[s]),s.result}function Gx(e,t){return Yx(()=>e,t)}const $x={x:0,y:0},Zx=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Xx=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Qx=(e,t)=>e.x===t.x&&e.y===t.y,Jx=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),ev=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},tv=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),nv=(e,t)=>Math.min(...t.map(t=>tv(e,t))),rv=e=>t=>({x:e(t.x),y:e(t.y)});const av=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),sv=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],iv=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=xx({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):xx(e);var ov=e=>{let{page:t,withPlaceholder:n,axis:r,frame:a}=e;const s=((e,t)=>t?av(e,t.scroll.diff.displacement):e)(t.marginBox,a),i=((e,t,n)=>n&&n.increasedBy?qe(qe({},e),{},{[t.end]:e[t.end]+n.increasedBy[t.line]}):e)(s,r,n);return{page:t,withPlaceholder:n,active:iv(i,a)}},lv=(e,t)=>{e.frame||Tx();const n=e.frame,r=Xx(t,n.scroll.initial),a=Jx(r),s=qe(qe({},n),{},{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}}),i=ov({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return qe(qe({},e),{},{frame:s,subject:i})};function uv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kx,n=null;function r(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;const i=e.apply(this,a);return n={lastResult:i,lastArgs:a,lastThis:this},i}return r.clear=function(){n=null},r}const cv=uv(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),dv=uv(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),hv=uv(e=>Object.values(e)),mv=uv(e=>Object.values(e));var pv=uv((e,t)=>{const n=mv(t).filter(t=>e===t.descriptor.droppableId).sort((e,t)=>e.descriptor.index-t.descriptor.index);return n});function fv(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function gv(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var bv=uv((e,t)=>t.filter(t=>t.descriptor.id!==e.descriptor.id)),Dv=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const xv={point:$x,value:0},vv={invisible:{},visible:{},all:[]},yv={displaced:vv,displacedBy:xv,at:null};var wv=(e,t)=>n=>e<=n&&n<=t,Ev=e=>{const t=wv(e.top,e.bottom),n=wv(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(a&&s)return!0;const i=r.top<e.top&&r.bottom>e.bottom,o=r.left<e.left&&r.right>e.right;if(i&&o)return!0;return i&&s||o&&a}},Cv=e=>{const t=wv(e.top,e.bottom),n=wv(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const Fv={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Av={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const kv=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:a,isVisibleThroughFrameFn:s}=e;const i=a?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:$x;return av(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(i,n,s)&&((e,t,n)=>n(t)(e))(i,r,s)},Nv=e=>kv(qe(qe({},e),{},{isVisibleThroughFrameFn:Cv}));function jv(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:a,forceShouldAnimate:s,last:i}=e;return t.reduce(function(e,t){const o=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return xx(vx(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);if(!kv(qe(qe({},{target:o,destination:n,viewport:a,withDroppableDisplacement:!0}),{},{isVisibleThroughFrameFn:Ev})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:a}=t;if(r[e])return!1;const s=a[e];return!s||s.shouldAnimate})(l,i,s),c={draggableId:l,shouldAnimate:u};return e.visible[l]=c,e},{all:[],visible:{},invisible:{}})}function _v(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:a}=e;const s=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:vv,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:s}}}}function Sv(e){let{draggable:t,insideDestination:n,destination:r,viewport:a,displacedBy:s,last:i,index:o,forceShouldAnimate:l}=e;const u=Dv(t,r);if(null==o)return _v({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});const c=n.find(e=>e.descriptor.index===o);if(!c)return _v({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});const d=bv(t,n),h=n.indexOf(c);return{displaced:jv({afterDragging:d.slice(h),destination:r,displacedBy:s,last:i,viewport:a.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Bv(e,t){return Boolean(t.effected[e])}var Mv=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:a,destination:s,insideDestination:i,previousImpact:o,viewport:l,afterCritical:u}=e;const c=o.at;if(c||Tx(),"REORDER"===c.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:a}=e;if(!r.length)return null;const s=a.index,i=t?s+1:s-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return i<o||i>(n?l:l+1)?null:i})({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:i});return null==e?null:Sv({draggable:r,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:a,afterCritical:s}=e;if(!n.isCombineEnabled)return null;const i=a.draggableId,o=r[i].descriptor.index;return Bv(i,s)?t?o:o-1:t?o+1:o})({isMovingForward:t,destination:s,displaced:o.displaced,draggables:a,combine:c.combine,afterCritical:u});return null==d?null:Sv({draggable:r,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:d})},Ov=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const a=gv(n);a||Tx();const s=a.draggableId,i=r[s].page.borderBox.center,o=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:a}=e;const s=Boolean(t.visible[r]||t.invisible[r]);return Bv(r,n)?s?$x:Jx(a.point):s?a.point:$x})({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return Zx(i,o)};const Tv=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Rv=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Iv=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return ev(t.line,n.marginBox[t.end]+Tv(t,r),Rv(t,n.marginBox,r))},Pv=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return ev(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),Rv(t,n.marginBox,r))};var Lv=e=>{let{impact:t,draggable:n,draggables:r,droppable:a,afterCritical:s}=e;const i=pv(a.descriptor.id,r),o=n.page,l=a.axis;if(!i.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return ev(t.line,n.contentBox[t.start]+Tv(t,r),Rv(t,n.contentBox,r))})({axis:l,moveInto:a.page,isMoving:o});const{displaced:u,displacedBy:c}=t,d=u.all[0];if(d){const e=r[d];if(Bv(d,s))return Pv({axis:l,moveRelativeTo:e.page,isMoving:o});const t=Fx(e.page,c.point);return Pv({axis:l,moveRelativeTo:t,isMoving:o})}const h=i[i.length-1];if(h.descriptor.id===n.descriptor.id)return o.borderBox.center;if(Bv(h.descriptor.id,s)){const e=Fx(h.page,Jx(s.displacedBy.point));return Iv({axis:l,moveRelativeTo:e,isMoving:o})}return Iv({axis:l,moveRelativeTo:h.page,isMoving:o})},zv=(e,t)=>{const n=e.frame;return n?Zx(t,n.scroll.diff.displacement):t};var Uv=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:a,afterCritical:s}=e;const i=n.page.borderBox.center,o=t.at;return r&&o?"REORDER"===o.type?Lv({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:s}):Ov({impact:t,draggables:a,afterCritical:s}):i})(e),n=e.droppable;return n?zv(n,t):t},Wv=(e,t)=>{const n=Xx(t,e.scroll.initial),r=Jx(n);return{frame:xx({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Hv(e,t){return e.map(e=>t[e])}var qv=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const a=((e,t)=>Zx(e.scroll.diff.displacement,t))(r,t),s=Xx(a,n.page.borderBox.center);return Zx(n.client.borderBox.center,s)},Vv=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:a,withDroppableDisplacement:s,onlyOnMainAxis:i=!1}=e;const o=Xx(r,t.page.borderBox.center),l={target:av(t.page.borderBox,o),destination:n,withDroppableDisplacement:s,viewport:a};return i?(e=>{return kv(qe(qe({},e),{},{isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=wv(e.top,e.bottom),r=wv(e.left,e.right);return e=>t===Fv?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})}));var t})(l):Nv(l)},Kv=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:a,previousImpact:s,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u}=e;if(!r.isEnabled)return null;const c=pv(r.descriptor.id,a),d=Dv(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:a,previousImpact:s}=e;if(!r.isCombineEnabled)return null;if(!fv(s))return null;function i(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return qe(qe({},s),{},{at:t})}const o=s.displaced.all,l=o.length?o[0]:null;if(t)return l?i(l):null;const u=bv(n,a);if(!l)return u.length?i(u[u.length-1].descriptor.id):null;const c=u.findIndex(e=>e.descriptor.id===l);-1===c&&Tx();const d=c-1;return d<0?null:i(u[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:s})||Mv({isMovingForward:t,isInHomeList:d,draggable:n,draggables:a,destination:r,insideDestination:c,previousImpact:s,viewport:i,afterCritical:u});if(!h)return null;const m=Uv({impact:h,draggable:n,droppable:r,draggables:a,afterCritical:u});if(Vv({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:qv({pageBorderBoxCenter:m,draggable:n,viewport:i}),impact:h,scrollJumpRequest:null}}const p=Xx(m,o),f=(e=>{let{impact:t,viewport:n,destination:r,draggables:a,maxScrollChange:s}=e;const i=Wv(n,Zx(n.scroll.current,s)),o=r.frame?lv(r,Zx(r.frame.scroll.current,s)):r,l=t.displaced,u=jv({afterDragging:Hv(l.all,a),destination:r,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),c=jv({afterDragging:Hv(l.all,a),destination:o,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},m=[l,u,c];return l.all.forEach(e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,m);t?h[e]=t:d[e]=!0}),qe(qe({},t),{},{displaced:{all:l.all,invisible:d,visible:h}})})({impact:h,viewport:i,destination:r,draggables:a,maxScrollChange:p});return{clientSelection:l,impact:f,scrollJumpRequest:p}};const Yv=e=>{const t=e.subject.active;return t||Tx(),t};const Gv=(e,t)=>{const n=e.page.borderBox.center;return Bv(e.descriptor.id,t)?Xx(n,t.displacedBy.point):n},$v=(e,t)=>{const n=e.page.borderBox;return Bv(e.descriptor.id,t)?av(n,Jx(t.displacedBy.point)):n};var Zv=uv(function(e,t){const n=t[e.line];return{value:n,point:ev(e.line,n)}});const Xv=(e,t)=>qe(qe({},e),{},{scroll:qe(qe({},e.scroll),{},{max:t})}),Qv=(e,t,n)=>{const r=e.frame;Dv(t,e)&&Tx(),e.subject.withPlaceholder&&Tx();const a=Zv(e.axis,t.displaceBy).point,s=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return ev(r.line,t[r.line]);const a=e.subject.page.contentBox[r.size],s=pv(e.descriptor.id,n).reduce((e,t)=>e+t.client.marginBox[r.size],0)+t[r.line]-a;return s<=0?null:ev(r.line,s)})(e,a,n),i={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=ov({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return qe(qe({},e),{},{subject:t})}const o=s?Zx(r.scroll.max,s):r.scroll.max,l=Xv(r,o),u=ov({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return qe(qe({},e),{},{subject:u,frame:l})};var Jv=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:a,draggables:s,droppables:i,viewport:o,afterCritical:l}=e;const u=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:a,viewport:s}=e;const i=r.subject.active;if(!i)return null;const o=r.axis,l=wv(i[o.start],i[o.end]),u=hv(a).filter(e=>e!==r).filter(e=>e.isEnabled).filter(e=>Boolean(e.subject.active)).filter(e=>Ev(s.frame)(Yv(e))).filter(e=>{const n=Yv(e);return t?i[o.crossAxisEnd]<n[o.crossAxisEnd]:n[o.crossAxisStart]<i[o.crossAxisStart]}).filter(e=>{const t=Yv(e),n=wv(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||n(i[o.start])||n(i[o.end])}).sort((e,n)=>{const r=Yv(e)[o.crossAxisStart],a=Yv(n)[o.crossAxisStart];return t?r-a:a-r}).filter((e,t,n)=>Yv(e)[o.crossAxisStart]===Yv(n[0])[o.crossAxisStart]);if(!u.length)return null;if(1===u.length)return u[0];const c=u.filter(e=>wv(Yv(e)[o.start],Yv(e)[o.end])(n[o.line]));return 1===c.length?c[0]:c.length>1?c.sort((e,t)=>Yv(e)[o.start]-Yv(t)[o.start])[0]:u.sort((e,t)=>{const r=nv(n,sv(Yv(e))),a=nv(n,sv(Yv(t)));return r!==a?r-a:Yv(e)[o.start]-Yv(t)[o.start]})[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:i,viewport:o});if(!u)return null;const c=pv(u.descriptor.id,s),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:a,afterCritical:s}=e;const i=a.filter(e=>Nv({target:$v(e,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((e,n)=>{const a=tv(t,zv(r,Gv(e,s))),i=tv(t,zv(r,Gv(n,s)));return a<i?-1:i<a?1:e.descriptor.index-n.descriptor.index});return i[0]||null})({pageBorderBoxCenter:n,viewport:o,destination:u,insideDestination:c,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:a,draggables:s,destination:i,viewport:o,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:vv,displacedBy:xv,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},t=Uv({impact:e,draggable:a,droppable:i,draggables:s,afterCritical:l}),n=Dv(a,i)?i:Qv(i,a,s);return Vv({draggable:a,destination:n,newPageBorderBoxCenter:t,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const u=Boolean(t[i.axis.line]<=n.page.borderBox.center[i.axis.line]),c=(()=>{const e=n.descriptor.index;return n.descriptor.id===a.descriptor.id||u?e:e+1})(),d=Zv(i.axis,a.displaceBy);return Sv({draggable:a,insideDestination:r,destination:i,viewport:o,displacedBy:d,last:vv,index:c})})({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:s,moveRelativeTo:d,insideDestination:c,viewport:o,afterCritical:l});if(!h)return null;const m=Uv({impact:h,draggable:r,droppable:u,draggables:s,afterCritical:l});return{clientSelection:qv({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:h,scrollJumpRequest:null}},ey=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var ty=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=ey(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),a=Boolean(r),s=t.dimensions.droppables[t.critical.droppable.id],i=r||s,o=i.axis.direction,l="vertical"===o&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===o&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!a)return null;const u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:m}=t.dimensions;return l?Kv({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:i,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Jv({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:i,draggables:h,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function ny(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function ry(e){const t=wv(e.top,e.bottom),n=wv(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function ay(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const a=hv(r).filter(e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(a=n,!((r=t).left<a.right&&r.right>a.left&&r.top<a.bottom&&r.bottom>a.top))return!1;var r,a;if(ry(n)(t.center))return!0;const s=e.axis,i=n.center[s.crossAxisLine],o=t[s.crossAxisStart],l=t[s.crossAxisEnd],u=wv(n[s.crossAxisStart],n[s.crossAxisEnd]),c=u(o),d=u(l);return!c&&!d||(c?o<i:l>i)});return a.length?1===a.length?a[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const a=n.page.borderBox.center,s=r.map(e=>{const n=e.axis,r=ev(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:tv(a,r)}}).sort((e,t)=>t.distance-e.distance);return s[0]?s[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}const sy=(e,t)=>xx(av(e,t));function iy(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var oy=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:a,previousImpact:s,viewport:i,afterCritical:o}=e;const l=sy(n.page.borderBox,t),u=ay({pageBorderBox:l,draggable:n,droppables:a});if(!u)return yv;const c=a[u],d=pv(c.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?sy(t,n.scroll.diff.value):t})(c,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:a,insideDestination:s,afterCritical:i}=e;if(!a.isCombineEnabled)return null;const o=a.axis,l=Zv(a.axis,t.displaceBy),u=l.value,c=n[o.start],d=n[o.end],h=bv(t,s).find(e=>{const t=e.descriptor.id,n=e.page.borderBox,a=n[o.size]/4,s=Bv(t,i),l=iy({displaced:r.displaced,id:t});return s?l?d>n[o.start]+a&&d<n[o.end]-a:c>n[o.start]-u+a&&c<n[o.end]-u-a:l?d>n[o.start]+u+a&&d<n[o.end]+u-a:c>n[o.start]+a&&c<n[o.end]-a});return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:a.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:s,destination:c,insideDestination:d,afterCritical:o})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:a,last:s,viewport:i,afterCritical:o}=e;const l=r.axis,u=Zv(r.axis,n.displaceBy),c=u.value,d=t[l.start],h=t[l.end],m=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:bv(n,a).find(e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Bv(t,o),a=iy({displaced:s,id:t});return r?a?h<=n:d<n-c:a?h<=n+c:d<n})||null,inHomeList:Dv(n,r)});return Sv({draggable:n,insideDestination:a,destination:r,viewport:i,last:s,displacedBy:u,index:m})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:c,insideDestination:d,last:s.displaced,viewport:i,afterCritical:o})},ly=(e,t)=>qe(qe({},e),{},{[t.descriptor.id]:t});const uy=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const a=ey(t),s=ey(n);if(!a)return r;if(a===s)return r;const i=r[a];if(!i.subject.withPlaceholder)return r;const o=(e=>{const t=e.subject.withPlaceholder;t||Tx();const n=e.frame;if(!n){const t=ov({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return qe(qe({},e),{},{subject:t})}const r=t.oldFrameMaxScroll;r||Tx();const a=Xv(n,r),s=ov({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return qe(qe({},e),{},{subject:s,frame:a})})(i);return ly(r,o)};var cy=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:a,impact:s,scrollJumpRequest:i}=e;const o=a||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,c=Xx(u,t.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Zx(t.initial.client.borderBoxCenter,c)},h={selection:Zx(d.selection,o.scroll.current),borderBoxCenter:Zx(d.borderBoxCenter,o.scroll.current),offset:Zx(d.offset,o.scroll.diff.value)},m={client:d,page:h};if("COLLECTING"===t.phase)return qe(qe({},t),{},{dimensions:l,viewport:o,current:m});const p=l.draggables[t.critical.draggable.id],f=s||oy({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),g=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:a,impact:s}=e;const i=uy({previousImpact:a,impact:s,droppables:r}),o=ey(s);if(!o)return i;const l=r[o];if(Dv(t,l))return i;if(l.subject.withPlaceholder)return i;const u=Qv(l,t,n);return ly(i,u)})({draggable:p,impact:f,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return qe(qe({},t),{},{current:m,dimensions:{draggables:l.draggables,droppables:g},impact:f,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})};var dy=e=>{let{impact:t,viewport:n,draggables:r,destination:a,forceShouldAnimate:s}=e;const i=t.displaced,o=function(e,t){return e.map(e=>t[e])}(i.all,r),l=jv({afterDragging:o,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:i});return qe(qe({},t),{},{displaced:l})},hy=e=>{let{impact:t,draggable:n,droppable:r,draggables:a,viewport:s,afterCritical:i}=e;const o=Uv({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i});return qv({pageBorderBoxCenter:o,draggable:n,viewport:s})},my=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&Tx();const a=t.impact,s=r||t.viewport,i=n||t.dimensions,{draggables:o,droppables:l}=i,u=o[t.critical.draggable.id],c=ey(a);c||Tx();const d=l[c],h=dy({impact:a,viewport:s,destination:d,draggables:o}),m=hy({impact:h,draggable:u,droppable:d,draggables:o,viewport:s,afterCritical:t.afterCritical});return cy({impact:h,clientSelection:m,state:t,dimensions:i,viewport:s})},py=e=>{let{draggable:t,home:n,draggables:r,viewport:a}=e;const s=Zv(n.axis,t.displaceBy),i=pv(n.descriptor.id,r),o=i.indexOf(t);-1===o&&Tx();const l=i.slice(o+1),u=l.reduce((e,t)=>(e[t.descriptor.id]=!0,e),{}),c={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:s,effected:u};var d;return{impact:{displaced:jv({afterDragging:l,destination:n,displacedBy:s,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:c}};const fy=e=>{0},gy=e=>{0};var by=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const a=r.scroll.diff.value;return t.map(e=>{const t=e.descriptor.droppableId,s=(e=>{const t=e.frame;return t||Tx(),t})(n[t]),i=s.scroll.diff.value,o=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const a=Fx(t.client,n),s=Ax(a,r);return qe(qe({},t),{},{placeholder:qe(qe({},t.placeholder),{},{client:a}),client:a,page:s})})({draggable:e,offset:Zx(a,i),initialWindowScroll:r.scroll.initial});return o})};const Dy=e=>"SNAP"===e.movementMode,xy=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:ly(e.droppables,t)}))(e.dimensions,t);return!Dy(e)||n?cy({state:e,dimensions:r}):my({state:e,dimensions:r})};function vy(e){return e.isDragging&&"SNAP"===e.movementMode?qe(qe({},e),{},{scrollJumpRequest:null}):e}const yy={phase:"IDLE",completed:null,shouldFlush:!1};var wy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yy,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return qe(qe({},yy),{},{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Tx();const{critical:n,clientSelection:r,viewport:a,dimensions:s,movementMode:i}=t.payload,o=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:o.client.borderBox.center,offset:$x},c={client:u,page:{selection:Zx(u.selection,a.scroll.initial),borderBoxCenter:Zx(u.selection,a.scroll.initial),offset:Zx(u.selection,a.scroll.diff.value)}},d=hv(s.droppables).every(e=>!e.isFixedOnPage),{impact:h,afterCritical:m}=py({draggable:o,home:l,draggables:s.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:s,initial:c,current:c,isWindowScrollAllowed:d,impact:h,afterCritical:m,onLiftImpact:h,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Tx();return qe(qe({},e),{},{phase:"COLLECTING"})}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Tx(),(e=>{let{state:t,published:n}=e;fy();const r=n.modified.map(e=>{const n=t.dimensions.droppables[e.droppableId];return lv(n,e.scroll)}),a=qe(qe({},t.dimensions.droppables),cv(r)),s=dv(by({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),i=qe(qe({},t.dimensions.draggables),s);n.removals.forEach(e=>{delete i[e]});const o={droppables:a,draggables:i},l=ey(t.impact),u=l?o.droppables[l]:null,c=o.draggables[t.critical.draggable.id],d=o.droppables[t.critical.droppable.id],{impact:h,afterCritical:m}=py({draggable:c,home:d,draggables:i,viewport:t.viewport}),p=u&&u.isCombineEnabled?t.impact:h,f=oy({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:p,viewport:t.viewport,afterCritical:m});gy();const g=qe(qe({},t),{},{phase:"DRAGGING",impact:f,onLiftImpact:h,dimensions:o,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?g:qe(qe({},g),{},{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;ny(e)||Tx();const{client:n}=t.payload;return Qx(n,e.current.client.selection)?e:cy({state:e,clientSelection:n,impact:Dy(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return vy(e);if("COLLECTING"===e.phase)return vy(e);ny(e)||Tx();const{id:n,newScroll:r}=t.payload,a=e.dimensions.droppables[n];if(!a)return e;const s=lv(a,r);return xy(e,s,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ny(e)||Tx();const{id:n,isEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||Tx(),a.isEnabled===r&&Tx();const s=qe(qe({},a),{},{isEnabled:r});return xy(e,s,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ny(e)||Tx();const{id:n,isCombineEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||Tx(),a.isCombineEnabled===r&&Tx();const s=qe(qe({},a),{},{isCombineEnabled:r});return xy(e,s,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;ny(e)||Tx(),e.isWindowScrollAllowed||Tx();const n=t.payload.newScroll;if(Qx(e.viewport.scroll.current,n))return vy(e);const r=Wv(e.viewport,n);return Dy(e)?my({state:e,viewport:r}):cy({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!ny(e))return e;const n=t.payload.maxScroll;if(Qx(n,e.viewport.scroll.max))return e;const r=qe(qe({},e.viewport),{},{scroll:qe(qe({},e.viewport.scroll),{},{max:n})});return qe(qe({},e),{},{viewport:r})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Tx();const n=ty({state:e,type:t.type});return n?cy({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&Tx();return qe(qe({},e),{},{phase:"DROP_PENDING",isWaiting:!0,reason:n})}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:a}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Tx();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function Ey(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Cy=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Fy=()=>({type:"COLLECTION_STARTING",payload:null}),Ay=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),ky=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Ny=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),jy=e=>({type:"MOVE",payload:e}),_y=()=>({type:"MOVE_UP",payload:null}),Sy=()=>({type:"MOVE_DOWN",payload:null}),By=()=>({type:"MOVE_RIGHT",payload:null}),My=()=>({type:"MOVE_LEFT",payload:null}),Oy=e=>({type:"DROP_COMPLETE",payload:e}),Ty=e=>({type:"DROP",payload:e}),Ry=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const Iy="cubic-bezier(0.2, 0, 0, 1)",Py="cubic-bezier(.2,1,.1,1)",Ly={drop:0,combining:.7},zy={drop:.75},Uy={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Wy="".concat(Uy.outOfTheWay,"s ").concat(Iy),Hy={fluid:"opacity ".concat(Wy),snap:"transform ".concat(Wy,", opacity ").concat(Wy),drop:e=>{const t="".concat(e,"s ").concat(Py);return"transform ".concat(t,", opacity ").concat(t)},outOfTheWay:"transform ".concat(Wy),placeholder:"height ".concat(Wy,", width ").concat(Wy,", margin ").concat(Wy)},qy=e=>Qx(e,$x)?void 0:"translate(".concat(e.x,"px, ").concat(e.y,"px)"),Vy=qy,Ky=(e,t)=>{const n=qy(e);if(n)return t?"".concat(n," scale(").concat(zy.drop,")"):n},{minDropTime:Yy,maxDropTime:Gy}=Uy,$y=Gy-Yy;const Zy=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!Ey(r,"DROP"))return void e(r);const a=t(),s=r.payload.reason;if("COLLECTING"===a.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:s}));if("IDLE"===a.phase)return;"DROP_PENDING"===a.phase&&a.isWaiting&&Tx(),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Tx();const i=a.critical,o=a.dimensions,l=o.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:c}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:a,viewport:s,onLiftImpact:i}=e;if(!r.at||"DROP"!==n)return{impact:dy({draggables:t,impact:i,destination:a,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:qe(qe({},r),{},{displaced:vv}),didDropInsideDroppable:!0}})({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=c?fv(u):null,h=c?gv(u):null,m={index:i.draggable.index,droppableId:i.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:m,reason:s,mode:a.movementMode,destination:d,combine:h},f=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:a,afterCritical:s}=e;const{draggables:i,droppables:o}=r,l=ey(t),u=l?o[l]:null,c=o[n.descriptor.droppableId],d=hy({impact:t,draggable:n,draggables:i,afterCritical:s,droppable:u||c,viewport:a});return Xx(d,n.client.borderBox.center)})({impact:u,draggable:l,dimensions:o,viewport:a.viewport,afterCritical:a.afterCritical}),g={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:u};if(!(!Qx(a.current.client.offset,f)||Boolean(p.combine)))return void n(Oy({completed:g}));const b=(e=>{let{current:t,destination:n,reason:r}=e;const a=tv(t,n);if(a<=0)return Yy;if(a>=1500)return Gy;const s=Yy+$y*(a/1500);return Number(("CANCEL"===r?.6*s:s).toFixed(2))})({current:a.current.client.offset,destination:f,reason:s});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:f,dropDuration:b,completed:g}))}};var Xy=()=>({x:window.pageXOffset,y:window.pageYOffset});function Qy(e){let{onWindowScroll:t}=e;const n=jx(function(){t(Xy())}),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let a=Sx;function s(){return a!==Sx}return{start:function(){s()&&Tx(),a=Bx(window,[r])},stop:function(){s()||Tx(),n.cancel(),a(),a=Sx},isActive:s}}const Jy=e=>{const t=Qy({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&Ey(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>Ey(e,"DROP_COMPLETE")||Ey(e,"DROP_ANIMATE")||Ey(e,"FLUSH"))(n)&&t.stop(),e(n)}};var ew=()=>{const e=[];return{add:t=>{const n=setTimeout(()=>(t=>{const n=e.findIndex(e=>e.timerId===t);-1===n&&Tx();const[r]=e.splice(n,1);r.callback()})(n)),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach(e=>{clearTimeout(e.timerId),e.callback()})}}};const tw=(e,t)=>{fy(),t(),gy()},nw=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function rw(e,t,n,r){if(!e)return void n(r(t));const a=(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),a=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=()=>t,a})(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}var aw=(e,t)=>{const n=((e,t)=>{const n=ew();let r=null;const a=n=>{r||Tx(),r=null,tw(0,()=>rw(e().onDragEnd,n,t,qx))};return{beforeCapture:(t,n)=>{r&&Tx(),tw(0,()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:(t,n)=>{r&&Tx(),tw(0,()=>{const r=e().onBeforeDragStart;r&&r(nw(t,n))})},start:(a,s)=>{r&&Tx();const i=nw(a,s);r={mode:s,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add(()=>{tw(0,()=>rw(e().onDragStart,i,t,Wx))})},update:(a,s)=>{const i=fv(s),o=gv(s);r||Tx();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(a,r.lastCritical);l&&(r.lastCritical=a);const u=(d=i,!(null==(c=r.lastLocation)&&null==d||null!=c&&null!=d&&c.droppableId===d.droppableId&&c.index===d.index));var c,d;u&&(r.lastLocation=i);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,o);if(h&&(r.lastCombine=o),!l&&!u&&!h)return;const m=qe(qe({},nw(a,r.mode)),{},{combine:o,destination:i});n.add(()=>{tw(0,()=>rw(e().onDragUpdate,m,t,Hx))})},flush:()=>{r||Tx(),n.flush()},drop:a,abort:()=>{if(!r)return;const e=qe(qe({},nw(r.lastCritical,r.mode)),{},{combine:null,destination:null,reason:"CANCEL"});a(e)}}})(e,t);return e=>t=>r=>{if(Ey(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(Ey(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(Ey(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),Ey(r,"FLUSH"))return void n.abort();const a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}};const sw=e=>t=>n=>{if(!Ey(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&Tx(),e.dispatch(Oy({completed:r.completed}))},iw=e=>{let t=null,n=null;return r=>a=>{if((Ey(a,"FLUSH")||Ey(a,"DROP_COMPLETE")||Ey(a,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),!Ey(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(()=>{n=null,t=Bx(window,[s])})}};var ow=e=>t=>n=>r=>{if((e=>Ey(e,"DROP_COMPLETE")||Ey(e,"DROP_ANIMATE")||Ey(e,"FLUSH"))(r))return e.stop(),void n(r);if(Ey(r,"INITIAL_PUBLISH")){n(r);const a=t.getState();return"DRAGGING"!==a.phase&&Tx(),void e.start(a)}n(r),e.scroll(t.getState())};const lw=e=>t=>n=>{if(t(n),!Ey(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Ty({reason:r.reason})))},uw=DD;var cw=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:a,announce:s,autoScroller:i}=e;return fD(wy,uw(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(cD(15))};const i={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},o=t.map(e=>e(i));return s=DD(...o)(a.dispatch),qe(qe({},a),{},{dispatch:s})}}((o=r,()=>e=>t=>{Ey(t,"INITIAL_PUBLISH")&&o.dragging(),Ey(t,"DROP_ANIMATE")&&o.dropping(t.payload.completed.result.reason),(Ey(t,"FLUSH")||Ey(t,"DROP_COMPLETE"))&&o.resting(),e(t)}),(e=>()=>t=>n=>{(Ey(n,"DROP_COMPLETE")||Ey(n,"FLUSH")||Ey(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>a=>{if(!Ey(a,"LIFT"))return void t(a);const{id:s,clientSelection:i,movementMode:o}=a.payload,l=n();"DROP_ANIMATING"===l.phase&&r(Oy({completed:l.completed})),"IDLE"!==n().phase&&Tx(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:o}});const u={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===o}},{critical:c,dimensions:d,viewport:h}=e.startPublishing(u);r({type:"INITIAL_PUBLISH",payload:{critical:c,dimensions:d,clientSelection:i,movementMode:o,viewport:h}})}})(t),Zy,sw,iw,lw,ow(i),Jy,(e=>{let t=!1;return()=>n=>r=>{if(Ey(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(Ey(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(Ey(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),aw(a,s))));var o};var dw=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:a}=e;const s=Xx({x:n,y:t},{x:a,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},hw=()=>{const e=document.documentElement;return e||Tx(),e},mw=()=>{const e=hw();return dw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},pw=e=>{let{critical:t,scrollOptions:n,registry:r}=e;fy();const a=(()=>{const e=Xy(),t=mw(),n=e.y,r=e.x,a=hw(),s=a.clientWidth,i=a.clientHeight;return{frame:xx({top:n,left:r,right:r+s,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:$x,displacement:$x}}}})(),s=a.scroll.current,i=t.droppable,o=r.droppable.getAllByType(i.type).map(e=>e.callbacks.getDimensionAndWatchScroll(s,n)),l=r.draggable.getAllByType(t.draggable.type).map(e=>e.getDimension(s)),u={draggables:dv(l),droppables:cv(o)};gy();return{dimensions:u,critical:t,viewport:a}};function fw(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var gw=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},a=null;const s=()=>{a||(n.collectionStarting(),a=requestAnimationFrame(()=>{a=null,fy();const{additions:e,removals:s,modified:i}=r,o=Object.keys(e).map(e=>t.draggable.getById(e).getDimension($x)).sort((e,t)=>e.descriptor.index-t.descriptor.index),l=Object.keys(i).map(e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()})),u={additions:o,removals:Object.keys(s),modified:l};r={additions:{},removals:{},modified:{}},gy(),n.publish(u)}))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],s()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],s()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=t=>{n||Tx();const a=n.critical.draggable;"ADDITION"===t.type&&fw(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&fw(e,a,t.value)&&r.remove(t.value)},s={updateDroppableIsEnabled:(r,a)=>{e.droppable.exists(r)||Tx(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:(r,a)=>{n&&(e.droppable.exists(r)||Tx(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,a)=>{n&&(e.droppable.exists(r)||Tx(),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:t=>{n&&Tx();const r=e.draggable.getById(t.draggableId),s=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:s.descriptor},o=e.subscribe(a);return n={critical:i,unsubscribe:o},pw({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(e=>e.callbacks.dragStopped()),n.unsubscribe(),n=null}};return s},bw=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),Dw=e=>{window.scrollBy(e.x,e.y)};const xw=uv(e=>hv(e).filter(e=>!!e.isEnabled&&!!e.frame));var vw=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const a=((e,t)=>{const n=xw(t).find(t=>(t.frame||Tx(),ry(t.frame.pageMarginBox)(e)))||null;return n})(t,r);return a};const yw={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var ww=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const a=n-t;if(0===a)return 0;return(r-t)/a},Ew=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:s}=e;const i=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>yw)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-ww({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=n.maxPixelScroll*n.ease(r);return Math.ceil(a)}(t,n,s);return 0===i?0:a?Math.max(((e,t,n)=>{const r=n(),a=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,i=t,o=s,l=Date.now()-i;if(l>=s)return e;if(l<a)return 1;const u=ww({startOfRange:a,endOfRange:o,current:l}),c=e*r.ease(u);return Math.ceil(c)})(i,r,s),1):i},Cw=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i}=e;const o=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>yw)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,a,i);return n[a.end]<n[a.start]?Ew({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*Ew({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})};const Fw=rv(e=>0===e?0:e);var Aw=e=>{let{dragStartTime:t,container:n,subject:r,center:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i}=e;const o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},l=Cw({container:n,distanceToEdges:o,dragStartTime:t,axis:Fv,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),u=Cw({container:n,distanceToEdges:o,dragStartTime:t,axis:Av,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=Fw({x:u,y:l});if(Qx(c,$x))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const a=n.height>t.height,s=n.width>t.width;return s||a?s&&a?null:{x:s?0:r.x,y:a?0:r.y}:r})({container:n,subject:r,proposedScroll:c});return d?Qx(d,$x)?null:d:null};const kw=rv(e=>0===e?0:e>0?1:-1),Nw=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:a}=t;const s=Zx(n,a),i={x:e(s.x,r.x),y:e(s.y,r.y)};return Qx(i,$x)?null:i}})(),jw=e=>{let{max:t,current:n,change:r}=e;const a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},s=kw(r),i=Nw({max:a,current:n,change:s});return!i||(0!==s.x&&0===i.x||0!==s.y&&0===i.y)},_w=(e,t)=>jw({current:e.scroll.current,max:e.scroll.max,change:t}),Sw=(e,t)=>{const n=e.frame;return!!n&&jw({current:n.scroll.current,max:n.scroll.max,change:t})};var Bw=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:a,scrollDroppable:s,getAutoScrollerOptions:i}=e;const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i}=e;const o=Aw({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return o&&_w(t,o)?o:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(e)return void a(e)}const u=vw({center:o,destination:ey(t.impact),droppables:t.dimensions.droppables});if(!u)return;const c=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i}=e;const o=t.frame;if(!o)return null;const l=Aw({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&Sw(t,l)?l:null})({dragStartTime:n,droppable:u,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});c&&s(u.descriptor.id,c)},Mw=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const a=(e,t)=>{if(!Sw(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&Sw(e,t)?Nw({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const a=Xx(t,r);n(e.descriptor.id,a);return Xx(t,a)},s=(e,t,n)=>{if(!e)return n;if(!_w(t,n))return n;const a=((e,t)=>{if(!_w(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Nw({current:r,max:n,change:t})})(t,n);if(!a)return r(n),null;const s=Xx(n,a);r(s);return Xx(n,s)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=ey(e.impact);r||Tx();const i=a(e.dimensions.droppables[r],n);if(!i)return;const o=e.viewport,l=s(e.isWindowScrollAllowed,o,i);l&&((e,n)=>{const r=Zx(e.current.client.selection,n);t({client:r})})(e,l)}},Ow=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:a}=e;const s=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>yw}=e;const a=jx(t),s=jx(n);let i=null;const o=e=>{i||Tx();const{shouldUseTimeDampening:t,dragStartTime:n}=i;Bw({state:e,scrollWindow:a,scrollDroppable:s,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{fy(),i&&Tx();const t=Date.now();let n=!1;const a=()=>{n=!0};Bw({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a,getAutoScrollerOptions:r}),i={dragStartTime:t,shouldUseTimeDampening:n},gy(),n&&o(e)},stop:()=>{i&&(a.cancel(),s.cancel(),i=null)},scroll:o}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:a}),i=Mw({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{a().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):s.scroll(e))},start:s.start,stop:s.stop}};const Tw="data-rfd",Rw=(()=>{const e="".concat(Tw,"-drag-handle");return{base:e,draggableId:"".concat(e,"-draggable-id"),contextId:"".concat(e,"-context-id")}})(),Iw=(()=>{const e="".concat(Tw,"-draggable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),Pw=(()=>{const e="".concat(Tw,"-droppable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),Lw={contextId:"".concat(Tw,"-scroll-container-context-id")},zw=(e,t)=>e.map(e=>{const n=e.styles[t];return n?"".concat(e.selector," { ").concat(n," }"):""}).join(" ");const Uw="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect,Ww=()=>{const e=document.querySelector("head");return e||Tx(),e},Hw=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qw(e,t){const n=Yx(()=>(e=>{const t=(n=e,e=>"[".concat(e,'="').concat(n,'"]'));var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Rw.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),a=[(()=>{const e="\n      transition: ".concat(Hy.outOfTheWay,";\n    ");return{selector:t(Iw.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(Pw.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:zw(a,"always"),resting:zw(a,"resting"),dragging:zw(a,"dragging"),dropAnimating:zw(a,"dropAnimating"),userCancel:zw(a,"userCancel")}})(e),[e]),r=(0,o.useRef)(null),a=(0,o.useRef)(null),s=Gx(uv(e=>{const t=a.current;t||Tx(),t.textContent=e}),[]),i=Gx(e=>{const t=r.current;t||Tx(),t.textContent=e},[]);Uw(()=>{(r.current||a.current)&&Tx();const o=Hw(t),l=Hw(t);return r.current=o,a.current=l,o.setAttribute("".concat(Tw,"-always"),e),l.setAttribute("".concat(Tw,"-dynamic"),e),Ww().appendChild(o),Ww().appendChild(l),i(n.always),s(n.resting),()=>{const e=e=>{const t=e.current;t||Tx(),Ww().removeChild(t),e.current=null};e(r),e(a)}},[t,i,s,n.always,n.resting,e]);const l=Gx(()=>s(n.dragging),[s,n.dragging]),u=Gx(e=>{s("DROP"!==e?n.userCancel:n.dropAnimating)},[s,n.dropAnimating,n.userCancel]),c=Gx(()=>{a.current&&s(n.resting)},[s,n.resting]);return Yx(()=>({dragging:l,dropping:u,resting:c}),[l,u,c])}function Vw(e,t){return Array.from(e.querySelectorAll(t))}var Kw=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Yw(e){return e instanceof Kw(e).HTMLElement}function Gw(e,t){const n="[".concat(Rw.contextId,'="').concat(e,'"]'),r=Vw(document,n);if(!r.length)return null;const a=r.find(e=>e.getAttribute(Rw.draggableId)===t);return a&&Yw(a)?a:null}function $w(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(t=>t(e))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const a=t.descriptor.id,s=r(a);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[a],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||Tx(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter(e=>e.descriptor.type===t)},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=a(e);return t||Tx(),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.droppables).filter(e=>e.descriptor.type===t)},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Zw=o.createContext(null),Xw=()=>{const e=document.body;return e||Tx(),e};const Qw={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const Jw={separator:"::"};function eE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jw;const n=o.useId();return Yx(()=>"".concat(e).concat(t.separator).concat(n),[t.separator,e,n])}var tE=o.createContext(null);function nE(e){0}function rE(e,t){nE()}function aE(){rE()}function sE(e){const t=(0,o.useRef)(e);return(0,o.useEffect)(()=>{t.current=e}),t}function iE(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const oE=9,lE=13,uE=33,cE=34,dE=35,hE=36,mE={[lE]:!0,[oE]:!0};var pE=e=>{mE[e.keyCode]&&e.preventDefault()};const fE=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,"ms".concat(e),"webkit".concat(e),"moz".concat(e),"o".concat(e)].find(e=>"on".concat(e)in document)||e})();const gE={type:"IDLE"};function bE(e){let{cancel:t,completed:n,getPhase:r,setPhase:a}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:s}=e;if(0!==t)return;const i={x:n,y:s},o=r();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(i);"PENDING"!==o.type&&Tx();const l=o.point;if(u=l,c=i,!(Math.abs(c.x-u.x)>=5||Math.abs(c.y-u.y)>=5))return;var u,c;e.preventDefault();const d=o.actions.fluidLift(i);a({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void pE(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&Tx(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:fE,fn:t}]}function DE(){}const xE={[cE]:!0,[uE]:!0,[hE]:!0,[dE]:!0};function vE(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(xE[r.keyCode]?r.preventDefault():pE(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:fE,fn:n}]}const yE={type:"IDLE"};const wE=["input","button","textarea","select","option","optgroup","video","audio"];function EE(e,t){if(null==t)return!1;if(wE.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&EE(e,t.parentElement)}function CE(e,t){const n=t.target;return!!Yw(n)&&EE(e,n)}var FE=e=>xx(e.getBoundingClientRect()).center;const AE=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find(e=>e in Element.prototype)||e})();function kE(e,t){return null==e?null:e[AE](t)?e:kE(e.parentElement,t)}function NE(e,t){return e.closest?e.closest(t):kE(e,t)}function jE(e,t){const n=t.target;if(!((r=n)instanceof Kw(r).Element))return null;var r;const a=function(e){return"[".concat(Rw.contextId,'="').concat(e,'"]')}(e),s=NE(n,a);return s&&Yw(s)?s:null}function _E(e){e.preventDefault()}function SE(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:a}=e;return!!r()&&t===n}function BE(e){let{lockAPI:t,store:n,registry:r,draggableId:a}=e;if(t.isClaimed())return!1;const s=r.draggable.findById(a);return!!s&&(!!s.options.isEnabled&&!!bw(n.getState(),a))}function ME(e){let{lockAPI:t,contextId:n,store:r,registry:a,draggableId:s,forceSensorStop:i,sourceEvent:o}=e;if(!BE({lockAPI:t,store:r,registry:a,draggableId:s}))return null;const l=a.draggable.getById(s),u=function(e,t){const n="[".concat(Iw.contextId,'="').concat(e,'"]'),r=Vw(document,n).find(e=>e.getAttribute(Iw.id)===t);return r&&Yw(r)?r:null}(n,l.descriptor.id);if(!u)return null;if(o&&!l.options.canDragInteractiveElements&&CE(u,o))return null;const c=t.claim(i||Sx);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function m(){return t.isActive(c)}const p=function(e,t){SE({expected:e,phase:d,isLockActive:m,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function f(e){function n(){t.release(),d="COMPLETED"}function a(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),a.shouldBlockNextClick){const e=Bx(window,[{eventName:"click",fn:_E,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(Ty({reason:t}))}return"PRE_DRAG"!==d&&(n(),Tx()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",qe({isActive:()=>SE({expected:"DRAGGING",phase:d,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>a("DROP",e),cancel:e=>a("CANCEL",e)},e.actions)}const g={isActive:()=>SE({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=jx(e=>{p(()=>jy({client:e}))});return qe(qe({},f({liftActionArgs:{id:s,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}})),{},{move:t})},snapLift:function(){const e={moveUp:()=>p(_y),moveRight:()=>p(By),moveDown:()=>p(Sy),moveLeft:()=>p(My)};return f({liftActionArgs:{id:s,clientSelection:FE(u),movementMode:"SNAP"},cleanup:Sx,actions:e})},abort:function(){SE({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!0})&&t.release()}};return g}const OE=[function(e){const t=(0,o.useRef)(gE),n=(0,o.useRef)(Sx),r=Yx(()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,i,{sourceEvent:t});if(!a)return;t.preventDefault();const s={x:t.clientX,y:t.clientY};n.current(),c(a,s)}}),[e]),a=Yx(()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}),[e]),s=Gx(function(){n.current=Bx(window,[a,r],{passive:!1,capture:!0})},[a,r]),i=Gx(()=>{"IDLE"!==t.current.type&&(t.current=gE,n.current(),s())},[s]),l=Gx(()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[i]),u=Gx(function(){const e=bE({cancel:l,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=Bx(window,e,{capture:!0,passive:!1})},[l,i]),c=Gx(function(e,n){"IDLE"!==t.current.type&&Tx(),t.current={type:"PENDING",point:n,actions:e},u()},[u]);Uw(function(){return s(),function(){n.current()}},[s])},function(e){const t=(0,o.useRef)(DE),n=Yx(()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const a=e.findClosestDraggableId(n);if(!a)return;const s=e.tryGetLock(a,l,{sourceEvent:n});if(!s)return;n.preventDefault();let i=!0;const o=s.snapLift();function l(){i||Tx(),i=!1,t.current(),r()}t.current(),t.current=Bx(window,vE(o,l),{capture:!0,passive:!1})}}),[e]),r=Gx(function(){t.current=Bx(window,[n],{passive:!1,capture:!0})},[n]);Uw(function(){return r(),function(){t.current()}},[r])},function(e){const t=(0,o.useRef)(yE),n=(0,o.useRef)(Sx),r=Gx(function(){return t.current},[]),a=Gx(function(e){t.current=e},[]),s=Yx(()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,l,{sourceEvent:t});if(!a)return;const s=t.touches[0],{clientX:i,clientY:o}=s,u={x:i,y:o};n.current(),h(a,u)}}),[e]),i=Gx(function(){n.current=Bx(window,[s],{capture:!0,passive:!1})},[s]),l=Gx(()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(yE),n.current(),i())},[i,a]),u=Gx(()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),c=Gx(function(){const e={capture:!0,passive:!1},t={cancel:u,completed:l,getPhase:r},a=Bx(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:a,clientY:s}=e.touches[0],i={x:a,y:s};e.preventDefault(),n.actions.move(i)}},{eventName:"touchend",fn:e=>{const a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&Tx();const a=e.touches[0];if(!a)return;if(!(a.force>=.15))return;const s=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return s?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();s&&t()}},{eventName:fE,fn:t}]}(t),e),s=Bx(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:fE,fn:t}]}(t),e);n.current=function(){a(),s()}},[u,r,l]),d=Gx(function(){const e=r();"PENDING"!==e.type&&Tx();const t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})},[r,a]),h=Gx(function(e,t){"IDLE"!==r().type&&Tx();const n=setTimeout(d,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()},[c,r,a,d]);Uw(function(){return i(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(yE))}},[r,i,a]),Uw(function(){return Bx(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function TE(e){let{contextId:t,store:n,registry:r,customSensors:a,enableDefaultSensors:s}=e;const i=[...s?OE:[],...a||[]],l=(0,o.useState)(()=>function(){let e=null;function t(){e||Tx(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Tx();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}())[0],u=Gx(function(e,t){iE(e)&&!iE(t)&&l.tryAbandon()},[l]);Uw(function(){let e=n.getState();return n.subscribe(()=>{const t=n.getState();u(e,t),e=t})},[l,n,u]),Uw(()=>l.tryAbandon,[l.tryAbandon]);const c=Gx(e=>BE({lockAPI:l,registry:r,store:n,draggableId:e}),[l,r,n]),d=Gx((e,a,s)=>ME({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a||null,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null}),[t,l,r,n]),h=Gx(e=>function(e,t){const n=jE(e,t);return n?n.getAttribute(Rw.draggableId):null}(t,e),[t]),m=Gx(e=>{const t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),p=Gx(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),f=Gx(()=>l.isClaimed(),[l]),g=Yx(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:m,tryReleaseLock:p,isLockClaimed:f}),[c,d,h,m,p,f]);nE();for(let o=0;o<i.length;o++)i[o](g)}function RE(e){return e.current||Tx(),e.current}function IE(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:a,dragHandleUsageInstructions:s}=e,i=(0,o.useRef)(null);aE();const l=sE(e),u=Gx(()=>(e=>({onBeforeCapture:t=>{(0,Ee.flushSync)(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)})},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current),[l]),c=Gx(()=>(e=>qe(qe(qe({},yw),e.autoScrollerOptions),{},{durationDampening:qe(qe({},yw.durationDampening),e.autoScrollerOptions)}))(l.current),[l]),d=function(e){const t=Yx(()=>(e=>"rfd-announcement-".concat(e))(e),[e]),n=(0,o.useRef)(null);return(0,o.useEffect)(function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,Pl.A)(e.style,Qw),Xw().appendChild(e),function(){setTimeout(function(){const t=Xw();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),Gx(e=>{const t=n.current;t&&(t.textContent=e)},[])}(t),h=function(e){let{contextId:t,text:n}=e;const r=eE("hidden-text",{separator:"-"}),a=Yx(()=>function(e){let{contextId:t,uniqueId:n}=e;return"rfd-hidden-text-".concat(t,"-").concat(n)}({contextId:t,uniqueId:r}),[r,t]);return(0,o.useEffect)(function(){const e=document.createElement("div");return e.id=a,e.textContent=n,e.style.display="none",Xw().appendChild(e),function(){const t=Xw();t.contains(e)&&t.removeChild(e)}},[a,n]),a}({contextId:t,text:s}),m=qw(t,a),p=Gx(e=>{RE(i).dispatch(e)},[]),f=Yx(()=>bD({publishWhileDragging:Cy,updateDroppableScroll:Ay,updateDroppableIsEnabled:ky,updateDroppableIsCombineEnabled:Ny,collectionStarting:Fy},p),[p]),g=function(){const e=Yx($w,[]);return(0,o.useEffect)(()=>function(){e.clean()},[e]),e}(),b=Yx(()=>gw(g,f),[g,f]),D=Yx(()=>Ow(qe({scrollWindow:Dw,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:c},bD({move:jy},p))),[b.scrollDroppable,p,c]),x=function(e){const t=(0,o.useRef)({}),n=(0,o.useRef)(null),r=(0,o.useRef)(null),a=(0,o.useRef)(!1),s=Gx(function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}},[]),i=Gx(function(t){const n=Gw(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=Gx(function(e,t){n.current===e&&(n.current=t)},[]),u=Gx(function(){r.current||a.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const e=n.current;e&&i(e)}))},[i]),c=Gx(function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(Rw.draggableId)===e&&(n.current=e)},[]);return Uw(()=>(a.current=!0,function(){a.current=!1;const e=r.current;e&&cancelAnimationFrame(e)}),[]),Yx(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[s,c,u,l])}(t),v=Yx(()=>cw({announce:d,autoScroller:D,dimensionMarshal:b,focusMarshal:x,getResponders:u,styleMarshal:m}),[d,D,b,x,u,m]);i.current=v;const y=Gx(()=>{const e=RE(i);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),w=Gx(()=>{const e=RE(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging},[]);n(Yx(()=>({isDragging:w,tryAbort:y}),[w,y]));const E=Gx(e=>bw(RE(i).getState(),e),[]),C=Gx(()=>ny(RE(i).getState()),[]),F=Yx(()=>({marshal:b,focus:x,contextId:t,canLift:E,isMovementAllowed:C,dragHandleUsageInstructionsId:h,registry:g}),[t,b,h,x,E,C,g]);return TE({contextId:t,store:v,registry:g,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,o.useEffect)(()=>y,[y]),o.createElement(tE.Provider,{value:F},o.createElement(bx,{context:Zw,store:v},e.children))}function PE(e){const t=o.useId(),n=e.dragHandleUsageInstructions||Ux;return o.createElement(Rx,null,r=>o.createElement(IE,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const LE=5e3,zE=4500,UE=(e,t)=>t?Hy.drop(t.duration):e?Hy.snap:Hy.fluid,WE=(e,t)=>{if(e)return t?Ly.drop:Ly.combining};function HE(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:a}=e,s=Boolean(r),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),o=Boolean(a),l=o?Ky(n,s):Vy(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:UE(i,a),transform:l,opacity:WE(s,o),zIndex:o?zE:LE,pointerEvents:"none"}}(e):{transform:Vy((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function qE(e){const t=eE("draggable"),{descriptor:n,registry:r,getDraggableRef:a,canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:l}=e,u=Yx(()=>({canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:l}),[s,l,i]),c=Gx(e=>{const t=a();return t||Tx(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$x;const r=window.getComputedStyle(t),a=t.getBoundingClientRect(),s=kx(a,r),i=Ax(s,n);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:i}}(n,t,e)},[n,a]),d=Yx(()=>({uniqueId:t,descriptor:n,options:u,getDimension:c}),[n,c,u,t]),h=(0,o.useRef)(d),m=(0,o.useRef)(!0);Uw(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),Uw(()=>{if(m.current)return void(m.current=!1);const e=h.current;h.current=d,r.draggable.update(d,e)},[d,r.draggable])}var VE=o.createContext(null);function KE(e){const t=(0,o.useContext)(e);return t||Tx(),t}function YE(e){e.preventDefault()}var GE=(e,t)=>e===t,$E=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function ZE(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const XE={mapped:{type:"SECONDARY",offset:$x,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ZE(null)}};const QE=gx(()=>{const e=function(){const e=uv((e,t)=>({x:e,y:t})),t=uv(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=uv(function(e,n,r,a){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,a,s,i,null)}}});return(r,a)=>{if(iE(r)){if(r.critical.draggable.id!==a.draggableId)return null;const t=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],o=ey(r.impact),l=(s=r.impact).at&&"COMBINE"===s.at.type?s.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,i,a.isClone,o,l,u)}var s;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==a.draggableId)return null;const n=a.isClone,s=r.dimensions.draggables[a.draggableId],i=e.result,o=i.mode,l=$E(i),u=(e=>e.combine?e.combine.draggableId:null)(i),c={duration:r.dropDuration,curve:Py,moveTo:r.newHomeClientOffset,opacity:u?Ly.drop:null,scale:u?zy.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:s,dropping:c,draggingOver:l,combineWith:u,mode:o,forceShouldAnimate:null,snapshot:t(o,n,l,u,c)}}}return null}}(),t=function(){const e=uv((e,t)=>({x:e,y:t})),t=uv(ZE),n=uv(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}}),r=e=>e?n($x,e,!0):null,a=(t,a,s,i)=>{const o=s.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),u=gv(s),c=u&&u.draggableId===t?a:null;if(!o){if(!l)return r(c);if(s.displaced.invisible[t])return null;const a=Jx(i.displacedBy.point),o=e(a.x,a.y);return n(o,c,!0)}if(l)return r(c);const d=s.displacedBy.point,h=e(d.x,d.y);return n(h,c,o.shouldAnimate)};return(e,t)=>{if(iE(e))return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||XE},{dropAnimationFinished:Ry},null,{context:Zw,areStatePropsEqual:GE})(e=>{const t=(0,o.useRef)(null),n=Gx(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e},[]),r=Gx(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:s,registry:i}=KE(tE),{type:l,droppableId:u}=KE(VE),c=Yx(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:d,draggableId:h,isEnabled:m,shouldRespectForcePress:p,canDragInteractiveElements:f,isClone:g,mapped:b,dropAnimationFinished:D}=e;if(rE(),nE(),!g){qE(Yx(()=>({descriptor:c,registry:i,getDraggableRef:r,canDragInteractiveElements:f,shouldRespectForcePress:p,isEnabled:m}),[c,i,r,f,p,m]))}const x=Yx(()=>m?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:YE}:null,[a,s,h,m]),v=Gx(e=>{"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&(0,Ee.flushSync)(D)},[D,b]),y=Yx(()=>{const e=HE(b),t="DRAGGING"===b.type&&b.dropping?v:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:x}},[a,x,h,b,v,n]),w=Yx(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return o.createElement(o.Fragment,null,d(y,b.snapshot,w))});function JE(e){return KE(VE).isUsingCloneFor!==e.draggableId||e.isClone?o.createElement(QE,e):null}function eC(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return o.createElement(JE,(0,Pl.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const tC=e=>t=>e===t,nC=tC("scroll"),rC=tC("auto"),aC=(tC("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),sC=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return aC(n,nC)||aC(n,rC)})(e)?e:sC(e.parentElement);var iC=e=>({x:e.scrollLeft,y:e.scrollTop});const oC=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||oC(e.parentElement)};var lC=e=>{let{ref:t,descriptor:n,env:r,windowScroll:a,direction:s,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l}=e;const u=r.closestScrollable,c=((e,t)=>{const n=Nx(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,i=a+t.scrollWidth,o=vx({top:r,right:i,bottom:s,left:a},n.border);return Ex({borderBox:o,margin:n.margin,border:n.border,padding:n.padding})})(t,u),d=Ax(c,a),h=(()=>{if(!u)return null;const e=Nx(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:Ax(e,a),scroll:iC(u),scrollSize:t,shouldClipSubject:l}})(),m=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:a,direction:s,client:i,page:o,closest:l}=e;const u=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=dw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:$x,displacement:$x}}}})(),c="vertical"===s?Fv:Av;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:c,isEnabled:n,client:i,page:o,frame:u,subject:ov({page:o,withPlaceholder:null,axis:c,frame:u})}})({descriptor:n,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:c,page:d,closest:h});return m};const uC={passive:!1},cC={passive:!0};var dC=e=>e.shouldPublishImmediately?uC:cC;const hC=e=>e&&e.env.closestScrollable||null;function mC(e){const t=(0,o.useRef)(null),n=KE(tE),r=eE("droppable"),{registry:a,marshal:s}=n,i=sE(e),l=Yx(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=(0,o.useRef)(l),c=Yx(()=>uv((e,n)=>{t.current||Tx();const r={x:e,y:n};s.updateDroppableScroll(l.id,r)}),[l.id,s]),d=Gx(()=>{const e=t.current;return e&&e.env.closestScrollable?iC(e.env.closestScrollable):$x},[]),h=Gx(()=>{const e=d();c(e.x,e.y)},[d,c]),m=Yx(()=>jx(h),[h]),p=Gx(()=>{const e=t.current,n=hC(e);e&&n||Tx();e.scrollOptions.shouldPublishImmediately?h():m()},[m,h]),f=Gx((e,r)=>{t.current&&Tx();const a=i.current,s=a.getDroppableRef();s||Tx();const o=(e=>({closestScrollable:sC(e),isFixedOnPage:oC(e)}))(s),u={ref:s,descriptor:l,env:o,scrollOptions:r};t.current=u;const c=lC({ref:s,descriptor:l,env:o,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=o.closestScrollable;return d&&(d.setAttribute(Lw.contextId,n.contextId),d.addEventListener("scroll",p,dC(u.scrollOptions))),c},[n.contextId,l,p,i]),g=Gx(()=>{const e=t.current,n=hC(e);return e&&n||Tx(),iC(n)},[]),b=Gx(()=>{const e=t.current;e||Tx();const n=hC(e);t.current=null,n&&(m.cancel(),n.removeAttribute(Lw.contextId),n.removeEventListener("scroll",p,dC(e.scrollOptions)))},[p,m]),D=Gx(e=>{const n=t.current;n||Tx();const r=hC(n);r||Tx(),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),x=Yx(()=>({getDimensionAndWatchScroll:f,getScrollWhileDragging:g,dragStopped:b,scroll:D}),[b,f,g,D]),v=Yx(()=>({uniqueId:r,descriptor:l,callbacks:x}),[x,l,r]);Uw(()=>(u.current=v.descriptor,a.droppable.register(v),()=>{t.current&&b(),a.droppable.unregister(v)}),[x,l,b,v,s,a.droppable]),Uw(()=>{t.current&&s.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Uw(()=>{t.current&&s.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function pC(){}const fC={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},gC=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const a=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?fC:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Hy.placeholder:null}};var bC=o.memo(e=>{const t=(0,o.useRef)(null),n=Gx(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:a,onClose:s,contextId:i}=e,[l,u]=(0,o.useState)("open"===e.animate);(0,o.useEffect)(()=>l?"open"!==r?(n(),u(!1),pC):t.current?pC:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):pC,[r,l,n]);const c=Gx(e=>{"height"===e.propertyName&&(a(),"close"===r&&s())},[r,s,a]),d=gC({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return o.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":i,onTransitionEnd:c,ref:e.innerRef})});class DC extends o.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const xC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Tx(),document.body}},vC=e=>{let t,n=qe({},e);for(t in xC)void 0===e[t]&&(n=qe(qe({},n),{},{[t]:xC[t]}));return n},yC=(e,t)=>e===t.droppable.type,wC=(e,t)=>t.draggables[e.draggable.id],EC=gx(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=qe(qe({},e),{},{shouldAnimatePlaceholder:!1}),n=uv(e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}})),r=uv((r,a,s,i,o,l)=>{const u=o.descriptor.id;if(o.descriptor.droppableId===r){const e=l?{render:l,dragging:n(o.descriptor)}:null,t={isDraggingOver:s,draggingOverWith:s?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!a)return t;if(!i)return e;const c={isDraggingOver:s,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:c,useClone:null}});return(n,a)=>{const s=vC(a),i=s.droppableId,o=s.type,l=!s.isDropDisabled,u=s.renderClone;if(iE(n)){const e=n.critical;if(!yC(o,e))return t;const a=wC(e,n.dimensions),s=ey(n.impact)===i;return r(i,l,s,s,a,u)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!yC(o,e.critical))return t;const a=wC(e.critical,n.dimensions);return r(i,l,$E(e.result)===i,ey(e.impact)===i,a,u)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!yC(o,r.critical))return t;const a=ey(r.impact)===i,s=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===i;return a?s?e:t:l?e:t}return t}},{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},(e,t,n)=>qe(qe(qe({},vC(n)),e),t),{context:Zw,areStatePropsEqual:GE})(e=>{const t=(0,o.useContext)(tE);t||Tx();const{contextId:n,isMovementAllowed:r}=t,a=(0,o.useRef)(null),s=(0,o.useRef)(null),{children:i,droppableId:l,type:u,mode:c,direction:d,ignoreContainerClipping:h,isDropDisabled:m,isCombineEnabled:p,snapshot:f,useClone:g,updateViewportMaxScroll:b,getContainerForClone:D}=e,x=Gx(()=>a.current,[]),v=Gx(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e},[]),y=(Gx(()=>s.current,[]),Gx(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s.current=e},[]));rE();const w=Gx(()=>{r()&&b({maxScroll:mw()})},[r,b]);mC({droppableId:l,type:u,mode:c,direction:d,isDropDisabled:m,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:x});const E=Yx(()=>o.createElement(DC,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},e=>{let{onClose:t,data:r,animate:a}=e;return o.createElement(bC,{placeholder:r,onClose:t,innerRef:y,animate:a,contextId:n,onTransitionEnd:w})}),[n,w,e.placeholder,e.shouldAnimatePlaceholder,y]),C=Yx(()=>({innerRef:v,placeholder:E,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,E,v]),F=g?g.dragging.draggableId:null,A=Yx(()=>({droppableId:l,type:u,isUsingCloneFor:F}),[l,F,u]);return o.createElement(VE.Provider,{value:A},i(C,f),function(){if(!g)return null;const{dragging:e,render:t}=g,n=o.createElement(JE,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(n,r)=>t(n,r,e));return Ee.createPortal(n,D())}())}),CC=cs("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),FC=cs("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),AC=e=>{let{taskId:t,onNewComment:n}=e;const[r,a]=(0,o.useState)([]),[s,i]=(0,o.useState)(""),[l,u]=(0,o.useState)([]),[c,d]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!1),[p,f]=(0,o.useState)(null),g=(0,o.useCallback)(async()=>{try{const e=await Ma.get("/kanban/tasks/".concat(t,"/comments"));a(e.data||[])}catch(e){console.error("Error loading comments:",e)}},[t]),{onTaskEvent:b}=So();(0,o.useEffect)(()=>{if(!t)return;const e=b("task:comment",e=>{if(e.taskId!==t)return;const n=e.comment;n&&a(e=>e.some(e=>e.id===n.id)?e.map(e=>e.id===n.id?n:e):[n,...e])});return()=>e()},[t,b]),(0,o.useEffect)(()=>{g()},[g]);return(0,Oa.jsxs)("div",{className:"space-y-4",children:[(0,Oa.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.map(e=>{var t,n;return(0,Oa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Oa.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold",children:null===(t=e.user_name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase()}),(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsx)("p",{className:"text-sm font-bold text-gray-900",children:e.user_name}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString("de-DE")})]})]}),(0,Oa.jsx)("p",{className:"text-gray-800 text-sm",children:e.comment||e.text}),e.attachments&&e.attachments.length>0&&(0,Oa.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:("string"===typeof e.attachments?JSON.parse(e.attachments):e.attachments).map((e,t)=>{var n,r;const a=null===(n=e.mime_type)||void 0===n?void 0:n.startsWith("image/"),s=null===(r=e.mime_type)||void 0===r?void 0:r.startsWith("audio/");return a?(0,Oa.jsx)("img",{src:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_ID:"1769023108",REACT_APP_BUILD_DATE:"2026-01-21T19:18:28Z"}.REACT_APP_API_URL||"http://localhost:5000").concat(e.file_url),alt:e.file_name,className:"h-20 rounded-lg border-2 border-gray-300 cursor-pointer hover:opacity-80",onClick:()=>window.open("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_ID:"1769023108",REACT_APP_BUILD_DATE:"2026-01-21T19:18:28Z"}.REACT_APP_API_URL||"http://localhost:5000").concat(e.file_url),"_blank")},t):s?(0,Oa.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-600",children:e.file_name}),(0,Oa.jsx)("audio",{controls:!0,className:"h-10",src:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_ID:"1769023108",REACT_APP_BUILD_DATE:"2026-01-21T19:18:28Z"}.REACT_APP_API_URL||"http://localhost:5000").concat(e.file_url)})]},t):(0,Oa.jsxs)("a",{href:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_ID:"1769023108",REACT_APP_BUILD_DATE:"2026-01-21T19:18:28Z"}.REACT_APP_API_URL||"http://localhost:5000").concat(e.file_url),target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm hover:bg-blue-200 transition-colors flex items-center gap-1",children:[(0,Oa.jsx)(yg,{className:"w-4 h-4"}),e.file_name]},t)})})]},e.id)}),0===r.length&&(0,Oa.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Keine Kommentare"})]}),(0,Oa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.trim()||0!==l.length)try{d(!0);const e=new FormData;e.append("comment_text",s.trim()),l.forEach(t=>{e.append("attachments",t.file)}),console.log("Submitting comment:",{taskId:t,text:s.trim(),filesCount:l.length});const r=await Ma.post("/kanban/tasks/".concat(t,"/comments"),e,{headers:{"Content-Type":"multipart/form-data"}});console.log("Comment response:",r.data);const a=r.data;i(""),u([]),await g(),null===n||void 0===n||n(a),sn.success("Kommentar erfolgreich hinzugef\xfcgt")}catch(c){var r,a,o;console.error("Error posting comment:",c),console.error("Error response:",null===(r=c.response)||void 0===r?void 0:r.data);const e=(null===(a=c.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.error)||"Fehler beim Senden des Kommentars";sn.error(e)}finally{d(!1)}else sn.error("Bitte Kommentar schreiben oder Datei anh\xe4ngen")},className:"border-t pt-4",children:[(0,Oa.jsx)("div",{className:"mb-3",children:(0,Oa.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),placeholder:"Kommentar schreiben...",rows:"3",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none resize-none"})}),l.length>0&&(0,Oa.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:l.map((e,t)=>{var n,r,a,s;return(0,Oa.jsxs)("div",{className:"relative inline-block",children:[(null===(n=e.type)||void 0===n?void 0:n.startsWith("image/"))&&e.preview&&(0,Oa.jsx)("img",{src:e.preview,alt:"preview",className:"h-20 rounded-lg border-2 border-gray-300"}),(null===(r=e.type)||void 0===r?void 0:r.startsWith("audio/"))&&(0,Oa.jsxs)("div",{className:"px-4 py-2 bg-purple-100 text-purple-800 rounded-lg flex items-center gap-2",children:[(0,Oa.jsx)(Uf,{className:"w-4 h-4"}),e.name]}),!(null!==(a=e.type)&&void 0!==a&&a.startsWith("image/"))&&!(null!==(s=e.type)&&void 0!==s&&s.startsWith("audio/"))&&(0,Oa.jsxs)("div",{className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg flex items-center gap-2",children:[(0,Oa.jsx)(yg,{className:"w-4 h-4"}),e.name]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>(e=>{u(t=>t.filter((t,n)=>n!==e))})(t),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700",children:(0,Oa.jsx)(vs,{className:"w-4 h-4"})})]},t)})}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("input",{type:"file",multiple:!0,accept:"image/*,audio/*,.pdf,.doc,.docx",onChange:e=>{const t=Array.from(e.target.files),n=t.map(e=>({file:e,preview:e.type.startsWith("image/")?URL.createObjectURL(e):null,type:e.type,name:e.name}));u(e=>[...e,...n]),sn.success("".concat(t.length," Datei(en) ausgew\xe4hlt"))},className:"hidden",id:"comment-file-upload"}),(0,Oa.jsxs)("label",{htmlFor:"comment-file-upload",className:"px-3 py-2 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors cursor-pointer flex items-center gap-2",children:[(0,Oa.jsx)(Wf,{className:"w-4 h-4"}),"Anh\xe4ngen"]}),(0,Oa.jsxs)("button",{type:"button",onClick:h?()=>{p&&h&&(p.stop(),m(!1),f(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>n.push(e.data),t.onstop=()=>{const t=new Blob(n,{type:"audio/webm"}),r=new File([t],"audio-".concat(Date.now(),".webm"),{type:"audio/webm"});u(e=>[...e,{file:r,preview:null,type:"audio/webm",name:r.name}]),e.getTracks().forEach(e=>e.stop()),sn.success("Audioaufnahme hinzugef\xfcgt")},t.start(),f(t),m(!0),sn.success("Aufnahme gestartet")}catch(e){console.error("Error starting recording:",e),sn.error("Fehler beim Zugriff auf Mikrofon")}},className:"px-3 py-2 border-2 rounded-lg transition-colors flex items-center gap-2 ".concat(h?"border-red-600 bg-red-50 text-red-700 hover:bg-red-100":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:[(0,Oa.jsx)(Uf,{className:"w-4 h-4"}),h?"Stopp":"Audio"]}),(0,Oa.jsxs)("button",{type:"submit",disabled:c||!s.trim()&&0===l.length,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,Oa.jsx)(Bg,{className:"w-4 h-4"}),"Senden"]})]})]})]})},kC=async()=>{try{const e=(await Ma.get("/kanban/tasks")).data;return Array.isArray(e)?e:Array.isArray(null===e||void 0===e?void 0:e.tasks)?e.tasks:Array.isArray(null===e||void 0===e?void 0:e.data)?e.data:[]}catch(e){throw console.error("Error fetching tasks:",e),e}},NC=async e=>{try{return(await Ma.post("/kanban/tasks",e)).data}catch(t){throw console.error("Error creating task:",t),t}},jC=async(e,t)=>{try{return(await Ma.put("/kanban/tasks/".concat(e),t)).data}catch(n){throw console.error("Error updating task:",n),n}},_C=async e=>{try{return(await Ma.delete("/kanban/tasks/".concat(e))).data}catch(t){throw console.error("Error deleting task:",t),t}},SC=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"document";try{const r=new FormData;r.append("file",t),r.append("file_type",n);return(await Ma.post("/kanban/tasks/".concat(e,"/attachments"),r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Error uploading attachment:",r),r}},BC=async e=>{try{return(await Ma.delete("/kanban/attachments/".concat(e))).data}catch(t){throw console.error("Error deleting attachment:",t),t}},MC=e=>({low:"Niedrig",medium:"Mittel",high:"Dringend"}[e]||"Mittel"),OC=e=>{const t={low:"bg-green-100 text-green-700 border-green-300",medium:"bg-yellow-100 text-yellow-700 border-yellow-300",high:"bg-red-100 text-red-700 border-red-300"};return t[e]||t.medium},TC=[{value:"low",label:"Niedrig",color:"bg-green-100 text-green-700 border-green-300"},{value:"medium",label:"Mittel",color:"bg-yellow-100 text-yellow-700 border-yellow-300"},{value:"high",label:"Dringend",color:"bg-red-100 text-red-700 border-red-300"}],RC=[{value:"backlog",label:"Backlog"},{value:"todo",label:"Todo"},{value:"in_progress",label:"In Arbeit"},{value:"review",label:"Review"},{value:"done",label:"Erledigt"}],IC=e=>{var t;let{isOpen:n,onClose:r,task:a,users:s=[],onTaskUpdated:i,onTaskDeleted:l}=e;const[u,c]=(0,o.useState)({title:"",description:"",status:"todo",priority:"medium",assigned_to:"",due_date:"",estimated_hours:"",labels:[],checklist:[]}),[d,h]=(0,o.useState)(""),[m,p]=(0,o.useState)(""),[f,g]=(0,o.useState)(!1),[b,D]=(0,o.useState)(!1),[x,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)("details"),E=Pa();null===E||void 0===E||E.user;(0,o.useEffect)(()=>{a&&c({title:a.title||"",description:a.description||"",status:a.status||"todo",priority:a.priority||"medium",assigned_to:a.assigned_to||"",due_date:a.due_date?a.due_date.split("T")[0]:"",estimated_hours:a.estimated_hours||"",labels:a.labels||[],checklist:a.checklist||[]})},[a]);const C=async e=>{if(e.preventDefault(),u.title.trim())try{D(!0);null===a||void 0===a||a.status;const e=await jC(a.id,{title:u.title,description:u.description,status:u.status,priority:u.priority,assigned_to:u.assigned_to||null,due_date:u.due_date||null,estimated_hours:u.estimated_hours?parseFloat(u.estimated_hours):null,labels:u.labels,checklist:u.checklist});sn.success("Aufgabe aktualisiert"),i&&i(e),r()}catch(s){var t,n;console.error("Error updating task:",s),sn.error((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim Aktualisieren")}finally{D(!1)}else sn.error("Titel ist erforderlich")},F=()=>{const e=Array.isArray(u.labels)?u.labels:[];d.trim()&&!e.includes(d.trim())&&(c(qe(qe({},u),{},{labels:[...e,d.trim()]})),h(""))},A=()=>{if(m.trim()){const e=Array.isArray(u.checklist)?u.checklist:[],t={id:Date.now(),text:m.trim(),completed:!1};c(qe(qe({},u),{},{checklist:[...e,t]})),p("")}},k=null===a||void 0===a||null===(t=a.attachments)||void 0===t?void 0:t.find(e=>"audio"===e.file_type||"audio/webm"===e.file_type);return n&&a?(0,Oa.jsxs)("div",{className:"fixed inset-0 z-[120] flex items-center justify-center px-3 py-6 sm:px-6",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:r,"aria-hidden":"true"}),(0,Oa.jsxs)("div",{className:"relative z-[130] w-full max-w-5xl bg-white/95 backdrop-blur rounded-[28px] border border-slate-200/70 shadow-[0_32px_90px_rgba(15,23,42,0.25)] overflow-hidden max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between gap-4 bg-gradient-to-r from-blue-600 via-indigo-600 to-sky-600 text-white px-5 sm:px-7 py-5 sm:py-6",children:[(0,Oa.jsxs)("div",{className:"flex-1",children:[(0,Oa.jsxs)("p",{className:"text-xs uppercase tracking-[0.25em] text-blue-100/80",children:["Aufgabe #",a.id]}),(0,Oa.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2 mt-1",children:[(0,Oa.jsx)(FC,{className:"w-5 h-5 sm:w-6 sm:h-6"}),a.title]})]}),(0,Oa.jsx)("button",{onClick:r,className:"btn-icon-mobile bg-white/15 hover:bg-white/25 text-white mobile-touch-feedback rounded-full px-3 py-2",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("div",{className:"flex border-b border-slate-200 bg-slate-50 px-5 sm:px-7",children:[(0,Oa.jsxs)("button",{onClick:()=>w("details"),className:"px-4 py-3 font-semibold text-sm transition-colors border-b-2 ".concat("details"===y?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"),children:[(0,Oa.jsx)(Ng,{className:"w-4 h-4 inline-block mr-2"}),"Details"]}),(0,Oa.jsxs)("button",{onClick:()=>w("comments"),className:"px-4 py-3 font-semibold text-sm transition-colors border-b-2 ".concat("comments"===y?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"),children:[(0,Oa.jsx)(CC,{className:"w-4 h-4 inline-block mr-2"}),"Kommentare"]})]}),(0,Oa.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Oa.jsxs)("form",{onSubmit:C,className:"px-5 sm:px-7 py-6",children:["details"===y&&(0,Oa.jsx)("div",{className:"space-y-6",children:(0,Oa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.6fr_1fr] gap-6",children:[(0,Oa.jsxs)("div",{className:"space-y-5",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:["Titel ",(0,Oa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Oa.jsx)("input",{type:"text",value:u.title,onChange:e=>c(qe(qe({},u),{},{title:e.target.value})),className:"w-full px-4 py-3 rounded-2xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition shadow-sm"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:"Beschreibung"}),(0,Oa.jsx)("textarea",{value:u.description,onChange:e=>c(qe(qe({},u),{},{description:e.target.value})),placeholder:"Detaillierte Beschreibung der Aufgabe...",rows:"5",className:"w-full px-4 py-3 rounded-2xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition shadow-sm resize-none"})]}),a.attachments&&a.attachments.length>0&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:[(0,Oa.jsx)(yg,{className:"w-4 h-4 inline-block mr-1"}),"Anh\xe4nge (",a.attachments.length,")"]}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:a.attachments.map(e=>{const t=nl(e.file_url),n="image"===e.file_type,r="audio"===e.file_type;return(0,Oa.jsxs)("div",{className:"relative group rounded-2xl border border-slate-200 overflow-hidden shadow-sm",children:[n&&(0,Oa.jsx)("img",{src:t,alt:e.file_name,className:"w-full h-32 object-cover"}),r&&(0,Oa.jsxs)("div",{className:"p-3 bg-purple-50",children:[(0,Oa.jsxs)("p",{className:"text-xs text-slate-600 mb-2 truncate flex items-center gap-1",children:[(0,Oa.jsx)(Uf,{className:"w-3 h-3"}),e.file_name]}),(0,Oa.jsx)("audio",{controls:!0,src:t,className:"w-full"})]}),!n&&!r&&(0,Oa.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"block p-3 hover:bg-slate-50 transition",children:(0,Oa.jsxs)("p",{className:"text-xs text-slate-600 truncate",children:["\ud83d\udcce ",e.file_name]})}),(0,Oa.jsx)("button",{type:"button",onClick:()=>(async e=>{try{await BC(e),sn.success("Anhang gel\xf6scht"),i&&i(qe(qe({},a),{},{_refresh:!0}))}catch(t){console.error("Error deleting attachment:",t),sn.error("Fehler beim L\xf6schen")}})(e.id),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center hover:bg-red-700",children:(0,Oa.jsx)(Ds,{className:"w-3 h-3"})})]},e.id)})})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:"Checkliste"}),(0,Oa.jsx)("div",{className:"space-y-2 mb-3",children:(Array.isArray(u.checklist)?u.checklist:[]).map(e=>(0,Oa.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-slate-50 hover:bg-slate-100 transition",children:[(0,Oa.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>(e=>{const t=Array.isArray(u.checklist)?u.checklist:[];c(qe(qe({},u),{},{checklist:t.map(t=>t.id===e?qe(qe({},t),{},{completed:!t.completed}):t)}))})(e.id),className:"w-4 h-4 text-blue-600 rounded"}),(0,Oa.jsx)("span",{className:"flex-1 text-sm ".concat(e.completed?"line-through text-slate-500":"text-slate-800"),children:e.text}),(0,Oa.jsx)("button",{type:"button",onClick:()=>(e=>{const t=Array.isArray(u.checklist)?u.checklist:[];c(qe(qe({},u),{},{checklist:t.filter(t=>t.id!==e)}))})(e.id),className:"text-red-600 hover:text-red-800 transition",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]},e.id))}),(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),A())},placeholder:"Neues Element hinzuf\xfcgen...",className:"flex-1 px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition"}),(0,Oa.jsx)("button",{type:"button",onClick:A,className:"px-4 py-2.5 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:(0,Oa.jsx)(vf,{className:"w-4 h-4"})})]})]})]}),(0,Oa.jsxs)("div",{className:"space-y-5",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:"Status"}),(0,Oa.jsx)("select",{value:u.status,onChange:e=>c(qe(qe({},u),{},{status:e.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition",children:RC.map(e=>(0,Oa.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(FC,{className:"w-4 h-4 text-blue-600"}),"Priorit\xe4t"]}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 gap-2",children:TC.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>c(qe(qe({},u),{},{priority:e.value})),className:"px-3 py-2 rounded-xl border text-sm font-semibold transition-all ".concat(u.priority===e.value?"".concat(e.color," shadow-inner"):"border-slate-200 text-slate-600 hover:border-blue-300 hover:text-blue-600"),children:e.label},e.value))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(dl,{className:"w-4 h-4 text-blue-600"}),"Zugewiesen an"]}),(0,Oa.jsxs)("select",{value:u.assigned_to,onChange:e=>c(qe(qe({},u),{},{assigned_to:e.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition",children:[(0,Oa.jsx)("option",{value:"",children:"Nicht zugewiesen"}),s.map(e=>(0,Oa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(fs,{className:"w-4 h-4 text-blue-600"}),"F\xe4lligkeitsdatum"]}),(0,Oa.jsx)("input",{type:"date",value:u.due_date,onChange:e=>c(qe(qe({},u),{},{due_date:e.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Df,{className:"w-4 h-4 text-blue-600"}),"Gesch\xe4tzte Stunden"]}),(0,Oa.jsx)("input",{type:"number",min:"0",step:"0.5",value:u.estimated_hours,onChange:e=>c(qe(qe({},u),{},{estimated_hours:e.target.value})),placeholder:"z.B. 4",className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Gg,{className:"w-4 h-4 text-blue-600"}),"Labels"]}),(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:(Array.isArray(u.labels)?u.labels:[]).map(e=>(0,Oa.jsxs)("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-600 border border-blue-200 rounded-full text-sm font-medium flex items-center gap-2 shadow-sm",children:["#",e,(0,Oa.jsx)("button",{type:"button",onClick:()=>(e=>{const t=Array.isArray(u.labels)?u.labels:[];c(qe(qe({},u),{},{labels:t.filter(t=>t!==e)}))})(e),className:"hover:text-blue-800 transition",children:(0,Oa.jsx)(vs,{className:"w-3.5 h-3.5"})})]},e))}),(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),F())},placeholder:"Label hinzuf\xfcgen...",className:"flex-1 px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition"}),(0,Oa.jsx)("button",{type:"button",onClick:F,className:"px-4 py-2.5 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:(0,Oa.jsx)(vf,{className:"w-4 h-4"})})]})]}),(0,Oa.jsx)("div",{children:(0,Oa.jsx)(Kf,{onRecordingComplete:async e=>{if(null!==a&&void 0!==a&&a.id)try{v(!0);const t=new File([e],"audio-".concat(Date.now(),".webm"),{type:"audio/webm"});await SC(a.id,t,"audio"),sn.success("Audio hochgeladen"),i&&i(qe(qe({},a),{},{_refresh:!0}))}catch(t){console.error("Error uploading audio:",t),sn.error("Fehler beim Hochladen")}finally{v(!1)}else sn.error("Bitte speichern Sie zuerst die Aufgabe")},existingAudioUrl:k?nl(k.file_url):null})})]})]})}),"comments"===y&&(0,Oa.jsx)("div",{className:"py-2",children:(0,Oa.jsx)(AC,{taskId:a.id})})]})}),(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-3 px-5 sm:px-7 py-5 border-t border-slate-200 bg-slate-50",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>g(!0),className:"w-full sm:w-auto px-4 py-2.5 rounded-xl border border-red-300 text-red-600 font-semibold hover:bg-red-50 transition flex items-center justify-center gap-2",children:[(0,Oa.jsx)(Ds,{className:"w-4 h-4"}),"L\xf6schen"]}),(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Oa.jsx)("button",{type:"button",onClick:r,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:border-slate-300 hover:text-slate-800 transition",children:"Abbrechen"}),(0,Oa.jsxs)("button",{type:"button",onClick:C,disabled:b||x,className:"w-full sm:w-auto px-5 py-2.5 rounded-xl bg-blue-600 text-white font-semibold shadow-lg shadow-blue-600/20 hover:bg-blue-700 transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Oa.jsx)(FC,{className:"w-5 h-5"}),b?"Speichern...":"Speichern"]})]})]})]}),f&&(0,Oa.jsxs)("div",{className:"fixed inset-0 z-[140] flex items-center justify-center px-4",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm",onClick:()=>g(!1)}),(0,Oa.jsxs)("div",{className:"relative z-[150] bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[(0,Oa.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Aufgabe l\xf6schen?"}),(0,Oa.jsx)("p",{className:"text-slate-600 mb-6",children:"Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden. Alle Anh\xe4nge und Kommentare werden ebenfalls gel\xf6scht."}),(0,Oa.jsxs)("div",{className:"flex gap-3",children:[(0,Oa.jsx)("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-slate-50 transition",children:"Abbrechen"}),(0,Oa.jsx)("button",{onClick:async()=>{try{D(!0),await _C(a.id),sn.success("Aufgabe gel\xf6scht"),l&&l(a.id),r()}catch(n){var e,t;console.error("Error deleting task:",n),sn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Fehler beim L\xf6schen")}finally{D(!1),g(!1)}},disabled:b,className:"flex-1 px-4 py-2.5 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700 transition disabled:opacity-50",children:b?"L\xf6schen...":"L\xf6schen"})]})]})]})]}):null},PC=cs("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),LC=e=>{let{checklist:t=[],onChange:n,readOnly:r=!1}=e;const[a,s]=(0,o.useState)([]),[i,l]=(0,o.useState)(""),[u,c]=(0,o.useState)(null);(0,o.useEffect)(()=>{const e=(t||[]).map((e,t)=>({id:e.id||"item-".concat(Date.now(),"-").concat(t),text:e.text||"",completed:Boolean(e.completed)}));s(e)},[t]);const d=()=>{if(!i.trim()||r)return;const e={id:"item-".concat(Date.now()),text:i.trim(),completed:!1},t=[...a,e];s(t),l(""),null===n||void 0===n||n(t)},h=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},m=()=>{c(null)},p=(()=>{if(0===a.length)return 0;const e=a.filter(e=>e.completed).length;return Math.round(e/a.length*100)})(),f=a.filter(e=>e.completed).length;return(0,Oa.jsxs)("div",{className:"space-y-4",children:[a.length>0&&(0,Oa.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"Fortschritt"}),(0,Oa.jsxs)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-bold rounded-full",children:[f,"/",a.length]})]}),(0,Oa.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[p,"%"]})]}),(0,Oa.jsx)("div",{className:"relative h-4 bg-slate-200 rounded-full overflow-hidden",children:(0,Oa.jsx)("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-500 ".concat(100===p?"bg-gradient-to-r from-green-500 to-green-600":p>=75?"bg-gradient-to-r from-blue-500 to-blue-600":p>=50?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-orange-500 to-orange-600"),style:{width:"".concat(p,"%")},children:p>10&&(0,Oa.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Oa.jsxs)("span",{className:"text-xs font-bold text-white drop-shadow",children:[p,"%"]})})})}),100===p&&(0,Oa.jsx)("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:(0,Oa.jsxs)("p",{className:"text-sm font-medium text-green-700 text-center flex items-center justify-center gap-2",children:[(0,Oa.jsx)(bs,{className:"w-4 h-4"}),"Alle Aufgaben abgeschlossen! \ud83c\udf89"]})})]}),(0,Oa.jsxs)("div",{className:"space-y-2",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("h4",{className:"text-sm font-semibold text-slate-700",children:"Checkliste"}),a.length>0&&(0,Oa.jsxs)("span",{className:"text-xs text-slate-500",children:[a.length," ",1===a.length?"Punkt":"Punkte"]})]}),0===a.length&&r&&(0,Oa.jsx)("div",{className:"text-center py-6 text-slate-400",children:(0,Oa.jsx)("p",{className:"text-sm",children:"Keine Checkliste vorhanden"})}),a.map(e=>(0,Oa.jsxs)("div",{draggable:!r,onDragStart:t=>((e,t)=>{r||(c(t),e.dataTransfer.effectAllowed="move")})(t,e),onDragOver:h,onDrop:t=>((e,t)=>{if(e.preventDefault(),r||!u||u.id===t.id)return;const i=a.findIndex(e=>e.id===u.id),o=a.findIndex(e=>e.id===t.id),l=[...a];l.splice(i,1),l.splice(o,0,u),s(l),c(null),null===n||void 0===n||n(l)})(t,e),onDragEnd:m,className:"group flex items-center gap-3 p-3 bg-white border rounded-lg transition-all hover:shadow-sm ".concat(e.completed?"border-green-200 bg-green-50/50":"border-slate-200 hover:border-slate-300"," ").concat((null===u||void 0===u?void 0:u.id)===e.id?"opacity-50":""," ").concat(r?"":"cursor-move"),children:[!r&&(0,Oa.jsx)(PC,{className:"w-4 h-4 text-slate-400 opacity-0 group-hover:opacity-100 transition cursor-move flex-shrink-0"}),(0,Oa.jsx)("button",{onClick:()=>(e=>{if(r)return;const t=a.map(t=>t.id===e?qe(qe({},t),{},{completed:!t.completed}):t);s(t),null===n||void 0===n||n(t)})(e.id),disabled:r,className:"flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition ".concat(e.completed?"bg-green-500 border-green-500":"border-slate-300 hover:border-blue-500"," ").concat(r?"cursor-default":"cursor-pointer"),children:e.completed&&(0,Oa.jsx)(bs,{className:"w-3 h-3 text-white",strokeWidth:3})}),(0,Oa.jsx)("span",{className:"flex-1 text-sm transition ".concat(e.completed?"text-slate-400 line-through":"text-slate-700"),children:e.text}),!r&&(0,Oa.jsx)("button",{onClick:()=>(e=>{if(r)return;const t=a.filter(t=>t.id!==e);s(t),null===n||void 0===n||n(t)})(e.id),className:"flex-shrink-0 p-1 text-red-500 opacity-0 group-hover:opacity-100 hover:bg-red-50 rounded transition",title:"L\xf6schen",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]},e.id))]}),!r&&(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),d())},placeholder:"Neuen Punkt hinzuf\xfcgen...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,Oa.jsxs)("button",{onClick:d,disabled:!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center gap-2 font-medium",children:[(0,Oa.jsx)(vf,{className:"w-4 h-4"}),"Hinzuf\xfcgen"]})]})]})},zC=[{value:"low",label:"Niedrig",color:"bg-green-100 text-green-700 border-green-300"},{value:"medium",label:"Mittel",color:"bg-yellow-100 text-yellow-700 border-yellow-300"},{value:"high",label:"Hoch",color:"bg-orange-100 text-orange-700 border-orange-300"},{value:"urgent",label:"Dringend",color:"bg-red-100 text-red-700 border-red-300"}],UC=e=>{var t;let{isOpen:n,onClose:r,onSave:a,task:s=null,users:i=[]}=e;const[l,u]=(0,o.useState)({title:"",description:"",assigned_to:"",due_date:"",priority:"medium",category:"",tags:[],checklist:[]}),[c,d]=(0,o.useState)(""),[h,m]=(0,o.useState)(null),p=(0,o.useMemo)(()=>s&&Array.isArray(s.attachments)?s.attachments.map(e=>{const t=e.mimeType||e.mime_type||"",n=e.type||e.file_type||(t.startsWith("image/")?"image":t.startsWith("audio/")?"audio":t.startsWith("video/")?"video":"document"),r=e.url||e.file_url||"",a=nl(r),s=e.name||e.file_name||(r?r.split("/").pop():"");return{id:e.id,type:n,url:a,name:s,mimeType:t,raw:e}}).filter(e=>Boolean(e.url)):[],[s]);(0,o.useEffect)(()=>{u(s?{title:s.title||"",description:s.description||"",assigned_to:s.assigned_to||"",due_date:s.due_date?s.due_date.split("T")[0]:"",priority:s.priority||"medium",category:s.category||"",tags:Array.isArray(s.tags)?s.tags:[],checklist:Array.isArray(s.checklist)?s.checklist:[]}:{title:"",description:"",assigned_to:"",due_date:"",priority:"medium",category:"",tags:[],checklist:[]})},[s,n]);const f=()=>{c.trim()&&!l.tags.includes(c.trim())&&(u(qe(qe({},l),{},{tags:[...l.tags,c.trim()]})),d(""))};return n?(0,Oa.jsxs)("div",{className:"fixed inset-0 z-[120] flex items-center justify-center px-3 py-6 sm:px-6",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:r,"aria-hidden":"true"}),(0,Oa.jsxs)("div",{className:"relative z-[130] w-full max-w-4xl bg-white/95 backdrop-blur rounded-[28px] border border-slate-200/70 shadow-[0_32px_90px_rgba(15,23,42,0.25)] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between gap-4 bg-gradient-to-r from-blue-600 via-indigo-600 to-sky-600 text-white px-5 sm:px-7 py-5 sm:py-6",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-[0.25em] text-blue-100/80",children:s?"Aktualisieren":"Neu anlegen"}),(0,Oa.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2 mt-1",children:[(0,Oa.jsx)(FC,{className:"w-5 h-5 sm:w-6 sm:h-6"}),s?"Aufgabe bearbeiten":"Neue Aufgabe"]})]}),(0,Oa.jsx)("button",{onClick:r,className:"btn-icon-mobile bg-white/15 hover:bg-white/25 text-white mobile-touch-feedback rounded-full px-3 py-2",children:(0,Oa.jsx)(vs,{className:"w-5 h-5"})})]}),(0,Oa.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.title.trim()?a(qe(qe({},l),{},{voiceInstruction:h})):sn.error("Titel ist erforderlich")},className:"px-5 sm:px-7 py-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[(0,Oa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.6fr_1fr] gap-6",children:[(0,Oa.jsxs)("div",{className:"space-y-5",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:["Titel ",(0,Oa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Oa.jsx)("input",{type:"text",value:l.title,onChange:e=>u(qe(qe({},l),{},{title:e.target.value})),placeholder:"z.B. Backend API implementieren",className:"w-full px-4 py-3 rounded-2xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition shadow-sm",autoFocus:!0})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:"Beschreibung"}),(0,Oa.jsx)("textarea",{value:l.description,onChange:e=>u(qe(qe({},l),{},{description:e.target.value})),placeholder:"Detaillierte Beschreibung der Aufgabe...",rows:"5",className:"w-full px-4 py-3 rounded-2xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition shadow-sm resize-none"})]}),p.length>0&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-800 mb-2",children:"Anh\xe4nge"}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:p.map(e=>{const t=e.id||e.url;return"image"===e.type?(0,Oa.jsxs)("figure",{className:"relative overflow-hidden rounded-2xl border border-slate-200 shadow-sm",children:[(0,Oa.jsx)("img",{src:e.url,alt:e.name||"Anhang",className:"h-32 w-full object-cover"}),(0,Oa.jsx)("figcaption",{className:"px-3 py-2 text-xs text-slate-500 truncate bg-white/90",children:e.name||"Bild"})]},t):"audio"===e.type?(0,Oa.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/80 p-3 shadow-inner",children:[(0,Oa.jsx)("p",{className:"text-xs text-slate-500 mb-2 truncate",children:e.name||"Audio"}),(0,Oa.jsx)("audio",{controls:!0,src:e.url,className:"w-full"})]},t):(0,Oa.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 rounded-2xl border border-slate-200 bg-white shadow-sm text-xs text-slate-600 hover:bg-slate-50 transition",children:["\ud83d\udcce ",e.name||e.url.split("/").pop()]},t)})})]})]}),(0,Oa.jsxs)("div",{className:"space-y-5",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(FC,{className:"w-4 h-4 text-blue-600"}),"Priorit\xe4t"]}),(0,Oa.jsx)("div",{className:"grid grid-cols-2 gap-2",children:zC.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>u(qe(qe({},l),{},{priority:e.value})),className:"px-3 py-2 rounded-xl border text-sm font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-blue-300 ".concat(l.priority===e.value?"".concat(e.color," shadow-inner"):"border-slate-200 text-slate-600 hover:border-blue-300 hover:text-blue-600"),children:e.label},e.value))})]}),(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(dl,{className:"w-4 h-4 text-blue-600"}),"Zugewiesen an"]}),(0,Oa.jsxs)("select",{value:l.assigned_to,onChange:e=>u(qe(qe({},l),{},{assigned_to:e.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition",children:[(0,Oa.jsx)("option",{value:"",children:"Nicht zugewiesen"}),i.map(e=>(0,Oa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(fs,{className:"w-4 h-4 text-blue-600"}),"F\xe4lligkeitsdatum"]}),(0,Oa.jsx)("input",{type:"date",value:l.due_date,onChange:e=>u(qe(qe({},l),{},{due_date:e.target.value})),className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Gg,{className:"w-4 h-4 text-blue-600"}),"Tags"]}),(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:l.tags.map(e=>(0,Oa.jsxs)("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-600 border border-blue-200 rounded-full text-sm font-medium flex items-center gap-2 shadow-sm",children:["#",e,(0,Oa.jsx)("button",{type:"button",onClick:()=>{return t=e,void u(qe(qe({},l),{},{tags:l.tags.filter(e=>e!==t)}));var t},className:"hover:text-blue-800 transition","aria-label":"Tag entfernen",children:(0,Oa.jsx)(vs,{className:"w-3.5 h-3.5"})})]},e))}),(0,Oa.jsxs)("div",{className:"flex gap-2",children:[(0,Oa.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f())},placeholder:"Tag hinzuf\xfcgen...",className:"flex-1 px-3 py-2.5 rounded-xl border border-slate-200 bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-200/70 transition"}),(0,Oa.jsxs)("button",{type:"button",onClick:f,className:"px-4 py-2.5 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition flex items-center gap-2",children:[(0,Oa.jsx)(vf,{className:"w-4 h-4"}),"Hinzuf\xfcgen"]})]})]}),(0,Oa.jsx)("div",{children:(0,Oa.jsx)(LC,{checklist:l.checklist,onChange:e=>{u(qe(qe({},l),{},{checklist:e}))},readOnly:!1})}),(0,Oa.jsx)("div",{children:(0,Oa.jsx)(Kf,{onRecordingComplete:e=>{m(e)},existingAudioUrl:null===(t=p.find(e=>"audio"===e.type))||void 0===t?void 0:t.url})})]})]}),s&&s.id&&(0,Oa.jsxs)("div",{className:"pt-6 border-t border-slate-200",children:[(0,Oa.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[(0,Oa.jsx)(CC,{className:"w-5 h-5 text-blue-600"}),"Kommentare"]}),(0,Oa.jsx)(AC,{taskId:s.id})]}),(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-5 border-t border-slate-200",children:[(0,Oa.jsx)("button",{type:"button",onClick:r,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:border-slate-300 hover:text-slate-800 transition",children:"Abbrechen"}),(0,Oa.jsxs)("button",{type:"submit",className:"w-full sm:w-auto px-5 py-2.5 rounded-xl bg-blue-600 text-white font-semibold shadow-lg shadow-blue-600/20 hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[(0,Oa.jsx)(FC,{className:"w-5 h-5"}),s?"Aktualisieren":"Erstellen"]})]})]})]})]}):null},WC=[{id:"backlog",title:"Backlog",color:"bg-slate-100"},{id:"todo",title:"Todo",color:"bg-blue-100"},{id:"in_progress",title:"In Arbeit",color:"bg-yellow-100"},{id:"review",title:"Review",color:"bg-purple-100"},{id:"done",title:"Erledigt",color:"bg-green-100"}],HC=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)([]),[a,s]=(0,o.useState)(!0),[i,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!1),[m,p]=(0,o.useState)("todo"),[f,g]=(0,o.useState)(null),[b,D]=(0,o.useState)(null),[x,v]=(0,o.useState)(""),[y,w]=(0,o.useState)(""),[E,C]=(0,o.useState)(""),[F,A]=(0,o.useState)(!1),{onTaskEvent:k}=So();(0,o.useEffect)(()=>{N(),j()},[]),(0,o.useEffect)(()=>{const e=k("task:created",e=>{console.log("Task created via WebSocket:",e),N()}),n=k("task:updated",e=>{console.log("Task updated via WebSocket:",e),N()}),r=k("task:deleted",e=>{console.log("Task deleted via WebSocket:",e),t(t=>t.filter(t=>t.id!==e.taskId))});return()=>{e(),n(),r()}},[k]);const N=async()=>{try{s(!0),g(null),D(null);const e=await kC(),n=new Set,r=Array.isArray(e)?e.filter(e=>!(null===e||void 0===e||!e.id||n.has(e.id))&&(n.add(e.id),!0)):[];t(r)}catch(f){var e,n,r;console.error("Error loading tasks:",f),g((null===(e=f.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||f.message||"Fehler beim Laden der Aufgaben"),D(null!==(r=f.response)&&void 0!==r&&r.status?"".concat(f.response.status," ").concat(f.response.statusText||"").trim():f.message),sn.error("Fehler beim Laden der Aufgaben")}finally{s(!1)}},j=async()=>{try{const e=await Ba();r(e.data||[])}catch(f){console.error("Error loading users:",f)}},_=(0,o.useMemo)(()=>e.filter(e=>{if(x){var t,n;const r=x.toLowerCase(),a=null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(r),s=null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(r);if(!a&&!s)return!1}return(!y||e.assigned_to===parseInt(y))&&(!E||e.priority===E)}),[e,x,y,E]),S=(0,o.useMemo)(()=>{const e={backlog:[],todo:[],in_progress:[],review:[],done:[]};return _.forEach(t=>{const n=t.status||"todo";e[n]&&e[n].push(t)}),e},[_]),B=e=>{p(e),h(!0)},M=x||y||E;return f?(0,Oa.jsx)("div",{className:"flex items-center justify-center h-96 px-4",children:(0,Oa.jsxs)("div",{className:"bg-white border border-red-200 rounded-2xl shadow-lg p-8 text-center max-w-md w-full",children:[(0,Oa.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,Oa.jsx)(Lf,{className:"w-8 h-8 text-red-500"})}),(0,Oa.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Kanban konnte nicht geladen werden"}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:f}),b&&(0,Oa.jsx)("p",{className:"text-xs text-slate-400 italic mb-4",children:b}),(0,Oa.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,Oa.jsx)("button",{type:"button",onClick:N,className:"px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:"Erneut versuchen"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Seite neu laden"})]})]})}):a?(0,Oa.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Oa.jsx)("p",{className:"text-slate-600",children:"Laden..."})]})}):(0,Oa.jsxs)("div",{className:"flex flex-col min-h-screen mobile-kanban-container",style:{background:"linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%)"},children:[(0,Oa.jsxs)("div",{className:"bg-white border-b border-slate-200 lg:px-6 px-3 py-4 flex-shrink-0",children:[(0,Oa.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Kanban Board"}),(0,Oa.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:[e.length," Aufgaben insgesamt",M&&" \xb7 ".concat(_.length," gefiltert")]})]}),(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(rl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Oa.jsx)("input",{type:"text",placeholder:"Aufgaben suchen...",value:x,onChange:e=>v(e.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"})]}),(0,Oa.jsxs)("button",{onClick:()=>A(!F),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition ".concat(M?"bg-blue-600 text-white":"border border-slate-300 text-slate-700 hover:bg-slate-50"),children:[(0,Oa.jsx)(gf,{className:"w-4 h-4"}),"Filter",M&&(0,Oa.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-white text-blue-600 text-xs rounded-full font-bold",children:[x,y,E].filter(Boolean).length})]})]})]}),F&&(0,Oa.jsx)("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:(0,Oa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Zugewiesen an"}),(0,Oa.jsxs)("select",{value:y,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Oa.jsx)("option",{value:"",children:"Alle Benutzer"}),n.map(e=>(0,Oa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Priorit\xe4t"}),(0,Oa.jsxs)("select",{value:E,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Oa.jsx)("option",{value:"",children:"Alle Priorit\xe4ten"}),(0,Oa.jsx)("option",{value:"low",children:"Niedrig"}),(0,Oa.jsx)("option",{value:"medium",children:"Mittel"}),(0,Oa.jsx)("option",{value:"urgent",children:"Dringend"})]})]}),(0,Oa.jsx)("div",{className:"flex items-end",children:(0,Oa.jsx)("button",{onClick:()=>{v(""),w(""),C("")},className:"w-full px-4 py-2 border border-slate-300 text-slate-700 rounded-lg font-medium hover:bg-white transition",children:"Filter zur\xfccksetzen"})})]})})]}),(0,Oa.jsx)("div",{className:"mobile-kanban-board lg:p-6 px-3 pt-3",children:(0,Oa.jsx)(PE,{onDragEnd:async e=>{const{destination:n,source:r,draggableId:a}=e;if(!n)return;if(n.droppableId===r.droppableId&&n.index===r.index)return;const s=parseInt(a),i=n.droppableId;t(e=>e.map(e=>e.id===s?qe(qe({},e),{},{status:i}):e));try{await jC(s,{status:i}),sn.success("Status aktualisiert")}catch(f){console.error("Error updating task status:",f),sn.error("Fehler beim Aktualisieren"),N()}},children:(0,Oa.jsx)("div",{className:"flex gap-4 min-w-max mobile-kanban-columns",children:WC.map(e=>{const t=S[e.id]||[];return(0,Oa.jsx)(EC,{droppableId:e.id,children:(n,r)=>(0,Oa.jsxs)("div",qe(qe({ref:n.innerRef},n.droppableProps),{},{className:"flex flex-col w-80 bg-white rounded-xl border-2 transition-all ".concat(r.isDraggingOver?"border-blue-400 bg-blue-50 shadow-lg":"border-slate-200"),children:[(0,Oa.jsx)("div",{className:"px-4 py-3 border-b-2 border-slate-200 ".concat(e.color),children:(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("h3",{className:"font-bold text-slate-900 text-base",children:e.title}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("span",{className:"px-2.5 py-1 bg-white text-slate-700 rounded-full text-xs font-bold shadow-sm",children:t.length}),(0,Oa.jsx)("button",{onClick:()=>B(e.id),className:"p-1.5 bg-white hover:bg-slate-100 text-slate-700 rounded-lg transition shadow-sm",title:"Aufgabe erstellen",children:(0,Oa.jsx)(vf,{className:"w-4 h-4"})})]})]})}),(0,Oa.jsxs)("div",{className:"flex-1 p-3 overflow-y-auto min-h-[200px]",children:[0===t.length&&(0,Oa.jsxs)("div",{className:"text-center py-8 text-slate-400 text-sm",children:[(0,Oa.jsx)("p",{children:"Keine Aufgaben"}),(0,Oa.jsx)("button",{onClick:()=>B(e.id),className:"mt-2 text-blue-600 hover:text-blue-700 font-medium",children:"+ Aufgabe erstellen"})]}),t.map((e,t)=>{var n,r;const a=null===(n=e.attachments)||void 0===n?void 0:n.some(e=>"audio"===e.file_type),s=(null===(r=e.attachments)||void 0===r?void 0:r.length)||0,i=e.comments_count||0;return(0,Oa.jsx)(eC,{draggableId:String(e.id),index:t,children:(t,n)=>(0,Oa.jsxs)("div",qe(qe(qe({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{onClick:()=>(e=>{l(e),c(!0)})(e),className:"mb-3 p-4 rounded-lg cursor-pointer transition-all border-2 bg-white ".concat(n.isDragging?"shadow-2xl border-blue-500 rotate-2 scale-105":"border-transparent hover:border-blue-300 hover:shadow-md"),children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,Oa.jsx)("h4",{className:"font-semibold text-slate-900 text-sm leading-tight flex-1",children:e.title}),(0,Oa.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold whitespace-nowrap border ".concat(OC(e.priority)),children:MC(e.priority)})]}),e.description&&(0,Oa.jsx)("p",{className:"text-xs text-slate-600 mb-3 line-clamp-2",children:e.description}),(0,Oa.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500 pt-2 border-t border-slate-100",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[e.assignee_name&&(0,Oa.jsxs)("div",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded",title:"Zugewiesen an: ".concat(e.assignee_name),children:[(0,Oa.jsx)(dl,{className:"w-3 h-3"}),(0,Oa.jsx)("span",{className:"font-medium max-w-[80px] truncate",children:e.assignee_name})]}),e.due_date&&(0,Oa.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded ".concat(new Date(e.due_date)<new Date?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700"),title:"F\xe4llig am: ".concat(new Date(e.due_date).toLocaleDateString("de-DE")),children:[(0,Oa.jsx)(fs,{className:"w-3 h-3"}),(0,Oa.jsx)("span",{className:"font-medium",children:new Date(e.due_date).toLocaleDateString("de-DE",{day:"numeric",month:"short"})})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,Oa.jsx)("div",{className:"flex items-center gap-1 text-purple-600",title:"Hat Audio-Anweisung",children:(0,Oa.jsx)(Uf,{className:"w-3 h-3"})}),s>0&&(0,Oa.jsxs)("div",{className:"flex items-center gap-1 text-slate-600",title:"".concat(s," Anh\xe4nge"),children:[(0,Oa.jsx)(yg,{className:"w-3 h-3"}),(0,Oa.jsx)("span",{className:"font-medium",children:s})]}),i>0&&(0,Oa.jsxs)("div",{className:"flex items-center gap-1 text-slate-600",title:"".concat(i," Kommentare"),children:[(0,Oa.jsx)(CC,{className:"w-3 h-3"}),(0,Oa.jsx)("span",{className:"font-medium",children:i})]})]})]}),e.labels&&e.labels.length>0&&(0,Oa.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.labels.slice(0,3).map((e,t)=>(0,Oa.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium",children:["#",e]},t)),e.labels.length>3&&(0,Oa.jsxs)("span",{className:"text-xs text-slate-500 px-2 py-0.5",children:["+",e.labels.length-3]})]}),e.due_date&&new Date(e.due_date)<new Date&&(0,Oa.jsxs)("div",{className:"mt-2 flex items-center gap-1 text-xs text-red-600 font-medium",children:[(0,Oa.jsx)(Lf,{className:"w-3 h-3"}),"\xdcberf\xe4llig"]})]}))},e.id)}),n.placeholder]})]}))},e.id)})})})}),u&&i&&(0,Oa.jsx)(IC,{isOpen:u,onClose:()=>{c(!1),l(null)},task:i,users:n,onTaskUpdated:e=>{t(t=>t.map(t=>t.id===e.id?qe(qe({},t),e):t)),c(!1),N()},onTaskDeleted:e=>{t(t=>t.filter(t=>t.id!==e)),c(!1)}}),d&&(0,Oa.jsx)(UC,{isOpen:d,onClose:()=>h(!1),onSave:async e=>{try{await NC(qe(qe({},e),{},{status:m,assigned_to:e.assigned_to||null}));sn.success("Aufgabe erstellt"),h(!1),N()}catch(f){var t,n;console.error("Error creating task:",f),sn.error((null===(t=f.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim Erstellen")}},task:null,users:n})]})},qC=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(null),[u,c]=(0,o.useState)({name:"",category:"",hazard_level:"medium",disposal_frequency_days:"",disposal_instructions:"",default_frequency:"weekly",waste_code:"",color:"#3B82F6",icon:"\ud83d\uddd1\ufe0f",description:"",safety_instructions:""});(0,o.useEffect)(()=>{d()},[]);const d=async()=>{try{r(!0);const e=await Ma.get("/waste/templates");t(e.data)}catch(e){console.error("Fehler beim Laden der Vorlagen:",e),sn.error("Fehler beim Laden der Abfallvorlagen")}finally{r(!1)}},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(l(e),c(e)):(l(null),c({name:"",category:"",hazard_level:"medium",disposal_frequency_days:"",disposal_instructions:"",default_frequency:"weekly",waste_code:"",color:"#3B82F6",icon:"\ud83d\uddd1\ufe0f",description:"",safety_instructions:""})),s(!0)},m=()=>{s(!1),l(null)},p=e=>{const t={low:"bg-green-100 text-green-800 border-green-300",medium:"bg-yellow-100 text-yellow-800 border-yellow-300",high:"bg-orange-100 text-orange-800 border-orange-300",critical:"bg-red-100 text-red-800 border-red-300"};return t[e]||t.medium};return n?(0,Oa.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Oa.jsx)("div",{className:"min-h-screen bg-gray-100 py-6",children:(0,Oa.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,Oa.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Abfallvorlagen verwalten"}),(0,Oa.jsx)("p",{className:"text-gray-600",children:"Erstellen und bearbeiten Sie Vorlagen f\xfcr verschiedene Abfalltypen"})]}),(0,Oa.jsxs)("button",{onClick:()=>h(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition shadow-md",children:[(0,Oa.jsx)(vf,{className:"w-5 h-5"}),"Neue Vorlage"]})]}),0===e.length?(0,Oa.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[(0,Oa.jsx)(Ob,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Oa.jsx)("p",{className:"text-gray-500 text-lg",children:"Keine Vorlagen vorhanden"}),(0,Oa.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Erstellen Sie Ihre erste Abfallvorlage"})]}):(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{return(0,Oa.jsxs)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition p-6",style:{borderLeft:"4px solid ".concat(e.color||"#3B82F6")},children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("span",{className:"text-3xl",children:e.icon||"\ud83d\uddd1\ufe0f"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600",children:e.category})]})]}),(0,Oa.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(p(e.hazard_level)),children:(t=e.hazard_level,{low:"Niedrig",medium:"Mittel",high:"Hoch",critical:"Kritisch"}[t]||t)})]}),e.description&&(0,Oa.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),e.waste_code&&(0,Oa.jsxs)("div",{className:"mb-3 flex items-center gap-2 text-sm",children:[(0,Oa.jsx)(Tb,{className:"w-4 h-4 text-blue-500"}),(0,Oa.jsxs)("span",{className:"text-gray-700",children:["Code: ",e.waste_code]})]}),e.disposal_frequency_days&&(0,Oa.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Entsorgung alle ",e.disposal_frequency_days," Tage"]}),(0,Oa.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-gray-200",children:[(0,Oa.jsxs)("button",{onClick:()=>h(e),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm",children:[(0,Oa.jsx)(Hb,{className:"w-4 h-4"}),"Bearbeiten"]}),(0,Oa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Sind Sie sicher, dass Sie diese Vorlage l\xf6schen m\xf6chten?"))try{await Ma.delete("/waste/templates/".concat(e)),sn.success("Vorlage erfolgreich gel\xf6scht"),d()}catch(r){var t,n;console.error("Fehler beim L\xf6schen:",r),sn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim L\xf6schen der Vorlage")}})(e.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition text-sm",children:(0,Oa.jsx)(Ds,{className:"w-4 h-4"})})]}),e.usage_count>0&&(0,Oa.jsxs)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Verwendet in ",e.usage_count," Eintr\xe4gen"]})]},e.id);var t})}),a&&(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold mb-6",children:i?"Vorlage bearbeiten":"Neue Vorlage erstellen"}),(0,Oa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u.name&&u.category&&u.hazard_level)try{i?(await Ma.put("/waste/templates/".concat(i.id),u),sn.success("Vorlage erfolgreich aktualisiert")):(await Ma.post("/waste/templates",u),sn.success("Vorlage erfolgreich erstellt")),d(),m()}catch(r){var t,n;console.error("Fehler beim Speichern:",r),sn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim Speichern der Vorlage")}else sn.error("Bitte f\xfcllen Sie alle Pflichtfelder aus")},className:"space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",(0,Oa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Oa.jsx)("input",{type:"text",value:u.name,onChange:e=>c(qe(qe({},u),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kategorie ",(0,Oa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Oa.jsx)("input",{type:"text",value:u.category,onChange:e=>c(qe(qe({},u),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Gefahrenstufe ",(0,Oa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Oa.jsxs)("select",{value:u.hazard_level,onChange:e=>c(qe(qe({},u),{},{hazard_level:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Oa.jsx)("option",{value:"low",children:"Niedrig"}),(0,Oa.jsx)("option",{value:"medium",children:"Mittel"}),(0,Oa.jsx)("option",{value:"high",children:"Hoch"}),(0,Oa.jsx)("option",{value:"critical",children:"Kritisch"})]})]})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (Emoji)"}),(0,Oa.jsx)("input",{type:"text",value:u.icon,onChange:e=>c(qe(qe({},u),{},{icon:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\ud83d\uddd1\ufe0f"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farbe"}),(0,Oa.jsx)("input",{type:"color",value:u.color,onChange:e=>c(qe(qe({},u),{},{color:e.target.value})),className:"w-full h-10 px-1 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Abfallcode (AVV)"}),(0,Oa.jsx)("input",{type:"text",value:u.waste_code,onChange:e=>c(qe(qe({},u),{},{waste_code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"z.B. 18 01 01"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entsorgungsintervall (Tage)"}),(0,Oa.jsx)("input",{type:"number",value:u.disposal_frequency_days,onChange:e=>c(qe(qe({},u),{},{disposal_frequency_days:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"z.B. 7"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschreibung"}),(0,Oa.jsx)("textarea",{value:u.description,onChange:e=>c(qe(qe({},u),{},{description:e.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Allgemeine Informationen \xfcber diesen Abfalltyp..."})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entsorgungsprotokoll"}),(0,Oa.jsx)("textarea",{value:u.disposal_instructions,onChange:e=>c(qe(qe({},u),{},{disposal_instructions:e.target.value})),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Schritt-f\xfcr-Schritt Anleitung zur Entsorgung..."})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sicherheitshinweise"}),(0,Oa.jsx)("textarea",{value:u.safety_instructions,onChange:e=>c(qe(qe({},u),{},{safety_instructions:e.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Wichtige Sicherheitshinweise beim Umgang mit diesem Abfall..."})]}),(0,Oa.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Oa.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition font-medium",children:i?"Aktualisieren":"Erstellen"}),(0,Oa.jsx)("button",{type:"button",onClick:m,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Abbrechen"})]})]})]})})]})})};function VC(){}function KC(){}const YC=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,GC=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$\x2D0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,$C={};function ZC(e,t){return((t||$C).jsx?GC:YC).test(e)}const XC=/[ \t\n\f\r]/g;function QC(e){return""===e.replace(XC,"")}class JC{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function eF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new JC(n,r,t)}function tF(e){return e.toLowerCase()}JC.prototype.normal={},JC.prototype.property={},JC.prototype.space=void 0;class nF{constructor(e,t){this.attribute=t,this.property=e}}nF.prototype.attribute="",nF.prototype.booleanish=!1,nF.prototype.boolean=!1,nF.prototype.commaOrSpaceSeparated=!1,nF.prototype.commaSeparated=!1,nF.prototype.defined=!1,nF.prototype.mustUseProperty=!1,nF.prototype.number=!1,nF.prototype.overloadedBoolean=!1,nF.prototype.property="",nF.prototype.spaceSeparated=!1,nF.prototype.space=void 0;let rF=0;const aF=dF(),sF=dF(),iF=dF(),oF=dF(),lF=dF(),uF=dF(),cF=dF();function dF(){return 2**++rF}const hF=Object.keys(a);class mF extends nF{constructor(e,t,n,r){let s=-1;if(super(e,t),pF(this,"space",r),"number"===typeof n)for(;++s<hF.length;){const e=hF[s];pF(this,hF[s],(n&a[e])===a[e])}}}function pF(e,t,n){n&&(e[t]=n)}function fF(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new mF(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[tF(r)]=r,n[tF(s.attribute)]=r}return new JC(t,n,e.space)}mF.prototype.defined=!0;const gF=fF({properties:{ariaActiveDescendant:null,ariaAtomic:sF,ariaAutoComplete:null,ariaBusy:sF,ariaChecked:sF,ariaColCount:oF,ariaColIndex:oF,ariaColSpan:oF,ariaControls:lF,ariaCurrent:null,ariaDescribedBy:lF,ariaDetails:null,ariaDisabled:sF,ariaDropEffect:lF,ariaErrorMessage:null,ariaExpanded:sF,ariaFlowTo:lF,ariaGrabbed:sF,ariaHasPopup:null,ariaHidden:sF,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:lF,ariaLevel:oF,ariaLive:null,ariaModal:sF,ariaMultiLine:sF,ariaMultiSelectable:sF,ariaOrientation:null,ariaOwns:lF,ariaPlaceholder:null,ariaPosInSet:oF,ariaPressed:sF,ariaReadOnly:sF,ariaRelevant:null,ariaRequired:sF,ariaRoleDescription:lF,ariaRowCount:oF,ariaRowIndex:oF,ariaRowSpan:oF,ariaSelected:sF,ariaSetSize:oF,ariaSort:null,ariaValueMax:oF,ariaValueMin:oF,ariaValueNow:oF,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function bF(e,t){return t in e?e[t]:t}function DF(e,t){return bF(e,t.toLowerCase())}const xF=fF({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:uF,acceptCharset:lF,accessKey:lF,action:null,allow:null,allowFullScreen:aF,allowPaymentRequest:aF,allowUserMedia:aF,alt:null,as:null,async:aF,autoCapitalize:null,autoComplete:lF,autoFocus:aF,autoPlay:aF,blocking:lF,capture:null,charSet:null,checked:aF,cite:null,className:lF,cols:oF,colSpan:null,content:null,contentEditable:sF,controls:aF,controlsList:lF,coords:oF|uF,crossOrigin:null,data:null,dateTime:null,decoding:null,default:aF,defer:aF,dir:null,dirName:null,disabled:aF,download:iF,draggable:sF,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:aF,formTarget:null,headers:lF,height:oF,hidden:iF,high:oF,href:null,hrefLang:null,htmlFor:lF,httpEquiv:lF,id:null,imageSizes:null,imageSrcSet:null,inert:aF,inputMode:null,integrity:null,is:null,isMap:aF,itemId:null,itemProp:lF,itemRef:lF,itemScope:aF,itemType:lF,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:aF,low:oF,manifest:null,max:null,maxLength:oF,media:null,method:null,min:null,minLength:oF,multiple:aF,muted:aF,name:null,nonce:null,noModule:aF,noValidate:aF,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:aF,optimum:oF,pattern:null,ping:lF,placeholder:null,playsInline:aF,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:aF,referrerPolicy:null,rel:lF,required:aF,reversed:aF,rows:oF,rowSpan:oF,sandbox:lF,scope:null,scoped:aF,seamless:aF,selected:aF,shadowRootClonable:aF,shadowRootDelegatesFocus:aF,shadowRootMode:null,shape:null,size:oF,sizes:null,slot:null,span:oF,spellCheck:sF,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oF,step:null,style:null,tabIndex:oF,target:null,title:null,translate:null,type:null,typeMustMatch:aF,useMap:null,value:sF,width:oF,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:lF,axis:null,background:null,bgColor:null,border:oF,borderColor:null,bottomMargin:oF,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:aF,declare:aF,event:null,face:null,frame:null,frameBorder:null,hSpace:oF,leftMargin:oF,link:null,longDesc:null,lowSrc:null,marginHeight:oF,marginWidth:oF,noResize:aF,noHref:aF,noShade:aF,noWrap:aF,object:null,profile:null,prompt:null,rev:null,rightMargin:oF,rules:null,scheme:null,scrolling:sF,standby:null,summary:null,text:null,topMargin:oF,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oF,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:aF,disableRemotePlayback:aF,prefix:null,property:null,results:oF,security:null,unselectable:null},space:"html",transform:DF}),vF=fF({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cF,accentHeight:oF,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oF,amplitude:oF,arabicForm:null,ascent:oF,attributeName:null,attributeType:null,azimuth:oF,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oF,by:null,calcMode:null,capHeight:oF,className:lF,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oF,diffuseConstant:oF,direction:null,display:null,dur:null,divisor:oF,dominantBaseline:null,download:aF,dx:null,dy:null,edgeMode:null,editable:null,elevation:oF,enableBackground:null,end:null,event:null,exponent:oF,externalResourcesRequired:null,fill:null,fillOpacity:oF,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:uF,g2:uF,glyphName:uF,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oF,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oF,horizOriginX:oF,horizOriginY:oF,id:null,ideographic:oF,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oF,k:oF,k1:oF,k2:oF,k3:oF,k4:oF,kernelMatrix:cF,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oF,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oF,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oF,overlineThickness:oF,paintOrder:null,panose1:null,path:null,pathLength:oF,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:lF,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oF,pointsAtY:oF,pointsAtZ:oF,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cF,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cF,rev:cF,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cF,requiredFeatures:cF,requiredFonts:cF,requiredFormats:cF,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oF,specularExponent:oF,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oF,strikethroughThickness:oF,string:null,stroke:null,strokeDashArray:cF,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oF,strokeOpacity:oF,strokeWidth:null,style:null,surfaceScale:oF,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cF,tabIndex:oF,tableValues:null,target:null,targetX:oF,targetY:oF,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cF,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oF,underlineThickness:oF,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oF,values:null,vAlphabetic:oF,vMathematical:oF,vectorEffect:null,vHanging:oF,vIdeographic:oF,version:null,vertAdvY:oF,vertOriginX:oF,vertOriginY:oF,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oF,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:bF}),yF=fF({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),wF=fF({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:DF}),EF=fF({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),CF=eF([gF,xF,yF,wF,EF],"html"),FF=eF([gF,vF,yF,wF,EF],"svg"),AF=/[A-Z]/g,kF=/-[a-z]/g,NF=/^data[-\w.:]+$/i;function jF(e){return"-"+e.toLowerCase()}function _F(e){return e.charAt(1).toUpperCase()}const SF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var BF=n(1967);const MF=TF("end"),OF=TF("start");function TF(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function RF(e){return e&&"object"===typeof e?"position"in e||"type"in e?PF(e.position):"start"in e||"end"in e?PF(e):"line"in e||"column"in e?IF(e):"":""}function IF(e){return LF(e&&e.line)+":"+LF(e&&e.column)}function PF(e){return IF(e&&e.start)+"-"+IF(e&&e.end)}function LF(e){return e&&"number"===typeof e?e:1}class zF extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",a={},s=!1;if(t&&(a="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:qe({},t)),"string"===typeof e?r=e:!a.cause&&e&&(s=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?a.ruleId=n:(a.source=n.slice(0,e),a.ruleId=n.slice(e+1))}if(!a.place&&a.ancestors&&a.ancestors){const e=a.ancestors[a.ancestors.length-1];e&&(a.place=e.position)}const i=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=i?i.line:void 0,this.name=RF(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&"string"===typeof a.cause.stack?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zF.prototype.file="",zF.prototype.name="",zF.prototype.reason="",zF.prototype.message="",zF.prototype.stack="",zF.prototype.column=void 0,zF.prototype.line=void 0,zF.prototype.ancestors=void 0,zF.prototype.cause=void 0,zF.prototype.fatal=void 0,zF.prototype.place=void 0,zF.prototype.ruleId=void 0,zF.prototype.source=void 0;const UF={}.hasOwnProperty,WF=new Map,HF=/[A-Z]/g,qF=new Set(["table","tbody","thead","tfoot","tr"]),VF=new Set(["td","th"]),KF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function YF(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,a,s){const i=Array.isArray(a.children),o=OF(n);return t(r,a,s,i,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,a,s){const i=Array.isArray(a.children)?n:t;return s?i(r,a,s):i(r,a)}}(0,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?FF:CF,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=GF(a,e,void 0);return s&&"string"!==typeof s?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function GF(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let a=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(a=FF,e.schema=a);e.ancestors.push(t);const s=JF(e,t.tagName,!1),i=function(e,t){const n={};let r,a;for(a in t.properties)if("children"!==a&&UF.call(t.properties,a)){const s=QF(e,a,t.properties[a]);if(s){const[a,i]=s;e.tableCellAlignToStyle&&"align"===a&&"string"===typeof i&&VF.has(t.tagName)?r=i:n[a]=i}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=XF(e,t);qF.has(t.tagName)&&(o=o.filter(function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&QC(t.value):QC(t));var t}));return $F(e,i,s,t),ZF(i,o),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}eA(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let a=r;"svg"===t.name&&"html"===r.space&&(a=FF,e.schema=a);e.ancestors.push(t);const s=null===t.name?e.Fragment:JF(e,t.name,!0),i=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];VC(t.type);const a=t.expression;VC(a.type);const s=a.properties[0];VC(s.type),Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else eA(e,t.position);else{const a=r.name;let s;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];VC(t.type),s=e.evaluater.evaluateExpression(t.expression)}else eA(e,t.position);else s=null===r.value||r.value;n[a]=s}return n}(e,t),o=XF(e,t);return $F(e,i,s,t),ZF(i,o),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);eA(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return ZF(r,XF(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function $F(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ZF(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function XF(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:WF;for(;++r<t.children.length;){const s=t.children[r];let i;if(e.passKeys){const e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){const t=a.get(e)||0;i=e+"-"+t,a.set(e,t+1)}}const o=GF(e,s,i);void 0!==o&&n.push(o)}return n}function QF(e,t,n){const r=function(e,t){const n=tF(t);let r=t,a=nF;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&NF.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(kF,_F);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!kF.test(e)){let n=e.replace(AF,jF);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}a=mF}return new a(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){try{return BF(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new zF("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=KF+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)UF.call(e,n)&&(t[tA(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?SF[r.property]||r.property:r.attribute,n]}}function JF(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,a=-1;for(;++a<e.length;){const t=ZC(e[a])?{type:"Identifier",name:e[a]}:{type:"Literal",value:e[a]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(a&&"Literal"===t.type),optional:!1}:t}r=n}else r=ZC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return UF.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);eA(e)}function eA(e,t){const n=new zF("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=KF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tA(e){let t=e.replace(HF,nA);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function nA(e){return"-"+e.toLowerCase()}const rA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},aA={};function sA(e,t){const n=t||aA;return iA(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}function iA(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return oA(e.children,t,n)}return Array.isArray(e)?oA(e,t,n):""}function oA(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=iA(e[a],t,n);return r.join("")}function lA(e,t,n,r){const a=e.length;let s,i=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function uA(e,t){return e.length>0?(lA(e,e.length,0,t),e):t}class cA{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&dA(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),dA(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),dA(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);dA(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);dA(this.left,t.reverse())}}}function dA(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function hA(e){const t={};let n,r,a,s,i,o,l,u=-1;const c=new cA(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(o=n[1]._tokenizer.events,a=0,a<o.length&&"lineEndingBlank"===o[a][1].type&&(a+=2),a<o.length&&"content"===o[a][1].type))for(;++a<o.length&&"content"!==o[a][1].type;)"chunkText"===o[a][1].type&&(o[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,mA(c,u)),u=t[u],l=!0);else if(n[1]._container){for(a=u,r=void 0;a--;)if(s=c.get(a),"lineEnding"===s[1].type||"lineEndingBlank"===s[1].type)"enter"===s[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=a);else if("linePrefix"!==s[1].type&&"listItemIndent"!==s[1].type)break;r&&(n[1].end=qe({},c.get(r)[1].start),i=c.slice(r,u),i.unshift(n),c.splice(r,u-r+1,i))}}return lA(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function mA(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const o=i.events,l=[],u={};let c,d,h=-1,m=n,p=0,f=0;const g=[f];for(;m;){for(;e.get(++a)[1]!==m;);s.push(a),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),d&&i.defineSkip(m.start),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(c),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(f=h+1,g.push(f),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(i.events=[],m?(m._tokenizer=void 0,m.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=s.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}const pA={}.hasOwnProperty;function fA(e){const t={};let n=-1;for(;++n<e.length;)gA(t,e[n]);return t}function gA(e,t){let n;for(n in t){const r=(pA.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){pA.call(r,s)||(r[s]=[]);const e=a[s];bA(r[s],Array.isArray(e)?e:e?[e]:[])}}}function bA(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);lA(e,0,0,r)}const DA=_A(/[A-Za-z]/),xA=_A(/[\dA-Za-z]/),vA=_A(/[#-'*+\--9=?A-Z^-~]/);function yA(e){return null!==e&&(e<32||127===e)}const wA=_A(/\d/),EA=_A(/[\dA-Fa-f]/),CA=_A(/[!-/:-@[-`{-~]/);function FA(e){return null!==e&&e<-2}function AA(e){return null!==e&&(e<0||32===e)}function kA(e){return-2===e||-1===e||32===e}const NA=_A(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDED0\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F\uDED1-\uDED8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/),jA=_A(/\s/);function _A(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function SA(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return function(r){if(kA(r))return e.enter(n),i(r);return t(r)};function i(r){return kA(r)&&s++<a?(e.consume(r),i):(e.exit(n),t(r))}}const BA={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),SA(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,a(t)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):FA(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),a)}}};const MA={tokenize:function(e){const t=this,n=[];let r,a,s,i=0;return o;function o(r){if(i<n.length){const a=n[i];return t.containerState=a[1],e.attempt(a[0].continuation,l,u)(r)}return u(r)}function l(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&D();const n=t.events.length;let a,s=n;for(;s--;)if("exit"===t.events[s][0]&&"chunkFlow"===t.events[s][1].type){a=t.events[s][1].end;break}b(i);let o=n;for(;o<t.events.length;)t.events[o][1].end=qe({},a),o++;return lA(t.events,s+1,0,t.events.slice(n)),t.events.length=o,u(e)}return o(e)}function u(a){if(i===n.length){if(!r)return h(a);if(r.currentConstruct&&r.currentConstruct.concrete)return p(a);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(OA,c,d)(a)}function c(e){return r&&D(),b(i),h(e)}function d(e){return t.parser.lazy[t.now().line]=i!==n.length,s=t.now().offset,p(e)}function h(n){return t.containerState={},e.attempt(OA,m,p)(n)}function m(e){return i++,n.push([t.currentConstruct,t.containerState]),h(e)}function p(n){return null===n?(r&&D(),b(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),b(0),void e.consume(n)):FA(n)?(e.consume(n),g(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(n),f)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=a,a&&(a.next=e),a=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<s&&(!r.events[e][1].end||r.events[e][1].end.offset>s))return;const n=t.events.length;let a,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(a){o=t.events[l][1].end;break}a=!0}for(b(i),e=n;e<t.events.length;)t.events[e][1].end=qe({},o),e++;lA(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function b(r){let a=n.length;for(;a-- >r;){const r=n[a];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function D(){r.write([null]),a=void 0,r=void 0,t.containerState._closeFlow=void 0}}},OA={tokenize:function(e,t,n){return SA(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const TA={partial:!0,tokenize:function(e,t,n){return function(t){return kA(t)?SA(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||FA(e)?t(e):n(e)}}};const RA={resolve:function(e){return hA(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?a(t):FA(t)?e.check(IA,s,a)(t):(e.consume(t),r)}function a(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function s(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},IA={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),SA(e,a,"linePrefix")};function a(a){if(null===a||FA(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}};const PA={tokenize:function(e){const t=this,n=e.attempt(TA,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,SA(e,e.attempt(this.parser.constructs.flow,r,e.attempt(RA,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const LA={resolveAll:HA()},zA=WA("string"),UA=WA("text");function WA(e){return{resolveAll:HA("text"===e?qA:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],a=t.attempt(r,s,i);return s;function s(e){return l(e)?a(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),a(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let a=-1;if(t)for(;++a<t.length;){const e=t[a];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function HA(e){return function(t,n){let r,a=-1;for(;++a<=t.length;)void 0===r?t[a]&&"data"===t[a][1].type&&(r=a,a++):t[a]&&"data"===t[a][1].type||(a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),a=r+2),r=void 0);return e?e(t,n):t}}function qA(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],a=t.sliceStream(r);let s,i=a.length,o=-1,l=0;for(;i--;){const e=a[i];if("string"===typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)s=!0,l++;else if(-1!==e){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const a={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:qe({},r.end)};r.end=qe({},a.start),r.start.offset===r.end.offset?Object.assign(r,a):(e.splice(n,0,["enter",a,t],["exit",a,t]),n+=2)}n++}return e}const VA={name:"thematicBreak",tokenize:function(e,t,n){let r,a=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,s(e)}(t)};function s(s){return s===r?(e.enter("thematicBreakSequence"),i(s)):a>=3&&(null===s||FA(s))?(e.exit("thematicBreak"),t(s)):n(s)}function i(t){return t===r?(e.consume(t),a++,i):(e.exit("thematicBreakSequence"),kA(t)?SA(e,s,"whitespace")(t):s(t))}}};const KA={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(TA,a,s);function a(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,SA(e,t,"listItemIndent",r.containerState.size+1)(n)}function s(n){return r.containerState.furtherBlankLines||!kA(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(GA,t,i)(n))}function i(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,SA(e,e.attempt(KA,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0,i=0;return function(t){const a=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===a?!r.containerState.marker||t===r.containerState.marker:wA(t)){if(r.containerState.type||(r.containerState.type=a,e.enter(a,{_container:!0})),"listUnordered"===a)return e.enter("listItemPrefix"),42===t||45===t?e.check(VA,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return wA(t)&&++i<10?(e.consume(t),o):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(TA,r.interrupt?n:u,e.attempt(YA,d,c))}function u(e){return r.containerState.initialBlankLine=!0,s++,d(e)}function c(t){return kA(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},YA={partial:!0,tokenize:function(e,t,n){const r=this;return SA(e,function(e){const a=r.events[r.events.length-1];return!kA(e)&&a&&"listItemPrefixWhitespace"===a[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},GA={partial:!0,tokenize:function(e,t,n){const r=this;return SA(e,function(e){const a=r.events[r.events.length-1];return a&&"listItemIndent"===a[1].type&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const $A={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(kA(t))return SA(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return a(t)};function a(r){return e.attempt($A,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),a}return n(t)};function a(n){return kA(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function ZA(e,t,n,r,a,s,i,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(a),e.enter(s),e.consume(t),e.exit(s),d;if(null===t||32===t||41===t||yA(t))return n(t);return e.enter(r),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(t)};function d(n){return 62===n?(e.enter(s),e.consume(n),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||FA(t)?n(t):(e.consume(t),92===t?m:h)}function m(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(a){return c||null!==a&&41!==a&&!AA(a)?c<u&&40===a?(e.consume(a),c++,p):41===a?(e.consume(a),c--,p):null===a||32===a||40===a||yA(a)?n(a):(e.consume(a),92===a?f:p):(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(r),t(a))}function f(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function XA(e,t,n,r,a,s){const i=this;let o,l=0;return function(t){return e.enter(r),e.enter(a),e.consume(t),e.exit(a),e.enter(s),u};function u(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):93===d?(e.exit(s),e.enter(a),e.consume(d),e.exit(a),e.exit(r),t):FA(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||FA(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),o||(o=!kA(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function QA(e,t,n,r,a,s){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(a),e.consume(t),e.exit(a),i=40===t?41:t,o;return n(t)};function o(n){return n===i?(e.enter(a),e.consume(n),e.exit(a),e.exit(r),t):(e.enter(s),l(n))}function l(t){return t===i?(e.exit(s),o(i)):null===t?n(t):FA(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),SA(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===i||null===t||FA(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===i||92===t?(e.consume(t),u):u(t)}}function JA(e,t){let n;return function r(a){if(FA(a))return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r;if(kA(a))return SA(e,r,n?"linePrefix":"lineSuffix")(a);return t(a)}}function ek(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const tk={name:"definition",tokenize:function(e,t,n){const r=this;let a;return function(t){return e.enter("definition"),function(t){return XA.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function s(t){return a=ek(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return AA(t)?JA(e,o)(t):o(t)}function o(t){return ZA(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(nk,u,u)(t)}function u(t){return kA(t)?SA(e,c,"whitespace")(t):c(t)}function c(s){return null===s||FA(s)?(e.exit("definition"),r.parser.defined.push(a),t(s)):n(s)}}},nk={partial:!0,tokenize:function(e,t,n){return function(t){return AA(t)?JA(e,r)(t):n(t)};function r(t){return QA(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function a(t){return kA(t)?SA(e,s,"whitespace")(t):s(t)}function s(e){return null===e||FA(e)?t(e):n(e)}}};const rk={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),SA(e,a,"linePrefix",5)(t)};function a(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?s(e):n(e)}function s(t){return null===t?o(t):FA(t)?e.attempt(ak,s,o)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||FA(t)?(e.exit("codeFlowValue"),s(t)):(e.consume(t),i)}function o(n){return e.exit("codeIndented"),t(n)}}},ak={partial:!0,tokenize:function(e,t,n){const r=this;return a;function a(t){return r.parser.lazy[r.now().line]?n(t):FA(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):SA(e,s,"linePrefix",5)(t)}function s(e){const s=r.events[r.events.length-1];return s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(e):FA(e)?a(e):n(e)}}};const sk={name:"headingAtx",resolve:function(e,t){let n,r,a=e.length-2,s=3;"whitespace"===e[s][1].type&&(s+=2);a-2>s&&"whitespace"===e[a][1].type&&(a-=2);"atxHeadingSequence"===e[a][1].type&&(s===a-1||a-4>s&&"whitespace"===e[a-2][1].type)&&(a-=s+1===a?2:4);a>s&&(n={type:"atxHeadingText",start:e[s][1].start,end:e[a][1].end},r={type:"chunkText",start:e[s][1].start,end:e[a][1].end,contentType:"text"},lA(e,s,a-s+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),a(t)}(t)};function a(t){return 35===t&&r++<6?(e.consume(t),a):null===t||AA(t)?(e.exit("atxHeadingSequence"),s(t)):n(t)}function s(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||FA(n)?(e.exit("atxHeading"),t(n)):kA(n)?SA(e,s,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),s(t))}function o(t){return null===t||35===t||AA(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),o)}}};const ik={name:"setextUnderline",resolveTo:function(e,t){let n,r,a,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){n=s;break}"paragraph"===e[s][1].type&&(r=s)}else"content"===e[s][1].type&&e.splice(s,1),a||"definition"!==e[s][1].type||(a=s);const i={type:"setextHeading",start:qe({},e[n][1].start),end:qe({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",a?(e.splice(r,0,["enter",i,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end=qe({},e[a][1].end)):e[n][1]=i;return e.push(["exit",i,t]),e},tokenize:function(e,t,n){const r=this;let a;return function(t){let i,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){i="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),a=t,function(t){return e.enter("setextHeadingLineSequence"),s(t)}(t);return n(t)};function s(t){return t===a?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),kA(t)?SA(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||FA(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const ok=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lk=["pre","script","style","textarea"],uk={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let a,s,i,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(o){return 33===o?(e.consume(o),c):47===o?(e.consume(o),s=!0,m):63===o?(e.consume(o),a=3,r.interrupt?t:O):DA(o)?(e.consume(o),i=String.fromCharCode(o),p):n(o)}function c(s){return 45===s?(e.consume(s),a=2,d):91===s?(e.consume(s),a=5,o=0,h):DA(s)?(e.consume(s),a=4,r.interrupt?t:O):n(s)}function d(a){return 45===a?(e.consume(a),r.interrupt?t:O):n(a)}function h(a){const s="CDATA[";return a===s.charCodeAt(o++)?(e.consume(a),6===o?r.interrupt?t:A:h):n(a)}function m(t){return DA(t)?(e.consume(t),i=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||AA(o)){const l=47===o,u=i.toLowerCase();return l||s||!lk.includes(u)?ok.includes(i.toLowerCase())?(a=6,l?(e.consume(o),f):r.interrupt?t(o):A(o)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):s?g(o):b(o)):(a=1,r.interrupt?t(o):A(o))}return 45===o||xA(o)?(e.consume(o),i+=String.fromCharCode(o),p):n(o)}function f(a){return 62===a?(e.consume(a),r.interrupt?t:A):n(a)}function g(t){return kA(t)?(e.consume(t),g):C(t)}function b(t){return 47===t?(e.consume(t),C):58===t||95===t||DA(t)?(e.consume(t),D):kA(t)?(e.consume(t),b):C(t)}function D(t){return 45===t||46===t||58===t||95===t||xA(t)?(e.consume(t),D):x(t)}function x(t){return 61===t?(e.consume(t),v):kA(t)?(e.consume(t),x):b(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,y):kA(t)?(e.consume(t),v):w(t)}function y(t){return t===l?(e.consume(t),l=null,E):null===t||FA(t)?n(t):(e.consume(t),y)}function w(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||AA(t)?x(t):(e.consume(t),w)}function E(e){return 47===e||62===e||kA(e)?b(e):n(e)}function C(t){return 62===t?(e.consume(t),F):n(t)}function F(t){return null===t||FA(t)?A(t):kA(t)?(e.consume(t),F):n(t)}function A(t){return 45===t&&2===a?(e.consume(t),_):60===t&&1===a?(e.consume(t),S):62===t&&4===a?(e.consume(t),T):63===t&&3===a?(e.consume(t),O):93===t&&5===a?(e.consume(t),M):!FA(t)||6!==a&&7!==a?null===t||FA(t)?(e.exit("htmlFlowData"),k(t)):(e.consume(t),A):(e.exit("htmlFlowData"),e.check(ck,R,k)(t))}function k(t){return e.check(dk,N,R)(t)}function N(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),j}function j(t){return null===t||FA(t)?k(t):(e.enter("htmlFlowData"),A(t))}function _(t){return 45===t?(e.consume(t),O):A(t)}function S(t){return 47===t?(e.consume(t),i="",B):A(t)}function B(t){if(62===t){const n=i.toLowerCase();return lk.includes(n)?(e.consume(t),T):A(t)}return DA(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),B):A(t)}function M(t){return 93===t?(e.consume(t),O):A(t)}function O(t){return 62===t?(e.consume(t),T):45===t&&2===a?(e.consume(t),O):A(t)}function T(t){return null===t||FA(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),T)}function R(n){return e.exit("htmlFlow"),t(n)}}},ck={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(TA,t,n)}}},dk={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(FA(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a;return n(t)};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const hk={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},mk={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,a={partial:!0,tokenize:function(e,t,n){let a=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),kA(t)?SA(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===s?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===s?(a++,e.consume(t),c):a>=o?(e.exit("codeFencedFenceSequence"),kA(t)?SA(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||FA(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let s,i=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,s=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===s?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),kA(t)?SA(e,u,"whitespace")(t):u(t))}function u(n){return null===n||FA(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(hk,m,D)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||FA(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):kA(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),SA(e,d,"whitespace")(t)):96===t&&t===s?n(t):(e.consume(t),c)}function d(t){return null===t||FA(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||FA(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===s?n(t):(e.consume(t),h)}function m(t){return e.attempt(a,D,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return i>0&&kA(t)?SA(e,g,"linePrefix",i+1)(t):g(t)}function g(t){return null===t||FA(t)?e.check(hk,m,D)(t):(e.enter("codeFlowValue"),b(t))}function b(t){return null===t||FA(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),b)}function D(n){return e.exit("codeFenced"),t(n)}}};const pk=document.createElement("i");function fk(e){const t="&"+e+";";pk.innerHTML=t;const n=pk.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const gk={name:"characterReference",tokenize:function(e,t,n){const r=this;let a,s,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),a=31,s=xA,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=EA,u):(e.enter("characterReferenceValue"),a=7,s=wA,u(t))}function u(o){if(59===o&&i){const a=e.exit("characterReferenceValue");return s!==xA||fk(r.sliceSerialize(a))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return s(o)&&i++<a?(e.consume(o),u):n(o)}}};const bk={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return CA(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const Dk={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),SA(e,t,"linePrefix")}}};function xk(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const vk={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&lA(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,a,s,i=e.length,o=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(a){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(a=i);const l={type:"labelLink"===e[r][1].type?"link":"image",start:qe({},e[r][1].start),end:qe({},e[e.length-1][1].end)},u={type:"label",start:qe({},e[r][1].start),end:qe({},e[a][1].end)},c={type:"labelText",start:qe({},e[r+o+2][1].end),end:qe({},e[a-2][1].start)};return s=[["enter",l,t],["enter",u,t]],s=uA(s,e.slice(r+1,r+o+3)),s=uA(s,[["enter",c,t]]),s=uA(s,xk(t.parser.constructs.insideSpan.null,e.slice(r+o+4,a-3),t)),s=uA(s,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),s=uA(s,e.slice(a+1)),s=uA(s,[["exit",l,t]]),lA(e,r,e.length,s),e},tokenize:function(e,t,n){const r=this;let a,s,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){a=r.events[i][1];break}return function(t){if(!a)return n(t);if(a._inactive)return c(t);return s=r.parser.defined.includes(ek(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(yk,u,s?u:c)(t):91===t?e.attempt(wk,u,s?l:c)(t):s?u(t):c(t)}function l(t){return e.attempt(Ek,u,c)(t)}function u(e){return t(e)}function c(e){return a._balanced=!0,n(e)}}},yk={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return AA(t)?JA(e,a)(t):a(t)}function a(t){return 41===t?u(t):ZA(e,s,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function s(t){return AA(t)?JA(e,o)(t):u(t)}function i(e){return n(e)}function o(t){return 34===t||39===t||40===t?QA(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function l(t){return AA(t)?JA(e,u)(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},wk={tokenize:function(e,t,n){const r=this;return function(t){return XA.call(r,e,a,s,"reference","referenceMarker","referenceString")(t)};function a(e){return r.parser.defined.includes(ek(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function s(e){return n(e)}}},Ek={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const Ck={name:"labelStartImage",resolveAll:vk.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),a};function a(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),s):n(t)}function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function Fk(e){return null===e||AA(e)||jA(e)?1:NA(e)?2:void 0}const Ak={name:"attention",resolveAll:function(e,t){let n,r,a,s,i,o,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d=qe({},e[n][1].end),h=qe({},e[c][1].start);kk(d,-o),kk(h,o),s={type:o>1?"strongSequence":"emphasisSequence",start:d,end:qe({},e[n][1].end)},i={type:o>1?"strongSequence":"emphasisSequence",start:qe({},e[c][1].start),end:h},a={type:o>1?"strongText":"emphasisText",start:qe({},e[n][1].end),end:qe({},e[c][1].start)},r={type:o>1?"strong":"emphasis",start:qe({},s.start),end:qe({},i.end)},e[n][1].end=qe({},s.start),e[c][1].start=qe({},i.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=uA(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=uA(l,[["enter",r,t],["enter",s,t],["exit",s,t],["enter",a,t]]),l=uA(l,xk(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=uA(l,[["exit",a,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=uA(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,lA(e,n-1,c-n+3,l),c=n+l.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Fk(r);let s;return function(t){return s=t,e.enter("attentionSequence"),i(t)};function i(o){if(o===s)return e.consume(o),i;const l=e.exit("attentionSequence"),u=Fk(o),c=!u||2===u&&a||n.includes(o),d=!a||2===a&&u||n.includes(r);return l._open=Boolean(42===s?c:c&&(a||!d)),l._close=Boolean(42===s?d:d&&(u||!c)),t(o)}}};function kk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Nk={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a};function a(t){return DA(t)?(e.consume(t),s):64===t?n(t):l(t)}function s(e){return 43===e||45===e||46===e||xA(e)?(r=1,i(e)):l(e)}function i(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||xA(t))&&r++<32?(e.consume(t),i):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||yA(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),u):vA(t)?(e.consume(t),l):n(t)}function u(e){return xA(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,u):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||xA(t))&&r++<63){const n=45===t?d:c;return e.consume(t),n}return n(t)}}};const jk={name:"htmlText",tokenize:function(e,t,n){const r=this;let a,s,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),v):63===t?(e.consume(t),D):DA(t)?(e.consume(t),E):n(t)}function l(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),s=0,m):DA(t)?(e.consume(t),b):n(t)}function u(t){return 45===t?(e.consume(t),h):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),d):FA(t)?(i=c,B(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),h):c(t)}function h(e){return 62===e?S(e):45===e?d(e):c(e)}function m(t){const r="CDATA[";return t===r.charCodeAt(s++)?(e.consume(t),6===s?p:m):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),f):FA(t)?(i=p,B(t)):(e.consume(t),p)}function f(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?S(t):93===t?(e.consume(t),g):p(t)}function b(t){return null===t||62===t?S(t):FA(t)?(i=b,B(t)):(e.consume(t),b)}function D(t){return null===t?n(t):63===t?(e.consume(t),x):FA(t)?(i=D,B(t)):(e.consume(t),D)}function x(e){return 62===e?S(e):D(e)}function v(t){return DA(t)?(e.consume(t),y):n(t)}function y(t){return 45===t||xA(t)?(e.consume(t),y):w(t)}function w(t){return FA(t)?(i=w,B(t)):kA(t)?(e.consume(t),w):S(t)}function E(t){return 45===t||xA(t)?(e.consume(t),E):47===t||62===t||AA(t)?C(t):n(t)}function C(t){return 47===t?(e.consume(t),S):58===t||95===t||DA(t)?(e.consume(t),F):FA(t)?(i=C,B(t)):kA(t)?(e.consume(t),C):S(t)}function F(t){return 45===t||46===t||58===t||95===t||xA(t)?(e.consume(t),F):A(t)}function A(t){return 61===t?(e.consume(t),k):FA(t)?(i=A,B(t)):kA(t)?(e.consume(t),A):C(t)}function k(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),a=t,N):FA(t)?(i=k,B(t)):kA(t)?(e.consume(t),k):(e.consume(t),j)}function N(t){return t===a?(e.consume(t),a=void 0,_):null===t?n(t):FA(t)?(i=N,B(t)):(e.consume(t),N)}function j(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||AA(t)?C(t):(e.consume(t),j)}function _(e){return 47===e||62===e||AA(e)?C(e):n(e)}function S(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function B(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return kA(t)?SA(e,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):O(t)}function O(t){return e.enter("htmlTextData"),i(t)}}};const _k={name:"labelStartLink",resolveAll:vk.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),a};function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Sk={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return FA(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Bk={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,a=3;if(("lineEnding"===e[a][1].type||"space"===e[a][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=a;++t<r;)if("codeTextData"===e[t][1].type){e[a][1].type="codeTextPadding",e[r][1].type="codeTextPadding",a+=2,r-=2;break}t=a-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,a,s=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),s++,i):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(a=e.enter("codeTextSequence"),r=0,u(t)):FA(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||FA(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function u(n){return 96===n?(e.consume(n),r++,u):r===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(a.type="codeTextData",l(n))}}};const Mk={42:KA,43:KA,45:KA,48:KA,49:KA,50:KA,51:KA,52:KA,53:KA,54:KA,55:KA,56:KA,57:KA,62:$A},Ok={91:tk},Tk={[-2]:rk,[-1]:rk,32:rk},Rk={35:sk,42:VA,45:[ik,VA],60:uk,61:ik,95:VA,96:mk,126:mk},Ik={38:gk,92:bk},Pk={[-5]:Dk,[-4]:Dk,[-3]:Dk,33:Ck,38:gk,42:Ak,60:[Nk,jk],91:_k,92:[Sk,bk],93:vk,95:Ak,96:Bk},Lk={null:[Ak,LA]},zk={null:[42,95]},Uk={null:[]};function Wk(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let i=[],o=[],l=!0;const u={attempt:D(function(e,t){x(e,t.from)}),check:D(b),consume:function(e){FA(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,v()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=p(),c.events.push(["exit",t,c]),t},interrupt:D(b,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){a[e.line]=e.column,v()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let i;if("string"===typeof s)i=s;else switch(s){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&a)continue;i=" ";break;default:i=String.fromCharCode(s)}a=-2===s,r.push(i)}return r.join("")}(m(e),t)},sliceStream:m,write:function(e){if(i=uA(i,e),f(),null!==i[i.length-1])return[];return x(t,0),c.events=xk(s,c.events,c),c.events}};let d,h=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function m(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let i;if(n===a)i=[e[n].slice(r,s)];else{if(i=e.slice(n,a),r>-1){const e=i[0];"string"===typeof e?i[0]=e.slice(r):i.shift()}s>0&&i.push(e[a].slice(0,s))}return i}(i,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:a,offset:s}=r;return{_bufferIndex:e,_index:t,line:n,column:a,offset:s}}function f(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,d=e,h=h(e)}function b(e,t){t.restore()}function D(e,t){return function(n,a,s){let i,d,h,m;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return i=e,d=0,0===e.length?s:g(e[d])}function g(e){return function(n){m=function(){const e=p(),t=c.previous,n=c.currentConstruct,a=c.events.length,s=Array.from(o);return{from:a,restore:i};function i(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=a,o=s,v()}}(),h=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return D(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,b,D)(n)}}function b(t){return l=!0,e(h,m),a}function D(e){return l=!0,m.restore(),++d<i.length?g(i[d]):s}}}function x(e,t){e.resolveAll&&!s.includes(e)&&s.push(e),e.resolve&&lA(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function v(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}const Hk=/[\0\t\n\r]/g;function qk(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Vk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kk(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return qk(n.slice(t?2:1),t?16:10)}return fk(n)||e}const Yk={}.hasOwnProperty;function Gk(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(te),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(X),blockQuote:s(K),characterEscape:F,characterReference:F,codeFenced:s(Y),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:s(Y,i),codeText:s(G,i),codeTextData:F,data:F,codeFlowValue:F,definition:s($),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:s(Z),hardBreakEscape:s(Q),hardBreakTrailing:s(Q),htmlFlow:s(J,i),htmlFlowData:F,htmlText:s(J,i),htmlTextData:F,image:s(ee),label:i,link:s(te),listItem:s(re),listItemValue:h,listOrdered:s(ne,d),listUnordered:s(ne),paragraph:s(ae),reference:L,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:s(X),strong:s(se),thematicBreak:s(oe)},exit:{atxHeading:l(),atxHeadingSequence:y,autolink:l(),autolinkEmail:V,autolinkProtocol:q,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:W,characterReference:H,codeFenced:l(g),codeFencedFence:f,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:A,codeIndented:l(b),codeText:l(S),codeTextData:A,data:A,definition:l(),definitionDestinationString:v,definitionLabelString:D,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(j),htmlFlowData:A,htmlText:l(_),htmlTextData:A,image:l(M),label:T,labelText:O,lineEnding:k,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:R,resourceTitleString:I,resource:P,setextHeading:l(C),setextHeadingLineSequence:E,setextHeadingText:w,strong:l(),thematicBreak:l()}};Zk(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const s={stack:[r],tokenStack:[],config:t,enter:o,exit:u,buffer:i,resume:c,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=a(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];Yk.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||Qk).call(s,void 0,e[0])}for(r.position={start:$k(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:$k(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function a(e,t,n){let r,a,s,i,o=t-1,l=-1,u=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,i=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||i||l||s||(s=o),i=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:i=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=o;for(a=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;a&&(e[a][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",a=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}s&&(!a||s<a)&&(r._spread=!0),r.end=Object.assign({},a?e[a][1].start:t[1].end),e.splice(a||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const a={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=a,e.splice(o,0,["enter",a,t[2]]),o++,n++,s=void 0,i=!0}}}return e[t][1]._spread=u,n}function s(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:$k(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+RF({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Qk).call(this,e,r[0])}n.position.end=$k(e.end)}function c(){return sA(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function D(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ek(this.sliceSerialize(e)).toLowerCase()}function x(){const e=this.resume();this.stack[this.stack.length-1].title=e}function v(){const e=this.resume();this.stack[this.stack.length-1].url=e}function y(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function E(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function F(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ie(),n.position={start:$k(e.start),end:void 0},t.push(n)),this.stack.push(n)}function A(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=$k(e.end)}function k(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=$k(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(F.call(this,e),A.call(this,e))}function N(){this.data.atHardBreak=!0}function j(){const e=this.resume();this.stack[this.stack.length-1].value=e}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e}function S(){const e=this.resume();this.stack[this.stack.length-1].value=e}function B(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function O(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Vk,Kk)}(t),n.identifier=ek(t).toLowerCase()}function T(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function R(){const e=this.resume();this.stack[this.stack.length-1].url=e}function I(){const e=this.resume();this.stack[this.stack.length-1].title=e}function P(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ek(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function U(e){this.data.characterReferenceType=e.type}function W(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=qk(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=fk(t)}this.stack[this.stack.length-1].value+=r}function H(e){this.stack.pop().position.end=$k(e.end)}function q(e){A.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function V(e){A.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function $(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Z(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function J(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!hA(e););return e}(function(e){const t={constructs:fA([s,...(e||{}).extensions||[]]),content:n(BA),defined:[],document:n(MA),flow:n(PA),lazy:{},string:n(zA),text:n(UA)};return t;function n(e){return function(n){return Wk(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",r=!0;return function(a,s,i){const o=[];let l,u,c,d,h;for(a=n+("string"===typeof a?a.toString():new TextDecoder(s||void 0).decode(a)),c=0,n="",r&&(65279===a.charCodeAt(0)&&c++,r=void 0);c<a.length;){if(Hk.lastIndex=c,l=Hk.exec(a),d=l&&void 0!==l.index?l.index:a.length,h=a.charCodeAt(d),!l){n=a.slice(c);break}if(10===h&&c===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),c<d&&(o.push(a.slice(c,d)),t+=d-c),h){case 0:o.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),o.push(-2);t++<u;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return i&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function $k(e){return{line:e.line,column:e.column,offset:e.offset}}function Zk(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Zk(e,r):Xk(e,r)}}function Xk(e,t){let n;for(n in t)if(Yk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Qk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+RF({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+RF({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+RF({start:t.start,end:t.end})+") is still open")}function Jk(e){const t=this;t.parser=function(n){return Gk(n,qe(qe(qe({},t.data("settings")),e),{},{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}const eN="object"===typeof self?self:globalThis,tN=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=a=>{if(e.has(a))return e.get(a);const[s,i]=t[a];switch(s){case 0:case-1:return n(i,a);case 1:{const e=n([],a);for(const t of i)e.push(r(t));return e}case 2:{const e=n({},a);for(const[t,n]of i)e[r(t)]=r(n);return e}case 3:return n(new Date(i),a);case 4:{const{source:e,flags:t}=i;return n(new RegExp(e,t),a)}case 5:{const e=n(new Map,a);for(const[t,n]of i)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,a);for(const t of i)e.add(r(t));return e}case 7:{const{name:e,message:t}=i;return n(new eN[e](t),a)}case 8:return n(BigInt(i),a);case"BigInt":return n(Object(BigInt(i)),a);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:e}=new Uint8Array(i);return n(new DataView(e),i)}}return n(new eN[s](i),a)};return r})(new Map,e)(0),nN="",{toString:rN}={},{keys:aN}=Object,sN=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=rN.call(e).slice(8,-1);switch(n){case"Array":return[1,nN];case"Object":return[2,nN];case"Date":return[3,nN];case"RegExp":return[4,nN];case"Map":return[5,nN];case"Set":return[6,nN];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},iN=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},oN=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const a=(e,t)=>{const a=r.push(e)-1;return n.set(t,a),a},s=r=>{if(n.has(r))return n.get(r);let[i,o]=sN(r);switch(i){case 0:{let t=r;switch(o){case"bigint":i=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return a([-1],r)}return a([i,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),a([o,[...e]],r)}const e=[],t=a([i,e],r);for(const n of r)e.push(s(n));return t}case 2:{if(o)switch(o){case"BigInt":return a([o,r.toString()],r);case"Boolean":case"Number":case"String":return a([o,r.valueOf()],r)}if(t&&"toJSON"in r)return s(r.toJSON());const n=[],l=a([i,n],r);for(const t of aN(r))!e&&iN(sN(r[t]))||n.push([s(t),s(r[t])]);return l}case 3:return a([i,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return a([i,{source:e,flags:t}],r)}case 5:{const t=[],n=a([i,t],r);for(const[a,i]of r)(e||!iN(sN(a))&&!iN(sN(i)))&&t.push([s(a),s(i)]);return n}case 6:{const t=[],n=a([i,t],r);for(const a of r)!e&&iN(sN(a))||t.push(s(a));return n}}const{message:l}=r;return a([i,{name:o,message:l}],r)};return s})(!(t||n),!!t,new Map,r)(e),r},lN="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?tN(oN(e,t)):structuredClone(e):(e,t)=>tN(oN(e,t));function uN(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let i="";if(37===s&&xA(e.charCodeAt(n+1))&&xA(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(i=String.fromCharCode(s));else if(s>55295&&s<57344){const t=e.charCodeAt(n+1);s<56320&&t>56319&&t<57344?(i=String.fromCharCode(s,t),a=1):i="\ufffd"}else i=String.fromCharCode(s);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+a+1,i=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function cN(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function dN(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const hN=function(e){if(null===e||void 0===e)return pN;if("function"===typeof e)return mN(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hN(e[n]);return mN(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return mN(n);function n(n){const r=n;let a;for(a in e)if(r[a]!==t[a])return!1;return!0}}(e);if("string"===typeof e)return function(e){return mN(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function mN(e){return function(t,n,r){return Boolean(fN(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function pN(){return!0}function fN(e){return null!==e&&"object"===typeof e&&"type"in e}const gN=[],bN=!0,DN=!1;function xN(e,t,n,r){let a;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):a=t;const s=hN(a),i=r?-1:1;!function e(a,o,l){const u=a&&"object"===typeof a?a:{};if("string"===typeof u.type){const e="string"===typeof u.tagName?u.tagName:"string"===typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+a.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,d,h=gN;if((!t||s(a,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[bN,e];return null===e||void 0===e?gN:[e]}(n(a,l)),h[0]===DN))return h;if("children"in a&&a.children){const t=a;if(t.children&&"skip"!==h[0])for(c=(r?t.children.length:-1)+i,d=l.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(u=e(n,c,d)(),u[0]===DN)return u;c="number"===typeof u[1]?u[1]:c+i}}return h}}(e,void 0,[])()}function vN(e,t,n,r){let a,s,i;"function"===typeof t&&"function"!==typeof n?(s=void 0,i=t,a=n):(s=t,i=n,a=r),xN(e,s,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return i(e,r,n)},a)}function yN(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&"text"===s.type?s.value="["+s.value:a.unshift({type:"text",value:"["});const i=a[a.length-1];return i&&"text"===i.type?i.value+=r:a.push({type:"text",value:r}),a}function wN(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function EN(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(CN(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(CN(t.slice(a),a>0,!1)),s.join("")}function CN(e,t,n){let r=0,a=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(a-1);for(;9===t||32===t;)a--,t=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}const FN={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=uN(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let i,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return yN(e,t);const a={src:uN(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)},image:function(e,t){const n={src:uN(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return yN(e,t);const a={href:uN(r.url||"")};null!==r.title&&void 0!==r.title&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},link:function(e,t){const n={href:uN(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),a=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=wN(n[r])}return t}(n):wN(t),s={},i=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(a||0!==o||"element"!==e.type||"p"!==e.tagName)&&i.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||a?i.push(e):i.push(...e.children)}const l=r[r.length-1];l&&(a||"element"!==l.type||"p"!==l.tagName)&&i.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:s,children:i};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const n={},r=e.all(t);let a=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++a<r.length;){const e=r[a];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),a.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=OF(t.children[1]),i=MF(t.children[t.children.length-1]);s&&i&&(r.position={start:s,end:i}),a.push(r)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,a=0===(r?r.indexOf(t):1)?"th":"td",s=n&&"table"===n.type?n.align:void 0,i=s?s.length:t.children.length;let o=-1;const l=[];for(;++o<i;){const n=t.children[o],r={},i=s?s[o]:void 0;i&&(r.align=i);let u={type:"element",tagName:a,properties:r,children:[]};n&&(u.children=e.all(n),e.patch(n,u),u=e.applyData(n,u)),l.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const n={type:"text",value:EN(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:AN,yaml:AN,definition:AN,footnoteDefinition:AN};function AN(){}const kN=["children"],NN={}.hasOwnProperty,jN={};function _N(e,t){e.position&&(t.position=function(e){const t=OF(e),n=MF(e);if(t&&n)return{start:t,end:n}}(e))}function SN(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,a=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&a&&Object.assign(n.properties,lN(a)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function BN(e,t){const n=t.data||{},r=!("value"in t)||NN.call(n,"hProperties")||NN.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function MN(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function ON(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function TN(e,t){const n=function(e,t){const n=t||jN,r=new Map,a=new Map,s=new Map,i=qe(qe({},FN),n.handlers),o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const a=o.one(n[r],e);if(a){if(r&&"break"===n[r-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=ON(a.value)),!Array.isArray(a)&&"element"===a.type)){const e=a.children[0];e&&"text"===e.type&&(e.value=ON(e.value))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t},applyData:SN,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:i,one:function(e,t){const n=e.type,r=o.handlers[n];if(NN.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t}=e,n=ns(e,kN),r=lN(n);return r.children=o.all(e),r}return lN(e)}return(o.options.unknownHandler||BN)(o,e,t)},options:n,patch:_N,wrap:MN};return vN(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:a,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),o}(e,t),r=n.one(e,void 0),a=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||cN,r=e.options.footnoteBackLabel||dN,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const a=e.footnoteById.get(e.footnoteOrder[l]);if(!a)continue;const s=e.all(a),i=String(a.identifier).toUpperCase(),u=uN(i.toLowerCase());let c=0;const d=[],h=e.footnoteCounts.get(i);for(;void 0!==h&&++c<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,c);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const m=s[s.length-1];if(m&&"element"===m.type&&"p"===m.tagName){const e=m.children[m.children.length-1];e&&"text"===e.type?e.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...d)}else s.push(...d);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(s,!0)};e.patch(a,p),o.push(p)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:qe(qe({},lN(i)),{},{id:"footnote-label"}),children:[{type:"text",value:a}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&s.children.push({type:"text",value:"\n"},a),s}function RN(e,t){return e&&"run"in e?async function(n,r){const a=TN(n,qe({file:r},t));await e.run(a,r)}:function(n,r){return TN(n,qe({file:r},e||t))}}function IN(e){if(e)throw e}var PN=n(755);function LN(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zN(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let a=-1;const s=n.pop();if("function"!==typeof s)throw new TypeError("Expected function as last argument, not "+s);!function t(r){const i=e[++a];let o=-1;if(r)s(r);else{for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];for(;++o<n.length;)null!==u[o]&&void 0!==u[o]||(u[o]=n[o]);n=u,i?function(e,t){let n;return a;function a(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];const l=e.length>a.length;let u;l&&a.push(s);try{u=e.apply(this,a)}catch(r){if(l&&n)throw r;return s(r)}l||(u&&u.then&&"function"===typeof u.then?u.then(i,s):u instanceof Error?s(u):i(u))}function s(e){if(!n){n=!0;for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];t(e,...a)}}function i(e){s(null,e)}}(i,t)(...u):s(null,...u)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const UN={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');WN(e);let n,r=0,a=-1,s=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else a<0&&(n=!0,a=s+1);return a<0?"":e.slice(r,a)}if(t===e)return"";let i=-1,o=t.length-1;for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else i<0&&(n=!0,i=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(a=s):(o=-1,a=i));r===a?a=i:a<0&&(a=e.length);return e.slice(r,a)},dirname:function(e){if(WN(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){WN(e);let t,n=e.length,r=-1,a=0,s=-1,i=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?s<0?s=n:1!==i&&(i=1):s>-1&&(i=-1);else if(t){a=n+1;break}}if(s<0||r<0||0===i||1===i&&s===r-1&&s===a+1)return"";return e.slice(s,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(;++t<r.length;)WN(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){WN(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,a="",s=0,i=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(i===l-1||1===o);else if(i!==l-1&&2===o){if(a.length<2||2!==s||46!==a.codePointAt(a.length-1)||46!==a.codePointAt(a.length-2))if(a.length>2){if(r=a.lastIndexOf("/"),r!==a.length-1){r<0?(a="",s=0):(a=a.slice(0,r),s=a.length-1-a.lastIndexOf("/")),i=l,o=0;continue}}else if(a.length>0){a="",s=0,i=l,o=0;continue}t&&(a=a.length>0?a+"/..":"..",s=2)}else a.length>0?a+="/"+e.slice(i+1,l):a=e.slice(i+1,l),s=l-i-1;i=l,o=0}else 46===n&&o>-1?o++:o=-1}return a}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function WN(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const HN={cwd:function(){return"/"}};function qN(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function VN(e){if("string"===typeof e)e=new URL(e);else if(!qN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const KN=["history","path","basename","stem","extname","dirname"];class YN{constructor(e){let t;t=e?qN(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":HN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<KN.length;){const e=KN[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)KN.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?UN.basename(this.path):void 0}set basename(e){$N(e,"basename"),GN(e,"basename"),this.path=UN.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?UN.dirname(this.path):void 0}set dirname(e){ZN(this.basename,"dirname"),this.path=UN.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?UN.extname(this.path):void 0}set extname(e){if(GN(e,"extname"),ZN(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=UN.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){qN(e)&&(e=VN(e)),$N(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?UN.basename(this.path,this.extname):void 0}set stem(e){$N(e,"stem"),GN(e,"stem"),this.path=UN.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new zF(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function GN(e,t){if(e&&e.includes(UN.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+UN.sep+"`")}function $N(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ZN(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const XN=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},QN={}.hasOwnProperty;class JN extends XN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zN()}copy(){const e=new JN;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(PN(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(rj("data",this.frozen),this.namespace[e]=t,this):QN.call(this.namespace,e)&&this.namespace[e]||void 0:e?(rj("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=ij(e),n=this.parser||this.Parser;return tj("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),tj("process",this.parser||this.Parser),nj("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,a){const s=ij(e),i=n.parse(s);function o(e,n){e||!n?a(e):r?r(n):t(void 0,n)}n.run(i,s,function(e,t,r){if(e||!t||!r)return o(e);const a=t,s=n.stringify(a,r);!function(e){return"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)}(s)?r.result=s:r.value=s,o(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),tj("processSync",this.parser||this.Parser),nj("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,IN(e),t=r}),sj("processSync","process",n),t}run(e,t,n){aj(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?a(void 0,n):new Promise(a);function a(a,s){const i=ij(t);r.run(e,i,function(t,r,i){const o=r||e;t?s(t):a?a(o):n(void 0,o,i)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){IN(e),n=t,r=!0}),sj("runSync","run",r),n}stringify(e,t){this.freeze();const n=ij(t),r=this.compiler||this.Compiler;return nj("stringify",r),aj(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(rj("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];u(e,a)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):o(e)}return this;function i(e){if("function"===typeof e)u(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=PN(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function u(e,n){let r=-1,a=-1;for(;++r<t.length;)if(t[r][0]===e){a=r;break}if(-1===a)t.push([e,...n]);else if(n.length>0){let[r,...s]=n;const i=t[a][1];LN(i)&&LN(r)&&(r=PN(!0,i,r)),t[a]=[e,r,...s]}}}}const ej=(new JN).freeze();function tj(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function nj(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function rj(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aj(e){if(!LN(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function sj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ij(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new YN(e)}const oj=[],lj={allowDangerousHtml:!0},uj=/^(https?|ircs?|mailto|xmpp)$/i,cj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dj(e){const t=hj(e),n=mj(e);return pj(t.runSync(t.parse(n),n),e)}function hj(e){const t=e.rehypePlugins||oj,n=e.remarkPlugins||oj,r=e.remarkRehypeOptions?qe(qe({},e.remarkRehypeOptions),lj):lj;return ej().use(Jk).use(n).use(RN,r).use(t)}function mj(e){const t=e.children||"",n=new YN;return"string"===typeof t&&(n.value=t),n}function pj(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,s=t.disallowedElements,i=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||fj;for(const u of cj)Object.hasOwn(t,u.from)&&KC((u.from,u.to&&u.to,u.id));return vN(e,function(e,t,a){if("raw"===e.type&&a&&"number"===typeof t)return i?a.children.splice(t,1):a.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in rA)if(Object.hasOwn(rA,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=rA[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let i=n?!n.includes(e.tagName):!!s&&s.includes(e.tagName);if(!i&&r&&"number"===typeof t&&(i=!r(e,t,a)),i&&a&&"number"===typeof t)return o&&e.children?a.children.splice(t,1,...e.children):a.children.splice(t,1),t}}),YF(e,{Fragment:Oa.Fragment,components:a,ignoreInvalidStyle:!0,jsx:Oa.jsx,jsxs:Oa.jsxs,passKeys:!0,passNode:!0})}function fj(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return-1===t||-1!==a&&t>a||-1!==n&&t>n||-1!==r&&t>r||uj.test(e.slice(0,t))?e:""}function gj(e,t){const n=String(e);if("string"!==typeof t)throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;-1!==a;)r++,a=n.indexOf(t,a+t.length);return r}function bj(e,t,n){const r=hN((n||{}).ignore||[]),a=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([Dj(e[0]),xj(e[1])])}return t}(t);let s=-1;for(;++s<a.length;)xN(e,"text",i);function i(e,t){let n,i=-1;for(;++i<t.length;){const e=t[i],a=n?n.children:void 0;if(r(e,a?a.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=a[s][0],i=a[s][1];let o=0;const l=n.children.indexOf(e);let u=!1,c=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){const n=d.index,a={index:d.index,input:d.input,stack:[...t,e]};let s=i(...d,a);if("string"===typeof s&&(s=s.length>0?{type:"text",value:s}:void 0),!1===s?r.lastIndex=n+1:(o!==n&&c.push({type:"text",value:e.value.slice(o,n)}),Array.isArray(s)?c.push(...s):s&&c.push(s),o=n+d[0].length,u=!0),!r.global)break;d=r.exec(e.value)}u?(o<e.value.length&&c.push({type:"text",value:e.value.slice(o)}),n.children.splice(l,1,...c)):c=[e];return l+c.length}(e,t)}}function Dj(e){return"string"===typeof e?new RegExp(function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function xj(e){return"function"===typeof e?e:function(){return e}}const vj="phrasing",yj=["autolink","link","image","label"];function wj(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ej(e){this.config.enter.autolinkProtocol.call(this,e)}function Cj(e){this.config.exit.autolinkProtocol.call(this,e)}function Fj(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Aj(e){this.config.exit.autolinkEmail.call(this,e)}function kj(e){this.exit(e)}function Nj(e){bj(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,jj],[/(?<=^|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]|(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDED0\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F\uDED1-\uDED8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA]))([\+\x2D\.0-9A-Z_a-z]+)@([\x2D0-9A-Z_a-z]+(?:\.[\x2D0-9A-Z_a-z]+)+)/g,_j]],{ignore:["link","linkReference"]})}function jj(e,t,n,r,a){let s="";if(!Sj(a))return!1;if(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const i=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=gj(e,"(");let s=gj(e,")");for(;-1!==r&&a>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}(n+r);if(!i[0])return!1;const o={type:"link",title:null,url:s+t+i[0],children:[{type:"text",value:t+i[0]}]};return i[1]?[o,{type:"text",value:i[1]}]:o}function _j(e,t,n,r){return!(!Sj(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Sj(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||jA(n)||NA(n))&&(!t||47!==n)}function Bj(){this.buffer()}function Mj(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Oj(){this.buffer()}function Tj(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Rj(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ek(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Ij(e){this.exit(e)}function Pj(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ek(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Lj(e){this.exit(e)}function zj(e,t,n,r){const a=n.createTracker(r);let s=a.move("[^");const i=n.enter("footnoteReference"),o=n.enter("reference");return s+=a.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),i(),s+=a.move("]"),s}function Uj(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,a){const s=r.createTracker(a);let i=s.move("[^");const o=r.enter("footnoteDefinition"),l=r.enter("label");i+=s.move(r.safe(r.associationId(e),{before:i,after:"]"})),l(),i+=s.move("]:"),e.children&&e.children.length>0&&(s.shift(4),i+=s.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,s.current()),t?Hj:Wj)));return o(),i},footnoteReference:zj},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function Wj(e,t,n){return 0===t?e:Hj(e,t,n)}function Hj(e,t,n){return(n?"":"    ")+e}zj.peek=function(){return"["};const qj=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function Vj(e){this.enter({type:"delete",children:[]},e)}function Kj(e){this.exit(e)}function Yj(e,t,n,r){const a=n.createTracker(r),s=n.enter("strikethrough");let i=a.move("~~");return i+=n.containerPhrasing(e,qe(qe({},a.current()),{},{before:i,after:"~"})),i+=a.move("~~"),s(),i}function Gj(e){return e.length}function $j(e){return null===e||void 0===e?"":String(e)}function Zj(e){const t="string"===typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function Xj(e,t,n){return">"+(n?"":" ")+e}function Qj(e,t){return Jj(e,t.inConstruct,!0)&&!Jj(e,t.notInConstruct,!1)}function Jj(e,t,n){if("string"===typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function e_(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if("\n"===n.unsafe[a].character&&Qj(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function t_(e,t,n){return(n?"":"    ")+e}function n_(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function r_(e){return"&#x"+e.toString(16).toUpperCase()+";"}function a_(e,t,n){const r=Fk(e),a=Fk(t);return void 0===r?void 0===a?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===a?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===a?{inside:!1,outside:!1}:1===a?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===a?{inside:!1,outside:!1}:1===a?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function s_(e,t,n,r){const a=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),s=n.enter("emphasis"),i=n.createTracker(r),o=i.move(a);let l=i.move(n.containerPhrasing(e,qe({after:a,before:o},i.current())));const u=l.charCodeAt(0),c=a_(r.before.charCodeAt(r.before.length-1),u,a);c.inside&&(l=r_(u)+l.slice(1));const d=l.charCodeAt(l.length-1),h=a_(r.after.charCodeAt(0),d,a);h.inside&&(l=l.slice(0,-1)+r_(d));const m=i.move(a);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},o+l+m}function i_(e){return e.value||""}function o_(e,t,n,r){const a=n_(n),s='"'===a?"Quote":"Apostrophe",i=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,qe({before:u,after:"]"},l.current()))),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,qe({before:u,after:">"},l.current()))),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,qe({before:u,after:e.title?" ":")"},l.current())))),o(),e.title&&(o=n.enter("title".concat(s)),u+=l.move(" "+a),u+=l.move(n.safe(e.title,qe({before:u,after:a},l.current()))),u+=l.move(a),o()),u+=l.move(")"),i(),u}function l_(e,t,n,r){const a=e.referenceType,s=n.enter("imageReference");let i=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,qe({before:l,after:"]"},o.current()));l+=o.move(u+"]["),i();const c=n.stack;n.stack=[],i=n.enter("reference");const d=n.safe(n.associationId(e),qe({before:l,after:"]"},o.current()));return i(),n.stack=c,s(),"full"!==a&&u&&u===d?"shortcut"===a?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function u_(e,t,n){let r=e.value||"",a="`",s=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const e=n.unsafe[s],t=n.compilePattern(e);let a;if(e.atBreak)for(;a=t.exec(r);){let e=a.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(a.index+1)}}return a+r+a}function c_(e,t){const n=sA(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function d_(e,t,n,r){const a=n_(n),s='"'===a?"Quote":"Apostrophe",i=n.createTracker(r);let o,l;if(c_(e,n)){const t=n.stack;n.stack=[],o=n.enter("autolink");let r=i.move("<");return r+=i.move(n.containerPhrasing(e,qe({before:r,after:">"},i.current()))),r+=i.move(">"),o(),n.stack=t,r}o=n.enter("link"),l=n.enter("label");let u=i.move("[");return u+=i.move(n.containerPhrasing(e,qe({before:u,after:"]("},i.current()))),u+=i.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(n.safe(e.url,qe({before:u,after:">"},i.current()))),u+=i.move(">")):(l=n.enter("destinationRaw"),u+=i.move(n.safe(e.url,qe({before:u,after:e.title?" ":")"},i.current())))),l(),e.title&&(l=n.enter("title".concat(s)),u+=i.move(" "+a),u+=i.move(n.safe(e.title,qe({before:u,after:a},i.current()))),u+=i.move(a),l()),u+=i.move(")"),o(),u}function h_(e,t,n,r){const a=e.referenceType,s=n.enter("linkReference");let i=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,qe({before:l,after:"]"},o.current()));l+=o.move(u+"]["),i();const c=n.stack;n.stack=[],i=n.enter("reference");const d=n.safe(n.associationId(e),qe({before:l,after:"]"},o.current()));return i(),n.stack=c,s(),"full"!==a&&u&&u===d?"shortcut"===a?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function m_(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function p_(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}Yj.peek=function(){return"~"},s_.peek=function(e,t,n){return n.options.emphasis||"*"},i_.peek=function(){return"<"},o_.peek=function(){return"!"},l_.peek=function(){return"!"},u_.peek=function(){return"`"},d_.peek=function(e,t,n){return c_(e,n)?"<":"["},h_.peek=function(){return"["};const f_=hN(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function g_(e,t,n,r){const a=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),s=n.enter("strong"),i=n.createTracker(r),o=i.move(a+a);let l=i.move(n.containerPhrasing(e,qe({after:a,before:o},i.current())));const u=l.charCodeAt(0),c=a_(r.before.charCodeAt(r.before.length-1),u,a);c.inside&&(l=r_(u)+l.slice(1));const d=l.charCodeAt(l.length-1),h=a_(r.after.charCodeAt(0),d,a);h.inside&&(l=l.slice(0,-1)+r_(d));const m=i.move(a+a);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},o+l+m}g_.peek=function(e,t,n){return n.options.strong||"*"};const b_={blockquote:function(e,t,n,r){const a=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const i=n.indentLines(n.containerFlow(e,s.current()),Xj);return a(),i},break:e_,code:function(e,t,n,r){const a=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),s=e.value||"",i="`"===a?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(s,t_);return e(),t}const o=n.createTracker(r),l=a.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),a=r,s=0,i=0;if("string"!==typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===a?++s>i&&(i=s):s=1,a=r+t.length,r=n.indexOf(t,a);return i}(s,a)+1,3)),u=n.enter("codeFenced");let c=o.move(l);if(e.lang){const t=n.enter("codeFencedLang".concat(i));c+=o.move(n.safe(e.lang,qe({before:c,after:" ",encode:["`"]},o.current()))),t()}if(e.lang&&e.meta){const t=n.enter("codeFencedMeta".concat(i));c+=o.move(" "),c+=o.move(n.safe(e.meta,qe({before:c,after:"\n",encode:["`"]},o.current()))),t()}return c+=o.move("\n"),s&&(c+=o.move(s+"\n")),c+=o.move(l),u(),c},definition:function(e,t,n,r){const a=n_(n),s='"'===a?"Quote":"Apostrophe",i=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),qe({before:u,after:"]"},l.current()))),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,qe({before:u,after:">"},l.current()))),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,qe({before:u,after:e.title?" ":"\n"},l.current())))),o(),e.title&&(o=n.enter("title".concat(s)),u+=l.move(" "+a),u+=l.move(n.safe(e.title,qe({before:u,after:a},l.current()))),u+=l.move(a),o()),i(),u},emphasis:s_,hardBreak:e_,heading:function(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(function(e,t){let n=!1;return vN(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,DN}),Boolean((!e.depth||e.depth<3)&&sA(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),i=n.containerPhrasing(e,qe(qe({},s.current()),{},{before:"\n",after:"\n"}));return r(),t(),i+"\n"+(1===a?"=":"-").repeat(i.length-(Math.max(i.lastIndexOf("\r"),i.lastIndexOf("\n"))+1))}const i="#".repeat(a),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(i+" ");let u=n.containerPhrasing(e,qe({before:"# ",after:"\n"},s.current()));return/^[\t ]/.test(u)&&(u=r_(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,n.options.closeAtx&&(u+=" "+i),l(),o(),u},html:i_,image:o_,imageReference:l_,inlineCode:u_,link:d_,linkReference:h_,list:function(e,t,n,r){const a=n.enter("list"),s=n.bulletCurrent;let i=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):m_(n);const o=e.ordered?"."===i?")":".":function(e){const t=m_(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&i===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==i&&"-"!==i||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),p_(n)===i&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(i=o),n.bulletCurrent=i;const u=n.containerFlow(e,r);return n.bulletLastUsed=i,n.bulletCurrent=s,a(),u},listItem:function(e,t,n,r){const a=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let s=n.bulletCurrent||m_(n);t&&"list"===t.type&&t.ordered&&(s=("number"===typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+s);let i=s.length+1;("tab"===a||"mixed"===a&&(t&&"list"===t.type&&t.spread||e.spread))&&(i=4*Math.ceil(i/4));const o=n.createTracker(r);o.move(s+" ".repeat(i-s.length)),o.shift(i);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),function(e,t,n){if(t)return(n?"":" ".repeat(i))+e;return(n?s:s+" ".repeat(i-s.length))+e});return l(),u},paragraph:function(e,t,n,r){const a=n.enter("paragraph"),s=n.enter("phrasing"),i=n.containerPhrasing(e,r);return s(),a(),i},root:function(e,t,n,r){const a=e.children.some(function(e){return f_(e)});return(a?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:g_,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(p_(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function D_(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function x_(e){this.exit(e),this.data.inTable=void 0}function v_(e){this.enter({type:"tableRow",children:[]},e)}function y_(e){this.exit(e)}function w_(e){this.enter({type:"tableCell",children:[]},e)}function E_(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,C_));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function C_(e,t){return"|"===t?t:e}function F_(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=b_.inlineCode(e,t,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r},table:function(e,t,n,r){return o(function(e,t,n){const r=e.children;let a=-1;const s=[],i=t.enter("table");for(;++a<r.length;)s[a]=l(r[a],t,n);return i(),s}(e,n,r),e.align)},tableCell:i,tableRow:function(e,t,n,r){const a=l(e,n,r),s=o([a]);return s.slice(0,s.indexOf("\n"))}}};function i(e,t,n,r){const a=n.enter("tableCell"),i=n.enter("phrasing"),o=n.containerPhrasing(e,qe(qe({},r),{},{before:s,after:s}));return i(),a(),o}function o(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||Gj,s=[],i=[],o=[],l=[];let u=0,c=-1;for(;++c<e.length;){const t=[],r=[];let s=-1;for(e[c].length>u&&(u=e[c].length);++s<e[c].length;){const i=$j(e[c][s]);if(!1!==n.alignDelimiters){const e=a(i);r[s]=e,(void 0===l[s]||e>l[s])&&(l[s]=e)}t.push(i)}i[c]=t,o[c]=r}let d=-1;if("object"===typeof r&&"length"in r)for(;++d<u;)s[d]=Zj(r[d]);else{const e=Zj(r);for(;++d<u;)s[d]=e}d=-1;const h=[],m=[];for(;++d<u;){const e=s[d];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let a=!1===n.alignDelimiters?1:Math.max(1,l[d]-t.length-r.length);const i=t+"-".repeat(a)+r;!1!==n.alignDelimiters&&(a=t.length+a+r.length,a>l[d]&&(l[d]=a),m[d]=a),h[d]=i}i.splice(1,0,h),o.splice(1,0,m),c=-1;const p=[];for(;++c<i.length;){const e=i[c],t=o[c];d=-1;const r=[];for(;++d<u;){const a=e[d]||"";let i="",o="";if(!1!==n.alignDelimiters){const e=l[d]-(t[d]||0),n=s[d];114===n?i=" ".repeat(e):99===n?e%2?(i=" ".repeat(e/2+.5),o=" ".repeat(e/2-.5)):(i=" ".repeat(e/2),o=i):o=" ".repeat(e)}!1===n.delimiterStart||d||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===a||!1===n.delimiterStart&&!d||r.push(" "),!1!==n.alignDelimiters&&r.push(i),r.push(a),!1!==n.alignDelimiters&&r.push(o),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&d===u-1||r.push("|")}p.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return p.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:a})}function l(e,t,n){const r=e.children;let a=-1;const s=[],o=t.enter("tableRow");for(;++a<r.length;)s[a]=i(r[a],0,t,n);return o(),s}}function A_(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function k_(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"===typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let a,s=-1;for(;++s<r.length;){const e=r[s];if("paragraph"===e.type){a=e;break}}a===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"===typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function N_(e,t,n,r){const a=e.children[0],s="boolean"===typeof e.checked&&a&&"paragraph"===a.type,i="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(i);let l=b_.listItem(e,t,n,qe(qe({},r),o.current()));return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+i})),l}const j_={tokenize:function(e,t,n){let r=0;return function t(s){if((87===s||119===s)&&r<3)return r++,e.consume(s),t;if(46===s&&3===r)return e.consume(s),a;return n(s)};function a(e){return null===e?n(e):t(e)}},partial:!0},__={tokenize:function(e,t,n){let r,a,s;return i;function i(t){return 46===t||95===t?e.check(B_,l,o)(t):null===t||AA(t)||jA(t)||45!==t&&NA(t)?l(t):(s=!0,e.consume(t),i)}function o(t){return 95===t?r=!0:(a=r,r=void 0),e.consume(t),i}function l(e){return a||r||!s?n(e):t(e)}},partial:!0},S_={tokenize:function(e,t){let n=0,r=0;return a;function a(i){return 40===i?(n++,e.consume(i),a):41===i&&r<n?s(i):33===i||34===i||38===i||39===i||41===i||42===i||44===i||46===i||58===i||59===i||60===i||63===i||93===i||95===i||126===i?e.check(B_,t,s)(i):null===i||AA(i)||jA(i)?t(i):(e.consume(i),a)}function s(t){return 41===t&&r++,e.consume(t),a}},partial:!0},B_={tokenize:function(e,t,n){return r;function r(i){return 33===i||34===i||39===i||41===i||42===i||44===i||46===i||58===i||59===i||63===i||95===i||126===i?(e.consume(i),r):38===i?(e.consume(i),s):93===i?(e.consume(i),a):60===i||null===i||AA(i)||jA(i)?t(i):n(i)}function a(e){return null===e||40===e||91===e||AA(e)||jA(e)?t(e):r(e)}function s(e){return DA(e)?i(e):n(e)}function i(t){return 59===t?(e.consume(t),r):DA(t)?(e.consume(t),i):n(t)}},partial:!0},M_={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return xA(e)?n(e):t(e)}},partial:!0},O_={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){if(87!==t&&119!==t||!L_.call(r,r.previous)||H_(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(j_,e.attempt(__,e.attempt(S_,a),n),n)(t)};function a(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:L_},T_={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let a="",s=!1;return function(t){if((72===t||104===t)&&z_.call(r,r.previous)&&!H_(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(t),e.consume(t),i;return n(t)};function i(t){if(DA(t)&&a.length<5)return a+=String.fromCodePoint(t),e.consume(t),i;if(58===t){const n=a.toLowerCase();if("http"===n||"https"===n)return e.consume(t),o}return n(t)}function o(t){return 47===t?(e.consume(t),s?l:(s=!0,o)):n(t)}function l(t){return null===t||yA(t)||AA(t)||jA(t)||NA(t)?n(t):e.attempt(__,e.attempt(S_,u),n)(t)}function u(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:z_},R_={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let a,s;return function(t){if(!W_(t)||!U_.call(r,r.previous)||H_(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),i(t)};function i(t){return W_(t)?(e.consume(t),i):64===t?(e.consume(t),o):n(t)}function o(t){return 46===t?e.check(M_,u,l)(t):45===t||95===t||xA(t)?(s=!0,e.consume(t),o):u(t)}function l(t){return e.consume(t),a=!0,o}function u(i){return s&&a&&DA(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(i)):n(i)}},previous:U_},I_={};let P_=48;for(;P_<123;)I_[P_]=R_,P_++,58===P_?P_=65:91===P_&&(P_=97);function L_(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||AA(e)}function z_(e){return!DA(e)}function U_(e){return!(47===e||W_(e))}function W_(e){return 43===e||45===e||46===e||95===e||xA(e)}function H_(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}I_[43]=R_,I_[45]=R_,I_[46]=R_,I_[95]=R_,I_[72]=[R_,T_],I_[104]=[R_,T_],I_[87]=[R_,O_],I_[119]=[R_,O_];const q_={tokenize:function(e,t,n){const r=this;return SA(e,function(e){const a=r.events[r.events.length-1];return a&&"gfmFootnoteDefinitionIndent"===a[1].type&&4===a[2].sliceSerialize(a[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function V_(e,t,n){const r=this;let a=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;a--;){const e=r.events[a][1];if("labelImage"===e.type){i=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(a){if(!i||!i._balanced)return n(a);const o=ek(r.sliceSerialize({start:i.end,end:r.now()}));if(94!==o.codePointAt(0)||!s.includes(o.slice(1)))return n(a);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a)}}function K_(e,t){let n,r=e.length;for(;r--;)if("labelImage"===e[r][1].type&&"enter"===e[r][0]){n=e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[r+1],e[r+2],["enter",a,t],e[r+3],e[r+4],["enter",s,t],["exit",s,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(r,e.length-r+1,...l),e}function Y_(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,i=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),o};function o(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(o){if(i>999||93===o&&!s||null===o||91===o||AA(o))return n(o);if(93===o){e.exit("chunkString");const s=e.exit("gfmFootnoteCallString");return a.includes(ek(r.sliceSerialize(s)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(o)}return AA(o)||(s=!0),i++,e.consume(o),92===o?u:l}function u(t){return 91===t||92===t||93===t?(e.consume(t),i++,l):l(t)}}function G_(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,i,o=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(t)}function u(t){if(o>999||93===t&&!i||null===t||91===t||AA(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return s=ek(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return AA(t)||(i=!0),o++,e.consume(t),92===t?c:u}function c(t){return 91===t||92===t||93===t?(e.consume(t),o++,u):u(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a.includes(s)||a.push(s),SA(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function $_(e,t,n){return e.check(TA,t,e.attempt(q_,t,n))}function Z_(e){e.exit("gfmFootnoteDefinition")}function X_(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const a=this.previous,s=this.events;let i=0;return function(t){if(126===a&&"characterEscape"!==s[s.length-1][1].type)return r(t);return e.enter("strikethroughSequenceTemporary"),o(t)};function o(s){const l=Fk(a);if(126===s)return i>1?r(s):(e.consume(s),i++,o);if(i<2&&!t)return r(s);const u=e.exit("strikethroughSequenceTemporary"),c=Fk(s);return u._open=!c||2===c&&Boolean(l),u._close=!l||2===l&&Boolean(c),n(s)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const a={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},s={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i=[["enter",a,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",s,t]],o=t.parser.constructs.insideSpan.null;o&&lA(i,i.length,0,xk(o,e.slice(r+1,n),t)),lA(i,i.length,0,[["exit",s,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",a,t]]),lA(e,r-1,n-r+3,i),n=r+i.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null!==t&&void 0!==t||(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class Q_{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let a=0;if(0===n&&0===r.length)return;for(;a<e.map.length;){if(e.map[a][0]===t)return e.map[a][1]+=n,void e.map[a][2].push(...r);a+=1}e.map.push([t,n,r])}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const t of r)e.push(t);r=n.pop()}this.map.length=0}}function J_(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if("enter"===a[0])"tableContent"===a[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===a[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===a[1].type)break}else"enter"===a[0]&&"tableDelimiterRow"===a[1].type&&(n=!0);t+=1}return r}function eS(e,t,n){const r=this;let a,s=0,i=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const a=t>-1?r.events[t][1].type:null,s="tableHead"===a||"tableRow"===a?v:o;if(s===v&&r.parser.lazy[r.now().line])return n(e);return s(e)};function o(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return l(e);return a=!0,i+=1,l(e)}(t)}function l(t){return null===t?n(t):FA(t)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):kA(t)?SA(e,l,"whitespace")(t):(i+=1,a&&(a=!1,s+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),a=!0,l):(e.enter("data"),u(t)))}function u(t){return null===t||124===t||AA(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return 92===t||124===t?(e.consume(t),u):u(t)}function d(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),a=!1,kA(t)?SA(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t))}function h(t){return 45===t||58===t?p(t):124===t?(a=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),m):x(t)}function m(t){return kA(t)?SA(e,p,"whitespace")(t):p(t)}function p(t){return 58===t?(i+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),f):45===t?(i+=1,f(t)):null===t||FA(t)?D(t):x(t)}function f(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):x(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(t))}function b(t){return kA(t)?SA(e,D,"whitespace")(t):D(t)}function D(n){return 124===n?h(n):(null===n||FA(n))&&a&&s===i?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):x(n)}function x(e){return n(e)}function v(t){return e.enter("tableRow"),y(t)}function y(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),y):null===n||FA(n)?(e.exit("tableRow"),t(n)):kA(n)?SA(e,y,"whitespace")(n):(e.enter("data"),w(n))}function w(t){return null===t||124===t||AA(t)?(e.exit("data"),y(t)):(e.consume(t),92===t?E:w)}function E(t){return 92===t||124===t?(e.consume(t),w):w(t)}}function tS(e,t){let n,r,a,s=-1,i=!0,o=0,l=[0,0,0,0],u=[0,0,0,0],c=!1,d=0;const h=new Q_;for(;++s<e.length;){const m=e[s],p=m[1];"enter"===m[0]?"tableHead"===p.type?(c=!1,0!==d&&(rS(h,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(s,0,[["enter",n,t]])):"tableRow"===p.type||"tableDelimiterRow"===p.type?(i=!0,a=void 0,l=[0,0,0,0],u=[0,s+1,0,0],c&&(c=!1,r={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(s,0,[["enter",r,t]])),o="tableDelimiterRow"===p.type?2:r?3:1):!o||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type?"tableCellDivider"===p.type&&(i?i=!1:(0!==l[1]&&(u[0]=u[1],a=nS(h,t,l,o,void 0,a)),l=u,u=[l[1],s,0,0])):(i=!1,0===u[2]&&(0!==l[1]&&(u[0]=u[1],a=nS(h,t,l,o,void 0,a),l=[0,0,0,0]),u[2]=s)):"tableHead"===p.type?(c=!0,d=s):"tableRow"===p.type||"tableDelimiterRow"===p.type?(d=s,0!==l[1]?(u[0]=u[1],a=nS(h,t,l,o,s,a)):0!==u[1]&&(a=nS(h,t,u,o,s,a)),o=0):!o||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type||(u[3]=s)}for(0!==d&&rS(h,t,d,n,r),h.consume(t.events),s=-1;++s<t.events.length;){const e=t.events[s];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=J_(t.events,s))}return e}function nS(e,t,n,r,a,s){const i=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(s.end=Object.assign({},aS(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const o=aS(t.events,n[1]);if(s={type:i,start:Object.assign({},o),end:Object.assign({},o)},e.add(n[1],0,[["enter",s,t]]),0!==n[2]){const a=aS(t.events,n[2]),s=aS(t.events,n[3]),i={type:"tableContent",start:Object.assign({},a),end:Object.assign({},s)};if(e.add(n[2],0,[["enter",i,t]]),2!==r){const r=t.events[n[2]],a=t.events[n[3]];if(r[1].end=Object.assign({},a[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",i,t]])}return void 0!==a&&(s.end=Object.assign({},aS(t.events,a)),e.add(a,0,[["exit",s,t]]),s=void 0),s}function rS(e,t,n,r,a){const s=[],i=aS(t.events,n);a&&(a.end=Object.assign({},i),s.push(["exit",a,t])),r.end=Object.assign({},i),s.push(["exit",r,t]),e.add(n+1,0,s)}function aS(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const sS={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),a};function a(t){return AA(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),s):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),s):n(t)}function s(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),i):n(t)}function i(r){return FA(r)?t(r):kA(r)?e.check({tokenize:iS},t,n)(r):n(r)}}};function iS(e,t,n){return SA(e,function(e){return null===e?n(e):t(e)},"whitespace")}const oS={};function lS(e){const t=e||oS,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return fA([{text:I_},{document:{91:{name:"gfmFootnoteDefinition",tokenize:G_,continuation:{tokenize:$_},exit:Z_}},text:{91:{name:"gfmFootnoteCall",tokenize:Y_},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:V_,resolveTo:K_}}},X_(e),{flow:{null:{name:"table",tokenize:eS,resolveAll:tS}}},{text:{91:sS}}])}(t)),a.push([{transforms:[Nj],enter:{literalAutolink:wj,literalAutolinkEmail:Ej,literalAutolinkHttp:Ej,literalAutolinkWww:Ej},exit:{literalAutolink:kj,literalAutolinkEmail:Aj,literalAutolinkHttp:Cj,literalAutolinkWww:Fj}},{enter:{gfmFootnoteCallString:Bj,gfmFootnoteCall:Mj,gfmFootnoteDefinitionLabelString:Oj,gfmFootnoteDefinition:Tj},exit:{gfmFootnoteCallString:Rj,gfmFootnoteCall:Ij,gfmFootnoteDefinitionLabelString:Pj,gfmFootnoteDefinition:Lj}},{canContainEols:["delete"],enter:{strikethrough:Vj},exit:{strikethrough:Kj}},{enter:{table:D_,tableData:w_,tableHeader:w_,tableRow:v_},exit:{codeText:E_,table:x_,tableData:y_,tableHeader:y_,tableRow:y_}},{exit:{taskListCheckValueChecked:A_,taskListCheckValueUnchecked:A_,paragraph:k_}}]),s.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:vj,notInConstruct:yj},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:vj,notInConstruct:yj},{character:":",before:"[ps]",after:"\\/",inConstruct:vj,notInConstruct:yj}]},Uj(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:qj}],handlers:{delete:Yj}},F_(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:N_}}]}}(t))}const uS=function(e,t,n){const r=hN(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if("number"===typeof t){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if((t=e.children.indexOf(t))<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},cS=function(e){if(null===e||void 0===e)return hS;if("string"===typeof e)return function(e){return dS(t);function t(t){return t.tagName===e}}(e);if("object"===typeof e)return function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=cS(e[n]);return dS(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e);if("function"===typeof e)return dS(e);throw new Error("Expected function, string, or array as `test`")};function dS(e){return function(t,n,r){return Boolean(mS(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function hS(e){return Boolean(e&&"object"===typeof e&&"type"in e&&"element"===e.type&&"tagName"in e&&"string"===typeof e.tagName)}function mS(e){return null!==e&&"object"===typeof e&&"type"in e&&"tagName"in e}const pS=/\n/g,fS=/[\t ]+/g,gS=cS("br"),bS=cS(function(e){return"td"===e.tagName||"th"===e.tagName}),DS=cS("p"),xS=cS("tr"),vS=cS(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(e){return Boolean((e.properties||{}).hidden)},function(e){return"dialog"===e.tagName&&!(e.properties||{}).open}]),yS=cS(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function wS(e,t,n){return"element"===e.type?function(e,t,n){const r=FS(e,n),a=e.children||[];let s,i,o=-1,l=[];if(vS(e))return l;gS(e)||xS(e)&&uS(t,e,xS)?i="\n":DS(e)?(s=2,i=2):yS(e)&&(s=1,i=1);for(;++o<a.length;)l=l.concat(wS(a[o],e,{whitespace:r,breakBefore:o?void 0:s,breakAfter:o<a.length-1?gS(a[o+1]):i}));bS(e)&&uS(t,e,bS)&&l.push("\t");s&&l.unshift(s);i&&l.push(i);return l}(e,t,n):"text"===e.type?"normal"===n.whitespace?ES(e,n):function(e){return[String(e.value)]}(e):[]}function ES(e,t){const n=String(e.value),r=[],a=[];let s=0;for(;s<=n.length;){pS.lastIndex=s;const e=pS.exec(n),a=e&&"index"in e?e.index:n.length;r.push(CS(n.slice(s,a).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),0!==s||t.breakBefore,a!==n.length||t.breakAfter)),s=a+1}let i,o=-1;for(;++o<r.length;)8203===r[o].charCodeAt(r[o].length-1)||o<r.length-1&&8203===r[o+1].charCodeAt(0)?(a.push(r[o]),i=void 0):r[o]?("number"===typeof i&&a.push(i),a.push(r[o]),i=0):0!==o&&o!==r.length-1||a.push(0);return a}function CS(e,t,n){const r=[];let a,s=0;for(;s<e.length;){fS.lastIndex=s;const n=fS.exec(e);a=n?n.index:e.length,s||a||!n||t||r.push(""),s!==a&&r.push(e.slice(s,a)),s=n?a+n[0].length:a}return s===a||n||r.push(""),r.join(" ")}function FS(e,t){if("element"===e.type){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}const AS=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],kS=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),NS=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),jS=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),_S=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();var SS="[0-9](_*[0-9])*",BS="\\.(".concat(SS,")"),MS="[0-9a-fA-F](_*[0-9a-fA-F])*",OS={className:"number",variants:[{begin:"(\\b(".concat(SS,")((").concat(BS,")|\\.)?|(").concat(BS,"))")+"[eE][+-]?(".concat(SS,")[fFdD]?\\b")},{begin:"\\b(".concat(SS,")((").concat(BS,")[fFdD]?\\b|\\.([fFdD]\\b)?)")},{begin:"(".concat(BS,")[fFdD]?\\b")},{begin:"\\b(".concat(SS,")[fFdD]\\b")},{begin:"\\b0[xX]((".concat(MS,")\\.?|(").concat(MS,")?\\.(").concat(MS,"))")+"[pP][+-]?(".concat(SS,")[fFdD]?\\b")},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:"\\b0[xX](".concat(MS,")[lL]?\\b")},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function TS(e,t,n){return-1===n?"":e.replace(t,r=>TS(e,t,n-1))}const RS="[A-Za-z$_][0-9A-Za-z$_]*",IS=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],PS=["true","false","null","undefined","NaN","Infinity"],LS=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],zS=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],US=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],WS=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],HS=[].concat(US,LS,zS);var qS="[0-9](_*[0-9])*",VS="\\.(".concat(qS,")"),KS="[0-9a-fA-F](_*[0-9a-fA-F])*",YS={className:"number",variants:[{begin:"(\\b(".concat(qS,")((").concat(VS,")|\\.)?|(").concat(VS,"))")+"[eE][+-]?(".concat(qS,")[fFdD]?\\b")},{begin:"\\b(".concat(qS,")((").concat(VS,")[fFdD]?\\b|\\.([fFdD]\\b)?)")},{begin:"(".concat(VS,")[fFdD]?\\b")},{begin:"\\b(".concat(qS,")[fFdD]\\b")},{begin:"\\b0[xX]((".concat(KS,")\\.?|(").concat(KS,")?\\.(").concat(KS,"))")+"[pP][+-]?(".concat(qS,")[fFdD]?\\b")},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:"\\b0[xX](".concat(KS,")[lL]?\\b")},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};const GS=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],$S=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ZS=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),XS=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),QS=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),JS=ZS.concat(XS).sort().reverse();const eB=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],tB=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),nB=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),rB=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),aB=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function sB(e){return e?"string"===typeof e?e:e.source:null}function iB(e){return oB("(?=",e,")")}function oB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>sB(e)).join("")}function lB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=function(e){const t=e[e.length-1];return"object"===typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(t);return"("+(r.capture?"":"?:")+t.map(e=>sB(e)).join("|")+")"}const uB=e=>oB(/\b/,e,/\w$/.test(e)?/\b/:/\B/),cB=["Protocol","Type"].map(uB),dB=["init","self"].map(uB),hB=["Any","Self"],mB=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],pB=["false","nil","true"],fB=["assignment","associativity","higherThan","left","lowerThan","none","right"],gB=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],bB=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],DB=lB(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),xB=lB(DB,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),vB=oB(DB,xB,"*"),yB=lB(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),wB=lB(yB,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),EB=oB(yB,wB,"*"),CB=oB(/[A-Z]/,wB,"*"),FB=["attached","autoclosure",oB(/convention\(/,lB("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",oB(/objc\(/,EB,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],AB=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];const kB="[A-Za-z$_][0-9A-Za-z$_]*",NB=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],jB=["true","false","null","undefined","NaN","Infinity"],_B=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],SB=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BB=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],MB=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],OB=[].concat(BB,_B,SB);const TB={arduino:function(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",s="(?!struct)("+r+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",i={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},o={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(o,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},d=t.optional(a)+e.IDENT_RE+"\\s*\\(",h={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},m={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},p=[m,u,i,n,e.C_BLOCK_COMMENT_MODE,l,o],f={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:p.concat([{begin:/\(/,end:/\)/,keywords:h,contains:p.concat(["self"]),relevance:0}]),relevance:0},g={className:"function",begin:"("+s+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[c],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[o,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,o,l,i,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,o,l,i]}]},i,n,e.C_BLOCK_COMMENT_MODE,u]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:h,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(f,g,m,p,[u,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:h,contains:["self",i]},{begin:e.IDENT_RE+"::",keywords:h},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n},bash:function(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,a]};a.contains.push(o);const l={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},u=e.SHEBANG({binary:"(".concat(["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|"),")"),relevance:10}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[u,e.SHEBANG(),c,l,s,i,{match:/(\/[a-z._-]+)+/},o,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}},c:function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",s="("+r+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",i={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},o={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(o,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},d=t.optional(a)+e.IDENT_RE+"\\s*\\(",h={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},m=[u,i,n,e.C_BLOCK_COMMENT_MODE,l,o],p={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:m.concat([{begin:/\(/,end:/\)/,keywords:h,contains:m.concat(["self"]),relevance:0}]),relevance:0},f={begin:"("+s+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[e.inherit(c,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,o,l,i,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,o,l,i]}]},i,n,e.C_BLOCK_COMMENT_MODE,u]};return{name:"C",aliases:["h"],keywords:h,disableAutodetect:!0,illegal:"</",contains:[].concat(p,f,m,[u,{begin:e.IDENT_RE+"::",keywords:h},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:u,strings:o,keywords:h}}},cpp:function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",s="(?!struct)("+r+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",i={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},o={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(o,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},d=t.optional(a)+e.IDENT_RE+"\\s*\\(",h={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},m={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},p=[m,u,i,n,e.C_BLOCK_COMMENT_MODE,l,o],f={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:p.concat([{begin:/\(/,end:/\)/,keywords:h,contains:p.concat(["self"]),relevance:0}]),relevance:0},g={className:"function",begin:"("+s+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[c],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[o,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,o,l,i,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,o,l,i]}]},i,n,e.C_BLOCK_COMMENT_MODE,u]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:h,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(f,g,m,p,[u,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:h,contains:["self",i]},{begin:e.IDENT_RE+"::",keywords:h},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}},csharp:function(e){const t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},a={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},s=e.inherit(a,{illegal:/\n/}),i={className:"subst",begin:/\{/,end:/\}/,keywords:t},o=e.inherit(i,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,o]},u={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},i]},c=e.inherit(u,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},o]});i.contains=[u,l,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],o.contains=[c,l,s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const d={variants:[{className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u,l,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},h={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},m=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",p={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+m+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,h],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[d,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},p]}},css:function(e){const t=e.regex,n=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+NS.join("|")+")"},{begin:":(:)?("+jS.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+_S.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...r,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...r,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:kS.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...r,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+AS.join("|")+")\\b"}]}},diff:function(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}},go:function(e){const t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}},graphql:function(e){const t=e.regex;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(/[_A-Za-z][_0-9A-Za-z]*/,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}},ini:function(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const a={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},i={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[r,s,a,i,n,"self"],relevance:0},l=t.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:t.concat(l,"(\\s*\\.\\s*",l,")*",t.lookahead(/\s*=\s*[^#\s]/)),className:"attr",starts:{end:/$/,contains:[r,o,s,a,i,n]}}]}},java:function(e){const t=e.regex,n="[\xc0-\u02b8a-zA-Z_$][\xc0-\u02b8a-zA-Z_$0-9]*",r=n+TS("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),a={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},s={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},i={className:"params",begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:a,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[i,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:a,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:[s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,OS,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},OS,s]}},javascript:function(e){const t=e.regex,n=RS,r="<>",a="</>",s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let a;">"===r&&(((e,t)=>{let{after:n}=t;const r="</"+e[0].slice(1);return-1!==e.input.indexOf(r,n)})(e,{after:n})||t.ignoreMatch());const s=e.input.substring(n);((a=s.match(/^\s*=/))||(a=s.match(/^\s+extends\s+/))&&0===a.index)&&t.ignoreMatch()}},i={$pattern:RS,keyword:IS,literal:PS,built_in:HS,"variable.language":WS},o="[0-9](_?[0-9])*",l="\\.(".concat(o,")"),u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",c={className:"number",variants:[{begin:"(\\b(".concat(u,")((").concat(l,")|\\.)?|(").concat(l,"))")+"[eE][+-]?(".concat(o,")\\b")},{begin:"\\b(".concat(u,")\\b((").concat(l,")\\b|\\.)?|(").concat(l,")\\b")},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,p,f,{match:/\$\d+/},c];d.contains=b.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(b)});const D=[].concat(g,d.contains),x=D.concat([{begin:/(\s*)\(/,end:/\)/,keywords:i,contains:["self"].concat(D)}]),v={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:x},y={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...LS,...zS]}},E={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[v],illegal:/%/},C={match:t.concat(/\b/,function(e){return t.concat("(?!",e.join("|"),")")}([...US,"super","import"].map(e=>"".concat(e,"\\s*\\("))),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},F={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},A={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},v]},k="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",N={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(k)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[v]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,p,f,g,{match:/\$\d+/},c,w,{scope:"attr",match:n+t.lookahead(":"),relevance:0},N,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:k,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:a},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},E,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[v,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[v]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},y,A,{match:/\$[(.]/}]}},json:function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}},kotlin:function(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},a={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},s={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[a,r]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,a,r]}]};r.contains.push(s);const i={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},o={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(s,{className:"string"}),"self"]}]},l=YS,u=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),c={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=c;return d.variants[1].contains=[c],c.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,u,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,i,o,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[c,e.C_LINE_COMMENT_MODE,u],relevance:0},e.C_LINE_COMMENT_MODE,u,i,o,s,e.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},i,o]},s,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},l]}},less:function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),n=JS,r="[\\w-]+",a="("+r+"|@\\{"+r+"\\})",s=[],i=[],o=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},l=function(e,t,n){return{className:e,begin:t,relevance:n}},u={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:$S.join(" ")},c={begin:"\\(",end:"\\)",contains:i,keywords:u,relevance:0};i.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,o("'"),o('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,c,l("variable","@@?"+r,10),l("variable","@\\{"+r+"\\}"),l("built_in","~?`[^`]*?`"),{className:"attribute",begin:r+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const d=i.concat({begin:/\{/,end:/\}/,contains:s}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(i)},m={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+QS.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:i}}]},p={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:i,relevance:0}},f={className:"variable",variants:[{begin:"@"+r+"\\s*:",relevance:15},{begin:"@"+r}],starts:{end:"[;}]",returnEnd:!0,contains:d}},g={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,l("keyword","all\\b"),l("variable","@\\{"+r+"\\}"),{begin:"\\b("+GS.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,l("selector-tag",a,0),l("selector-id","#"+a),l("selector-class","\\."+a,0),l("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+ZS.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+XS.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},t.FUNCTION_DISPATCH]},b={begin:r+":(:)?"+"(".concat(n.join("|"),")"),returnBegin:!0,contains:[g]};return s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,f,b,m,g,h,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:s}},lua:function(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},a=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}},makefile:function(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},a={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,a,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},s]}},markdown:function(e){const t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},r={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},a={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},s=e.inherit(r,{contains:[]}),i=e.inherit(a,{contains:[]});r.contains.push(i),a.contains.push(s);let o=[t,n];return[r,a,s,i].forEach(e=>{e.contains=e.contains.concat(o)}),o=o.concat(r,a),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:o},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:o}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},r,a,{className:"quote",begin:"^>\\s+",contains:o,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}},objectivec:function(e){const t=/[a-zA-Z@][a-zA-Z0-9_]*/,n={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+n.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:n,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}},perl:function(e){const t=e.regex,n=/[dualxmsipngr]{0,12}/,r={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:r},s={begin:/->\{/,end:/\}/},i={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},o={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[i]},l={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},u=[e.BACKSLASH_ESCAPE,a,o],c=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],d=function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\\1";const s="\\1"===a?a:t.concat(a,r);return t.concat(t.concat("(?:",e,")"),r,/(?:\\.|[^\\\/])*?/,s,/(?:\\.|[^\\\/])*?/,a,n)},h=(e,r,a)=>t.concat(t.concat("(?:",e,")"),r,/(?:\\.|[^\\\/])*?/,a,n),m=[o,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),s,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},l,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:d("s|tr|y",t.either(...c,{capture:!0}))},{begin:d("s|tr|y","\\(","\\)")},{begin:d("s|tr|y","\\[","\\]")},{begin:d("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:h("(?:m|qr)?",/\//,/\//)},{begin:h("m|qr",t.either(...c,{capture:!0}),/\1/)},{begin:h("m|qr",/\(/,/\)/)},{begin:h("m|qr",/\[/,/\]/)},{begin:h("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,i]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,i,l]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=m,s.contains=m,{name:"Perl",aliases:["pl","pm"],keywords:r,contains:m}},php:function(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),a=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=t.concat(/[A-Z]+/,n),i={scope:"variable",match:"\\$+"+r},o={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),u=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(o)}),c={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(o),"on:begin":(e,t)=>{t.data._beginMatch=e[1]||e[2]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}},d="[ \t\n]",h={scope:"string",variants:[u,l,c,e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/})]},m={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},p=["false","null","true"],f=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],g=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],b={keyword:f,literal:(e=>{const t=[];return e.forEach(e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())}),t})(p),built_in:g},D=e=>e.map(e=>e.replace(/\|\d+$/,"")),x={variants:[{match:[/new/,t.concat(d,"+"),t.concat("(?!",D(g).join("\\b|"),"\\b)"),a],scope:{1:"keyword",4:"title.class"}}]},v=t.concat(r,"\\b(?!\\()"),y={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),v],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[a,t.concat(/::/,t.lookahead(/(?!class\b)/)),v],scope:{1:"title.class",3:"variable.constant"}},{match:[a,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[a,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},w={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},E={relevance:0,begin:/\(/,end:/\)/,keywords:b,contains:[w,i,y,e.C_BLOCK_COMMENT_MODE,h,m,x]},C={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",D(f).join("\\b|"),"|",D(g).join("\\b|"),"\\b)"),r,t.concat(d,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[E]};E.contains.push(C);const F=[w,y,e.C_BLOCK_COMMENT_MODE,h,m,x],A={begin:t.concat(/#\[\s*\\?/,t.either(a,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:p,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:p,keyword:["new","array"]},contains:["self",...F]},...F,{scope:"meta",variants:[{match:a},{match:s}]}]};return{case_insensitive:!1,keywords:b,contains:[A,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},i,C,y,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},x,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:b,contains:["self",A,i,y,e.C_BLOCK_COMMENT_MODE,h,m]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},h,m]}},"php-template":function(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}},plaintext:function(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}},python:function(e){const t=e.regex,n=/(?:[A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFC5D\uFC64-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDF9\uFE71\uFE73\uFE77\uFE79\uFE7B\uFE7D\uFE7F-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037B-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFC5D\uFC64-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDF9\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE71\uFE73\uFE77\uFE79\uFE7B\uFE7D\uFE7F-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*/,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},s={className:"meta",begin:/^(>>>|\.\.\.) /},i={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},o={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,s,o,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,s,o,i]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,o,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,o,i]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},u="[0-9](_?[0-9])*",c="(\\b(".concat(u,"))?\\.(").concat(u,")|\\b(").concat(u,")\\."),d="\\b|".concat(r.join("|")),h={className:"number",relevance:0,variants:[{begin:"(\\b(".concat(u,")|(").concat(c,"))[eE][+-]?(").concat(u,")[jJ]?(?=").concat(d,")")},{begin:"(".concat(c,")[jJ]?")},{begin:"\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=".concat(d,")")},{begin:"\\b0[bB](_?[01])+[lL]?(?=".concat(d,")")},{begin:"\\b0[oO](_?[0-7])+[lL]?(?=".concat(d,")")},{begin:"\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=".concat(d,")")},{begin:"\\b(".concat(u,")[jJ](?=").concat(d,")")}]},m={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},p={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",s,h,l,e.HASH_COMMENT_MODE]}]};return i.contains=[l,h,s],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[s,h,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},l,m,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,p,l]}]}},"python-repl":function(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}},r:function(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),a=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[a,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:a},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}},ruby:function(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),a=t.concat(r,/(::\w+)*/),s={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},i={className:"doctag",begin:"@[A-Za-z]+"},o={begin:"#<",end:">"},l=[e.COMMENT("#","$",{contains:[i]}),e.COMMENT("^=begin","^=end",{contains:[i],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:s},c={className:"string",contains:[e.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,u]})]}]},d="[0-9](_?[0-9])*",h={className:"number",relevance:0,variants:[{begin:"\\b(".concat("[1-9](_?[0-9])*|0",")(\\.(").concat(d,"))?([eE][+-]?(").concat(d,")|r)?i?\\b")},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},m={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:s}]},p=[c,{variants:[{match:[/class\s+/,a,/\s+<\s+/,a]},{match:[/\b(class|module)\s+/,a]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:s},{match:[/(include|extend)\s+/,a],scope:{2:"title.class"},keywords:s},{relevance:0,match:[a,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[m]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[c,{begin:n}],relevance:0},h,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:s},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(o,l),relevance:0}].concat(o,l);u.contains=p,m.contains=p;const f=[{begin:/^\s*=>/,starts:{end:"$",contains:p}},{className:"meta.prompt",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",keywords:s,contains:p}}];return l.unshift(o),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:s,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(f).concat(l).concat(p)}},rust:function(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),a=t.concat(n,e.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,a,t.lookahead(/\s*\(/))},i="([ui](8|16|32|64|128|size)|f(32|64))?",o=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],l=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:l,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:o},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+i},{begin:"\\b0o([0-7_]+)"+i},{begin:"\\b0x([A-Fa-f0-9_]+)"+i},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+i}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:o,type:l}},{className:"punctuation",begin:"->"},s]}},scss:function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),n=rB,r=nB,a="@[a-z-]+",s={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+eB.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},s,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+aB.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,s,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:a,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:tB.join(" ")},contains:[{begin:a,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},s,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}},shell:function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}},sql:function(e){const t=e.regex,n=e.COMMENT("--","$"),r=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],a=r,s=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(e=>!r.includes(e)),i={match:t.concat(/\b/,t.either(...a),/\s*\(/),relevance:0,keywords:{built_in:a}};function o(e){return t.concat(/\b/,t.either(...e.map(e=>e.replace(/\s+/,"\\s+"))),/\b/)}const l={scope:"keyword",match:o(["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"]),relevance:0};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e){let{exceptions:t,when:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n;return t=t||[],e.map(e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?"".concat(e,"|0"):e)}(s,{when:e=>e.length<3}),literal:["true","false","unknown"],type:["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{scope:"type",match:o(["double precision","large object","with timezone","without timezone"])},l,i,{scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},{scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},{begin:/"/,end:/"/,contains:[{match:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}},swift:function(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],a={match:[/\./,lB(...cB,...dB)],className:{2:"keyword"}},s={match:oB(/\./,lB(...mB)),relevance:0},i=mB.filter(e=>"string"===typeof e).concat(["_|0"]),o={variants:[{className:"keyword",match:lB(...mB.filter(e=>"string"!==typeof e).concat(hB).map(uB),...dB)}]},l={$pattern:lB(/\b\w+/,/#\w+/),keyword:i.concat(gB),literal:pB},u=[a,s,o],c=[{match:oB(/\./,lB(...bB)),relevance:0},{className:"built_in",match:oB(/\b/,lB(...bB),/(?=\()/)}],d={match:/->/,relevance:0},h=[d,{className:"operator",relevance:0,variants:[{match:vB},{match:"\\.(\\.|".concat(xB,")+")}]}],m="([0-9]_*)+",p="([0-9a-fA-F]_*)+",f={className:"number",relevance:0,variants:[{match:"\\b(".concat(m,")(\\.(").concat(m,"))?")+"([eE][+-]?(".concat(m,"))?\\b")},{match:"\\b0x(".concat(p,")(\\.(").concat(p,"))?")+"([pP][+-]?(".concat(m,"))?\\b")},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{className:"subst",variants:[{match:oB(/\\/,e,/[0\\tnr"']/)},{match:oB(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]}},b=function(){return{className:"subst",match:oB(/\\/,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",/[\t ]*(?:[\r\n]|\r\n)/)}},D=function(){return{className:"subst",label:"interpol",begin:oB(/\\/,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",/\(/),end:/\)/}},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{begin:oB(e,/"""/),end:oB(/"""/,e),contains:[g(e),b(e),D(e)]}},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{begin:oB(e,/"/),end:oB(/"/,e),contains:[g(e),D(e)]}},y={className:"string",variants:[x(),x("#"),x("##"),x("###"),v(),v("#"),v("##"),v("###")]},w=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],E={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:w},C=e=>{const t=oB(e,/\//),n=oB(/\//,e);return{begin:t,end:n,contains:[...w,{scope:"comment",begin:"#(?!.*".concat(n,")"),end:/$/}]}},F={scope:"regexp",variants:[C("###"),C("##"),C("#"),E]},A={match:oB(/`/,EB,/`/)},k=[A,{className:"variable",match:/\$\d+/},{className:"variable",match:"\\$".concat(wB,"+")}],N=[{match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:AB,contains:[...h,f,y]}]}},{scope:"keyword",match:oB(/@/,lB(...FB),iB(lB(/\(/,/\s+/)))},{scope:"meta",match:oB(/@/,EB)}],j={match:iB(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:oB(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,wB,"+")},{className:"type",match:CB,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:oB(/\s+&\s+/,iB(CB)),relevance:0}]},_={begin:/</,end:/>/,keywords:l,contains:[...r,...u,...N,d,j]};j.contains.push(_);const S={begin:/\(/,end:/\)/,relevance:0,keywords:l,contains:["self",{match:oB(EB,/\s*:/),keywords:"_|0",relevance:0},...r,F,...u,...c,...h,f,y,...k,...N,j]},B={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,j]},M={begin:/\(/,end:/\)/,keywords:l,contains:[{begin:lB(iB(oB(EB,/\s*:/)),iB(oB(EB,/\s+/,EB,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:EB}]},...r,...u,...h,f,y,...N,j,S],endsParent:!0,illegal:/["']/},O={match:[/(func|macro)/,/\s+/,lB(A.match,EB,vB)],className:{1:"keyword",3:"title.function"},contains:[B,M,t],illegal:[/\[/,/%/]},T={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[B,M,t],illegal:/\[|%/},R={match:[/operator/,/\s+/,vB],className:{1:"keyword",3:"title"}},I={begin:[/precedencegroup/,/\s+/,CB],className:{1:"keyword",3:"title"},contains:[j],keywords:[...fB,...pB],end:/}/},P={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,EB,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:l,contains:[B,...u,{begin:/:/,end:/\{/,keywords:l,contains:[{scope:"title.class.inherited",match:CB},...u],relevance:0}]};for(const L of y.variants){const e=L.contains.find(e=>"interpol"===e.label);e.keywords=l;const t=[...u,...c,...h,f,y,...k];e.contains=[...t,{begin:/\(/,end:/\)/,contains:["self",...t]}]}return{name:"Swift",keywords:l,contains:[...r,O,T,{match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},{match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},P,R,I,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},F,...u,...c,...h,f,y,...k,...N,j,S]}},typescript:function(e){const t=e.regex,n=function(e){const t=e.regex,n=kB,r="<>",a="</>",s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let a;">"===r&&(((e,t)=>{let{after:n}=t;const r="</"+e[0].slice(1);return-1!==e.input.indexOf(r,n)})(e,{after:n})||t.ignoreMatch());const s=e.input.substring(n);((a=s.match(/^\s*=/))||(a=s.match(/^\s+extends\s+/))&&0===a.index)&&t.ignoreMatch()}},i={$pattern:kB,keyword:NB,literal:jB,built_in:OB,"variable.language":MB},o="[0-9](_?[0-9])*",l="\\.(".concat(o,")"),u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",c={className:"number",variants:[{begin:"(\\b(".concat(u,")((").concat(l,")|\\.)?|(").concat(l,"))")+"[eE][+-]?(".concat(o,")\\b")},{begin:"\\b(".concat(u,")\\b((").concat(l,")\\b|\\.)?|(").concat(l,")\\b")},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,p,f,{match:/\$\d+/},c];d.contains=b.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(b)});const D=[].concat(g,d.contains),x=D.concat([{begin:/(\s*)\(/,end:/\)/,keywords:i,contains:["self"].concat(D)}]),v={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:x},y={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[..._B,...SB]}},E={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[v],illegal:/%/},C={match:t.concat(/\b/,function(e){return t.concat("(?!",e.join("|"),")")}([...BB,"super","import"].map(e=>"".concat(e,"\\s*\\("))),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},F={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},A={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},v]},k="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",N={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(k)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[v]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,p,f,g,{match:/\$\d+/},c,w,{scope:"attr",match:n+t.lookahead(":"),relevance:0},N,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:k,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:a},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},E,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[v,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[v]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},y,A,{match:/\$[(.]/}]}}(e),r=kB,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},i={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},o={$pattern:kB,keyword:NB.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:jB,built_in:OB.concat(a),"variable.language":MB},l={className:"meta",begin:"@"+r},u=(e,t,n)=>{const r=e.contains.findIndex(e=>e.label===t);if(-1===r)throw new Error("can not find mode to replace");e.contains.splice(r,1,n)};Object.assign(n.keywords,o),n.exports.PARAMS_CONTAINS.push(l);const c=n.contains.find(e=>"attr"===e.scope),d=Object.assign({},c,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,c,d]),n.contains=n.contains.concat([l,s,i,d]),u(n,"shebang",e.SHEBANG()),u(n,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/});const h=n.contains.find(e=>"func.def"===e.label);return h.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n},vbnet:function(e){const t=e.regex,n=/\d{1,2}\/\d{1,2}\/\d{4}/,r=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,s=/\d{1,2}(:\d{1,2}){1,2}/,i={className:"literal",variants:[{begin:t.concat(/# */,t.either(r,n),/ *#/)},{begin:t.concat(/# */,s,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(r,n),/ +/,t.either(a,s),/ *#/)}]},o=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),l=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i,{className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{className:"label",begin:/^\w+:/},o,l,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[l]}]}},wasm:function(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);return t.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]},contains:[e.COMMENT(/;;/,/$/),t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},e.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},{className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/},{className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/}]}},xml:function(e){const t=e.regex,n=t.concat(/(?:[A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,t.optional(/(?:[\x2D\.0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])*:/),/(?:[\x2D\.0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])*/),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=e.inherit(a,{begin:/\(/,end:/\)/}),i=e.inherit(e.APOS_STRING_MODE,{className:"string"}),o=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/(?:[\x2D\.0-:A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])+/,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,o,i,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,s,o,i]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[o]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}},yaml:function(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},a=e.inherit(r,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),s={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},i={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},o={begin:/\{/,end:/\}/,contains:[i],illegal:"\\n",relevance:0},l={begin:"\\[",end:"\\]",contains:[i],illegal:"\\n",relevance:0},u=[{className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},s,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},o,l,{className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},r],c=[...u];return c.pop(),c.push(a),i.contains=c,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:u}}};const RB=n(7820),IB={};class PB{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(""===e)return;const t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const n=this.stack[this.stack.length-1],r=e.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:r}):n.children.push(...r)}openNode(e){const t=this,n=e.split(".").map(function(e,n){return n?e+"_".repeat(n):t.options.classPrefix+e}),r={type:"element",tagName:"span",properties:{className:n},children:[]};this.stack[this.stack.length-1].children.push(r),this.stack.push(r)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const LB={};function zB(e){const t=e||LB,n=t.aliases,r=t.detect||!1,a=t.languages||TB,s=t.plainText,i=t.prefix,o=t.subset;let l="hljs";const u=function(e){const t=RB.newInstance();return e&&a(e),{highlight:n,highlightAuto:function(e,a){const s=(a||IB).subset||r();let i,o=-1,l=0;for(;++o<s.length;){const r=s[o];if(!t.getLanguage(r))continue;const u=n(r,e,a);u.data&&void 0!==u.data.relevance&&u.data.relevance>l&&(l=u.data.relevance,i=u)}return i||{type:"root",children:[],data:{language:void 0,relevance:l}}},listLanguages:r,register:a,registerAlias:function(e,n){if("string"===typeof e)t.registerAliases("string"===typeof n?n:[...n],{languageName:e});else{let n;for(n in e)if(Object.hasOwn(e,n)){const r=e[n];t.registerAliases("string"===typeof r?r:[...r],{languageName:n})}}},registered:function(e){return Boolean(t.getLanguage(e))}};function n(e,n,r){const a=r||IB,s="string"===typeof a.prefix?a.prefix:"hljs-";if(!t.getLanguage(e))throw new Error("Unknown language: `"+e+"` is not registered");t.configure({__emitter:PB,classPrefix:s});const i=t.highlight(n,{ignoreIllegals:!0,language:e});if(i.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:i.errorRaised});const o=i._emitter.root,l=o.data;return l.language=i.language,l.relevance=i.relevance,o}function r(){return t.listLanguages()}function a(e,n){if("string"===typeof e)t.registerLanguage(e,n);else{let n;for(n in e)Object.hasOwn(e,n)&&t.registerLanguage(n,e[n])}}}(a);if(n&&u.registerAlias(n),i){const e=i.indexOf("-");l=-1===e?i:i.slice(0,e)}return function(e,t){vN(e,"element",function(e,n,a){if("code"!==e.tagName||!a||"element"!==a.type||"pre"!==a.tagName)return;const c=function(e){const t=e.properties.className;let n,r=-1;if(!Array.isArray(t))return;for(;++r<t.length;){const e=String(t[r]);if("no-highlight"===e||"nohighlight"===e)return!1;n||"lang-"!==e.slice(0,5)||(n=e.slice(5)),n||"language-"!==e.slice(0,9)||(n=e.slice(9))}return n}(e);if(!1===c||!c&&!r||c&&s&&s.includes(c))return;Array.isArray(e.properties.className)||(e.properties.className=[]),e.properties.className.includes(l)||e.properties.className.unshift(l);const d=function(e,t){const n=t||{},r="children"in e?e.children:[],a=yS(e),s=FS(e,{whitespace:n.whitespace||"normal",breakBefore:!1,breakAfter:!1}),i=[];"text"!==e.type&&"comment"!==e.type||i.push(...ES(e,{whitespace:s,breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)i.push(...wS(r[o],e,{whitespace:s,breakBefore:o?void 0:a,breakAfter:o<r.length-1?gS(r[o+1]):a}));const l=[];let u;for(o=-1;++o<i.length;){const e=i[o];"number"===typeof e?void 0!==u&&e>u&&(u=e):e&&(void 0!==u&&u>-1&&l.push("\n".repeat(u)||" "),u=-1,l.push(e))}return l.join("")}(e,{whitespace:"pre"});let h;try{h=c?u.highlight(c,d,{prefix:i}):u.highlightAuto(d,{prefix:i,subset:o})}catch(m){const n=m;if(c&&/Unknown language/.test(n.message))return void t.message("Cannot highlight as `"+c+"`, it\u2019s not registered",{ancestors:[a,e],cause:n,place:e.position,ruleId:"missing-language",source:"rehype-highlight"});throw n}!c&&h.data&&h.data.language&&e.properties.className.push("language-"+h.data.language),h.children.length>0&&(e.children=h.children)})}}const UB=cs("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),WB=cs("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]),HB=e=>{let{isOpen:t,onClose:n,articleData:r,onSave:a,categories:s=[],onArticleDataChange:i,isProcessing:l=!1,processingMessage:u="Verarbeitung l\xe4uft..."}=e;const[c,d]=(0,o.useState)(!1),[h,m]=(0,o.useState)(""),p=(0,o.useRef)(null),f=(0,o.useCallback)((e,t)=>{i(qe(qe({},r),{},{[e]:t}))},[r,i]),g=(0,o.useCallback)(()=>{if(!h.trim())return;const e=h.trim().toLowerCase();r.tags.includes(e)||f("tags",[...r.tags,e]),m("")},[h,r.tags,f]),b=(0,o.useCallback)(e=>{f("tags",r.tags.filter(t=>t!==e))},[r.tags,f]),D=(0,o.useCallback)(async e=>{const t=Array.from(e.target.files);if(0!==t.length){d(!0);try{const e=await Promise.all(t.map(e=>new Promise(t=>{const n=new FileReader;n.onloadend=()=>{t({id:"temp-".concat(Date.now(),"-").concat(Math.random()),file:e,preview:n.result,type:e.type.startsWith("image/")?"image":"file",name:e.name,size:e.size})},n.readAsDataURL(e)})));f("media",[...r.media,...e]),sn.success("".concat(t.length," Datei(en) hinzugef\xfcgt"))}catch(n){sn.error("Fehler beim Hochladen der Dateien"),console.error(n)}finally{d(!1)}}},[r.media,f]),x=(0,o.useCallback)(e=>{f("media",r.media.filter(t=>t.id!==e))},[r.media,f]),v=(0,o.useCallback)(e=>{if(!e)return;const t={id:"audio-".concat(Date.now()),blob:e,url:URL.createObjectURL(e),timestamp:(new Date).toISOString(),duration:0};f("audioComments",[...r.audioComments,t]),sn.success("Audiokommentar hinzugef\xfcgt")},[r.audioComments,f]),y=(0,o.useCallback)(e=>{f("audioComments",r.audioComments.filter(t=>t.id!==e))},[r.audioComments,f]),w=(0,o.useCallback)(()=>{var e,t;null!==(e=r.title)&&void 0!==e&&e.trim()?r.category_id?null!==(t=r.content)&&void 0!==t&&t.trim()?a(r):sn.error("Bitte geben Sie Inhalt ein"):sn.error("Bitte w\xe4hlen Sie eine Kategorie"):sn.error("Bitte geben Sie einen Titel ein")},[r,a]);return t?(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8 flex flex-col max-h-[calc(100vh-4rem)] overflow-hidden relative",children:[l&&(0,Oa.jsxs)("div",{className:"absolute inset-0 bg-white/95 z-50 flex flex-col items-center justify-center gap-4",children:[(0,Oa.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,Oa.jsxs)("div",{className:"text-center px-4",children:[(0,Oa.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:u}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Bitte warten Sie einen Moment..."})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[(0,Oa.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\ud83d\udcdd Artikel bearbeiten"}),(0,Oa.jsx)("button",{onClick:n,disabled:l,className:"p-2 hover:bg-gray-100 rounded-full transition disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Oa.jsx)(vs,{size:20})})]}),(0,Oa.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titel *"}),(0,Oa.jsx)("input",{type:"text",value:r.title,onChange:e=>f("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Artikeltitel..."})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategorie *"}),(0,Oa.jsxs)("select",{value:r.category_id,onChange:e=>f("category_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Oa.jsx)("option",{value:"",children:"Kategorie w\xe4hlen..."}),s.map(e=>(0,Oa.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zusammenfassung"}),(0,Oa.jsx)("textarea",{value:r.summary,onChange:e=>f("summary",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y min-h-[50px] text-sm",placeholder:"Kurze Zusammenfassung..."})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inhalt *"}),(0,Oa.jsx)("textarea",{value:r.content,onChange:e=>f("content",e.target.value),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm resize-y min-h-[120px]",placeholder:"Artikelinhalt (Markdown)..."})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,Oa.jsx)(Gg,{size:16,className:"inline mr-1"}),"Tags"]}),(0,Oa.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Oa.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),g()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tag hinzuf\xfcgen..."}),(0,Oa.jsx)("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Hinzuf\xfcgen"})]}),r.tags.length>0&&(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2",children:r.tags.map(e=>(0,Oa.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[e,(0,Oa.jsx)("button",{onClick:()=>b(e),className:"hover:bg-blue-200 rounded-full p-0.5",children:(0,Oa.jsx)(vs,{size:14})})]},e))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,Oa.jsx)(Wf,{size:16,className:"inline mr-1"}),"Fotos & Dateien"]}),(0,Oa.jsx)("input",{ref:p,type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx",onChange:D,className:"hidden"}),(0,Oa.jsxs)("button",{onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},disabled:c,className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition text-gray-600 hover:text-blue-600 disabled:opacity-50",children:[(0,Oa.jsx)(Vf,{size:20,className:"inline mr-2"}),c?"Hochladen...":"Dateien hochladen"]}),r.media.length>0&&(0,Oa.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4",children:r.media.map(e=>(0,Oa.jsxs)("div",{className:"relative group",children:["image"===e.type?(0,Oa.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-32 object-cover rounded-lg border border-gray-200"}):(0,Oa.jsx)("div",{className:"w-full h-32 flex items-center justify-center bg-gray-100 rounded-lg border border-gray-200",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)(Vf,{size:24,className:"mx-auto text-gray-400"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.name})]})}),(0,Oa.jsx)("button",{onClick:()=>x(e.id),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition",children:(0,Oa.jsx)(Ds,{size:14})})]},e.id))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,Oa.jsx)(Uf,{size:16,className:"inline mr-1"}),"Audiokommentare"]}),(0,Oa.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[(0,Oa.jsx)(Kf,{onRecordingComplete:v,existingAudioUrl:null}),r.audioComments.length>0&&(0,Oa.jsx)("div",{className:"mt-4 space-y-2",children:r.audioComments.map(e=>(0,Oa.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200",children:[(0,Oa.jsx)("audio",{src:e.url,controls:!0,className:"flex-1 h-10"}),(0,Oa.jsx)("button",{onClick:()=>y(e.id),className:"ml-3 p-2 text-red-600 hover:bg-red-50 rounded-full transition",children:(0,Oa.jsx)(Ds,{size:16})})]},e.id))})]})]})]}),(0,Oa.jsxs)("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex justify-end gap-3 flex-shrink-0",children:[(0,Oa.jsx)("button",{onClick:n,disabled:l,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Abbrechen"}),(0,Oa.jsxs)("button",{onClick:w,disabled:l,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Oa.jsx)(Vg,{size:18}),"Speichern"]})]})]})}):null},qB=[{value:"recent",label:"Neueste zuerst"},{value:"popular",label:"Meist angesehen"},{value:"helpful",label:"Hilfreichste"},{value:"oldest",label:"\xc4lteste zuerst"}],VB=[{id:"published",label:"Ver\xf6ffentlicht"},{id:"draft",label:"Entw\xfcrfe"},{id:"archived",label:"Archiv"}],KB=[{value:"auto",label:"Automatisch erkennen"},{value:"de",label:"Deutsch"},{value:"en",label:"Englisch"},{value:"uk",label:"Ukrainisch"},{value:"pl",label:"Polnisch"},{value:"tr",label:"T\xfcrkisch"}],YB=e=>{let{icon:t,color:n}=e;const r={book:cl,layers:UB,"file-text":Ng,tag:Gg}[t]||cl;return(0,Oa.jsx)(r,{size:18,style:{color:n}})},GB=e=>{if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},$B=e=>{if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},ZB=e=>{if(!e)return[];if(Array.isArray(e))return e.filter(Boolean);if("string"===typeof e)try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(Boolean)}catch(t){return e.replace(/[{}]/g,"").split(",").map(e=>e.trim()).filter(Boolean)}return[]},XB=function(){var e,t,n,r,a,s,i;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qe(qe({},o),{},{tags:ZB(o.tags),view_count:Number(null!==(e=null!==(t=o.view_count)&&void 0!==t?t:o.views_count)&&void 0!==e?e:0),helpful_count:Number(null!==(n=o.helpful_count)&&void 0!==n?n:0),not_helpful_count:Number(null!==(r=o.not_helpful_count)&&void 0!==r?r:0),version_count:Number(null!==(a=null!==(s=o.version_count)&&void 0!==s?s:o.current_version)&&void 0!==a?a:0),media_count:Number(null!==(i=o.media_count)&&void 0!==i?i:Array.isArray(o.media)?o.media.length:0)})},QB=()=>(0,Oa.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),JB=e=>{let{icon:t,title:n,description:r}=e;return(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[(0,Oa.jsx)(t,{size:64,className:"text-gray-300 mb-4"}),(0,Oa.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:n}),(0,Oa.jsx)("p",{className:"text-gray-500",children:r})]})},eM=e=>{let{article:t,onClick:n,canManage:r,onEdit:a,onStatusChange:s}=e;const i=t.summary||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return!e||e.length<=t?e:e.substring(0,t).trim()+"..."}(t.content,160),o=t.status||"draft",l="published"===o?"Ver\xf6ffentlicht":"archived"===o?"Archiviert":"Entwurf";return(0,Oa.jsxs)("div",{onClick:n,className:"kb-article-card group cursor-pointer",children:[(0,Oa.jsxs)("div",{className:"kb-article-card__tag-row",children:[(0,Oa.jsx)("span",{className:"kb-article-card__status kb-article-card__status--".concat(o),children:l}),t.category_name&&(0,Oa.jsx)("span",{className:"kb-article-card__category",style:{color:t.category_color||"#2563eb"},children:t.category_name})]}),(0,Oa.jsx)("h3",{className:"kb-article-card__title",children:t.title}),i&&(0,Oa.jsx)("p",{className:"kb-article-card__excerpt",children:i}),(0,Oa.jsxs)("div",{className:"kb-article-card__meta",children:[(0,Oa.jsxs)("div",{className:"kb-article-card__meta-group",children:[(0,Oa.jsx)(dl,{size:14}),(0,Oa.jsx)("span",{children:t.author_name||"Unbekannt"})]}),(0,Oa.jsxs)("div",{className:"kb-article-card__meta-group",children:[(0,Oa.jsx)(fs,{size:14}),(0,Oa.jsx)("span",{children:GB(t.created_at)})]}),(0,Oa.jsxs)("div",{className:"kb-article-card__meta-group",children:[(0,Oa.jsx)(Yb,{size:14}),(0,Oa.jsx)("span",{children:t.view_count||0})]}),"number"===typeof t.version_count&&(0,Oa.jsxs)("div",{className:"kb-article-card__meta-group",children:[(0,Oa.jsx)(UB,{size:14}),(0,Oa.jsxs)("span",{children:["Version",1===t.version_count?"":"en"," ",t.version_count]})]})]}),t.tags&&t.tags.length>0&&(0,Oa.jsxs)("div",{className:"kb-article-card__tags",children:[t.tags.slice(0,3).map((e,t)=>(0,Oa.jsxs)("span",{className:"kb-article-card__tag",children:["#",e]},t)),t.tags.length>3&&(0,Oa.jsxs)("span",{className:"kb-article-card__tag muted",children:["+",t.tags.length-3]})]}),(0,Oa.jsxs)("div",{className:"kb-article-card__stats",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,Oa.jsx)(Yb,{size:14}),(0,Oa.jsx)("span",{children:t.view_count||0})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,Oa.jsx)(CC,{size:14}),(0,Oa.jsx)("span",{children:t.comments_count||0})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat(!0===t.user_vote?"text-green-600":"text-gray-500"),children:[(0,Oa.jsx)(ms,{size:14}),(0,Oa.jsx)("span",{children:t.helpful_count||0})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat(!1===t.user_vote?"text-red-600":"text-gray-500"),children:[(0,Oa.jsx)(WB,{size:14}),(0,Oa.jsx)("span",{children:t.not_helpful_count||0})]})]}),r&&(0,Oa.jsxs)("div",{className:"kb-article-card__actions",children:[(0,Oa.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),null===a||void 0===a||a(t)},children:[(0,Oa.jsx)(Hb,{size:12}),"Bearbeiten"]}),(0,Oa.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation();const n="published"===t.status?"archived":"published";null===s||void 0===s||s(t,n)},children:[(0,Oa.jsx)(Zb,{size:12}),"published"===t.status?"Archivieren":"Ver\xf6ffentlichen"]})]})]})},tM=e=>{let{article:t,onClose:n,onEdit:r,onDelete:a,onVote:s,onArticleUpdated:i,currentUserId:l,currentUserRole:u,onVersionDiff:c,diffLoadingVersion:d,isMobile:h=!1}=e;const[m,p]=(0,o.useState)(!1),[f,g]=(0,o.useState)(!1),[b,D]=(0,o.useState)([]),[x,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),E=t.author_id===l||["admin","superadmin","observer"].includes(u),C=E||["admin","superadmin"].includes(u),F=["admin","superadmin"].includes(u),A=async e=>{if(!f){g(!0);try{await s(t.id,e)}finally{g(!1)}}},k=e=>{const t=nl(e.file_url);return"image"===e.media_type?(0,Oa.jsx)("img",{src:t,alt:e.caption||e.file_name,className:"w-full h-40 object-cover rounded-lg"}):"audio"===e.media_type?(0,Oa.jsx)("audio",{controls:!0,className:"w-full",children:(0,Oa.jsx)("source",{src:t})}):"video"===e.media_type?(0,Oa.jsx)("video",{controls:!0,className:"w-full rounded-lg h-40 object-cover",children:(0,Oa.jsx)("source",{src:t})}):(0,Oa.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 underline",children:"Dokument \xf6ffnen"})},N=async e=>{if(F&&window.confirm("Artikel auf Version ".concat(e," zur\xfccksetzen?")))try{await((e,t)=>To.post("/kb/articles/".concat(e,"/versions/").concat(t,"/restore")))(t.id,e),sn.success("Version ".concat(e," wiederhergestellt")),v(!1),i&&i(t.id)}catch(n){console.error("Error restoring version:",n),sn.error("Version konnte nicht wiederhergestellt werden")}},j=h?"px-5 py-4":"px-6 py-4",_=h?"px-5 py-4":"px-6 py-6",S=h?"space-y-5":"space-y-6",B=h?"flex flex-col gap-3":"flex items-center justify-between",M=h?"mt-4 space-y-3 max-h-[35vh] overflow-y-auto pr-1":"mt-4 space-y-3",O="".concat(h?"px-5 py-4":"px-6 py-6"," ").concat(S," flex-1 overflow-y-auto ").concat(h?"max-h-[55vh]":""),T=(0,Oa.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between ".concat(j," border-b border-gray-200"),children:[(0,Oa.jsxs)("div",{className:"flex-1 mr-4",children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),(0,Oa.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[(0,Oa.jsxs)("div",{className:"flex items-center",children:[(0,Oa.jsx)(dl,{size:16,className:"mr-1"}),(0,Oa.jsx)("span",{children:t.author_name||"Unbekannt"})]}),(0,Oa.jsxs)("div",{className:"flex items-center",children:[(0,Oa.jsx)(fs,{size:16,className:"mr-1"}),(0,Oa.jsx)("span",{children:$B(t.created_at)})]}),(0,Oa.jsxs)("div",{className:"flex items-center",children:[(0,Oa.jsx)(Yb,{size:16,className:"mr-1"}),(0,Oa.jsxs)("span",{children:[t.view_count||0," Aufrufe"]})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Oa.jsx)(UB,{size:16,className:"text-gray-500"}),(0,Oa.jsxs)("span",{children:[t.version_count||0," Version",1===t.version_count?"":"en"]})]}),t.category_name&&(0,Oa.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full text-white",style:{backgroundColor:t.category_color||"#6B7280"},children:t.category_name})]})]}),(0,Oa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Oa.jsx)(vs,{size:24})})]}),(0,Oa.jsxs)("div",{className:O,children:[t.summary&&(0,Oa.jsx)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 text-sm text-blue-900",children:t.summary}),(0,Oa.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,Oa.jsx)(dj,{remarkPlugins:[lS],rehypePlugins:[zB],children:t.content})}),t.media&&t.media.length>0&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Medien"}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.media.map(e=>(0,Oa.jsxs)("div",{className:"border border-gray-200 rounded-xl p-3 bg-gray-50 space-y-2",children:[k(e),e.caption&&(0,Oa.jsx)("p",{className:"text-xs text-gray-600",children:e.caption})]},e.id))})]}),t.tags&&t.tags.length>0&&(0,Oa.jsxs)("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-200",children:[(0,Oa.jsx)(Gg,{size:16,className:"text-gray-500 mr-2"}),t.tags.map((e,t)=>(0,Oa.jsx)("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:e},t))]}),(0,Oa.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,Oa.jsxs)("button",{type:"button",onClick:async()=>{if(!x&&0===b.length){w(!0);try{const n=await(e=t.id,To.get("/kb/articles/".concat(e,"/versions")));D(n.data)}catch(n){console.error("Error loading versions:",n),sn.error("Versionen konnten nicht geladen werden")}finally{w(!1)}}var e;v(e=>!e)},className:"text-sm font-semibold text-blue-600 hover:text-blue-800 flex items-center gap-2",children:[(0,Oa.jsx)(UB,{size:16}),x?"Versionen ausblenden":"Versionen anzeigen (".concat(b.length||t.version_count||0,")")]}),x&&(0,Oa.jsx)("div",{className:M,children:y?(0,Oa.jsx)(QB,{}):0===b.length?(0,Oa.jsx)("p",{className:"text-sm text-gray-500",children:"Keine Versionen verf\xfcgbar."}):b.map(e=>(0,Oa.jsxs)("div",{className:"flex items-center justify-between border border-gray-200 rounded-lg p-3 bg-white",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:["Version ",e.version_number]}),(0,Oa.jsxs)("p",{className:"text-xs text-gray-500",children:[$B(e.created_at)," \xb7 ",e.author_name||"Unbekannt"]})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,Oa.jsx)("button",{type:"button",onClick:()=>c(e.version_number),disabled:d===e.version_number,className:"text-xs px-3 py-1.5 rounded-md border border-gray-200 text-gray-700 hover:bg-gray-50 disabled:opacity-60",children:d===e.version_number?"L\xe4dt\u2026":"Diff"}),F&&(0,Oa.jsx)("button",{type:"button",onClick:()=>N(e.version_number),className:"text-xs px-3 py-1.5 rounded-md border border-blue-200 text-blue-700 hover:bg-blue-50",children:"Wiederherstellen"})]})]},e.id||e.version_number))})]})]}),(0,Oa.jsxs)("div",{className:"".concat(B," ").concat(_," border-t border-gray-200 bg-gray-50"),children:[(0,Oa.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[(0,Oa.jsx)("span",{className:"text-sm text-gray-600",children:"War dieser Artikel hilfreich?"}),(0,Oa.jsxs)("button",{onClick:()=>A(!0),disabled:f||!0===t.user_vote,className:"flex items-center space-x-1 px-3 py-2 rounded-md transition-colors ".concat(!0===t.user_vote?"bg-green-100 text-green-700":"bg-gray-100 hover:bg-green-50 text-gray-700 hover:text-green-700"," disabled:opacity-50"),children:[(0,Oa.jsx)(ms,{size:16}),(0,Oa.jsx)("span",{className:"text-sm font-medium",children:t.helpful_count||0})]}),(0,Oa.jsxs)("button",{onClick:()=>A(!1),disabled:f||!1===t.user_vote,className:"flex items-center space-x-1 px-3 py-2 rounded-md transition-colors ".concat(!1===t.user_vote?"bg-red-100 text-red-700":"bg-gray-100 hover:bg-red-50 text-gray-700 hover:text-red-700"," disabled:opacity-50"),children:[(0,Oa.jsx)(WB,{size:16}),(0,Oa.jsx)("span",{className:"text-sm font-medium",children:t.not_helpful_count||0})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[E&&(0,Oa.jsxs)("button",{onClick:()=>r(t),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,Oa.jsx)(Hb,{size:16}),(0,Oa.jsx)("span",{children:"Bearbeiten"})]}),C&&(0,Oa.jsxs)("button",{onClick:async()=>{if(window.confirm("M\xf6chten Sie diesen Artikel wirklich l\xf6schen?")){p(!0);try{await a(t.id),n()}catch(e){p(!1)}}},disabled:m,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",children:[(0,Oa.jsx)(Ds,{size:16}),(0,Oa.jsx)("span",{children:m?"Wird gel\xf6scht...":"L\xf6schen"})]})]})]})]});return h?(0,Oa.jsxs)("div",{className:"modal-base active",role:"dialog","aria-modal":"true",children:[(0,Oa.jsx)("div",{className:"backdrop active"}),(0,Oa.jsxs)("div",{className:"bottom-sheet max-h-[calc(100vh-2rem)] w-full overflow-hidden flex flex-col",children:[(0,Oa.jsx)("div",{className:"pull-handle","aria-hidden":"true"}),T]})]}):(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Oa.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[calc(100vh-4rem)] my-8 flex flex-col overflow-hidden",children:T})})},nM=e=>{let{article:t,categories:n,allTags:r,onSave:a,onClose:s,onDraftSaved:i=()=>{}}=e;const{isMobile:l}=ii(),[u,c]=(0,o.useState)((null===t||void 0===t?void 0:t.title)||""),[d,h]=(0,o.useState)((null===t||void 0===t?void 0:t.content)||""),[m,p]=(0,o.useState)((null===t||void 0===t?void 0:t.summary)||""),[f,g]=(0,o.useState)((null===t||void 0===t?void 0:t.category_id)||""),[b,D]=(0,o.useState)((null===t||void 0===t?void 0:t.tags)||[]),[x,v]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),[E,C]=(0,o.useState)((null===t||void 0===t?void 0:t.status)||"draft"),[F,A]=(0,o.useState)(!1),[k,N]=(0,o.useState)(!1),[j,_]=(0,o.useState)([]),[S,B]=(0,o.useState)((null===t||void 0===t?void 0:t.media)||[]),[M,O]=(0,o.useState)(!1),[T,R]=(0,o.useState)((null===t||void 0===t?void 0:t.id)||null),[I,P]=(0,o.useState)(!1),[L,z]=(0,o.useState)(""),U=!(null===t||void 0===t||!t.id);(0,o.useEffect)(()=>{c((null===t||void 0===t?void 0:t.title)||""),h((null===t||void 0===t?void 0:t.content)||""),p((null===t||void 0===t?void 0:t.summary)||""),g((null===t||void 0===t?void 0:t.category_id)||""),D((null===t||void 0===t?void 0:t.tags)||[]),C((null===t||void 0===t?void 0:t.status)||"draft"),B((null===t||void 0===t?void 0:t.media)||[]),R((null===t||void 0===t?void 0:t.id)||null)},[t]);const W=(0,o.useMemo)(()=>{if(!x.trim())return[];const e=x.toLowerCase();return r.filter(t=>t.name.toLowerCase().includes(e)&&!b.includes(t.name)).slice(0,5)},[x,b,r]),H=e=>{e&&!b.includes(e)&&b.length<10&&(D([...b,e]),v(""),w(!1))},q=(0,o.useCallback)(async()=>{var e;if(F||I)return;if(!u.trim()&&!d.trim())return;const t=f||(null===(e=n[0])||void 0===e?void 0:e.id);if(!t)return;const r=b.map(e=>e.trim()).filter(Boolean),a={title:u.trim(),content:d.trim(),summary:m.trim()||null,category_id:parseInt(t,10),tags:r,status:"draft",auto_save:!0};P(!0),z("");try{const e=(T?await(s=T,o=a,To.put("/kb/articles/".concat(s),o)):await(e=>To.post("/kb/articles",e))(a)).data;null!==e&&void 0!==e&&e.id&&(R(e.id),i(e))}catch(l){console.error("Auto-save failed:",l),z("Entwurf konnte nicht automatisch gespeichert werden")}finally{P(!1)}var s,o},[u,d,m,f,b,n,T,F,I,i]),V=async e=>{try{await(e=>To.delete("/kb/media/".concat(e)))(e),B(t=>t.filter(t=>t.id!==e)),sn.success("Anhang entfernt")}catch(t){console.error("Error deleting media:",t),sn.error("Fehler beim Entfernen des Anhangs")}};(0,o.useEffect)(()=>{const e=setTimeout(()=>{q()},4500);return()=>clearTimeout(e)},[u,d,m,f,b,q,n]);const K=l?"fixed inset-0 bg-black/60 flex items-start justify-center z-50 p-3 pt-4":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",Y=l?"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[calc(100vh-1.5rem)] max-h-[calc(100vh-1.5rem)] flex flex-col overflow-hidden":"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[calc(100vh-4rem)] my-8 flex flex-col overflow-hidden";return(0,Oa.jsx)("div",{className:K,children:(0,Oa.jsxs)("div",{className:Y,children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 ".concat(l?"sticky top-0 bg-white z-10":""),children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:U?"Artikel bearbeiten":"Neuer Artikel"}),(0,Oa.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Oa.jsx)(vs,{size:24})})]}),(0,Oa.jsxs)("form",{id:"kb-article-form",onSubmit:async e=>{if(e.preventDefault(),u.trim())if(d.trim())if(f){A(!0);try{const e={title:u.trim(),content:d.trim(),summary:m.trim()||null,category_id:parseInt(f,10),tags:b.map(e=>e.trim()).filter(Boolean),status:E},t=await a(e);if(null===t||void 0===t||!t.id)throw new Error("Artikel-ID fehlt nach dem Speichern");await(async e=>{if(j.length){O(!0);try{for(const[t,n]of j.entries()){const r=new FormData;r.append("file",n.file),n.caption&&r.append("caption",n.caption),r.append("display_order",t),await zo(e,r)}return j.forEach(e=>{e.previewUrl&&URL.revokeObjectURL(e.previewUrl)}),_([]),!0}catch(t){throw console.error("Error uploading media:",t),sn.error("Anh\xe4nge konnten nicht hochgeladen werden"),t}finally{O(!1)}}})(t.id),s()}catch(r){var t,n;A(!1);const e=(null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||(null===r||void 0===r?void 0:r.message)||"Artikel konnte nicht gespeichert werden";return void sn.error(e)}finally{A(!1)}}else sn.error("Bitte w\xe4hlen Sie eine Kategorie aus");else sn.error("Bitte geben Sie Inhalt ein");else sn.error("Bitte geben Sie einen Titel ein")},className:"flex-1 overflow-y-auto",children:[(0,Oa.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),(0,Oa.jsx)("input",{type:"text",value:u,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Artikel-Titel eingeben",maxLength:200,required:!0})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategorie *"}),(0,Oa.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,Oa.jsx)("option",{value:"",children:"Kategorie ausw\xe4hlen"}),n.map(e=>(0,Oa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Oa.jsxs)("select",{value:E,onChange:e=>C(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Oa.jsx)("option",{value:"draft",children:"Entwurf"}),(0,Oa.jsx)("option",{value:"published",children:"Ver\xf6ffentlicht"})]})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zusammenfassung (max. 200 Zeichen)"}),(0,Oa.jsx)("textarea",{value:m,onChange:e=>p(e.target.value.slice(0,200)),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y min-h-[60px]",rows:2,placeholder:"Kurze Beschreibung des Artikels",maxLength:200}),(0,Oa.jsxs)("div",{className:"text-xs text-gray-500 mt-1 text-right",children:[m.length,"/200"]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (max. 10)"}),(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:b.map((e,t)=>(0,Oa.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[e,(0,Oa.jsx)("button",{type:"button",onClick:()=>{return t=e,void D(b.filter(e=>e!==t));var t},className:"ml-2 text-blue-700 hover:text-blue-900",children:(0,Oa.jsx)(vs,{size:14})})]},t))}),(0,Oa.jsx)("input",{type:"text",value:x,onChange:e=>{v(e.target.value),w(!0)},onKeyDown:e=>{"Enter"===e.key&&x.trim()&&(e.preventDefault(),H(x.trim()))},onFocus:()=>w(!0),disabled:b.length>=10,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:b.length>=10?"Maximum erreicht":"Tag eingeben und Enter dr\xfccken"}),y&&W.length>0&&(0,Oa.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto",children:W.map((e,t)=>(0,Oa.jsxs)("button",{type:"button",onClick:()=>H(e.name),className:"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center justify-between",children:[(0,Oa.jsx)("span",{children:e.name}),(0,Oa.jsxs)("span",{className:"text-xs text-gray-500",children:[e.usage_count," mal verwendet"]})]},t))})]})]}),U&&(null===S||void 0===S?void 0:S.length)>0&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bereits hochgeladene Medien"}),(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S.map(e=>(0,Oa.jsxs)("div",{className:"flex items-center justify-between border border-gray-200 rounded-lg p-3 bg-gray-50",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("span",{className:"text-lg",children:"image"===e.media_type?"\ud83d\uddbc\ufe0f":"audio"===e.media_type?"\ud83c\udfa7":"video"===e.media_type?"\ud83c\udfac":"\ud83d\udcc4"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.file_name||e.media_type}),e.caption&&(0,Oa.jsx)("p",{className:"text-xs text-gray-500",children:e.caption})]})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>V(e.id),className:"text-xs text-red-600 hover:text-red-800 font-semibold",children:"Entfernen"})]},e.id))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medien hinzuf\xfcgen (Foto, Video, Audio, Dokument)"}),(0,Oa.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[(0,Oa.jsx)("input",{type:"file",multiple:!0,accept:"image/*,audio/*,video/*,application/pdf",id:"kb-media-input",className:"hidden",onChange:e=>{const t=Array.from(e.target.files||[]);if(!t.length)return;if(j.length+t.length>10)return sn.error("Maximal 10 Anh\xe4nge pro Speichervorgang erlaubt"),void(e.target.value="");const n=t.map(e=>({id:"".concat(e.name,"-").concat(Date.now(),"-").concat(Math.random()),file:e,previewUrl:URL.createObjectURL(e),caption:""}));_(e=>[...e,...n]),e.target.value=""}}),(0,Oa.jsx)("label",{htmlFor:"kb-media-input",className:"cursor-pointer inline-flex items-center justify-center px-4 py-2 bg-blue-50 text-blue-700 rounded-md hover:bg-blue-100 transition-colors",children:"Dateien ausw\xe4hlen"}),(0,Oa.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Unterst\xfctzt Bilder, Videos, Audio und PDFs. Max. 10 Dateien pro Speichervorgang."})]}),j.length>0&&(0,Oa.jsx)("div",{className:"mt-4 space-y-3",children:j.map(e=>(0,Oa.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 flex flex-col gap-2",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("span",{className:"text-lg",children:e.file.type.startsWith("image/")?"\ud83d\uddbc\ufe0f":e.file.type.startsWith("audio/")?"\ud83c\udfa7":e.file.type.startsWith("video/")?"\ud83c\udfac":"\ud83d\udcc4"}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.file.name}),(0,Oa.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.file.size/1048576).toFixed(2)," MB"]})]})]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void _(e=>{const n=e.find(e=>e.id===t);return null!==n&&void 0!==n&&n.previewUrl&&URL.revokeObjectURL(n.previewUrl),e.filter(e=>e.id!==t)});var t},className:"text-xs text-red-600 hover:text-red-800 font-semibold",children:"Entfernen"})]}),(0,Oa.jsx)("input",{type:"text",value:e.caption,onChange:t=>{return n=e.id,r=t.target.value,void _(e=>e.map(e=>e.id===n?qe(qe({},e),{},{caption:r}):e));var n,r},placeholder:"Kurzbeschreibung (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]},e.id))})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Inhalt * (Markdown)"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>N(!k),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:k?"Editor anzeigen":"Vorschau anzeigen"})]}),k?(0,Oa.jsx)("div",{className:"border border-gray-300 rounded-md p-4 min-h-[400px] prose prose-sm max-w-none",children:(0,Oa.jsx)(dj,{remarkPlugins:[lS],rehypePlugins:[zB],children:d||"*Kein Inhalt zum Anzeigen*"})}):(0,Oa.jsx)("textarea",{value:d,onChange:e=>h(e.target.value),placeholder:"Artikel-Inhalt in Markdown schreiben...",className:"w-full h-64 p-4 border border-gray-300 rounded-md font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y min-h-[250px]"})]})]}),(I||L)&&(0,Oa.jsx)("div",{className:"px-6 text-xs text-slate-500",children:I?"Entwurf wird automatisch gespeichert\u2026":L})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[(0,Oa.jsx)("button",{type:"button",onClick:s,disabled:F,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Abbrechen"}),(0,Oa.jsxs)("button",{type:"submit",form:"kb-article-form",disabled:F||M,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:[(0,Oa.jsx)(Vg,{size:16}),(0,Oa.jsx)("span",{children:F||M?"Wird gespeichert...":"Speichern"})]})]})]})})},rM=e=>{let{isOpen:t,onClose:n,diff:r}=e;if(!t||!r)return null;const a=r.version1||{},s=r.version2||{},i=(a.content||"").split("\\n"),o=(s.content||"").split("\\n"),l=Math.max(i.length,o.length),u=Array.from({length:l},(e,t)=>({index:t,left:i[t]||"",right:o[t]||"",changed:(i[t]||"").trim()!==(o[t]||"").trim()})),c=u.filter(e=>e.changed).length;return(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-60 px-4 py-8",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-5xl shadow-2xl overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-[0.2em]",children:"Version Diff"}),(0,Oa.jsxs)("h3",{className:"text-xl font-bold text-slate-900",children:["Version ",a.version_number," \u2194 ",s.version_number]}),(0,Oa.jsxs)("p",{className:"text-xs text-slate-500",children:[$B(a.created_at)," \xb7 ",$B(s.created_at)," \xb7 ",c," Zeilen ge\xe4ndert"]})]}),(0,Oa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Oa.jsx)(vs,{size:20})})]}),(0,Oa.jsx)("div",{className:"grid md:grid-cols-2 gap-4 px-6 py-6",children:["left","right"].map((e,t)=>(0,Oa.jsxs)("div",{className:"border border-gray-100 rounded-2xl bg-slate-50 p-4",children:[(0,Oa.jsxs)("p",{className:"text-xs uppercase text-gray-500 mb-3",children:["Version ","left"===e?a.version_number:s.version_number]}),(0,Oa.jsx)("div",{className:"space-y-1 text-xs font-mono leading-snug",children:u.map(t=>{const n="left"===e?t.left:t.right;return(0,Oa.jsxs)("div",{className:"flex gap-2 ".concat(t.changed?"bg-amber-50 border border-amber-200 rounded-md px-2 py-1":""),children:[(0,Oa.jsx)("span",{className:"text-[10px] text-gray-400 w-6 text-right",children:t.index+1}),(0,Oa.jsx)("span",{className:"break-words",children:n||"\xb7"})]},"".concat(e,"-").concat(t.index))})})]},e))})]})})},aM=()=>{var e,t;const n=te(),{isMobile:r}=ii(),[a,s]=(0,o.useState)([]),[i,l]=(0,o.useState)([]),[u,c]=(0,o.useState)([]),[d,h]=(0,o.useState)(null),[m,p]=(0,o.useState)(""),[f,g]=(0,o.useState)(""),[b,D]=(0,o.useState)("recent"),[x,v]=(0,o.useState)("published"),[y,w]=(0,o.useState)(1),[E,C]=(0,o.useState)(!1),[F,A]=(0,o.useState)(!0),[k,N]=(0,o.useState)(null),[j,_]=(0,o.useState)(!1),[S,B]=(0,o.useState)(!1),[M,O]=(0,o.useState)(null),[T,R]=(0,o.useState)(null),I=(0,o.useMemo)(()=>["admin","superadmin","observer"].includes(null===T||void 0===T?void 0:T.role),[T]),[P,L]=(0,o.useState)(!1),[z,U]=(0,o.useState)("auto"),[W,H]=(0,o.useState)(!1),[q,V]=(0,o.useState)(""),[K,Y]=(0,o.useState)(null),[G,$]=(0,o.useState)(""),[Z,X]=(0,o.useState)(!1),[Q,J]=(0,o.useState)({title:"",summary:"",content:"",category_id:"",tags:[],media:[],audioComments:[]}),[ee,ne]=(0,o.useState)(!1),[re,ae]=(0,o.useState)(null),[se,ie]=(0,o.useState)(null),[oe,le]=(0,o.useState)(!1),[ue,ce]=(0,o.useState)({name:"",description:"",icon:"book",color:"#2563eb"}),de=(0,o.useCallback)(function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{},t=(Array.isArray(e.steps)?e.steps:[]).map(e=>e?"string"===typeof e?e.trim():(e.title||e.description||e.body||"").trim():"").filter(Boolean),n=(e.details||e.body||e.content||"").split(/\n+/).map(e=>e.trim()).filter(Boolean),r=t.length?t:n.slice(0,5),a=[e.content,e.body,e.details,e.instructions,e.transcript].filter(Boolean).join("\n\n"),s=(e.title||e.heading||e.intent||"Neue Anleitung").trim(),i=(e.summary||e.description||r[0]||"").trim(),o=(e.details||e.notes||e.additional||"").trim();return{title:s,summary:i||(a||"Diktierter Inhalt wird hier angezeigt.").slice(0,200),details:o,steps:r,content:a||e.summary||i,transcript:e.transcript||"",styleHint:"Lehrreich, klar und praxisnah formuliert"}},[]);(0,o.useEffect)(()=>{(async()=>{try{const e=await Ma.get("/auth/user");R(e.data)}catch(e){console.error("Error fetching user:",e)}})()},[]),(0,o.useEffect)(()=>{const e=new URLSearchParams(n.search).get("q");e&&e!==m&&p(e)},[n.search,m]),(0,o.useEffect)(()=>{(async()=>{try{const e=await Ma.get("/kb/categories");s(e.data)}catch(e){console.error("Error fetching categories:",e),sn.error("Fehler beim Laden der Kategorien")}})()},[]),(0,o.useEffect)(()=>{(async()=>{try{const e=await Ma.get("/kb/tags");c(e.data.all||[])}catch(e){console.error("Error fetching tags:",e)}})()},[]),(0,o.useEffect)(()=>{const e=setTimeout(()=>{g(m),w(1)},300);return()=>clearTimeout(e)},[m]);const he=(0,o.useCallback)(async()=>{C(!0);try{const e=new URLSearchParams({status:x,limit:1200,offset:0,sort:b});d&&e.append("category_id",d),f&&e.append("search",f);const t=await Ma.get("/kb/articles?".concat(e.toString())),n=Array.isArray(t.data)?t.data.map(XB):[];l(n)}catch(e){console.error("Error fetching articles:",e),sn.error("Fehler beim Laden der Artikel"),l([])}finally{C(!1),A(!1)}},[d,f,b,x]);(0,o.useEffect)(()=>{he()},[he]);const me=(0,o.useMemo)(()=>{const e=12*(y-1),t=e+12;return i.slice(e,t)},[i,y]),pe=Math.ceil(i.length/12),fe=(0,o.useMemo)(()=>{const e=i.length,t=i.filter(e=>{var t,n;return(null!==(t=e.media_count)&&void 0!==t?t:(null===(n=e.media)||void 0===n?void 0:n.length)||0)>0}).length,n=i.map(e=>e.updated_at||e.created_at).filter(Boolean).sort((e,t)=>new Date(t)-new Date(e))[0];return{total:e,media:t,lastUpdated:n?GB(n):"\u2014"}},[i]),ge=(0,o.useMemo)(()=>{const e={};return i.forEach(t=>{t.category_id&&(e[t.category_id]=(e[t.category_id]||0)+1)}),e},[i]),be=r?"kb-grid-wrapper flex-1 overflow-y-auto px-4 pt-3 pb-28":"kb-grid-wrapper flex-1 overflow-y-auto p-6",De=(0,o.useCallback)(async e=>{if(e)try{const t=await Ma.get("/kb/articles/".concat(e));N(XB(t.data))}catch(t){console.error("Error refreshing article:",t)}},[]),xe=()=>{O(null),B(!0)},ve=e=>{O(e),_(!1),B(!0)},ye=async e=>{try{var t;let n;Boolean(null===M||void 0===M?void 0:M.id)?(n=await Ma.put("/kb/articles/".concat(M.id),e),sn.success("Artikel erfolgreich aktualisiert")):(n=await Ma.post("/kb/articles",e),sn.success("Artikel erfolgreich erstellt"));const r=XB(null===(t=n)||void 0===t?void 0:t.data);he();const a=await Ma.get("/kb/tags");if(c(a.data.all||[]),null!==r&&void 0!==r&&r.id&&(null===k||void 0===k?void 0:k.id)===r.id){const e=await Ma.get("/kb/articles/".concat(r.id));N(XB(e.data))}return r}catch(a){var n,r;throw console.error("Error saving article:",a),sn.error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Fehler beim Speichern des Artikels"),a}},we=(0,o.useCallback)(e=>{if(null===e||void 0===e||!e.id)return;const t=XB(e);l(e=>e.some(e=>e.id===t.id)?e.map(e=>e.id===t.id?t:e):[t,...e]),N(e=>(null===e||void 0===e?void 0:e.id)===t.id?t:e)},[]),Ee=async(e,t)=>{try{await Ma.put("/kb/articles/".concat(e.id),{status:t}),sn.success("published"===t?"Artikel ver\xf6ffentlicht":"Artikel archiviert"),he(),(null===k||void 0===k?void 0:k.id)===e.id&&De(e.id)}catch(a){var n,r;console.error("Error updating article status:",a),sn.error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Status konnte nicht ge\xe4ndert werden")}},Ce=(0,o.useCallback)(()=>{V(""),$(""),Y(null),L(!0)},[]),Fe=(0,o.useCallback)(()=>{L(!1),Y(null),$(""),V("")},[]),Ae=(0,o.useCallback)(async e=>{if(e){H(!0),V("");try{const t=new FormData;t.append("audio",e,"dictation.webm"),t.append("language",z);const n=await(e=>To.post("/kb/articles/dictate",e,{headers:{"Content-Type":"multipart/form-data"}}))(t),{transcript:r,instructions:a}=n.data,s=de(a);$(r||s.content||""),Y(s),sn.success("Diktat erfolgreich verarbeitet")}catch(o){var t,n,r,a,s,i;console.error("Error processing dictation:",o),console.error("Error details:",{response:null===(t=o.response)||void 0===t?void 0:t.data,status:null===(n=o.response)||void 0===n?void 0:n.status,message:o.message});const e=(null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.error)||(null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.details)||o.message||"Diktat konnte nicht verarbeitet werden";V(e),sn.error(e)}finally{H(!1)}}},[z]),ke=(0,o.useCallback)(()=>{var e;if(!K)return;const t=d||(null===(e=a[0])||void 0===e?void 0:e.id)||"";J({title:K.title||"",summary:K.summary||"",content:K.content||"",category_id:t,tags:[],media:[],audioComments:[]}),X(!0)},[K,d,a]),Ne=(0,o.useCallback)(async()=>{var e;if(!K)return;const t=d||(null===(e=a[0])||void 0===e?void 0:e.id)||"",n={title:K.title,summary:K.summary,content:K.content,category_id:t,tags:[],status:"draft"};try{const e=await ye(n);null!==e&&void 0!==e&&e.id&&(O(e),B(!0)),Fe()}catch(r){sn.error("Diktat konnte nicht gespeichert werden")}},[a,Fe,K,ye,d]),je=(0,o.useCallback)(async e=>{if(null===k||void 0===k||!k.id||e<=1)sn.error("Die vorherige Version konnte nicht geladen werden");else{ie(e);try{const a=await(t=k.id,n=e-1,r=e,To.get("/kb/articles/".concat(t,"/versions/compare/").concat(n,"/").concat(r)));ae(a.data),ne(!0)}catch(a){console.error("Error loading version diff:",a),sn.error("Differenz konnte nicht geladen werden")}finally{ie(null)}var t,n,r}},[k,sn]),_e=(0,o.useCallback)(()=>{ne(!1),ae(null)},[]),Se=T&&"observer"!==T.role,Be=e=>{h(e===d?null:e),w(1)},Me=e=>{e>=1&&e<=pe&&(w(e),window.scrollTo({top:0,behavior:"smooth"}))},Oe=r?"px-5 py-4":"px-6 py-4",Te="".concat(r?"px-5 py-5":"px-6 py-6"," space-y-5 flex-1 overflow-y-auto"),Re=r?"modal-base active":"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-4 py-8",Ie=r?"bottom-sheet max-h-[calc(100vh-2rem)] w-full flex flex-col overflow-hidden":"bg-white rounded-3xl w-full max-w-xl max-h-[calc(100vh-4rem)] shadow-2xl flex flex-col overflow-hidden",Pe=(0,Oa.jsxs)("div",{className:"flex flex-col h-full relative",children:[W&&(0,Oa.jsxs)("div",{className:"absolute inset-0 bg-white/95 z-50 flex flex-col items-center justify-center gap-4",children:[(0,Oa.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,Oa.jsxs)("div",{className:"text-center px-4",children:[(0,Oa.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"\ud83e\udd16 Kaminskyi AI"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Whisper AI transkribiert und OpenAI erstellt den Artikel"})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-between ".concat(Oe," border-b border-gray-200"),children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-[0.2em]",children:"Voice Assistant"}),(0,Oa.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Artikel diktieren"})]}),(0,Oa.jsx)("button",{onClick:Fe,disabled:W,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Oa.jsx)(vs,{size:20})})]}),(0,Oa.jsxs)("div",{className:Te,children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Sprache"}),(0,Oa.jsx)("select",{className:"border border-gray-200 rounded-lg px-3 py-1 text-sm",value:z,onChange:e=>U(e.target.value),children:KB.map(e=>(0,Oa.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Oa.jsx)(Kf,{onRecordingComplete:Ae,existingAudioUrl:null}),(0,Oa.jsx)("div",{className:"flex items-center gap-2 text-[10px] uppercase tracking-[0.4em] text-slate-400",children:(0,Oa.jsx)("span",{children:"Powered by Kaminskyi AI"})}),q&&(0,Oa.jsx)("p",{className:"text-sm text-red-600",children:q}),K&&(0,Oa.jsxs)("div",{className:"space-y-3 border border-gray-100 rounded-2xl p-4 bg-slate-50",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsx)("h4",{className:"text-lg font-semibold text-slate-900",children:K.title||"Neue Anleitung"}),(0,Oa.jsxs)("span",{className:"text-xs uppercase text-blue-600 tracking-[0.2em]",children:[(null===(e=K.steps)||void 0===e?void 0:e.length)||0," Schritte"]})]}),K.styleHint&&(0,Oa.jsx)("p",{className:"text-xs text-blue-600 uppercase tracking-[0.3em]",children:K.styleHint}),(0,Oa.jsx)("p",{className:"text-sm text-slate-600",children:K.summary}),(0,Oa.jsx)("div",{className:"space-y-2",children:(K.steps||[]).map((e,t)=>(0,Oa.jsxs)("p",{className:"text-sm text-slate-800",children:[(0,Oa.jsxs)("span",{className:"font-semibold",children:[t+1,"."]})," ",e]},"".concat(e,"-").concat(t)))}),K.details&&(0,Oa.jsxs)("div",{className:"rounded-2xl border border-dashed border-slate-200 p-3 bg-white/70",children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500 mb-1",children:"Zus\xe4tzliche Hinweise"}),(0,Oa.jsx)("p",{className:"text-sm text-slate-700",children:K.details})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Transkript"}),(0,Oa.jsx)("pre",{className:"max-h-32 overflow-y-auto text-xs text-slate-700 bg-white/70 rounded-xl p-3 border border-dashed border-slate-200",children:G||"Transkript wird angezeigt, sobald die Aufnahme verarbeitet ist."})]}),(0,Oa.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Oa.jsx)("button",{type:"button",onClick:ke,className:"px-4 py-2 rounded-2xl bg-blue-600 text-white font-semibold text-sm shadow hover:bg-blue-700 transition",children:"\u270f\ufe0f Artikel bearbeiten"}),(0,Oa.jsx)("button",{type:"button",onClick:Ne,className:"px-4 py-2 rounded-2xl bg-green-600 text-white font-semibold text-sm shadow hover:bg-green-700 transition",children:"\u26a1 Schnell speichern"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>Y(null),className:"px-4 py-2 rounded-2xl bg-white text-slate-700 font-semibold text-sm border border-slate-200 hover:border-slate-400 transition",children:"\ud83c\udfa4 Nochmals diktieren"})]})]})]})]});return(0,Oa.jsx)("div",{className:"kb-page ".concat(r?"kb-page-mobile":""),children:(0,Oa.jsxs)("div",{className:"kb-layout ".concat(r?"kb-layout-mobile":""),children:[(0,Oa.jsxs)("div",{className:"kb-sidebar flex flex-col",children:[(0,Oa.jsx)("div",{className:"kb-sidebar__header",children:(0,Oa.jsxs)("h2",{className:"kb-sidebar__title",children:[(0,Oa.jsx)(cl,{className:"mr-2",size:20}),"Knowledge Base"]})}),(0,Oa.jsxs)("div",{className:"kb-sidebar__content",children:[(0,Oa.jsxs)("button",{onClick:()=>Be(null),className:"kb-sidebar__item ".concat(null===d?"active":""),children:[(0,Oa.jsx)("div",{className:"kb-sidebar__item-label",children:(0,Oa.jsxs)("div",{className:"flex items-center",children:[(0,Oa.jsx)(UB,{size:18,className:"mr-2"}),(0,Oa.jsx)("span",{children:"Alle Artikel"})]})}),(0,Oa.jsx)("span",{className:"kb-sidebar__badge",children:i.length})]}),a.length>0&&(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsxs)("div",{className:"kb-sidebar__section flex items-center justify-between",children:[(0,Oa.jsx)("span",{children:"Kategorien"}),Se&&(0,Oa.jsx)("button",{onClick:()=>le(!0),className:"text-blue-600 hover:text-blue-700",title:"Neue Kategorie erstellen",children:(0,Oa.jsx)(vf,{size:16})})]}),a.map(e=>{var t;return(0,Oa.jsxs)("button",{onClick:()=>Be(e.id),className:"kb-sidebar__item ".concat(d===e.id?"active":""),children:[(0,Oa.jsxs)("div",{className:"kb-sidebar__item-label",children:[(0,Oa.jsx)(YB,{icon:e.icon,color:e.color}),(0,Oa.jsx)("span",{className:"ml-2",children:e.name})]}),(0,Oa.jsx)("span",{className:"kb-sidebar__badge",children:null!==(t=ge[e.id])&&void 0!==t?t:0})]},e.id)})]})]})]}),(0,Oa.jsxs)("div",{className:"kb-main flex-1 flex flex-col overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"kb-hero",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"kb-hero__eyebrow",children:"Knowledge Hub"}),(0,Oa.jsx)("h1",{children:"Alles, was dein Team wissen muss"}),(0,Oa.jsx)("p",{className:"kb-hero__subtitle",children:"Artikel, Medien und SOPs an einem Ort \u2013 optimiert f\xfcr Desktop und Mobile."})]}),(0,Oa.jsxs)("div",{className:"kb-hero__stats",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("span",{children:"Artikel"}),(0,Oa.jsx)("strong",{children:fe.total})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("span",{children:"Medien"}),(0,Oa.jsx)("strong",{children:fe.media})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("span",{children:"Letztes Update"}),(0,Oa.jsx)("strong",{children:fe.lastUpdated})]})]})]}),(0,Oa.jsxs)("div",{className:"kb-filters-card",children:[(0,Oa.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,Oa.jsx)("div",{className:"flex-1 max-w-2xl",children:(0,Oa.jsxs)("div",{className:"kb-search relative",children:[(0,Oa.jsx)(rl,{className:"kb-search__icon",size:18}),(0,Oa.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"Artikel, Medien oder Tags suchen...",className:"kb-search__input"})]})}),(0,Oa.jsxs)("div",{className:"kb-controls",children:[(0,Oa.jsxs)("div",{className:"kb-sort",children:[(0,Oa.jsx)(gf,{size:16,className:"text-gray-500"}),(0,Oa.jsx)("select",{value:b,onChange:e=>{D(e.target.value),w(1)},children:qB.map(e=>(0,Oa.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Oa.jsxs)("div",{className:"kb-control-actions",children:[(0,Oa.jsxs)("button",{type:"button",onClick:xe,className:"kb-create-btn",children:[(0,Oa.jsx)(vf,{size:18}),(0,Oa.jsx)("span",{children:"Artikel erstellen"})]}),(0,Oa.jsxs)("button",{type:"button",onClick:Ce,className:"kb-create-btn kb-create-btn--ghost",children:[(0,Oa.jsx)(Uf,{className:"w-4 h-4"}),(0,Oa.jsx)("span",{children:"Artikel diktieren"})]})]})]})]}),(0,Oa.jsx)("div",{className:"kb-status-tabs",children:VB.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>{v(e.id),w(1)},className:x===e.id?"active":"",children:e.label},e.id))}),r&&(0,Oa.jsxs)("div",{className:"kb-mobile-category-grid",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>Be(null),className:"kb-mobile-category-card ".concat(null===d?"active":""),children:[(0,Oa.jsx)("div",{className:"kb-mobile-category-card__icon",children:(0,Oa.jsx)(UB,{size:18})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"kb-mobile-category-card__label",children:"Alle Artikel"}),(0,Oa.jsxs)("span",{className:"kb-mobile-category-card__count",children:[i.length," Artikel"]})]})]}),a.map(e=>{var t;return(0,Oa.jsxs)("button",{type:"button",onClick:()=>Be(e.id),className:"kb-mobile-category-card ".concat(d===e.id?"active":""),children:[(0,Oa.jsx)("div",{className:"kb-mobile-category-card__icon",children:(0,Oa.jsx)(YB,{icon:e.icon,color:e.color})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"kb-mobile-category-card__label",children:e.name}),(0,Oa.jsxs)("span",{className:"kb-mobile-category-card__count",children:[null!==(t=ge[e.id])&&void 0!==t?t:0," Artikel"]})]})]},e.id)})]}),(d||f)&&(0,Oa.jsxs)("div",{className:"kb-active-filters",children:[d&&(0,Oa.jsxs)("span",{className:"kb-chip kb-chip--blue",children:[null===(t=a.find(e=>e.id===d))||void 0===t?void 0:t.name,(0,Oa.jsx)("button",{type:"button",onClick:()=>h(null),children:(0,Oa.jsx)(vs,{size:14})})]}),f&&(0,Oa.jsxs)("span",{className:"kb-chip",children:["Suche: \u201c",f,"\u201d",(0,Oa.jsx)("button",{type:"button",onClick:()=>p(""),children:(0,Oa.jsx)(vs,{size:14})})]})]})]}),(0,Oa.jsx)("div",{className:be,children:F?(0,Oa.jsx)(QB,{}):0===i.length?(0,Oa.jsx)(JB,{icon:f?rl:Ng,title:f?"Keine Artikel gefunden":"Noch keine Artikel",description:f?"Versuchen Sie es mit anderen Suchbegriffen":"Erstellen Sie Ihren ersten Artikel"}):(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)("div",{className:"kb-grid",children:E?(0,Oa.jsx)("div",{className:"col-span-full",children:(0,Oa.jsx)(QB,{})}):me.map(e=>{const t=I||e.author_id===(null===T||void 0===T?void 0:T.id);return(0,Oa.jsx)(eM,{article:e,onClick:()=>(async e=>{try{const t=await Ma.get("/kb/articles/".concat(e.id)),n=XB(t.data);N(n),l(e=>e.map(e=>e.id===n.id?n:e)),_(!0)}catch(t){console.error("Error fetching article:",t),sn.error("Fehler beim Laden des Artikels")}})(e),canManage:t,onEdit:ve,onStatusChange:Ee},e.id)})}),pe>1&&(0,Oa.jsxs)("div",{className:"kb-pagination",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>Me(y-1),disabled:1===y,children:(0,Oa.jsx)(sp,{size:18})}),(0,Oa.jsx)("div",{className:"kb-pagination__pages",children:Array.from({length:pe},(e,t)=>t+1).filter(e=>pe<=7||(1===e||e===pe||e>=y-1&&e<=y+1)).map((e,t,n)=>(0,Oa.jsxs)(o.Fragment,{children:[t>0&&n[t-1]!==e-1&&(0,Oa.jsx)("span",{className:"kb-pagination__ellipsis",children:"\u2026"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>Me(e),className:y===e?"active":"",children:e})]},e))}),(0,Oa.jsx)("button",{type:"button",onClick:()=>Me(y+1),disabled:y===pe,children:(0,Oa.jsx)(ip,{size:18})})]})]})})]}),j&&k&&(0,Oa.jsx)(tM,{article:k,onClose:()=>{_(!1),N(null)},onEdit:ve,onDelete:async e=>{try{await Ma.delete("/kb/articles/".concat(e)),sn.success("Artikel erfolgreich gel\xf6scht"),he()}catch(r){var t,n;throw console.error("Error deleting article:",r),sn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim L\xf6schen des Artikels"),r}},onVote:async(e,t)=>{try{const n=await Ma.post("/kb/articles/".concat(e,"/vote"),{is_helpful:t});N(e=>qe(qe({},e),{},{helpful_count:n.data.helpful_count,not_helpful_count:n.data.not_helpful_count,user_vote:t})),l(t=>t.map(t=>t.id===e?qe(qe({},t),{},{helpful_count:n.data.helpful_count,not_helpful_count:n.data.not_helpful_count}):t)),sn.success(t?"Als hilfreich markiert":"Als nicht hilfreich markiert")}catch(a){var n,r;console.error("Error voting:",a),sn.error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Fehler beim Abstimmen")}},onArticleUpdated:De,currentUserId:null===T||void 0===T?void 0:T.id,currentUserRole:null===T||void 0===T?void 0:T.role,onVersionDiff:je,diffLoadingVersion:se,isMobile:r}),S&&(0,Oa.jsx)(nM,{article:M,categories:a,allTags:u,onSave:ye,onClose:()=>{B(!1),O(null)},onDraftSaved:we}),(0,Oa.jsx)(rM,{isOpen:ee,onClose:_e,diff:re}),r&&(0,Oa.jsxs)("div",{className:"kb-mobile-fab-group",children:[(0,Oa.jsx)("button",{type:"button",onClick:xe,className:"kb-mobile-fab","aria-label":"Artikel erstellen",children:(0,Oa.jsx)(vf,{size:24})}),(0,Oa.jsx)("button",{type:"button",onClick:Ce,className:"kb-mobile-fab kb-mobile-fab--dictate","aria-label":"Artikel diktieren",children:(0,Oa.jsx)(Uf,{size:20})})]}),P&&(0,Oa.jsxs)("div",{className:Re,children:[r&&(0,Oa.jsx)("div",{className:"backdrop active","aria-hidden":"true"}),(0,Oa.jsxs)("div",{className:"".concat(Ie," flex flex-col ").concat(r?"h-full":""),children:[r&&(0,Oa.jsx)("div",{className:"pull-handle","aria-hidden":"true"}),Pe]})]}),(0,Oa.jsx)(HB,{isOpen:Z,onClose:()=>X(!1),articleData:Q,onArticleDataChange:J,categories:a,onSave:async e=>{try{const t=await ye(qe(qe({},e),{},{status:"published"}));null!==t&&void 0!==t&&t.id&&(sn.success("Artikel erfolgreich gespeichert!"),X(!1),Y(null),Fe(),he())}catch(t){sn.error("Fehler beim Speichern des Artikels"),console.error(t)}}}),oe&&(0,Oa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Oa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Neue Kategorie erstellen"}),(0,Oa.jsx)("button",{onClick:()=>{le(!1),ce({name:"",description:"",icon:"book",color:"#2563eb"})},className:"text-gray-400 hover:text-gray-600",children:(0,Oa.jsx)(vs,{size:20})})]}),(0,Oa.jsxs)("div",{className:"space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,Oa.jsx)("input",{type:"text",value:ue.name,onChange:e=>ce(qe(qe({},ue),{},{name:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"z.B. Sicherheit",required:!0})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung"}),(0,Oa.jsx)("textarea",{value:ue.description,onChange:e=>ce(qe(qe({},ue),{},{description:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,placeholder:"Optionale Beschreibung"})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,Oa.jsxs)("select",{value:ue.icon,onChange:e=>ce(qe(qe({},ue),{},{icon:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Oa.jsx)("option",{value:"book",children:"Buch"}),(0,Oa.jsx)("option",{value:"layers",children:"Ebenen"}),(0,Oa.jsx)("option",{value:"file-text",children:"Dokument"}),(0,Oa.jsx)("option",{value:"tag",children:"Tag"})]})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Farbe"}),(0,Oa.jsx)("input",{type:"color",value:ue.color,onChange:e=>ce(qe(qe({},ue),{},{color:e.target.value})),className:"w-full h-10 px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Oa.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Oa.jsx)("button",{type:"button",onClick:()=>{le(!1),ce({name:"",description:"",icon:"book",color:"#2563eb"})},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Abbrechen"}),(0,Oa.jsx)("button",{type:"button",onClick:async()=>{if(ue.name.trim())try{await Ma.post("/kb/categories",ue),sn.success("Kategorie erfolgreich erstellt"),le(!1),ce({name:"",description:"",icon:"book",color:"#2563eb"});const e=await Ma.get("/kb/categories");s(e.data)}catch(n){var e,t;console.error("Error creating category:",n),sn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Fehler beim Erstellen der Kategorie")}else sn.error("Bitte geben Sie einen Kategorienamen ein")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Erstellen"})]})]})]})})]})})},sM=cs("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),iM=cs("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),oM=cs("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),lM=cs("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),uM=cs("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),cM=cs("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),dM=cs("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function hM(){try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(1e3,e.currentTime),n.gain.setValueAtTime(0,e.currentTime),n.gain.linearRampToValueAtTime(.3,e.currentTime+.01),n.gain.linearRampToValueAtTime(.3,e.currentTime+.1),n.gain.linearRampToValueAtTime(0,e.currentTime+.15),t.start(e.currentTime),t.stop(e.currentTime+.15),setTimeout(()=>{e.close()},200)}catch(e){console.warn("Could not play beep sound:",e)}}function mM(){try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(400,e.currentTime),n.gain.setValueAtTime(0,e.currentTime),n.gain.linearRampToValueAtTime(.3,e.currentTime+.02),n.gain.linearRampToValueAtTime(.3,e.currentTime+.2),n.gain.linearRampToValueAtTime(0,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3),setTimeout(()=>{e.close()},350)}catch(e){console.warn("Could not play error beep:",e)}}const pM=e=>{let{isOpen:t,onClose:n,date:r}=e;const[a,s]=(0,o.useState)([]),[i,l]=(0,o.useState)(0),[u,c]=(0,o.useState)(!0),[d,h]=(0,o.useState)(!1),[m,p]=(0,o.useState)(null),[f,g]=(0,o.useState)(null),{isMobile:b}=ii();(0,o.useEffect)(()=>{t&&r&&D()},[t,r]);const D=async()=>{c(!0);try{const e=await Zo.get("/kisten/by-date/".concat(r));s(e.data.bins||[]),l(0)}catch(e){Rg("Fehler beim Laden der Kisten"),console.error("Error loading bins:",e)}finally{c(!1)}},x=(0,o.useCallback)(()=>{i<a.length-1&&l(e=>e+1)},[i,a.length]),v=(0,o.useCallback)(()=>{i>0&&l(e=>e-1)},[i]),y=(0,o.useCallback)(e=>{"ArrowRight"===e.key&&x(),"ArrowLeft"===e.key&&v(),"Escape"===e.key&&n()},[x,v,n]);(0,o.useEffect)(()=>{if(t)return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[t,y]);if(!t)return null;const w=a[i],E=b?"relative w-full h-full bg-gradient-to-br from-white via-blue-50/30 to-indigo-50/30 rounded-none shadow-2xl overflow-hidden border border-gray-200/50 flex flex-col":"relative w-full max-w-4xl bg-gradient-to-br from-white via-blue-50/30 to-indigo-50/30 rounded-3xl shadow-2xl overflow-hidden border border-gray-200/50 max-h-[90vh] flex flex-col";return(0,Oa.jsx)("div",{className:"fixed inset-0 z-50 flex justify-center bg-black/80 backdrop-blur-sm animate-fadeIn ".concat(b?"items-stretch p-0":"items-center p-4"),children:(0,Oa.jsxs)("div",{className:E,children:[(0,Oa.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 px-6 py-5 border-b border-white/20",children:[(0,Oa.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Oa.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("h2",{className:"text-2xl font-bold text-white drop-shadow-lg flex items-center gap-3",children:[(0,Oa.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"QR-Codes f\xfcr ",new Date(r).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})]}),(0,Oa.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,Oa.jsx)("span",{className:"bg-white/20 backdrop-blur-md px-3 py-1 rounded-full text-sm font-semibold text-white border border-white/30",children:a.length>0?"".concat(i+1," / ").concat(a.length):"Keine Kisten"}),a.length>0&&(0,Oa.jsxs)("span",{className:"bg-green-500/20 backdrop-blur-md px-3 py-1 rounded-full text-sm font-semibold text-white border border-green-400/30 flex items-center gap-1.5",children:[(0,Oa.jsx)("span",{className:"w-2 h-2 bg-green-300 rounded-full animate-pulse"}),a.length," ",1===a.length?"Kiste":"Kisten"]})]})]}),(0,Oa.jsx)("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 backdrop-blur-md p-3 rounded-xl border border-white/40 transition-all hover:scale-110 active:scale-95","aria-label":"Schlie\xdfen",children:(0,Oa.jsx)(vs,{size:24,className:"text-white"})})]})]}),(0,Oa.jsx)("div",{className:"flex-1 overflow-y-auto p-5 sm:p-8",onTouchStart:e=>{g(null),p(e.targetTouches[0].clientX)},onTouchMove:e=>{g(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!m||!f)return;const e=m-f,t=e<-50;e>50&&x(),t&&v()},children:u?(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,Oa.jsx)("svg",{className:"absolute inset-0 m-auto w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})]}),(0,Oa.jsx)("p",{className:"mt-4 text-gray-600 font-medium",children:"Lade Kisten..."})]}):0===a.length?(0,Oa.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,Oa.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mb-4 shadow-lg",children:(0,Oa.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,Oa.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Keine Kisten gefunden"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"F\xfcr dieses Datum wurden keine Kisten erstellt"})]}):w?(0,Oa.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,Oa.jsx)("div",{className:"relative w-full max-w-md",children:w.barcode_image_path?(0,Oa.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border-4 border-gray-200",children:(0,Oa.jsx)("img",{src:w.barcode_image_path,alt:"QR-Code f\xfcr ".concat(w.code),className:"w-full h-auto"})}):(0,Oa.jsxs)("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl p-12 flex flex-col items-center justify-center border-4 border-dashed border-gray-300",children:[(0,Oa.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg animate-pulse",children:(0,Oa.jsx)(Vf,{size:40,className:"text-white"})}),(0,Oa.jsx)("p",{className:"text-gray-700 font-semibold text-center mb-2",children:"QR-Code wird generiert"}),(0,Oa.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Bitte warten Sie einen Moment..."})]})}),(0,Oa.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 border border-gray-200",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[(0,Oa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Oa.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:w.code}),(0,Oa.jsx)("p",{className:"text-sm text-gray-500",children:"Kisten-Code"})]})]}),w.comment&&(0,Oa.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-xl border border-blue-100",children:(0,Oa.jsx)("p",{className:"text-sm font-medium text-gray-700",children:w.comment})}),(0,Oa.jsxs)("div",{className:"space-y-3",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"Aufbewahren bis"}),(0,Oa.jsx)("p",{className:"text-sm font-bold text-gray-900",children:new Date(w.keep_until).toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric"})})]})]}),w.created_by_name&&(0,Oa.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[(0,Oa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"Erstellt von"}),(0,Oa.jsx)("p",{className:"text-sm font-bold text-gray-900",children:w.created_by_name})]})]})]})]})]}):null}),a.length>1&&(0,Oa.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-md px-6 py-4 flex items-center justify-between border-t border-gray-200/50",children:[(0,Oa.jsxs)("button",{onClick:v,disabled:0===i,className:"group flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl disabled:opacity-40 disabled:cursor-not-allowed transition-all hover:scale-105 active:scale-95","aria-label":"Vorheriges",children:[(0,Oa.jsx)(sp,{size:24,className:"group-hover:-translate-x-1 transition-transform"}),(0,Oa.jsx)("span",{className:"hidden sm:inline",children:"Zur\xfcck"})]}),(0,Oa.jsx)("div",{className:"flex items-center gap-2",children:a.map((e,t)=>(0,Oa.jsx)("button",{onClick:()=>l(t),className:"transition-all ".concat(t===i?"w-8 h-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full shadow-md":"w-3 h-3 bg-gray-300 hover:bg-gray-400 rounded-full"),"aria-label":"Zu Kiste ".concat(t+1)},t))}),(0,Oa.jsxs)("button",{onClick:x,disabled:i===a.length-1,className:"group flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl disabled:opacity-40 disabled:cursor-not-allowed transition-all hover:scale-105 active:scale-95","aria-label":"N\xe4chstes",children:[(0,Oa.jsx)("span",{className:"hidden sm:inline",children:"Weiter"}),(0,Oa.jsx)(ip,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})},fM=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"-";try{const n=new Date(e),r=qe({year:"numeric",month:"2-digit",day:"2-digit"},t?{hour:"2-digit",minute:"2-digit"}:{});return n.toLocaleString("de-DE",r)}catch(n){return String(e)}},gM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return!1;const n=new Date;n.setHours(0,0,0,0);const r=new Date(e);if(Number.isNaN(r.getTime()))return!1;const a=new Date(n);return a.setDate(n.getDate()+t),r>=n&&r<=a},bM=[{id:"all",label:"Alle"},{id:"pending",label:"Aktiv"},{id:"dueSoon",label:"Bald f\xe4llig"},{id:"overdue",label:"\xdcberf\xe4llig"},{id:"completed",label:"Erledigt"}],DM=[{id:"keep_until_asc",label:"F\xe4llig \u2191"},{id:"keep_until_desc",label:"F\xe4llig \u2193"},{id:"created_desc",label:"Neueste zuerst"},{id:"created_asc",label:"\xc4lteste zuerst"}],xM=()=>{const e=re(),{user:t}=Pa(),[n,r]=(0,o.useState)([]),[a,s]=(0,o.useState)(!0),[i,l]=(0,o.useState)("pending"),[u,c]=(0,o.useState)(""),[d,h]=(0,o.useState)("keep_until_asc"),[m,p]=(0,o.useState)([]),[f,g]=(0,o.useState)(""),[b,D]=(0,o.useState)(""),[x,v]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),[E,C]=(0,o.useState)(null),[F,A]=(0,o.useState)(!1),[k,N]=(0,o.useState)(!1),[j,_]=(0,o.useState)(""),[S,B]=(0,o.useState)(null),[M,O]=(0,o.useState)(!1),[T,R]=(0,o.useState)(null),I=(0,o.useRef)(null),P=(0,o.useRef)(null),L=(0,o.useRef)(null),z=(0,o.useRef)(null),U=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(!M)return;const e=document.body.style.overflow;return window.scrollTo({top:0,behavior:"smooth"}),document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[M]);const W=(0,o.useCallback)(()=>{U.current=!1,A(!1),z.current&&(cancelAnimationFrame(z.current),z.current=null),I.current&&(I.current.pause(),I.current.srcObject=null),L.current&&(L.current.getTracks().forEach(e=>e.stop()),L.current=null)},[]),H=(0,o.useCallback)(async()=>{try{var e;s(!0);const t=(null===(e=(await To.get("/kisten")).data)||void 0===e?void 0:e.bins)||[];r(t)}catch(t){console.error("Error loading storage bins",t),Rg("Kisten konnten nicht geladen werden.")}finally{s(!1)}},[]);(0,o.useEffect)(()=>{N("undefined"!==typeof window&&"BarcodeDetector"in window)},[]),(0,o.useEffect)(()=>(H(),()=>{W()}),[H,W]);const q=(0,o.useCallback)(e=>{if(!e)return;const t=String(e).trim();t&&p(e=>e.includes(t)?e:(hM(),Tg("Code erfasst: ".concat(t)),[...e,t]))},[]),V=()=>{p([])},K=async()=>{if(U.current&&P.current&&I.current){try{(await P.current.detect(I.current)).forEach(e=>{null!==e&&void 0!==e&&e.rawValue&&q(e.rawValue)})}catch(e){console.warn("Barcode-Erkennung fehlgeschlagen",e)}U.current&&(z.current=requestAnimationFrame(K))}},Y=async e=>{B(e);try{await(r=e,To.post("/kisten/".concat(r,"/complete"))),Tg("Kiste als erledigt markiert."),await H()}catch(a){var t,n;console.error("Fehler beim Abschlie\xdfen der Kiste",a),Rg((null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Kiste konnte nicht abgeschlossen werden.")}finally{B(null)}var r},G=async e=>{if(e)if("superadmin"===(null===t||void 0===t?void 0:t.role)){if(window.confirm("Diese erledigte Kiste wirklich l\xf6schen?")){C(e);try{await(a=e,To.delete("/kisten/".concat(a))),Tg("Erledigte Kiste gel\xf6scht."),await H()}catch(s){var n,r;console.error("Fehler beim L\xf6schen der Kiste",s),Rg((null===s||void 0===s||null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Kiste konnte nicht gel\xf6scht werden.")}finally{C(null)}var a}}else Rg("Nur Superadmin kann erledigte Kisten l\xf6schen.")},$=(0,o.useMemo)(()=>{const e=n.filter(e=>"pending"===e.status),t=n.filter(e=>"completed"===e.status),r=e.filter(e=>e.keep_until&&new Date(e.keep_until)<(new Date).setHours(0,0,0,0)),a=e.filter(e=>gM(e.keep_until));return{total:n.length,pending:e.length,completed:t.length,overdue:r.length,dueSoon:a.length}},[n]),Z=(0,o.useMemo)(()=>{const e=u.trim().toLowerCase();return n.filter(t=>("pending"!==i||"pending"===t.status)&&(("completed"!==i||"completed"===t.status)&&(!!("overdue"!==i||"pending"===t.status&&t.keep_until&&new Date(t.keep_until)<(new Date).setHours(0,0,0,0))&&(!!("dueSoon"!==i||"pending"===t.status&&gM(t.keep_until))&&(!e||[t.code,t.comment,t.created_by_name,t.keep_until].filter(Boolean).some(t=>String(t).toLowerCase().includes(e))))))).sort((e,t)=>{switch(d){case"keep_until_asc":return new Date(e.keep_until||0)-new Date(t.keep_until||0);case"keep_until_desc":return new Date(t.keep_until||0)-new Date(e.keep_until||0);case"created_desc":return new Date(t.created_at||0)-new Date(e.created_at||0);case"created_asc":return new Date(e.created_at||0)-new Date(t.created_at||0);default:return 0}})},[n,i,u,d]),X=Z.filter(e=>"pending"===e.status),Q=Z.filter(e=>"completed"===e.status),J="completed"===i?Q:Q.slice(0,9),ee=(0,o.useMemo)(()=>{const e=n.filter(e=>"pending"===e.status).sort((e,t)=>new Date(e.keep_until||0)-new Date(t.keep_until||0)).slice(0,5);return e},[n]),te=e=>{navigator.clipboard.writeText(e).then(()=>Tg("Code kopiert"))};return(0,Oa.jsxs)("div",{className:"kisten-page min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 pb-28 overflow-x-hidden",children:[(0,Oa.jsxs)("div",{className:"kisten-container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10 space-y-8",children:[(0,Oa.jsxs)("section",{className:"kisten-hero kisten-section bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white rounded-3xl p-6 sm:p-8 shadow-2xl relative overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,Oa.jsx)("div",{className:"absolute w-72 h-72 bg-blue-500/20 blur-3xl -top-10 -left-10 rounded-full"}),(0,Oa.jsx)("div",{className:"absolute w-80 h-80 bg-emerald-500/20 blur-3xl bottom-0 -right-10 rounded-full"})]}),(0,Oa.jsxs)("div",{className:"relative flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full text-sm font-medium tracking-wide",children:[(0,Oa.jsx)(sM,{className:"w-4 h-4"}),"Kistenmanagement"]}),(0,Oa.jsx)("h1",{className:"mt-4 text-3xl sm:text-4xl font-bold tracking-tight",children:"Lagerboxen & Container smart \xfcberwachen"}),(0,Oa.jsx)("p",{className:"mt-3 text-white/80 max-w-2xl",children:"Scanne QR-Codes in Sekunden, plane automatische Erinnerungen und synchronisiere alles mit Kalender & Kanban. Transparente Historie inklusive."})]}),(0,Oa.jsxs)("div",{className:"kisten-stats-grid grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 text-slate-900 font-semibold",children:[(0,Oa.jsxs)("div",{className:"bg-white/95 rounded-2xl px-4 py-3 shadow-lg border border-white/50",children:[(0,Oa.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Aktiv"}),(0,Oa.jsx)("p",{className:"mt-2 text-3xl",children:$.pending})]}),(0,Oa.jsxs)("div",{className:"bg-white/95 rounded-2xl px-4 py-3 shadow-lg border border-white/50",children:[(0,Oa.jsx)("p",{className:"text-xs text-emerald-600 uppercase tracking-wide",children:"Heute"}),(0,Oa.jsx)("p",{className:"mt-2 text-3xl",children:$.dueSoon})]}),(0,Oa.jsxs)("div",{className:"bg-white/95 rounded-2xl px-4 py-3 shadow-lg border border-white/50",children:[(0,Oa.jsx)("p",{className:"text-xs text-rose-600 uppercase tracking-wide",children:"\xdcberf\xe4llig"}),(0,Oa.jsx)("p",{className:"mt-2 text-3xl",children:$.overdue})]}),(0,Oa.jsxs)("div",{className:"bg-white/95 rounded-2xl px-4 py-3 shadow-lg border border-white/50",children:[(0,Oa.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Erledigt"}),(0,Oa.jsx)("p",{className:"mt-2 text-3xl",children:$.completed})]})]})]})]}),(0,Oa.jsxs)("section",{className:"kisten-form kisten-section bg-white rounded-3xl shadow-lg border border-slate-200 p-6 sm:p-8 space-y-6",children:[(0,Oa.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[(0,Oa.jsx)(db,{className:"w-6 h-6 text-blue-600"}),"Kisten & Container erfassen"]}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Der schnellste Weg von QR-Code zur auditierbaren Dokumentation."})]}),(0,Oa.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{V(),D(""),v(""),g("")},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 text-slate-600 hover:bg-slate-50 transition",children:[(0,Oa.jsx)(iM,{className:"w-4 h-4"}),"Formular zur\xfccksetzen"]}),(0,Oa.jsxs)("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900 text-white hover:bg-slate-800 transition",children:[(0,Oa.jsx)(iM,{className:"w-4 h-4"}),"Daten aktualisieren"]})]})]}),(0,Oa.jsxs)("form",{onSubmit:async e=>{if(null===e||void 0===e||e.preventDefault(),m.length)if(x){w(!0);try{await(r={codes:m,comment:b,keepUntil:x},To.post("/kisten",r)),Tg("Erfolgreich ".concat(m.length," Kisten aktualisiert.")),p([]),D(""),v(""),g(""),W(),await H()}catch(a){var t,n;console.error("Fehler beim Anlegen der Kisten",a);const e=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Konnte Kisten nicht anlegen.";Rg(e)}finally{w(!1)}var r}else Rg("Bitte ein Aufbewahrungsdatum ausw\xe4hlen.");else Rg("Bitte mindestens einen QR-Code hinzuf\xfcgen.")},className:"kisten-form-grid grid grid-cols-1 xl:grid-cols-5 gap-6",children:[(0,Oa.jsxs)("div",{className:"xl:col-span-3 space-y-4",children:[(0,Oa.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oa.jsx)(Hg,{className:"w-5 h-5 text-blue-600"}),(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-800",children:"QR-Code Scanner"})]}),(0,Oa.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full ".concat(k?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"),children:k?"Scanner bereit":"Scanner nicht verf\xfcgbar"})]}),(0,Oa.jsxs)("div",{className:"space-y-4",children:[(0,Oa.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Oa.jsxs)("button",{type:"button",onClick:async()=>{var e;if(!k)return mM(),void Rg("Der Browser unterst\xfctzt keine QR-Code-Erkennung. Bitte Codes manuell eingeben.");if(null===(e=navigator.mediaDevices)||void 0===e||!e.getUserMedia)return mM(),void Rg("Keine Kamera verf\xfcgbar.");if(!U.current){_("");try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});L.current=e,I.current&&(I.current.srcObject=e,await I.current.play()),P.current=new window.BarcodeDetector({formats:["qr_code","code_128","code_39","ean_13","ean_8"]}),U.current=!0,A(!0),z.current=requestAnimationFrame(K)}catch(t){console.error("Kamera konnte nicht gestartet werden",t),mM(),_((null===t||void 0===t?void 0:t.message)||"Kamera konnte nicht gestartet werden."),W()}}},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",disabled:F,children:[(0,Oa.jsx)(oM,{className:"w-4 h-4"}),"Scanner starten"]}),(0,Oa.jsxs)("button",{type:"button",onClick:W,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-200 text-slate-700 font-semibold hover:bg-slate-300 transition",children:[(0,Oa.jsx)(_g,{className:"w-4 h-4"}),"Scanner stoppen"]})]}),j&&(0,Oa.jsx)("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-600",children:j}),(0,Oa.jsxs)("div",{className:"relative aspect-video bg-slate-900/80 rounded-2xl overflow-hidden border border-slate-700 shadow-inner",children:[(0,Oa.jsx)("video",{ref:I,className:"w-full h-full object-cover",muted:!0,playsInline:!0}),!F&&(0,Oa.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white/70 text-sm backdrop-blur-sm bg-slate-900/40",children:[(0,Oa.jsx)(Hg,{className:"w-8 h-8 mb-2"}),(0,Oa.jsx)("p",{children:"Kamera bereit \u2013 \u201eScanner starten\u201c tippen."})]})]})]})]}),(0,Oa.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-4 space-y-3",children:[(0,Oa.jsx)("label",{className:"block text-sm font-semibold text-slate-800",children:"Codes manuell hinzuf\xfcgen"}),(0,Oa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Oa.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"z.B. BOX-12345 oder mehrere Codes durch Leerzeichen",className:"flex-1 px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition"}),(0,Oa.jsxs)("button",{type:"button",onClick:()=>{const e=f.split(/[\s,;]+/).map(e=>e.trim()).filter(Boolean);e.length?(e.forEach(q),g("")):Rg("Bitte einen oder mehrere Codes eingeben.")},className:"inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:[(0,Oa.jsx)(ps,{className:"w-4 h-4"}),"Hinzuf\xfcgen"]})]}),m.length>0&&(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oa.jsx)("p",{className:"text-sm font-semibold text-slate-700",children:"Erfasste Codes"}),(0,Oa.jsx)("button",{type:"button",onClick:V,className:"text-xs text-rose-600 hover:text-rose-700",children:"Liste leeren"})]}),(0,Oa.jsx)("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto pr-1",children:m.map(e=>(0,Oa.jsxs)("span",{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full text-xs font-semibold border border-blue-200",children:[e,(0,Oa.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>t.filter(t=>t!==e))})(e),className:"text-blue-500 hover:text-blue-700",children:(0,Oa.jsx)(Ds,{className:"w-3 h-3"})}),(0,Oa.jsx)("button",{type:"button",onClick:()=>te(e),className:"text-blue-500 hover:text-blue-700",children:(0,Oa.jsx)(lM,{className:"w-3 h-3"})})]},e))})]})]})]}),(0,Oa.jsxs)("div",{className:"xl:col-span-2 space-y-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(bf,{className:"w-4 h-4 text-blue-600"}),"Mindestens aufbewahren bis ",(0,Oa.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,Oa.jsx)("input",{type:"date",value:x,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition"})]}),(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("label",{className:"block text-sm font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[(0,Oa.jsx)(Gg,{className:"w-4 h-4 text-blue-600"}),"Kommentar / Hinweise"]}),(0,Oa.jsx)("textarea",{value:b,onChange:e=>D(e.target.value),rows:5,placeholder:"Optional: Lagerort, besondere Hinweise oder Verantwortliche",className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition resize-none"})]}),(0,Oa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4 text-sm text-blue-800 space-y-2",children:[(0,Oa.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,Oa.jsx)(uM,{className:"w-4 h-4"}),"Automatisierungen pro Code"]}),(0,Oa.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Oa.jsx)("li",{children:"Kalendereintrag & Erinnerung zum Pr\xfcftermin"}),(0,Oa.jsx)("li",{children:"Kanban-Aufgabe mit hoher Priorit\xe4t"}),(0,Oa.jsx)("li",{children:"T\xe4gliche Entsorgungs-Erinnerung ab F\xe4lligkeit"}),(0,Oa.jsx)("li",{children:"Versionshistorie und Audit-Log (entsorgungssicher)"})]})]}),(0,Oa.jsx)("button",{type:"submit",disabled:y,className:"w-full inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition disabled:opacity-60",children:y?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(Mg,{className:"w-4 h-4 animate-spin"}),"Speichere..."]}):(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(cM,{className:"w-4 h-4"}),"Kistenregistrierung speichern"]})})]})]})]}),(0,Oa.jsxs)("section",{className:"space-y-6",children:[(0,Oa.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Oa.jsx)(Df,{className:"w-5 h-5 text-blue-600"}),"Offene Kisten"]}),(0,Oa.jsx)("p",{className:"text-sm text-slate-500",children:"Filtere nach Status, suche nach Codes oder erledige Pr\xfcfungen direkt."})]}),(0,Oa.jsxs)("div",{className:"kisten-filters-row flex flex-wrap items-center gap-3",children:[(0,Oa.jsxs)("div",{className:"relative",children:[(0,Oa.jsx)(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Oa.jsx)("input",{type:"text",value:u,onChange:e=>c(e.target.value),placeholder:"Suchen nach Code, Kommentar...",className:"pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition"})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl border border-slate-200 bg-white text-slate-500 text-sm",children:[(0,Oa.jsx)(gf,{className:"w-4 h-4"}),"Status:"]}),(0,Oa.jsx)("div",{className:"kisten-filter-chips flex gap-2 overflow-x-auto",children:bM.map(e=>(0,Oa.jsx)("button",{type:"button",onClick:()=>l(e.id),className:"px-3 py-2 rounded-full text-sm font-medium transition ".concat(i===e.id?"bg-blue-600 text-white shadow":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-100"),children:e.label},e.id))}),(0,Oa.jsx)("select",{value:d,onChange:e=>h(e.target.value),className:"px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm",children:DM.map(e=>(0,Oa.jsx)("option",{value:e.id,children:e.label},e.id))})]})]}),(0,Oa.jsx)("div",{className:"kisten-cards grid grid-cols-1 lg:grid-cols-2 gap-4",children:a?Array.from({length:4}).map((e,t)=>(0,Oa.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 animate-pulse space-y-4",children:[(0,Oa.jsx)("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),(0,Oa.jsx)("div",{className:"h-3 bg-slate-200 rounded w-1/2"}),(0,Oa.jsx)("div",{className:"h-3 bg-slate-200 rounded w-2/3"}),(0,Oa.jsx)("div",{className:"h-10 bg-slate-200 rounded"})]},"skeleton-".concat(t))):0===X.length?(0,Oa.jsx)("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 text-center text-slate-500 col-span-full",children:"Keine offenen Kisten in dieser Ansicht. Alles erledigt!"}):X.map(t=>{var n,r;const a=t.is_overdue,s=gM(t.keep_until);return(0,Oa.jsxs)("div",{className:"rounded-2xl border p-5 space-y-4 bg-white shadow-sm transition ".concat(a?"border-rose-200 ring-1 ring-rose-100":s?"border-amber-200 ring-1 ring-amber-100":"border-slate-200"),children:[(0,Oa.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Code"}),(0,Oa.jsx)("button",{type:"button",onClick:()=>te(t.code),className:"text-slate-400 hover:text-slate-600",children:(0,Oa.jsx)(lM,{className:"w-3 h-3"})})]}),(0,Oa.jsx)("p",{className:"text-lg font-bold text-slate-900 tracking-wide",children:t.code})]}),(0,Oa.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,Oa.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full bg-rose-100 text-rose-700 border border-rose-200",children:[(0,Oa.jsx)(Ob,{className:"w-3 h-3"}),"\xdcberf\xe4llig"]}),!a&&s&&(0,Oa.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full bg-amber-100 text-amber-700 border border-amber-200",children:[(0,Oa.jsx)(Df,{className:"w-3 h-3"}),"Bald pr\xfcfen"]})]})]}),(0,Oa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,Oa.jsx)(bf,{className:"w-4 h-4 text-blue-600"}),"F\xe4llig: ",(0,Oa.jsx)("span",{className:"font-semibold text-slate-800",children:fM(t.keep_until)})]}),t.task_status&&(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,Oa.jsx)(db,{className:"w-4 h-4 text-blue-600"}),"Kanban: ",(0,Oa.jsx)("span",{className:"font-semibold text-slate-800",children:t.task_status})]}),(null===(n=t.calendar)||void 0===n?void 0:n.start)&&(0,Oa.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,Oa.jsx)(Df,{className:"w-4 h-4 text-blue-600"}),"Termin: ",fM(t.calendar.start,!0)]}),t.comment&&(0,Oa.jsxs)("div",{className:"text-slate-600",children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Hinweis"}),(0,Oa.jsx)("p",{className:"font-medium text-slate-800",children:t.comment})]})]}),(0,Oa.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Oa.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600 border border-slate-200",children:["Erstellt von: ",t.created_by_name||"Unbekannt"]}),(null===(r=t.calendar)||void 0===r?void 0:r.start)&&(0,Oa.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Kalender synchronisiert"}),t.task_status&&(0,Oa.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-200",children:"Kanban aktiv"})]}),(0,Oa.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Oa.jsxs)("button",{type:"button",onClick:()=>{R(t.keep_until),O(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:[(0,Oa.jsx)(Yb,{className:"w-4 h-4"}),"Codes zeigen"]}),(0,Oa.jsx)("button",{type:"button",onClick:()=>Y(t.id),disabled:S===t.id,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition disabled:opacity-60",children:S===t.id?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(Mg,{className:"w-4 h-4 animate-spin"}),"Wird abgeschlossen..."]}):(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(cM,{className:"w-4 h-4"}),"Pr\xfcfung erledigt"]})}),(0,Oa.jsxs)("a",{href:"/task-pool",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:["Zum Kanban",(0,Oa.jsx)(dM,{className:"w-4 h-4"})]}),t.calendar_event_id&&(0,Oa.jsxs)("button",{type:"button",onClick:()=>e("/dashboard",{state:{focusEventId:t.calendar_event_id}}),className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:["Zum Kalender",(0,Oa.jsx)(dM,{className:"w-4 h-4"})]})]})]},t.id)})})]}),(0,Oa.jsxs)("section",{className:"space-y-4",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Oa.jsx)(cM,{className:"w-5 h-5 text-emerald-600"}),"K\xfcrzlich erledigte Kisten"]}),(0,Oa.jsx)("p",{className:"text-xs text-slate-500",children:"completed"===i?"Alle erledigten Kisten":"Historie der letzten 10 Abschl\xfcsse"})]}),a?(0,Oa.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-center text-slate-500",children:[(0,Oa.jsx)(Mg,{className:"w-5 h-5 animate-spin inline-block mr-2"}),"Lade Daten..."]}):0===Q.length?(0,Oa.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-center text-slate-500",children:"Noch keine abgeschlossenen Kisten in dieser Ansicht."}):(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:J.map(e=>(0,Oa.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("div",{children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Code"}),(0,Oa.jsx)("p",{className:"font-semibold text-slate-800",children:e.code})]}),(0,Oa.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-200",children:"abgeschlossen"})]}),(0,Oa.jsxs)("div",{className:"mt-3 text-sm text-slate-500 space-y-1",children:[(0,Oa.jsxs)("p",{children:["F\xe4llig: ",fM(e.keep_until)]}),(0,Oa.jsxs)("p",{children:["Abgeschlossen: ",fM(e.completed_at||e.updated_at,!0)]})]}),e.comment&&(0,Oa.jsxs)("p",{className:"mt-2 text-sm text-slate-600",children:["Hinweis: ",e.comment]}),"superadmin"===(null===t||void 0===t?void 0:t.role)&&(0,Oa.jsx)("button",{type:"button",onClick:()=>G(e.id),disabled:E===e.id,className:"mt-3 inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-rose-200 text-rose-600 text-xs font-semibold hover:bg-rose-50 transition disabled:opacity-60",children:E===e.id?(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(Mg,{className:"w-3 h-3 animate-spin"}),"L\xf6schen\u2026"]}):(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(Ds,{className:"w-3 h-3"}),"L\xf6schen"]})})]},"completed-".concat(e.id)))})]}),(0,Oa.jsxs)("section",{className:"space-y-4 bg-white rounded-3xl shadow-inner border border-slate-200 p-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oa.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Oa.jsx)(bf,{className:"w-5 h-5 text-blue-600"}),"Timeline der n\xe4chsten Pr\xfcfungen"]}),(0,Oa.jsxs)("a",{href:"/dashboard",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:["Kalender \xf6ffnen",(0,Oa.jsx)(dM,{className:"w-4 h-4"})]})]}),0===ee.length?(0,Oa.jsx)("p",{className:"text-sm text-slate-500",children:"Keine anstehenden Pr\xfcfungen in der kommenden Woche."}):(0,Oa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ee.map(e=>{var t;return(0,Oa.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,Oa.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Code"}),(0,Oa.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:e.code}),(0,Oa.jsxs)("p",{className:"text-sm text-slate-600 mt-2",children:["F\xe4llig am ",fM(e.keep_until)]}),(0,Oa.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-xs text-slate-500",children:[(0,Oa.jsx)(bf,{className:"w-4 h-4 text-blue-600"}),null!==(t=e.calendar)&&void 0!==t&&t.start?"Kalendereintrag bereit":"Kalendereintrag folgt"]})]},"timeline-".concat(e.id))})})]})]}),(0,Oa.jsx)(pM,{isOpen:M,onClose:()=>{O(!1),R(null)},date:T})]})},vM=()=>(0,Oa.jsx)(xM,{}),yM=cs("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),wM=()=>(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,Oa.jsxs)("div",{className:"max-w-4xl mx-auto bg-white shadow-xl rounded-2xl overflow-hidden",children:[(0,Oa.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 px-8 py-12",children:[(0,Oa.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,Oa.jsx)(Ib,{className:"w-16 h-16 text-white"})}),(0,Oa.jsx)("h1",{className:"text-4xl font-bold text-white text-center",children:"Datenschutzerkl\xe4rung"}),(0,Oa.jsx)("p",{className:"text-blue-100 text-center mt-4 text-lg",children:"Ihre Daten sind bei uns sicher"})]}),(0,Oa.jsxs)("div",{className:"px-8 py-10 space-y-8",children:[(0,Oa.jsxs)("section",{className:"border-l-4 border-blue-500 pl-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Oa.jsx)(yM,{className:"w-6 h-6 text-blue-600 mr-3"}),(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sicherheit Ihrer Daten"})]}),(0,Oa.jsxs)("p",{className:"text-gray-700 leading-relaxed",children:["Der Biolab Logistik Planner wird auf einem ",(0,Oa.jsx)("strong",{children:"sicheren, gesch\xfctzten Server"})," gehostet. Alle Daten\xfcbertragungen werden durch moderne ",(0,Oa.jsx)("strong",{children:"Verschl\xfcsselungstechnologien"})," gesch\xfctzt."]})]}),(0,Oa.jsxs)("section",{className:"border-l-4 border-green-500 pl-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Oa.jsx)(zb,{className:"w-6 h-6 text-green-600 mr-3"}),(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Verschl\xfcsselung"})]}),(0,Oa.jsxs)("ul",{className:"space-y-3 text-gray-700",children:[(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),(0,Oa.jsxs)("span",{children:[(0,Oa.jsx)("strong",{children:"SSL/TLS-Verschl\xfcsselung:"})," Alle Verbindungen sind verschl\xfcsselt"]})]}),(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),(0,Oa.jsxs)("span",{children:[(0,Oa.jsx)("strong",{children:"Passwort-Hashing:"})," Passw\xf6rter werden sicher gehasht und niemals im Klartext gespeichert"]})]}),(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-green-600 mr-2",children:"\u2713"}),(0,Oa.jsxs)("span",{children:[(0,Oa.jsx)("strong",{children:"Sichere Authentifizierung:"})," JWT-basierte Authentifizierung mit Ablaufzeit"]})]})]})]}),(0,Oa.jsxs)("section",{className:"border-l-4 border-purple-500 pl-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Oa.jsx)(Gb,{className:"w-6 h-6 text-purple-600 mr-3"}),(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Datenspeicherung"})]}),(0,Oa.jsxs)("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Ihre Daten werden in einer ",(0,Oa.jsx)("strong",{children:"sicheren PostgreSQL-Datenbank"})," auf einem gesch\xfctzten Server gespeichert:"]}),(0,Oa.jsxs)("ul",{className:"space-y-3 text-gray-700",children:[(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-purple-600 mr-2",children:"\u2022"}),(0,Oa.jsx)("span",{children:"Regelm\xe4\xdfige Backups Ihrer Daten"})]}),(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-purple-600 mr-2",children:"\u2022"}),(0,Oa.jsx)("span",{children:"Zugriffskontrolle und Berechtigungsverwaltung"})]}),(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-purple-600 mr-2",children:"\u2022"}),(0,Oa.jsx)("span",{children:"Daten werden nur so lange gespeichert, wie es f\xfcr den Betrieb erforderlich ist"})]})]})]}),(0,Oa.jsxs)("section",{className:"border-l-4 border-orange-500 pl-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Oa.jsx)(Yb,{className:"w-6 h-6 text-orange-600 mr-3"}),(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Wer hat Zugriff auf Ihre Daten?"})]}),(0,Oa.jsxs)("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Nur ",(0,Oa.jsx)("strong",{children:"autorisierte Administratoren"})," haben Zugriff auf das System:"]}),(0,Oa.jsxs)("ul",{className:"space-y-3 text-gray-700",children:[(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-orange-600 mr-2",children:"\u2022"}),(0,Oa.jsx)("span",{children:"Superadmin: Vollzugriff zur Systemverwaltung"})]}),(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-orange-600 mr-2",children:"\u2022"}),(0,Oa.jsx)("span",{children:"Admin: Eingeschr\xe4nkter Zugriff f\xfcr Benutzerverwaltung"})]}),(0,Oa.jsxs)("li",{className:"flex items-start",children:[(0,Oa.jsx)("span",{className:"text-orange-600 mr-2",children:"\u2022"}),(0,Oa.jsx)("span",{children:"Mitarbeiter: Zugriff nur auf eigene Daten und freigegebene Informationen"})]})]})]}),(0,Oa.jsxs)("section",{className:"border-l-4 border-blue-500 pl-6",children:[(0,Oa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Oa.jsx)(Ng,{className:"w-6 h-6 text-blue-600 mr-3"}),(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Welche Daten werden gespeichert?"})]}),(0,Oa.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Wir speichern nur die Daten, die f\xfcr den Betrieb der Anwendung notwendig sind:"}),(0,Oa.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,Oa.jsx)("li",{children:"\u2022 Benutzerprofildaten (Name, E-Mail, Telefon, Adresse)"}),(0,Oa.jsx)("li",{children:"\u2022 Besch\xe4ftigungsinformationen (Typ, Arbeitszeiten)"}),(0,Oa.jsx)("li",{children:"\u2022 Nachrichten und Konversationen innerhalb des Systems"}),(0,Oa.jsx)("li",{children:"\u2022 Kalendereintr\xe4ge und Aufgaben"}),(0,Oa.jsx)("li",{children:"\u2022 Abfallmanagement-Daten"}),(0,Oa.jsx)("li",{children:"\u2022 Profilfotos und hochgeladene Dateien"}),(0,Oa.jsx)("li",{children:"\u2022 Login-Informationen und Zugriffsprotokolle"})]})]}),(0,Oa.jsxs)("section",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg",children:[(0,Oa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ihre Rechte"}),(0,Oa.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Sie haben das Recht:"}),(0,Oa.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,Oa.jsx)("li",{children:"\u2022 Auf Auskunft \xfcber Ihre gespeicherten Daten"}),(0,Oa.jsx)("li",{children:"\u2022 Auf Berichtigung falscher Daten"}),(0,Oa.jsx)("li",{children:"\u2022 Auf L\xf6schung Ihrer Daten (unter bestimmten Voraussetzungen)"}),(0,Oa.jsx)("li",{children:"\u2022 Auf Einschr\xe4nkung der Verarbeitung"}),(0,Oa.jsx)("li",{children:"\u2022 Auf Daten\xfcbertragbarkeit"})]})]}),(0,Oa.jsxs)("section",{className:"text-center pt-8 border-t border-gray-200",children:[(0,Oa.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Fragen zum Datenschutz?"}),(0,Oa.jsx)("p",{className:"text-gray-600",children:"Bei Fragen zur Verarbeitung Ihrer Daten wenden Sie sich bitte an Ihren Systemadministrator."})]}),(0,Oa.jsxs)("div",{className:"text-center text-sm text-gray-500 pt-6 border-t border-gray-200",children:[(0,Oa.jsx)("p",{children:"Stand: Januar 2026"}),(0,Oa.jsx)("p",{className:"mt-2",children:"Biolab Logistik Planner - Sichere Verwaltung Ihrer Daten"})]})]})]})}),EM=e=>{let{children:t}=e;const n=Pa(),r=null===n||void 0===n?void 0:n.isAuthenticated,a=null===n||void 0===n?void 0:n.user,[s,i]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{r&&a&&!a.first_login_completed?i(!0):i(!1)},[r,a]),r?s?(0,Oa.jsxs)(Oa.Fragment,{children:[t,(0,Oa.jsx)(sD,{onComplete:()=>i(!1)})]}):t:(0,Oa.jsx)(De,{to:"/login",replace:!0})},CM=e=>{let{children:t}=e;const n=Pa(),r=null===n||void 0===n?void 0:n.isAuthenticated,a=null===n||void 0===n?void 0:n.user;return r?["admin","superadmin"].includes(null===a||void 0===a?void 0:a.role)?t:(0,Oa.jsx)(De,{to:"/dashboard",replace:!0}):(0,Oa.jsx)(De,{to:"/login",replace:!0})},FM=()=>{const e=Pa(),{t:t}=qa(),n=null===e||void 0===e?void 0:e.loading;return(0,o.useEffect)(()=>(()=>{const e=()=>{var e;const t=.01*((null===(e=window.visualViewport)||void 0===e?void 0:e.height)||window.innerHeight);document.documentElement.style.setProperty("--vh","".concat(t,"px"));const n=parseInt(getComputedStyle(document.documentElement).getPropertyValue("env(safe-area-inset-bottom)")||"0"),r=document.querySelector(".bottom-nav-mobile"),a=(null===r||void 0===r?void 0:r.offsetHeight)||56;document.documentElement.style.setProperty("--bottom-nav-height","".concat(a,"px")),document.documentElement.style.setProperty("--safe-area-bottom","".concat(n,"px")),document.documentElement.style.setProperty("--app-bottom-offset","".concat(a+n,"px")),"/messages"===window.location.pathname?(document.body.classList.add("messenger-page"),document.documentElement.style.setProperty("--messenger-height","".concat(window.innerHeight,"px"))):document.body.classList.remove("messenger-page")};e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e);let t=window.innerHeight;const n=()=>{window.innerHeight!==t&&(t=window.innerHeight,e())};return window.addEventListener("scroll",n),window.addEventListener("touchmove",n),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.removeEventListener("scroll",n),window.removeEventListener("touchmove",n)}})(),[]),n?(0,Oa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-900 flex items-center justify-center",children:(0,Oa.jsxs)("div",{className:"text-center",children:[(0,Oa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,Oa.jsx)("p",{className:"text-white text-lg",children:t("app.loading")})]})}):(0,Oa.jsx)(Ka,{children:(0,Oa.jsx)(Se,{children:(0,Oa.jsxs)("div",{className:"min-h-screen flex flex-col pb-16 lg:pb-0",id:"mobile-app-root",children:[(0,Oa.jsx)(an,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"10px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"},style:{background:"#10B981"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"},style:{background:"#EF4444"}},loading:{iconTheme:{primary:"#3B82F6",secondary:"#fff"}}}}),(0,Oa.jsx)("main",{className:"flex-1 mobile-scroll-container lg:overflow-visible",children:(0,Oa.jsxs)(ye,{children:[(0,Oa.jsx)(xe,{path:"/login",element:(0,Oa.jsx)(bl,{})}),(0,Oa.jsx)(xe,{path:"/first-setup",element:(0,Oa.jsx)(_b,{})}),(0,Oa.jsx)(xe,{path:"/datenschutz",element:(0,Oa.jsx)(wM,{})}),(0,Oa.jsx)(xe,{path:"/dashboard",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(vg,{})]})})}),(0,Oa.jsx)(xe,{path:"/messages",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(cb,{})]})})}),(0,Oa.jsx)(xe,{path:"/waste",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(mb,{})]})})}),(0,Oa.jsx)(xe,{path:"/schedule",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(jb,{})]})})}),(0,Oa.jsx)(xe,{path:"/kisten",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(vM,{})]})})}),(0,Oa.jsx)(xe,{path:"/task-pool",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(HC,{})]})})}),(0,Oa.jsx)(xe,{path:"/kanban",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(HC,{})]})})}),(0,Oa.jsx)(xe,{path:"/profile/me",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(uD,{})]})})}),(0,Oa.jsx)(xe,{path:"/profile/:userId",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(uD,{})]})})}),(0,Oa.jsx)(xe,{path:"/users",element:(0,Oa.jsx)(CM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(Bb,{})]})})}),(0,Oa.jsx)(xe,{path:"/admin",element:(0,Oa.jsx)(CM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(aD,{})]})})}),(0,Oa.jsx)(xe,{path:"/waste-templates",element:(0,Oa.jsx)(CM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(qC,{})]})})}),(0,Oa.jsx)(xe,{path:"/knowledge-base",element:(0,Oa.jsx)(EM,{children:(0,Oa.jsxs)(Oa.Fragment,{children:[(0,Oa.jsx)(il,{}),(0,Oa.jsx)(aM,{})]})})}),(0,Oa.jsx)(xe,{path:"/",element:(0,Oa.jsx)(De,{to:"/dashboard",replace:!0})})]})}),(0,Oa.jsx)(ml,{}),(0,Oa.jsx)(gl,{})]})})})};const AM=function(){return(0,Oa.jsx)(Ha,{children:(0,Oa.jsx)(Ia,{children:(0,Oa.jsx)(Mo,{children:(0,Oa.jsx)(FM,{})})})})},kM={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_ID:"1769023108",REACT_APP_BUILD_DATE:"2026-01-21T19:18:28Z"}.REACT_APP_APP_VERSION||"3.0.1",NM="1769023108",jM=NM?"".concat(kM,".").concat(NM):kM;(()=>{const e=localStorage.getItem("app_version");if(e!==jM){console.log("\ud83d\udd04 New version detected: ".concat(jM," (was ").concat(e,")")),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{caches.delete(e)})});const t=localStorage.getItem("token"),n=localStorage.getItem("userId");localStorage.clear(),t&&localStorage.setItem("token",t),n&&localStorage.setItem("userId",n),localStorage.setItem("app_version",jM),NM&&localStorage.setItem("build_id",NM.toString()),window.location.reload(!0)}})(),document.documentElement.dataset.build=jM,console.log("\ud83d\udcf1 Biolab Logistik Planner v".concat(kM)),console.log("\ud83c\udfd7\ufe0f Build ID: ".concat(NM||"n/a")),console.log("\ud83d\udcc5 Build Date: ".concat("2026-01-21T19:18:28Z"));const _M=Zp,SM=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(!e)return console.warn("[DateProtection] Null/undefined date passed to format()"),"\u2014";if(e instanceof Date)return isNaN(e.getTime())?(console.warn("[DateProtection] Invalid Date object:",e),"\u2014"):_M(e,t,n);const r=new Date(e);return isNaN(r.getTime())?(console.warn("[DateProtection] Cannot parse date:",e),"\u2014"):_M(r,t,n)}catch(r){return console.error("[DateProtection] Error in format():",r,{date:e,formatStr:t}),"\u2014"}};Zp=SM,console.log("[DateProtection] Global date format protection enabled \u2713");u.createRoot(document.getElementById("root")).render((0,Oa.jsx)(o.StrictMode,{children:(0,Oa.jsx)(AM,{})}))})()})();