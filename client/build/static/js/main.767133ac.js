/*! For license information please see main.767133ac.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},82:(e,t)=>{var n=60103,r=60106,a=60107,i=60108,o=60114,s=60109,l=60110,c=60112,u=60113,d=60120,f=60115,p=60116,h=60121,m=60122,g=60117,b=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),a=x("react.fragment"),i=x("react.strict_mode"),o=x("react.profiler"),s=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),f=x("react.memo"),p=x("react.lazy"),h=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),b=x("react.debug_trace_mode"),v=x("react.legacy_hidden")}function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case o:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case f:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return y(e)===l}},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var y=x.prototype=new v;y.constructor=x,m(y,b.prototype),y.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!j.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+_(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),D(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+_(s=e[c],c);l+=D(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=D(s=s.value,t,a,u=i+_(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return D(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var a=p(n);a&&a!==h&&e(t,a,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var b=o[g];if(!i[b]&&(!r||!r[b])&&(!m||!m[b])&&(!s||!s[b])){var v=f(n,b);try{c(t,b,v)}catch(ze){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,y(e),!m)if(null!==r(c))m=!0,O(k);else{var t=r(u);null!==t&&I(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(C),C=-1),h=!0;var i=p;try{for(y(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!D());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&a(c),y(n)}else a(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&I(w,d.startTime-n),l=!1}return l}finally{f=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,j=!1,S=null,C=-1,E=5,_=-1;function D(){return!(t.unstable_now()-_<E)}function T(){if(null!==S){var e=t.unstable_now();_=e;var n=!0;try{n=S(!0,e)}finally{n?N():(j=!1,S=null)}}else j=!1}if("function"===typeof x)N=function(){x(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=T,N=function(){P.postMessage(null)}}else N=function(){b(T,0)};function O(e){S=e,j||(j=!0,N())}function I(e,n){C=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,I(w,i-o))):(e.sortIndex=s,n(c,e),m||h||(m=!0,O(k))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R,L=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(Ge){var t=Ge.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(We){var r=We}Reflect.construct(e,[],t)}else{try{t.call()}catch(We){r=We}e.call(t.prototype)}else{try{throw Error()}catch(We){r=We}e()}}catch(We){if(We&&r&&"string"===typeof We.stack){for(var a=We.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case S:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return W(e(t))}catch(Ge){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ne=null;function je(e){if(e=_a(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=Ta(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Ee(e,t){return e(t)}function _e(){}var De=!1;function Te(e,t,n){if(De)return e(t,n);De=!0;try{return Ee(e,t,n)}finally{De=!1,(null!==ke||null!==Ne)&&(_e(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=Ta(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(He){Pe=!1}function Ie(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Re=null,Le=!1,Be=null,Fe={onError:function(e){Me=!0,Re=e}};function qe(e,t,n,r,a,i,o,s,l){Me=!1,Re=null,Ie.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ve(e)!==e)throw Error(i(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ke(a),e;if(o===r)return Ke(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var et=a.unstable_scheduleCallback,tt=a.unstable_cancelCallback,nt=a.unstable_shouldYield,rt=a.unstable_requestPaint,at=a.unstable_now,it=a.unstable_getCurrentPriorityLevel,ot=a.unstable_ImmediatePriority,st=a.unstable_UserBlockingPriority,lt=a.unstable_NormalPriority,ct=a.unstable_LowPriority,ut=a.unstable_IdlePriority,dt=null,ft=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ht(e)/mt|0)|0},ht=Math.log,mt=Math.LN2;var gt=64,bt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=vt(s):0!==(i&=o)&&(r=vt(i))}else 0!==(o=n&~a)?r=vt(o):0!==i&&(r=vt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-pt(t)),r|=e[n],t&=~a;return r}function wt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function kt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Nt(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function jt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Et=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Dt,Tt,At,Pt,Ot,It=!1,Mt=[],Rt=null,Bt=null,Ft=null,zt=new Map,Ut=new Map,Wt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(t.pointerId)}}function Vt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=_a(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Gt(e){var t=Ea(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ot(e.priority,function(){At(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=an(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_a(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Kt(e,t,n){$t(e)&&n.delete(t)}function Yt(){It=!1,null!==Rt&&$t(Rt)&&(Rt=null),null!==Bt&&$t(Bt)&&(Bt=null),null!==Ft&&$t(Ft)&&(Ft=null),zt.forEach(Kt),Ut.forEach(Kt)}function Jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Yt)))}function Qt(e){function t(t){return Jt(t,e)}if(0<Mt.length){Jt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Jt(Rt,e),null!==Bt&&Jt(Bt,e),null!==Ft&&Jt(Ft,e),zt.forEach(t),Ut.forEach(t),n=0;n<Wt.length;n++)(r=Wt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&null===(n=Wt[0]).blockedOn;)Gt(n),null===n.blockedOn&&Wt.shift()}var Xt=y.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var a=Et,i=Xt.transition;Xt.transition=null;try{Et=1,nn(e,t,n,r)}finally{Et=a,Xt.transition=i}}function tn(e,t,n,r){var a=Et,i=Xt.transition;Xt.transition=null;try{Et=4,nn(e,t,n,r)}finally{Et=a,Xt.transition=i}}function nn(e,t,n,r){if(Zt){var a=an(e,t,n,r);if(null===a)Zr(e,t,r,rn,n),qt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Rt=Vt(Rt,e,t,n,r,a),!0;case"dragenter":return Bt=Vt(Bt,e,t,n,r,a),!0;case"mouseover":return Ft=Vt(Ft,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return zt.set(i,Vt(zt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ut.set(i,Vt(Ut.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<Ht.indexOf(e)){for(;null!==a;){var i=_a(a);if(null!==i&&Dt(i),null===(i=an(e,t,n,r))&&Zr(e,t,r,rn,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function an(e,t,n,r){if(rn=null,null!==(e=Ea(e=ye(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function on(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(it()){case ot:return 1;case st:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var sn=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,a="value"in sn?sn.value:sn.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return cn=a.slice(e,1<t?1-t:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function fn(){return!0}function pn(){return!1}function hn(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?fn:pn,this.isPropagationStopped=pn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=fn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=fn)},persist:function(){},isPersistent:fn}),t}var mn,gn,bn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xn=hn(vn),yn=L({},vn,{view:0,detail:0}),wn=hn(yn),kn=L({},yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&"mousemove"===e.type?(mn=e.screenX-bn.screenX,gn=e.screenY-bn.screenY):gn=mn=0,bn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Nn=hn(kn),jn=hn(L({},kn,{dataTransfer:0})),Sn=hn(L({},yn,{relatedTarget:0})),Cn=hn(L({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=L({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=hn(En),Dn=hn(L({},vn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pn[e])&&!!t[e]}function In(){return On}var Mn=L({},yn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=hn(Mn),Ln=hn(L({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=hn(L({},yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Fn=hn(L({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=L({},kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Un=hn(zn),Wn=[9,13,27,32],Hn=u&&"CompositionEvent"in window,qn=null;u&&"documentMode"in document&&(qn=document.documentMode);var Vn=u&&"TextEvent"in window&&!qn,Gn=u&&(!Hn||qn&&8<qn&&11>=qn),$n=String.fromCharCode(32),Kn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function er(e,t,n,r){Se(r),0<(t=ta(t,"onChange")).length&&(n=new xn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){$r(e,0)}function ar(e){if($(Da(e)))return e}function ir(e,t){if("change"===e)return t}var or=!1;if(u){var sr;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}sr=lr}else sr=!1;or=sr&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",dr),nr=tr=null)}function dr(e){if("value"===e.propertyName&&ar(nr)){var t=[];er(t,nr,e,ye(e)),Te(rr,t)}}function fr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",dr)):"focusout"===e&&ur()}function pr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ar(nr)}function hr(e,t){if("click"===e)return ar(t)}function mr(e,t){if("input"===e||"change"===e)return ar(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function br(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!gr(e[a],t[a]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xr(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function wr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Je){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Nr(e){var t=wr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yr(n.ownerDocument.documentElement,n)){if(null!==r&&kr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=xr(n,i);var o=xr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jr=u&&"documentMode"in document&&11>=document.documentMode,Sr=null,Cr=null,Er=null,_r=!1;function Dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==Sr||Sr!==K(r)||("selectionStart"in(r=Sr)&&kr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&br(Er,r)||(Er=r,0<(r=ta(Cr,"onSelect")).length&&(t=new xn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},Pr={},Or={};function Ir(e){if(Pr[e])return Pr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Pr[e]=n[t];return e}u&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Mr=Ir("animationend"),Rr=Ir("animationiteration"),Lr=Ir("animationstart"),Br=Ir("transitionend"),Fr=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Fr.set(e,t),l(t,[e])}for(var Wr=0;Wr<zr.length;Wr++){var Hr=zr[Wr];Ur(Hr.toLowerCase(),"on"+(Hr[0].toUpperCase()+Hr.slice(1)))}Ur(Mr,"onAnimationEnd"),Ur(Rr,"onAnimationIteration"),Ur(Lr,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Br,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Gr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(qe.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=Re;Me=!1,Re=null,Le||(Le=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Gr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Gr(a,s,c),i=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Kr(e,t){var n=t[ja];void 0===n&&(n=t[ja]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Jr]){e[Jr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Vr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jr]||(t[Jr]=!0,Yr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(on(t)){case 1:var a=en;break;case 4:a=tn;break;default:a=nn}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=Ea(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Te(function(){var r=i,a=ye(n),o=[];e:{var s=Fr.get(e);if(void 0!==s){var l=xn,c=e;switch(e){case"keypress":if(0===dn(n))break e;case"keydown":case"keyup":l=Rn;break;case"focusin":c="focus",l=Sn;break;case"focusout":c="blur",l=Sn;break;case"beforeblur":case"afterblur":l=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=jn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Bn;break;case Mr:case Rr:case Lr:l=Cn;break;case Br:l=Fn;break;case"scroll":l=wn;break;case"wheel":l=Un;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Ae(h,f))&&u.push(ea(h,m,p)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!Ea(c)&&!c[Na])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ea(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Nn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ln,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:Da(l),p=null==c?s:Da(c),(s=new u(m,h+"leave",l,n,a)).target=d,s.relatedTarget=p,m=null,Ea(a)===r&&((u=new u(f,h+"enter",c,n,a)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,h=0,p=u=l;p;p=na(p))h++;for(p=0,m=f;m;m=na(m))p++;for(;0<h-p;)u=na(u),h--;for(;0<p-h;)f=na(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=na(u),f=na(f)}u=null}else u=null;null!==l&&ra(o,s,l,u,!1),null!==c&&null!==d&&ra(o,d,c,u,!0)}if("select"===(l=(s=r?Da(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=ir;else if(Zn(s))if(or)g=mr;else{g=pr;var b=fr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=hr);switch(g&&(g=g(e,r))?er(o,g,n,a):(b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&ee(s,"number",s.value)),b=r?Da(r):window,e){case"focusin":(Zn(b)||"true"===b.contentEditable)&&(Sr=b,Cr=r,Er=null);break;case"focusout":Er=Cr=Sr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Dr(o,n,a);break;case"selectionchange":if(jr)break;case"keydown":case"keyup":Dr(o,n,a)}var v;if(Hn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Qn?Yn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Gn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Qn&&(v=un()):(ln="value"in(sn=a)?sn.value:sn.textContent,Qn=!0)),0<(b=ta(r,x)).length&&(x=new Dn(x,e,null,n,a),o.push({event:x,listeners:b}),v?x.data=v:null!==(v=Jn(n))&&(x.data=v))),(v=Vn?function(e,t){switch(e){case"compositionend":return Jn(t);case"keypress":return 32!==t.which?null:(Kn=!0,$n);case"textInput":return(e=t.data)===$n&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Hn&&Yn(e,t)?(e=un(),cn=ln=sn=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ta(r,"onBeforeInput")).length&&(a=new Dn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}$r(o,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ae(e,n))&&r.unshift(ea(e,i,a)),null!=(i=Ae(e,t))&&r.push(ea(e,i,a))),e=e.return}return r}function na(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ra(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Ae(n,i))&&o.unshift(ea(n,l,s)):a||null!=(l=Ae(n,i))&&o.push(ea(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var aa=/\r\n?/g,ia=/\u0000|\uFFFD/g;function oa(e){return("string"===typeof e?e:""+e).replace(aa,"\n").replace(ia,"")}function sa(e,t,n){if(t=oa(t),oa(e)!==t&&n)throw Error(i(425))}function la(){}var ca=null,ua=null;function da(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var fa="function"===typeof setTimeout?setTimeout:void 0,pa="function"===typeof clearTimeout?clearTimeout:void 0,ha="function"===typeof Promise?Promise:void 0,ma="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ha?function(e){return ha.resolve(null).then(e).catch(ga)}:fa;function ga(e){setTimeout(function(){throw e})}function ba(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Qt(t)}function va(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function xa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),wa="__reactFiber$"+ya,ka="__reactProps$"+ya,Na="__reactContainer$"+ya,ja="__reactEvents$"+ya,Sa="__reactListeners$"+ya,Ca="__reactHandles$"+ya;function Ea(e){var t=e[wa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Na]||n[wa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xa(e);null!==e;){if(n=e[wa])return n;e=xa(e)}return t}n=(e=n).parentNode}return null}function _a(e){return!(e=e[wa]||e[Na])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Da(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ta(e){return e[ka]||null}var Aa=[],Pa=-1;function Oa(e){return{current:e}}function Ia(e){0>Pa||(e.current=Aa[Pa],Aa[Pa]=null,Pa--)}function Ma(e,t){Pa++,Aa[Pa]=e.current,e.current=t}var Ra={},La=Oa(Ra),Ba=Oa(!1),Fa=Ra;function za(e,t){var n=e.type.contextTypes;if(!n)return Ra;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ua(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Wa(){Ia(Ba),Ia(La)}function Ha(e,t,n){if(La.current!==Ra)throw Error(i(168));Ma(La,t),Ma(Ba,n)}function qa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return L({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,Fa=La.current,Ma(La,e),Ma(Ba,Ba.current),!0}function Ga(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=qa(e,t,Fa),r.__reactInternalMemoizedMergedChildContext=e,Ia(Ba),Ia(La),Ma(La,e)):Ia(Ba),Ma(Ba,n)}var $a=null,Ka=!1,Ya=!1;function Ja(e){null===$a?$a=[e]:$a.push(e)}function Qa(){if(!Ya&&null!==$a){Ya=!0;var e=0,t=Et;try{var n=$a;for(Et=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$a=null,Ka=!1}catch(ze){throw null!==$a&&($a=$a.slice(e+1)),et(ot,Qa),ze}finally{Et=t,Ya=!1}}return null}var Xa=[],Za=0,ei=null,ti=0,ni=[],ri=0,ai=null,ii=1,oi="";function si(e,t){Xa[Za++]=ti,Xa[Za++]=ei,ei=e,ti=t}function li(e,t,n){ni[ri++]=ii,ni[ri++]=oi,ni[ri++]=ai,ai=e;var r=ii;e=oi;var a=32-pt(r)-1;r&=~(1<<a),n+=1;var i=32-pt(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ii=1<<32-pt(t)+a|n<<a|r,oi=i+e}else ii=1<<i|n<<a|r,oi=e}function ci(e){null!==e.return&&(si(e,1),li(e,1,0))}function ui(e){for(;e===ei;)ei=Xa[--Za],Xa[Za]=null,ti=Xa[--Za],Xa[Za]=null;for(;e===ai;)ai=ni[--ri],ni[ri]=null,oi=ni[--ri],ni[ri]=null,ii=ni[--ri],ni[ri]=null}var di=null,fi=null,pi=!1,hi=null;function mi(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,di=e,fi=va(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,di=e,fi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ai?{id:ii,overflow:oi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,di=e,fi=null,!0);default:return!1}}function bi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vi(e){if(pi){var t=fi;if(t){var n=t;if(!gi(e,t)){if(bi(e))throw Error(i(418));t=va(n.nextSibling);var r=di;t&&gi(e,t)?mi(r,n):(e.flags=-4097&e.flags|2,pi=!1,di=e)}}else{if(bi(e))throw Error(i(418));e.flags=-4097&e.flags|2,pi=!1,di=e}}}function xi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;di=e}function yi(e){if(e!==di)return!1;if(!pi)return xi(e),pi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!da(e.type,e.memoizedProps)),t&&(t=fi)){if(bi(e))throw wi(),Error(i(418));for(;t;)mi(e,t),t=va(t.nextSibling)}if(xi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){fi=va(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}fi=null}}else fi=di?va(e.stateNode.nextSibling):null;return!0}function wi(){for(var e=fi;e;)e=va(e.nextSibling)}function ki(){fi=di=null,pi=!1}function Ni(e){null===hi?hi=[e]:hi.push(e)}var ji=y.ReactCurrentBatchConfig;function Si(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ei(e){return(0,e._init)(e._payload)}function _i(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Wc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&Ei(i)===t.type)?((r=a(t,n.props)).ref=Si(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=Si(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=qc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=Si(e,null,t),n.return=e,n;case k:return(t=$c(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=qc(t,e.mode,n,null)).return=e,t;Ci(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case P:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);Ci(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);Ci(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=p(a,d,s[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(a,d),i=o(b,i,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===s.length)return n(a,d),pi&&si(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return pi&&si(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=h(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),pi&&si(a,m),c}function g(a,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,b=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var x=p(a,m,v.value,c);if(null===x){null===m&&(m=b);break}e&&m&&null===x.alternate&&t(a,m),s=o(x,s,g),null===d?u=x:d.sibling=x,d=x,m=b}if(v.done)return n(a,m),pi&&si(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(a,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return pi&&si(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=h(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),pi&&si(a,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===N){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ei(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=Si(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===N?((i=qc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Hc(o.type,o.key,o.props,null,r.mode,l)).ref=Si(r,i,o),l.return=r,r=l)}return s(r);case k:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=$c(o,r.mode,l)).return=r,r=i}return s(r);case P:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(M(o))return g(r,i,o,l);Ci(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Gc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Di=_i(!0),Ti=_i(!1),Ai=Oa(null),Pi=null,Oi=null,Ii=null;function Mi(){Ii=Oi=Pi=null}function Ri(e){var t=Ai.current;Ia(Ai),e._currentValue=t}function Li(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bi(e,t){Pi=e,Ii=Oi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:t,next:null},null===Oi){if(null===Pi)throw Error(i(308));Oi=e,Pi.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return t}var zi=null;function Ui(e){null===zi?zi=[e]:zi.push(e)}function Wi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ui(t)):(n.next=a.next,a.next=n),t.interleaved=n,Hi(e,r)}function Hi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qi=!1;function Vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ll)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Hi(e,n)}return null===(a=r.interleaved)?(t.next=t,Ui(r)):(t.next=a.next,a.next=t),r.interleaved=t,Hi(e,n)}function Yi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Ji(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qi(e,t,n,r){var a=e.updateQueue;qi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=L({},d,f);break e;case 2:qi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Vl|=o,e.lanes=o,e.memoizedState=d}}function Xi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Zi={},eo=Oa(Zi),to=Oa(Zi),no=Oa(Zi);function ro(e){if(e===Zi)throw Error(i(174));return e}function ao(e,t){switch(Ma(no,t),Ma(to,e),Ma(eo,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ia(eo),Ma(eo,t)}function io(){Ia(eo),Ia(to),Ia(no)}function oo(e){ro(no.current);var t=ro(eo.current),n=le(t,e.type);t!==n&&(Ma(to,e),Ma(eo,n))}function so(e){to.current===e&&(Ia(eo),Ia(to))}var lo=Oa(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function fo(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var po=y.ReactCurrentDispatcher,ho=y.ReactCurrentBatchConfig,mo=0,go=null,bo=null,vo=null,xo=!1,yo=!1,wo=0,ko=0;function No(){throw Error(i(321))}function jo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,a,o){if(mo=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=null===e||null===e.memoizedState?ls:cs,e=n(r,a),yo){o=0;do{if(yo=!1,wo=0,25<=o)throw Error(i(301));o+=1,vo=bo=null,t.updateQueue=null,po.current=us,e=n(r,a)}while(yo)}if(po.current=ss,t=null!==bo&&null!==bo.next,mo=0,vo=bo=go=null,xo=!1,t)throw Error(i(300));return e}function Co(){var e=0!==wo;return wo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=e:vo=vo.next=e,vo}function _o(){if(null===bo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=bo.next;var t=null===vo?go.memoizedState:vo.next;if(null!==t)vo=t,bo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(bo=e).memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},null===vo?go.memoizedState=vo=e:vo=vo.next=e}return vo}function Do(e,t){return"function"===typeof t?t(e):t}function To(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=bo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((mo&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,go.lanes|=d,Vl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,gr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,go.lanes|=o,Vl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);gr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=go,r=_o(),a=t(),o=!gr(r.memoizedState,a);if(o&&(r.memoizedState=a,_s=!0),r=r.queue,Vo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,zo(9,Mo.bind(null,n,r,a,t),void 0,null),null===Bl)throw Error(i(349));0!==(30&mo)||Io(n,t,a)}return a}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Mo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Bo(e)}function Ro(e,t,n){return n(function(){Lo(t)&&Bo(e)})}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(Je){return!0}}function Bo(e){var t=Hi(e,1);null!==t&&dc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,go,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return _o().memoizedState}function Wo(e,t,n,r){var a=Eo();go.flags|=e,a.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var a=_o();r=void 0===r?null:r;var i=void 0;if(null!==bo){var o=bo.memoizedState;if(i=o.destroy,null!==r&&jo(r,o.deps))return void(a.memoizedState=zo(t,n,i,r))}go.flags|=e,a.memoizedState=zo(1|t,n,i,r)}function qo(e,t){return Wo(8390656,8,e,t)}function Vo(e,t){return Ho(2048,8,e,t)}function Go(e,t){return Ho(4,2,e,t)}function $o(e,t){return Ho(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,Ko.bind(null,t,e),n)}function Jo(){}function Qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&jo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&mo)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(gr(n,t)||(n=Nt(),go.lanes|=n,Vl|=n,e.baseState=!0),t)}function es(e,t){var n=Et;Et=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{Et=n,ho.transition=r}}function ts(){return _o().memoizedState}function ns(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},as(e))is(t,n);else if(null!==(n=Wi(e,t,n,r))){dc(n,e,r,cc()),os(n,t,r)}}function rs(e,t,n){var r=uc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(as(e))is(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,gr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ui(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(We){}null!==(n=Wi(e,t,a,r))&&(dc(n,e,r,a=cc()),os(n,t,r))}}function as(e){var t=e.alternate;return e===go||null!==t&&t===go}function is(e,t){yo=xo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var ss={readContext:Fi,useCallback:No,useContext:No,useEffect:No,useImperativeHandle:No,useInsertionEffect:No,useLayoutEffect:No,useMemo:No,useReducer:No,useRef:No,useState:No,useDebugValue:No,useDeferredValue:No,useTransition:No,useMutableSource:No,useSyncExternalStore:No,useId:No,unstable_isNewReconciler:!1},ls={readContext:Fi,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Fi,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ns.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Jo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=es.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,a=Eo();if(pi){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Bl)throw Error(i(349));0!==(30&mo)||Io(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Mo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Bl.identifierPrefix;if(pi){var n=oi;t=":"+t+"R"+(n=(ii&~(1<<32-pt(ii)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Fi,useCallback:Qo,useContext:Fi,useEffect:Vo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:$o,useMemo:Xo,useReducer:To,useRef:Uo,useState:function(){return To(Do)},useDebugValue:Jo,useDeferredValue:function(e){return Zo(_o(),bo.memoizedState,e)},useTransition:function(){return[To(Do)[0],_o().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:ts,unstable_isNewReconciler:!1},us={readContext:Fi,useCallback:Qo,useContext:Fi,useEffect:Vo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:$o,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Do)},useDebugValue:Jo,useDeferredValue:function(e){var t=_o();return null===bo?t.memoizedState=e:Zo(t,bo.memoizedState,e)},useTransition:function(){return[Ao(Do)[0],_o().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:ts,unstable_isNewReconciler:!1};function ds(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function fs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),a=uc(e),i=$i(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ki(e,i,a))&&(dc(t,e,a,r),Yi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),a=uc(e),i=$i(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ki(e,i,a))&&(dc(t,e,a,r),Yi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),a=$i(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ki(e,a,r))&&(dc(t,e,r,n),Yi(t,e,r))}};function hs(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!br(n,r)||!br(a,i))}function ms(e,t,n){var r=!1,a=Ra,i=t.contextType;return"object"===typeof i&&null!==i?i=Fi(i):(a=Ua(t)?Fa:La.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?za(e,a):Ra),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ps,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Vi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Fi(i):(i=Ua(t)?Fa:La.current,a.context=za(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(fs(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ps.enqueueReplaceState(a,a.state,null),Qi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function vs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(Qe){a="\nError generating stack: "+Qe.message+"\n"+Qe.stack}return{value:e,source:t,stack:a,digest:null}}function xs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ys(e,t){try{console.error(t.value)}catch(Ge){setTimeout(function(){throw Ge})}}var ws="function"===typeof WeakMap?WeakMap:Map;function ks(e,t,n){(n=$i(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ec=r),ys(0,t)},n}function Ns(e,t,n){(n=$i(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ys(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ys(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function js(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ws;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function Ss(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Cs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$i(-1,1)).tag=2,Ki(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Es=y.ReactCurrentOwner,_s=!1;function Ds(e,t,n,r){t.child=null===e?Ti(t,null,n,r):Di(t,e.child,n,r)}function Ts(e,t,n,r,a){n=n.render;var i=t.ref;return Bi(t,a),r=So(e,t,n,r,i,a),n=Co(),null===e||_s?(pi&&n&&ci(t),t.flags|=1,Ds(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a))}function As(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Uc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ps(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:br)(o,r)&&e.ref===t.ref)return Zs(e,t,a)}return t.flags|=1,(e=Wc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ps(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(br(i,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Zs(e,t,a);0!==(131072&e.flags)&&(_s=!0)}}return Ms(e,t,n,r,a)}function Os(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ma(Wl,Ul),Ul|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ma(Wl,Ul),Ul|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ma(Wl,Ul),Ul|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ma(Wl,Ul),Ul|=r;return Ds(e,t,a,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,a){var i=Ua(n)?Fa:La.current;return i=za(t,i),Bi(t,a),n=So(e,t,n,r,i,a),r=Co(),null===e||_s?(pi&&r&&ci(t),t.flags|=1,Ds(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a))}function Rs(e,t,n,r,a){if(Ua(n)){var i=!0;Va(t)}else i=!1;if(Bi(t,a),null===t.stateNode)Xs(e,t),ms(t,n,r),bs(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fi(c):c=za(t,c=Ua(n)?Fa:La.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&gs(t,o,r,c),qi=!1;var f=t.memoizedState;o.state=f,Qi(t,r,o,a),l=t.memoizedState,s!==r||f!==l||Ba.current||qi?("function"===typeof u&&(fs(t,n,u,r),l=t.memoizedState),(s=qi||hs(t,n,s,r,f,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Gi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ds(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fi(l):l=za(t,l=Ua(n)?Fa:La.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&gs(t,o,r,l),qi=!1,f=t.memoizedState,o.state=f,Qi(t,r,o,a);var h=t.memoizedState;s!==d||f!==h||Ba.current||qi?("function"===typeof p&&(fs(t,n,p,r),h=t.memoizedState),(c=qi||hs(t,n,c,r,f,h,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ls(e,t,n,r,i,a)}function Ls(e,t,n,r,a,i){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ga(t,n,!1),Zs(e,t,i);r=t.stateNode,Es.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Di(t,e.child,null,i),t.child=Di(t,null,s,i)):Ds(e,t,s,i),t.memoizedState=r.state,a&&Ga(t,n,!0),t.child}function Bs(e){var t=e.stateNode;t.pendingContext?Ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(0,t.context,!1),ao(e,t.containerInfo)}function Fs(e,t,n,r,a){return ki(),Ni(a),t.flags|=256,Ds(e,t,n,r),t.child}var zs,Us,Ws,Hs,qs={dehydrated:null,treeContext:null,retryLane:0};function Vs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gs(e,t,n){var r,a=t.pendingProps,o=lo.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ma(lo,1&o),null===e)return vi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Vc(l,a,0,null),e=qc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vs(n),t.memoizedState=qs,e):$s(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Ks(e,t,s,r=xs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Vc({mode:"visible",children:r.children},a,0,null),(o=qc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Di(t,e.child,null,s),t.child.memoizedState=Vs(s),t.memoizedState=qs,o);if(0===(1&t.mode))return Ks(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ks(e,t,s,r=xs(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(r=Bl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Hi(e,a),dc(r,e,a,-1))}return jc(),Ks(e,t,s,r=xs(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Rc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,fi=va(a.nextSibling),di=t,pi=!0,hi=null,null!==e&&(ni[ri++]=ii,ni[ri++]=oi,ni[ri++]=ai,ii=e.id,oi=e.overflow,ai=t),t=$s(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Wc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Wc(r,s):(s=qc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Vs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=qs,a}return e=(s=e.child).sibling,a=Wc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function $s(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ks(e,t,n,r){return null!==r&&Ni(r),Di(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ys(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Li(e.return,t,n)}function Js(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Qs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ds(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ys(e,n,t);else if(19===e.tag)Ys(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ma(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Js(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===co(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Js(t,!0,n,null,i);break;case"together":Js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Wc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!pi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(ui(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Ua(t.type)&&Wa(),tl(t),null;case 3:return r=t.stateNode,io(),Ia(Ba),Ia(La),fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(yi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==hi&&(mc(hi),hi=null))),Us(e,t),tl(t),null;case 5:so(t);var a=ro(no.current);if(n=t.type,null!==e&&null!=t.stateNode)Ws(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return tl(t),null}if(e=ro(eo.current),yi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[wa]=t,r[ka]=o,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(a=0;a<qr.length;a++)Kr(qr[a],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":J(r,o),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Kr("invalid",r);break;case"textarea":ae(r,o),Kr("invalid",r)}for(var l in be(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&sa(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&sa(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Kr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=la)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[wa]=t,e[ka]=r,zs(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),a=r;break;case"iframe":case"object":case"embed":Kr("load",e),a=r;break;case"video":case"audio":for(a=0;a<qr.length;a++)Kr(qr[a],e);a=r;break;case"source":Kr("error",e),a=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),a=r;break;case"details":Kr("toggle",e),a=r;break;case"input":J(e,r),a=Y(e,r),Kr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Kr("invalid",e)}for(o in be(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Kr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=la)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)Hs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ro(no.current),ro(eo.current),yi(t)){if(r=t.stateNode,n=t.memoizedProps,r[wa]=t,(o=r.nodeValue!==n)&&null!==(e=di))switch(e.tag){case 3:sa(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&sa(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wa]=t,t.stateNode=r}return tl(t),null;case 13:if(Ia(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(pi&&null!==fi&&0!==(1&t.mode)&&0===(128&t.flags))wi(),ki(),t.flags|=98560,o=!1;else if(o=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[wa]=t}else ki(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),o=!1}else null!==hi&&(mc(hi),hi=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===Hl&&(Hl=3):jc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return io(),Us(e,t),null===e&&Qr(t.stateNode.containerInfo),tl(t),null;case 10:return Ri(t.type._context),tl(t),null;case 19:if(Ia(lo),null===(o=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)el(o,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=co(e))){for(t.flags|=128,el(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ma(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&at()>Ql&&(t.flags|=128,r=!0,el(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!pi)return tl(t),null}else 2*at()-o.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,el(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,n=lo.current,Ma(lo,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return yc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ul)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function rl(e,t){switch(ui(t),t.tag){case 1:return Ua(t.type)&&Wa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ia(Ba),Ia(La),fo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return so(t),null;case 13:if(Ia(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ki()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ia(lo),null;case 4:return io(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return yc(),null;default:return null}}zs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Us=function(){},Ws=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ro(eo.current);var i,o=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=la)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Kr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Hs=function(e,t,n,r){n!==r&&(t.flags|=4)};var al=!1,il=!1,ol="function"===typeof WeakSet?WeakSet:Set,sl=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Je){Oc(e,t,Je)}else n.current=null}function cl(e,t,n){try{n()}catch(Je){Oc(e,t,Je)}}var ul=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&cl(t,n,i)}a=a.next}while(a!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function hl(e){var t=e.alternate;null!==t&&(e.alternate=null,hl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[wa],delete t[ka],delete t[ja],delete t[Sa],delete t[Ca])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=la));else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}var xl=null,yl=!1;function wl(e,t,n){for(n=n.child;null!==n;)kl(e,t,n),n=n.sibling}function kl(e,t,n){if(ft&&"function"===typeof ft.onCommitFiberUnmount)try{ft.onCommitFiberUnmount(dt,n)}catch(Ze){}switch(n.tag){case 5:il||ll(n,t);case 6:var r=xl,a=yl;xl=null,wl(e,t,n),yl=a,null!==(xl=r)&&(yl?(e=xl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):xl.removeChild(n.stateNode));break;case 18:null!==xl&&(yl?(e=xl,n=n.stateNode,8===e.nodeType?ba(e.parentNode,n):1===e.nodeType&&ba(e,n),Qt(e)):ba(xl,n.stateNode));break;case 4:r=xl,a=yl,xl=n.stateNode.containerInfo,yl=!0,wl(e,t,n),xl=r,yl=a;break;case 0:case 11:case 14:case 15:if(!il&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&cl(n,t,o),a=a.next}while(a!==r)}wl(e,t,n);break;case 1:if(!il&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Ze){Oc(n,t,Ze)}wl(e,t,n);break;case 21:wl(e,t,n);break;case 22:1&n.mode?(il=(r=il)||null!==n.memoizedState,wl(e,t,n),il=r):wl(e,t,n);break;default:wl(e,t,n)}}function Nl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ol),t.forEach(function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function jl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:xl=l.stateNode,yl=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,yl=!0;break e}l=l.return}if(null===xl)throw Error(i(160));kl(o,s,a),xl=null,yl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(We){Oc(a,t,We)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Sl(t,e),t=t.sibling}function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jl(t,e),Cl(e),4&r){try{dl(3,e,e.return),fl(3,e)}catch(Ue){Oc(e,e.return,Ue)}try{dl(5,e,e.return)}catch(Ue){Oc(e,e.return,Ue)}}break;case 1:jl(t,e),Cl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(jl(t,e),Cl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(Ue){Oc(e,e.return,Ue)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),ve(l,s);var u=ve(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(a,f):"dangerouslySetInnerHTML"===d?ue(a,f):"children"===d?de(a,f):x(a,d,f,u)}switch(l){case"input":X(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ka]=o}catch(Ue){Oc(e,e.return,Ue)}}break;case 6:if(jl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(Ue){Oc(e,e.return,Ue)}}break;case 3:if(jl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Qt(t.containerInfo)}catch(Ue){Oc(e,e.return,Ue)}break;case 4:default:jl(t,e),Cl(e);break;case 13:jl(t,e),Cl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Jl=at())),4&r&&Nl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(il=(u=il)||d,jl(t,e),il=u):jl(t,e),Cl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(sl=e,d=e.child;null!==d;){for(f=sl=d;null!==sl;){switch(h=(p=sl).child,p.tag){case 0:case 11:case 14:case 15:dl(4,p,p.return);break;case 1:ll(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(Ue){Oc(r,n,Ue)}}break;case 5:ll(p,p.return);break;case 22:if(null!==p.memoizedState){Tl(f);continue}}null!==h?(h.return=p,sl=h):Tl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=he("display",s))}catch(Ue){Oc(e,e.return,Ue)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(Ue){Oc(e,e.return,Ue)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jl(t,e),Cl(e),4&r&&Nl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),vl(e,gl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;bl(e,gl(e),o);break;default:throw Error(i(161))}}catch(yt){Oc(e,e.return,yt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function El(e,t,n){sl=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==sl;){var a=sl,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||al;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||il;s=al;var c=il;if(al=o,(il=l)&&!c)for(sl=a;null!==sl;)l=(o=sl).child,22===o.tag&&null!==o.memoizedState?Al(a):null!==l?(l.return=o,sl=l):Al(a);for(;null!==i;)sl=i,_l(i,t,n),i=i.sibling;sl=a,al=s,il=c}Dl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,sl=i):Dl(e)}}function Dl(e){for(;null!==sl;){var t=sl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:il||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!il)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ds(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Xi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Qt(f)}}}break;default:throw Error(i(163))}il||512&t.flags&&pl(t)}catch(p){Oc(t,t.return,p)}}if(t===e){sl=null;break}if(null!==(n=t.sibling)){n.return=t.return,sl=n;break}sl=t.return}}function Tl(e){for(;null!==sl;){var t=sl;if(t===e){sl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sl=n;break}sl=t.return}}function Al(e){for(;null!==sl;){var t=sl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(yt){Oc(t,n,yt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(yt){Oc(t,a,yt)}}var i=t.return;try{pl(t)}catch(yt){Oc(t,i,yt)}break;case 5:var o=t.return;try{pl(t)}catch(yt){Oc(t,o,yt)}}}catch(yt){Oc(t,t.return,yt)}if(t===e){sl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,sl=s;break}sl=t.return}}var Pl,Ol=Math.ceil,Il=y.ReactCurrentDispatcher,Ml=y.ReactCurrentOwner,Rl=y.ReactCurrentBatchConfig,Ll=0,Bl=null,Fl=null,zl=0,Ul=0,Wl=Oa(0),Hl=0,ql=null,Vl=0,Gl=0,$l=0,Kl=null,Yl=null,Jl=0,Ql=1/0,Xl=null,Zl=!1,ec=null,tc=null,nc=!1,rc=null,ac=0,ic=0,oc=null,sc=-1,lc=0;function cc(){return 0!==(6&Ll)?at():-1!==sc?sc:sc=at()}function uc(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==zl?zl&-zl:null!==ji.transition?(0===lc&&(lc=Nt()),lc):0!==(e=Et)?e:e=void 0===(e=window.event)?16:on(e.type)}function dc(e,t,n,r){if(50<ic)throw ic=0,oc=null,Error(i(185));St(e,n,r),0!==(2&Ll)&&e===Bl||(e===Bl&&(0===(2&Ll)&&(Gl|=n),4===Hl&&gc(e,zl)),fc(e,r),1===n&&0===Ll&&0===(1&t.mode)&&(Ql=at()+500,Ka&&Qa()))}function fc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=wt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=xt(e,e===Bl?zl:0);if(0===r)null!==n&&tt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&tt(n),1===t)0===e.tag?function(e){Ka=!0,Ja(e)}(bc.bind(null,e)):Ja(bc.bind(null,e)),ma(function(){0===(6&Ll)&&Qa()}),n=null;else{switch(_t(r)){case 1:n=ot;break;case 4:n=st;break;case 16:default:n=lt;break;case 536870912:n=ut}n=Bc(n,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pc(e,t){if(sc=-1,lc=0,0!==(6&Ll))throw Error(i(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=xt(e,e===Bl?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Sc(e,r);else{t=r;var a=Ll;Ll|=2;var o=Nc();for(Bl===e&&zl===t||(Xl=null,Ql=at()+500,wc(e,t));;)try{Ec();break}catch(Ze){kc(e,Ze)}Mi(),Il.current=o,Ll=a,null!==Fl?t=0:(Bl=null,zl=0,t=Hl)}if(0!==t){if(2===t&&(0!==(a=kt(e))&&(r=a,t=hc(e,a))),1===t)throw n=ql,wc(e,0),gc(e,r),fc(e,at()),n;if(6===t)gc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!gr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Sc(e,r))&&(0!==(o=kt(e))&&(r=o,t=hc(e,o))),1===t))throw n=ql,wc(e,0),gc(e,r),fc(e,at()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Tc(e,Yl,Xl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Jl+500-at())){if(0!==xt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=fa(Tc.bind(null,e,Yl,Xl),t);break}Tc(e,Yl,Xl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-pt(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=at()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){e.timeoutHandle=fa(Tc.bind(null,e,Yl,Xl),r);break}Tc(e,Yl,Xl);break;default:throw Error(i(329))}}}return fc(e,at()),e.callbackNode===n?pc.bind(null,e):null}function hc(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(wc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Yl,Yl=n,null!==t&&mc(t)),e}function mc(e){null===Yl?Yl=e:Yl.push.apply(Yl,e)}function gc(e,t){for(t&=~$l,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(0!==(6&Ll))throw Error(i(327));Ac();var t=xt(e,0);if(0===(1&t))return fc(e,at()),null;var n=Sc(e,t);if(0!==e.tag&&2===n){var r=kt(e);0!==r&&(t=r,n=hc(e,r))}if(1===n)throw n=ql,wc(e,0),gc(e,t),fc(e,at()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Yl,Xl),fc(e,at()),null}function vc(e,t){var n=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=n)&&(Ql=at()+500,Ka&&Qa())}}function xc(e){null!==rc&&0===rc.tag&&0===(6&Ll)&&Ac();var t=Ll;Ll|=1;var n=Rl.transition,r=Et;try{if(Rl.transition=null,Et=1,e)return e()}finally{Et=r,Rl.transition=n,0===(6&(Ll=t))&&Qa()}}function yc(){Ul=Wl.current,Ia(Wl)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,pa(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ui(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Wa();break;case 3:io(),Ia(Ba),Ia(La),fo();break;case 5:so(r);break;case 4:io();break;case 13:case 19:Ia(lo);break;case 10:Ri(r.type._context);break;case 22:case 23:yc()}n=n.return}if(Bl=e,Fl=e=Wc(e.current,null),zl=Ul=t,Hl=0,ql=null,$l=Gl=Vl=0,Yl=Kl=null,null!==zi){for(t=0;t<zi.length;t++)if(null!==(r=(n=zi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}zi=null}return e}function kc(e,t){for(;;){var n=Fl;try{if(Mi(),po.current=ss,xo){for(var r=go.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}xo=!1}if(mo=0,vo=bo=go=null,yo=!1,wo=0,Ml.current=null,null===n||null===n.return){Hl=1,ql=t,Fl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Ss(s);if(null!==h){h.flags&=-257,Cs(h,s,l,0,t),1&h.mode&&js(o,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){js(o,u,t),jc();break e}c=Error(i(426))}else if(pi&&1&l.mode){var b=Ss(s);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),Cs(b,s,l,0,t),Ni(vs(c,l));break e}}o=c=vs(c,l),4!==Hl&&(Hl=2),null===Kl?Kl=[o]:Kl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ji(o,ks(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===tc||!tc.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Ji(o,Ns(o,l,t));break e}}o=o.return}while(null!==o)}Dc(n)}catch(y){t=y,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function Nc(){var e=Il.current;return Il.current=ss,null===e?ss:e}function jc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Bl||0===(268435455&Vl)&&0===(268435455&Gl)||gc(Bl,zl)}function Sc(e,t){var n=Ll;Ll|=2;var r=Nc();for(Bl===e&&zl===t||(Xl=null,wc(e,t));;)try{Cc();break}catch(ze){kc(e,ze)}if(Mi(),Ll=n,Il.current=r,null!==Fl)throw Error(i(261));return Bl=null,zl=0,Hl}function Cc(){for(;null!==Fl;)_c(Fl)}function Ec(){for(;null!==Fl&&!nt();)_c(Fl)}function _c(e){var t=Pl(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,null===t?Dc(e):Fl=t,Ml.current=null}function Dc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Ul)))return void(Fl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Hl=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Tc(e,t,n){var r=Et,a=Rl.transition;try{Rl.transition=null,Et=1,function(e,t,n,r){do{Ac()}while(null!==rc);if(0!==(6&Ll))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-pt(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Bl&&(Fl=Bl=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Bc(lt,function(){return Ac(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var s=Et;Et=1;var l=Ll;Ll|=4,Ml.current=null,function(e,t){if(ca=Zt,kr(e=wr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Lt){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===a&&(l=s),p===o&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ua={focusedElem:e,selectionRange:n},Zt=!1,sl=t;null!==sl;)if(e=(t=sl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,sl=e;else for(;null!==sl;){t=sl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,b=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ds(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(i(163))}}catch(Lt){Oc(t,t.return,Lt)}if(null!==(e=t.sibling)){e.return=t.return,sl=e;break}sl=t.return}m=ul,ul=!1}(e,n),Sl(n,e),Nr(ua),Zt=!!ca,ua=ca=null,e.current=n,El(n,e,a),rt(),Ll=l,Et=s,Rl.transition=o}else e.current=n;if(nc&&(nc=!1,rc=e,ac=a),o=e.pendingLanes,0===o&&(tc=null),function(e){if(ft&&"function"===typeof ft.onCommitFiberRoot)try{ft.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fc(e,at()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&ac)&&0!==e.tag&&Ac(),o=e.pendingLanes,0!==(1&o)?e===oc?ic++:(ic=0,oc=e):ic=0,Qa()}(e,t,n,r)}finally{Rl.transition=a,Et=r}return null}function Ac(){if(null!==rc){var e=_t(ac),t=Rl.transition,n=Et;try{if(Rl.transition=null,Et=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ac=0,0!==(6&Ll))throw Error(i(331));var a=Ll;for(Ll|=4,sl=e.current;null!==sl;){var o=sl,s=o.child;if(0!==(16&sl.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(sl=u;null!==sl;){var d=sl;switch(d.tag){case 0:case 11:case 15:dl(8,d,o)}var f=d.child;if(null!==f)f.return=d,sl=f;else for(;null!==sl;){var p=(d=sl).sibling,h=d.return;if(hl(d),d===u){sl=null;break}if(null!==p){p.return=h,sl=p;break}sl=h}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}sl=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,sl=s;else e:for(;null!==sl;){if(0!==(2048&(o=sl).flags))switch(o.tag){case 0:case 11:case 15:dl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,sl=v;break e}sl=o.return}}var x=e.current;for(sl=x;null!==sl;){var y=(s=sl).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,sl=y;else e:for(s=x;null!==sl;){if(0!==(2048&(l=sl).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(k){Oc(l,l.return,k)}if(l===s){sl=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,sl=w;break e}sl=l.return}}if(Ll=a,Qa(),ft&&"function"===typeof ft.onPostCommitFiberRoot)try{ft.onPostCommitFiberRoot(dt,e)}catch(k){}r=!0}return r}finally{Et=n,Rl.transition=t}}return!1}function Pc(e,t,n){e=Ki(e,t=ks(0,t=vs(n,t),1),1),t=cc(),null!==e&&(St(e,1,t),fc(e,t))}function Oc(e,t,n){if(3===e.tag)Pc(e,e,n);else for(;null!==t;){if(3===t.tag){Pc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Ki(t,e=Ns(t,e=vs(n,e),1),1),e=cc(),null!==t&&(St(t,1,e),fc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Bl===e&&(zl&n)===n&&(4===Hl||3===Hl&&(130023424&zl)===zl&&500>at()-Jl?wc(e,0):$l|=n),fc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=bt,0===(130023424&(bt<<=1))&&(bt=4194304)));var n=cc();null!==(e=Hi(e,t))&&(St(e,t,n),fc(e,n))}function Rc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Mc(e,n)}function Bc(e,t){return et(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Fc(e,t,n,r)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Uc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return qc(n.children,a,o,t);case j:s=8,a|=8;break;case S:return(e=zc(12,n,t,2|a)).elementType=S,e.lanes=o,e;case D:return(e=zc(13,n,t,a)).elementType=D,e.lanes=o,e;case T:return(e=zc(19,n,t,a)).elementType=T,e.lanes=o,e;case O:return Vc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case E:s=9;break e;case _:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=zc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function qc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Gc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,a,i,o,s,l){return e=new Kc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=zc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vi(i),e}function Jc(e){if(!e)return Ra;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ua(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ua(n))return qa(e,n,t)}return t}function Qc(e,t,n,r,a,i,o,s,l){return(e=Yc(n,r,!0,e,0,i,0,s,l)).context=Jc(null),n=e.current,(i=$i(r=cc(),a=uc(n))).callback=void 0!==t&&null!==t?t:null,Ki(n,i,a),e.current.lanes=a,St(e,a,r),fc(e,r),e}function Xc(e,t,n,r){var a=t.current,i=cc(),o=uc(a);return n=Jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=$i(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ki(a,t,o))&&(dc(e,a,o,i),Yi(e,a,o)),o}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Pl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ba.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Bs(t),ki();break;case 5:oo(t);break;case 1:Ua(t.type)&&Va(t);break;case 4:ao(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ma(Ai,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ma(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Gs(e,t,n):(Ma(lo,1&lo.current),null!==(e=Zs(e,t,n))?e.sibling:null);Ma(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ma(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n)}return Zs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,pi&&0!==(1048576&t.flags)&&li(t,ti,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var a=za(t,La.current);Bi(t,n),a=So(null,t,r,e,a,n);var o=Co();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ua(r)?(o=!0,Va(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Vi(t),a.updater=ps,t.stateNode=a,a._reactInternals=t,bs(t,r,e,n),t=Ls(null,t,r,!0,o,n)):(t.tag=0,pi&&o&&ci(t),Ds(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Uc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=ds(r,e),a){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Rs(null,t,r,e,n);break e;case 11:t=Ts(null,t,r,e,n);break e;case 14:t=As(null,t,r,ds(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ms(e,t,r,a=t.elementType===r?a:ds(r,a),n);case 1:return r=t.type,a=t.pendingProps,Rs(e,t,r,a=t.elementType===r?a:ds(r,a),n);case 3:e:{if(Bs(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Gi(e,t),Qi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n,a=vs(Error(i(423)),t));break e}if(r!==a){t=Fs(e,t,r,n,a=vs(Error(i(424)),t));break e}for(fi=va(t.stateNode.containerInfo.firstChild),di=t,pi=!0,hi=null,n=Ti(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ki(),r===a){t=Zs(e,t,n);break e}Ds(e,t,r,n)}t=t.child}return t;case 5:return oo(t),null===e&&vi(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,da(r,a)?s=null:null!==o&&da(r,o)&&(t.flags|=32),Is(e,t),Ds(e,t,s,n),t.child;case 6:return null===e&&vi(t),null;case 13:return Gs(e,t,n);case 4:return ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Di(t,null,r,n):Ds(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ts(e,t,r,a=t.elementType===r?a:ds(r,a),n);case 7:return Ds(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ds(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ma(Ai,r._currentValue),r._currentValue=s,null!==o)if(gr(o.value,s)){if(o.children===a.children&&!Ba.current){t=Zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=$i(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Li(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Li(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Ds(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Bi(t,n),r=r(a=Fi(a)),t.flags|=1,Ds(e,t,r,n),t.child;case 14:return a=ds(r=t.type,t.pendingProps),As(e,t,r,a=ds(r.type,a),n);case 15:return Ps(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ds(r,a),Xs(e,t),t.tag=1,Ua(r)?(e=!0,Va(t)):e=!1,Bi(t,n),ms(t,r,a),bs(t,r,a,n),Ls(null,t,r,!0,e,n);case 19:return Qs(e,t,n);case 22:return Os(e,t,n)}throw Error(i(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function au(e){this._internalRoot=e}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function su(){}function lu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Zc(o);s.call(e)}}Xc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Zc(o);i.call(e)}}var o=Qc(t,r,e,0,null,!1,0,"",su);return e._reactRootContainer=o,e[Na]=o.current,Qr(8===e.nodeType?e.parentNode:e),xc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Zc(l);s.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",su);return e._reactRootContainer=l,e[Na]=l.current,Qr(8===e.nodeType?e.parentNode:e),xc(function(){Xc(t,l,n,r)}),l}(n,t,e,a,r);return Zc(o)}au.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Xc(e,t,null,null)},au.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;xc(function(){Xc(null,e,null,null)}),t[Na]=null}},au.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&0!==t&&t<Wt[n].priority;n++);Wt.splice(n,0,e),0===n&&Gt(e)}},Dt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(Ct(t,1|n),fc(t,at()),0===(6&Ll)&&(Ql=at()+500,Qa()))}break;case 13:xc(function(){var t=Hi(e,1);if(null!==t){var n=cc();dc(t,e,1,n)}}),tu(e,1)}},Tt=function(e){if(13===e.tag){var t=Hi(e,134217728);if(null!==t)dc(t,e,134217728,cc());tu(e,134217728)}},At=function(e){if(13===e.tag){var t=uc(e),n=Hi(e,t);if(null!==n)dc(n,e,t,cc());tu(e,t)}},Pt=function(){return Et},Ot=function(e,t){var n=Et;try{return Et=e,t()}finally{Et=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ta(r);if(!a)throw Error(i(90));$(r),X(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=vc,_e=xc;var cu={usingClientEntryPoint:!1,Events:[_a,Da,Ta,Se,Ce,vc]},uu={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{dt=fu.inject(du),ft=fu}catch(He){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!iu(e))throw Error(i(299));var n=!1,r="",a=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,a),e[Na]=t.current,Qr(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return xc(e)},t.hydrate=function(e,t,n){if(!ou(t))throw Error(i(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!iu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,a,0,o,s),e[Na]=t.current,Qr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new au(t)},t.render=function(e,t,n){if(!ou(t))throw Error(i(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(i(40));return!!e._reactRootContainer&&(xc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Na]=null})}),!0)},t.unstable_batchedUpdates=vc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case l:return e;default:return t}}case a:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===o||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===v||e.$$typeof===x||e.$$typeof===y||e.$$typeof===b)},t.typeOf=w}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>or,hasStandardBrowserEnv:()=>lr,hasStandardBrowserWebWorkerEnv:()=>cr,navigator:()=>sr,origin:()=>ur});var a={};n.r(a),n.d(a,{Decoder:()=>oo,Encoder:()=>ao,PacketType:()=>ro,protocol:()=>no});var i,o=n(43),s=n.t(o,2),l=n(391);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ze){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,l=i.Pop,f=null,g=b();function b(){return(s.state||{idx:null}).idx}function v(){l=i.Pop;let e=b(),t=null==e?null:e-g;g=e,f&&f({action:l,location:y.location,delta:t})}function x(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,s.replaceState(c({},s.state,{idx:g}),""));let y={get action(){return l},get location(){return e(a,s)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(u,v),f=e,()=>{a.removeEventListener(u,v),f=null}},createHref:e=>t(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=h(y.location,e,t);n&&n(r,e),g=b()+1;let c=p(r,g),u=y.createHref(r);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(u)}o&&f&&f({action:l,location:y.location,delta:1})},replace:function(e,t){l=i.Replace;let r=h(y.location,e,t);n&&n(r,e),g=b();let a=p(r,g),c=y.createHref(r);s.replaceState(a,"",c),o&&f&&f({action:l,location:y.location,delta:0})},go:e=>s.go(e)};return y}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let a=I(("string"===typeof t?g(t):t).pathname||"/",n);if(null==a)return null;let i=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=O(a);o=A(i[s],e,r)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),w(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:T(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))a(e,t,r);else a(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=k(r.join("/")),s=[];return s.push(...o.map(e=>""===e?i:[i,e].join("/"))),a&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,j=3,S=2,C=1,E=10,_=-2,D=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=_),t&&(r+=S),n.filter(e=>!D(e)).reduce((e,t)=>e+(N.test(t)?j:""===t?C:E),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:F([i,u.pathname]),pathnameBase:z(F([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=F([i,u.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function B(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=g(e):(a=c({},e),d(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:U(r),hash:W(a)}}(a,i),u=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!f||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],V=(new Set(q),["get",...q]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const $=o.createContext(null);const K=o.createContext(null);const Y=o.createContext(null);const J=o.createContext(null);const Q=o.createContext({outlet:null,matches:[],isDataRoute:!1});const X=o.createContext(null);function Z(){return null!=o.useContext(J)}function ee(){return Z()||d(!1),o.useContext(J).location}function te(e){o.useContext(Y).static||o.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=o.useContext(Q);return e?function(){let{router:e}=fe(ue.UseNavigateStable),t=he(de.UseNavigateStable),n=o.useRef(!1);return te(()=>{n.current=!0}),o.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},a)))},[e,t])}():function(){Z()||d(!1);let e=o.useContext($),{basename:t,future:n,navigator:r}=o.useContext(Y),{matches:a}=o.useContext(Q),{pathname:i}=ee(),s=JSON.stringify(L(a,n.v7_relativeSplatPath)),l=o.useRef(!1);return te(()=>{l.current=!0}),o.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=B(n,JSON.parse(s),i,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:F([t,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[t,r,s,i,e])}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Y),{matches:a}=o.useContext(Q),{pathname:i}=ee(),s=JSON.stringify(L(a,r.v7_relativeSplatPath));return o.useMemo(()=>B(e,JSON.parse(s),i,"path"===n),[e,s,i,n])}function ae(e,t,n,r){Z()||d(!1);let{navigator:a}=o.useContext(Y),{matches:s}=o.useContext(Q),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let f,p=ee();if(t){var h;let e="string"===typeof t?g(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),f=e}else f=p;let m=f.pathname||"/",b=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=x(e,{pathname:b});let y=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&y?o.createElement(J.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:i.Pop}},y):y}function ie(){let e=function(){var e;let t=o.useContext(X),n=pe(de.UseRouteError),r=he(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:a},n):null,null)}const oe=o.createElement(ie,null);class se extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(Q.Provider,{value:this.props.routeContext},o.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,a=o.useContext($);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(Q.Provider,{value:t},r)}function ce(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<s.length;o++){let e=s[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=o),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight((e,r,a)=>{let i,d=!1,f=null,p=null;var h;n&&(i=l&&r.route.id?l[r.route.id]:void 0,f=r.route.errorElement||oe,c&&(u<0&&0===a?(h="route-fallback",!1||me[h]||(me[h]=!0),d=!0,p=null):u===a&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,a+1)),g=()=>{let t;return t=i?f:d?p:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?o.createElement(se,{location:n.location,revalidation:n.revalidation,component:f,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function fe(e){let t=o.useContext($);return t||d(!1),t}function pe(e){let t=o.useContext(K);return t||d(!1),t}function he(e){let t=function(){let e=o.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function be(e){let{to:t,replace:n,state:r,relative:a}=e;Z()||d(!1);let{future:i,static:s}=o.useContext(Y),{matches:l}=o.useContext(Q),{pathname:c}=ee(),u=ne(),f=B(t,L(l,i.v7_relativeSplatPath),c,"path"===a),p=JSON.stringify(f);return o.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:a}),[u,p,a,n,r]),null}function ve(e){d(!1)}function xe(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:s,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),f=o.useMemo(()=>({basename:u,navigator:s,static:l,future:G({v7_relativeSplatPath:!1},c)}),[u,c,s,l]);"string"===typeof r&&(r=g(r));let{pathname:p="/",search:h="",hash:m="",state:b=null,key:v="default"}=r,x=o.useMemo(()=>{let e=I(p,u);return null==e?null:{location:{pathname:e,search:h,hash:m,state:b,key:v},navigationType:a}},[u,p,h,m,b,v,a]);return null==x?null:o.createElement(Y.Provider,{value:f},o.createElement(J.Provider,{children:n,value:x}))}function ye(e){let{children:t,location:n}=e;return ae(we(t),n)}new Promise(()=>{});o.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,(e,r)=>{if(!o.isValidElement(e))return;let a=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,we(e.props.children,a));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=we(e.props.children,a)),n.push(i)}),n}var ke=n(950),Ne=n.t(ke,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ze){}new Map;const Ee=s.startTransition;Ne.flushSync,s.useId;function _e(e){let{basename:t,children:n,future:r,window:a}=e,i=o.useRef();var s;null==i.current&&(i.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),b(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return h("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,s)));let l=i.current,[c,u]=o.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=o.useCallback(e=>{d&&Ee?Ee(()=>u(e)):u(e)},[u,d]);return o.useLayoutEffect(()=>l.listen(f),[l,f]),o.useEffect(()=>ge(r),[r]),o.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=o.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:f,viewTransition:p}=e,h=Se(e,Ce),{basename:g}=o.useContext(Y),b=!1;if("string"===typeof u&&Te.test(u)&&(n=u,De))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=I(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:b=!0}catch(ze){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:a}=o.useContext(Y),{hash:i,pathname:s,search:l}=re(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:F([r,s])),a.createHref({pathname:c,search:l,hash:i})}(u,{relative:a}),x=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:s});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,d,r,a,n,e,i,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:p});return o.createElement("a",je({},h,{href:n||v,onClick:b||i?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var Pe,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));function Ie(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Re(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Me(t)?t:t+""}function Le(e,t,n){return(t=Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach(function(t){Le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ze={data:""},Ue=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||ze},We=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,He=/\/\*[^]*?\*\/|  +/g,qe=/\n+/g,Ve=(e,t)=>{let n="",r="",a="";for(let i in e){let o=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+o+";":r+="f"==i[1]?Ve(o,i):i+"{"+Ve(o,"k"==i[1]?"":t)+"}":"object"==typeof o?r+=Ve(o,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=o&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ve.p?Ve.p(i,o):i+":"+o+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Ge={},$e=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+$e(e[n]);return t}return e},Ke=(e,t,n,r,a)=>{let i=$e(e),o=Ge[i]||(Ge[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!Ge[o]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=We.exec(e.replace(He,""));)t[4]?r.shift():t[3]?(n=t[3].replace(qe," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(qe," ").trim();return r[0]})(e);Ge[o]=Ve(a?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&Ge.g?Ge.g:null;return n&&(Ge.g=Ge[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Ge[o],t,r,s),o};function Ye(e){let t=this||{},n=e.call?e(t.p):e;return Ke(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let i=t[a];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":Ve(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Ue(t.target),t.g,t.o,t.k)}Ye.bind({g:1});let Je,Qe,Xe,Ze=Ye.bind({k:1});function et(e,t){let n=this||{};return function(){let r=arguments;function a(i,o){let s=Object.assign({},i),l=s.className||a.className;n.p=Object.assign({theme:Qe&&Qe()},s),n.o=/ *go\d+/.test(l),s.className=Ye.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),Xe&&c[0]&&Xe(s),Je(c,s)}return t?t(a):a}}var tt,nt,rt,at,it,ot,st,lt,ct,ut,dt,ft,pt,ht,mt,gt,bt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,vt=(()=>{let e=0;return()=>(++e).toString()})(),xt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),yt="default",wt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Fe(Fe({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Fe(Fe({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Fe(Fe({},e),t.toast):e)});case 2:let{toast:r}=t;return wt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return Fe(Fe({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?Fe(Fe({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Fe(Fe({},e),{},{toasts:[]}):Fe(Fe({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Fe(Fe({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return Fe(Fe({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Fe(Fe({},e),{},{pauseDuration:e.pauseDuration+i}))})}},kt=[],Nt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},jt={},St=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;jt[t]=wt(jt[t]||Nt,e),kt.forEach(e=>{let[n,r]=e;n===t&&r(jt[t])})},Ct=e=>Object.keys(jt).forEach(t=>St(e,t)),Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return t=>{St(t,e)}},_t={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Dt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Fe(Fe({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||vt()})}(t,e,n);return Et(r.toasterId||(e=>Object.keys(jt).find(t=>jt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Tt=(e,t)=>Dt("blank")(e,t);Tt.error=Dt("error"),Tt.success=Dt("success"),Tt.loading=Dt("loading"),Tt.custom=Dt("custom"),Tt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Et(t)(n):Ct(n)},Tt.dismissAll=e=>Tt.dismiss(void 0,e),Tt.remove=(e,t)=>{let n={type:4,toastId:e};t?Et(t)(n):Ct(n)},Tt.removeAll=e=>Tt.remove(void 0,e),Tt.promise=(e,t,n)=>{let r=Tt.loading(t.loading,Fe(Fe({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?bt(t.success,e):void 0;return a?Tt.success(a,Fe(Fe({id:r},n),null==n?void 0:n.success)):Tt.dismiss(r),e}).catch(e=>{let a=t.error?bt(t.error,e):void 0;a?Tt.error(a,Fe(Fe({id:r},n),null==n?void 0:n.error)):Tt.dismiss(r)}),e};var At=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt,[n,r]=(0,o.useState)(jt[t]||Nt),a=(0,o.useRef)(jt[t]);(0,o.useEffect)(()=>(a.current!==jt[t]&&r(jt[t]),kt.push([t,r]),()=>{let e=kt.findIndex(e=>{let[n]=e;return n===t});e>-1&&kt.splice(e,1)}),[t]);let i=n.toasts.map(t=>{var n,r,a;return Fe(Fe(Fe(Fe({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||_t[t.type],style:Fe(Fe(Fe({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return Fe(Fe({},n),{},{toasts:i})}(e,t),a=(0,o.useRef)(new Map).current,i=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),s({type:4,toastId:e})},t);a.set(e,n)},[]);(0,o.useEffect)(()=>{if(r)return;let e=Date.now(),a=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Tt.dismiss(n.id,t),r);n.visible&&Tt.dismiss(n.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let s=(0,o.useCallback)(Et(t),[t]),l=(0,o.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),c=(0,o.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),u=(0,o.useCallback)(()=>{r&&s({type:6,time:Date.now()})},[r,s]),d=(0,o.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:i}=t||{},o=n.filter(t=>(t.position||i)===(e.position||i)&&t.height),s=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[n]);return(0,o.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Pt=Ze(tt||(tt=Ie(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ot=Ze(nt||(nt=Ie(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),It=Ze(rt||(rt=Ie(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Mt=et("div")(at||(at=Ie(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Pt,Ot,e=>e.secondary||"#fff",It),Rt=Ze(it||(it=Ie(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Lt=et("div")(ot||(ot=Ie(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Rt),Bt=Ze(st||(st=Ie(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ft=Ze(lt||(lt=Ie(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),zt=et("div")(ct||(ct=Ie(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Bt,Ft,e=>e.secondary||"#fff"),Ut=et("div")(ut||(ut=Ie(["\n  position: absolute;\n"]))),Wt=et("div")(dt||(dt=Ie(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Ht=Ze(ft||(ft=Ie(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),qt=et("div")(pt||(pt=Ie(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Ht),Vt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?o.createElement(qt,null,n):n:"blank"===r?null:o.createElement(Wt,null,o.createElement(Lt,Fe({},a)),"loading"!==r&&o.createElement(Ut,null,"error"===r?o.createElement(Mt,Fe({},a)):o.createElement(zt,Fe({},a))))},Gt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),$t=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Kt=et("div")(ht||(ht=Ie(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Yt=et("div")(mt||(mt=Ie(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Jt=o.memo(e=>{let{toast:t,position:n,style:r,children:a}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=xt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Gt(n),$t(n)];return{animation:t?"".concat(Ze(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ze(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},s=o.createElement(Vt,{toast:t}),l=o.createElement(Yt,Fe({},t.ariaProps),bt(t.message,t));return o.createElement(Kt,{className:t.className,style:Fe(Fe(Fe({},i),r),t.style)},"function"==typeof a?a({icon:s,message:l}):o.createElement(o.Fragment,null,s,l))});!function(e,t,n,r){Ve.p=t,Je=e,Qe=n,Xe=r}(o.createElement);var Qt=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:i}=e,s=o.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return o.createElement("div",{ref:s,className:n,style:r},i)},Xt=Ye(gt||(gt=Ie(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Zt=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:i,toasterId:s,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=At(r,s);return o.createElement("div",{"data-rht-toaster":s||"",style:Fe({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let r=e.position||n,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Fe(Fe({left:0,right:0,display:"flex",position:"absolute",transition:xt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return o.createElement(Qt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Xt:"",style:s},"custom"===e.type?bt(e.message,e):i?i(e):o.createElement(Jt,{toast:e,position:r}))}))},en=Tt;function tn(e,t){return function(){return e.apply(t,arguments)}}const{toString:nn}=Object.prototype,{getPrototypeOf:rn}=Object,{iterator:an,toStringTag:on}=Symbol,sn=(e=>t=>{const n=nn.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=e=>(e=e.toLowerCase(),t=>sn(t)===e),cn=e=>t=>typeof t===e,{isArray:un}=Array,dn=cn("undefined");function fn(e){return null!==e&&!dn(e)&&null!==e.constructor&&!dn(e.constructor)&&mn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pn=ln("ArrayBuffer");const hn=cn("string"),mn=cn("function"),gn=cn("number"),bn=e=>null!==e&&"object"===typeof e,vn=e=>{if("object"!==sn(e))return!1;const t=rn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(on in e)&&!(an in e)},xn=ln("Date"),yn=ln("File"),wn=ln("Blob"),kn=ln("FileList"),Nn=ln("URLSearchParams"),[jn,Sn,Cn,En]=["ReadableStream","Request","Response","Headers"].map(ln);function _n(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),un(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(fn(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let o;for(n=0;n<i;n++)o=r[n],t.call(null,e[o],o,e)}}function Dn(e,t){if(fn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,An=e=>!dn(e)&&e!==Tn;const Pn=(On="undefined"!==typeof Uint8Array&&rn(Uint8Array),e=>On&&e instanceof On);var On;const In=ln("HTMLFormElement"),Mn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Rn=ln("RegExp"),Ln=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_n(n,(n,a)=>{let i;!1!==(i=t(n,a,e))&&(r[a]=i||n)}),Object.defineProperties(e,r)};const Bn=ln("AsyncFunction"),Fn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Tn.addEventListener("message",e=>{let{source:t,data:a}=e;t===Tn&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Tn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,mn(Tn.postMessage)),zn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Tn):"undefined"!==typeof process&&process.nextTick||Fn,Un={isArray:un,isArrayBuffer:pn,isBuffer:fn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||mn(e.append)&&("formdata"===(t=sn(e))||"object"===t&&mn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&pn(e.buffer),t},isString:hn,isNumber:gn,isBoolean:e=>!0===e||!1===e,isObject:bn,isPlainObject:vn,isEmptyObject:e=>{if(!bn(e)||fn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(ze){return!1}},isReadableStream:jn,isRequest:Sn,isResponse:Cn,isHeaders:En,isUndefined:dn,isDate:xn,isFile:yn,isBlob:wn,isRegExp:Rn,isFunction:mn,isStream:e=>bn(e)&&mn(e.pipe),isURLSearchParams:Nn,isTypedArray:Pn,isFileList:kn,forEach:_n,merge:function e(){const{caseless:t,skipUndefined:n}=An(this)&&this||{},r={},a=(a,i)=>{const o=t&&Dn(r,i)||i;vn(r[o])&&vn(a)?r[o]=e(r[o],a):vn(a)?r[o]=e({},a):un(a)?r[o]=a.slice():n&&dn(a)||(r[o]=a)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&_n(arguments[i],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _n(t,(t,r)=>{n&&mn(t)?e[r]=tn(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&rn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:sn,kindOfTest:ln,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(un(e))return e;let t=e.length;if(!gn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[an]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:In,hasOwnProperty:Mn,hasOwnProp:Mn,reduceDescriptors:Ln,freezeMethods:e=>{Ln(e,(t,n)=>{if(mn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];mn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return un(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Dn,global:Tn,isContextDefined:An,isSpecCompliantForm:function(e){return!!(e&&mn(e.append)&&"FormData"===e[on]&&e[an])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(bn(e)){if(t.indexOf(e)>=0)return;if(fn(e))return e;if(!("toJSON"in e)){t[r]=e;const a=un(e)?[]:{};return _n(e,(e,t)=>{const i=n(e,r+1);!dn(i)&&(a[t]=i)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Bn,isThenable:e=>e&&(bn(e)||mn(e))&&mn(e.then)&&mn(e.catch),setImmediate:Fn,asap:zn,isIterable:e=>null!=e&&mn(e[an])};function Wn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Un.inherits(Wn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Un.toJSONObject(this.config),code:this.code,status:this.status}}});const Hn=Wn.prototype,qn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qn[e]={value:e}}),Object.defineProperties(Wn,qn),Object.defineProperty(Hn,"isAxiosError",{value:!0}),Wn.from=(e,t,n,r,a,i)=>{const o=Object.create(Hn);Un.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Wn.call(o,s,l,n,r,a),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Vn=Wn;function Gn(e){return Un.isPlainObject(e)||Un.isArray(e)}function $n(e){return Un.endsWith(e,"[]")?e.slice(0,-2):e}function Kn(e,t,n){return e?e.concat(t).map(function(e,t){return e=$n(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Yn=Un.toFlatObject(Un,{},null,function(e){return/^is[A-Z]/.test(e)});const Jn=function(e,t,n){if(!Un.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Un.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Un.isUndefined(t[e])})).metaTokens,a=n.visitor||c,i=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Un.isSpecCompliantForm(t);if(!Un.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Un.isDate(e))return e.toISOString();if(Un.isBoolean(e))return e.toString();if(!s&&Un.isBlob(e))throw new Vn("Blob is not supported. Use a Buffer instead.");return Un.isArrayBuffer(e)||Un.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let s=e;if(e&&!a&&"object"===typeof e)if(Un.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Un.isArray(e)&&function(e){return Un.isArray(e)&&!e.some(Gn)}(e)||(Un.isFileList(e)||Un.endsWith(n,"[]"))&&(s=Un.toArray(e)))return n=$n(n),s.forEach(function(e,r){!Un.isUndefined(e)&&null!==e&&t.append(!0===o?Kn([n],r,i):null===o?n:n+"[]",l(e))}),!1;return!!Gn(e)||(t.append(Kn(a,n,i),l(e)),!1)}const u=[],d=Object.assign(Yn,{defaultVisitor:c,convertValue:l,isVisitable:Gn});if(!Un.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Un.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Un.forEach(n,function(n,i){!0===(!(Un.isUndefined(n)||null===n)&&a.call(t,n,Un.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function Qn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Xn(e,t){this._pairs=[],e&&Jn(e,this,t)}const Zn=Xn.prototype;Zn.append=function(e,t){this._pairs.push([e,t])},Zn.toString=function(e){const t=e?function(t){return e.call(this,t,Qn)}:Qn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const er=Xn;function tr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function nr(e,t,n){if(!t)return e;const r=n&&n.encode||tr;Un.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(i=a?a(t,n):Un.isURLSearchParams(t)?t.toString():new er(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const rr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Un.forEach(this.handlers,function(t){null!==t&&e(t)})}},ar={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ir={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:er,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},or="undefined"!==typeof window&&"undefined"!==typeof document,sr="object"===typeof navigator&&navigator||void 0,lr=or&&(!sr||["ReactNative","NativeScript","NS"].indexOf(sr.product)<0),cr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ur=or&&window.location.href||"http://localhost",dr=Fe(Fe({},r),ir);const fr=function(e){function t(e,n,r,a){let i=e[a++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),s=a>=e.length;if(i=!i&&Un.isArray(r)?r.length:i,s)return Un.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o;r[i]&&Un.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],a)&&Un.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}(r[i])),!o}if(Un.isFormData(e)&&Un.isFunction(e.entries)){const n={};return Un.forEachEntry(e,(e,r)=>{t(function(e){return Un.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const pr={transitional:ar,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Un.isObject(e);a&&Un.isHTMLForm(e)&&(e=new FormData(e));if(Un.isFormData(e))return r?JSON.stringify(fr(e)):e;if(Un.isArrayBuffer(e)||Un.isBuffer(e)||Un.isStream(e)||Un.isFile(e)||Un.isBlob(e)||Un.isReadableStream(e))return e;if(Un.isArrayBufferView(e))return e.buffer;if(Un.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Jn(e,new dr.classes.URLSearchParams,Fe({visitor:function(e,t,n,r){return dr.isNode&&Un.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Un.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Jn(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Un.isString(e))try{return(t||JSON.parse)(e),Un.trim(e)}catch(ze){if("SyntaxError"!==ze.name)throw ze}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Un.isResponse(e)||Un.isReadableStream(e))return e;if(e&&Un.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(ze){if(n){if("SyntaxError"===ze.name)throw Vn.from(ze,Vn.ERR_BAD_RESPONSE,this,null,this.response);throw ze}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Un.forEach(["delete","get","head","post","put","patch"],e=>{pr.headers[e]={}});const hr=pr,mr=Un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gr=Symbol("internals");function br(e){return e&&String(e).trim().toLowerCase()}function vr(e){return!1===e||null==e?e:Un.isArray(e)?e.map(vr):String(e)}function xr(e,t,n,r,a){return Un.isFunction(r)?r.call(this,t,n):(a&&(t=n),Un.isString(t)?Un.isString(r)?-1!==t.indexOf(r):Un.isRegExp(r)?r.test(t):void 0:void 0)}class yr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=br(t);if(!a)throw new Error("header name must be a non-empty string");const i=Un.findKey(r,a);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=vr(e))}const i=(e,t)=>Un.forEach(e,(e,n)=>a(e,n,t));if(Un.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Un.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&mr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Un.isObject(e)&&Un.isIterable(e)){let n,r,a={};for(const t of e){if(!Un.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Un.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=br(e)){const n=Un.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Un.isFunction(t))return t.call(this,e,n);if(Un.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=br(e)){const n=Un.findKey(this,e);return!(!n||void 0===this[n]||t&&!xr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=br(e)){const a=Un.findKey(n,e);!a||t&&!xr(0,n[a],a,t)||(delete n[a],r=!0)}}return Un.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!xr(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Un.forEach(this,(r,a)=>{const i=Un.findKey(n,a);if(i)return t[i]=vr(r),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();o!==a&&delete t[a],t[o]=vr(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Un.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Un.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[gr]=this[gr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=br(e);t[r]||(!function(e,t){const n=Un.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Un.isArray(e)?e.forEach(r):r(e),this}}yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Un.reduceDescriptors(yr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Un.freezeMethods(yr);const wr=yr;function kr(e,t){const n=this||hr,r=t||n,a=wr.from(r.headers);let i=r.data;return Un.forEach(e,function(e){i=e.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Nr(e){return!(!e||!e.__CANCEL__)}function jr(e,t,n){Vn.call(this,null==e?"canceled":e,Vn.ERR_CANCELED,t,n),this.name="CanceledError"}Un.inherits(jr,Vn,{__CANCEL__:!0});const Sr=jr;function Cr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Vn("Request failed with status code "+n.status,[Vn.ERR_BAD_REQUEST,Vn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Er=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,i=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];a||(a=l),n[i]=s,r[i]=l;let u=o,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-a<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};const _r=function(e,t){let n,r,a=0,i=1e3/t;const o=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=i?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},i-t)))},()=>n&&o(n)]},Dr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Er(50,250);return _r(n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,s=i-r,l=a(s);r=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&i<=o?(o-i)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Tr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ar=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Un.asap(()=>e(...n))},Pr=dr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,dr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,Or=dr.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];Un.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Un.isString(r)&&o.push("path="+r),Un.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ir(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Mr=e=>e instanceof wr?Fe({},e):e;function Rr(e,t){t=t||{};const n={};function r(e,t,n,r){return Un.isPlainObject(e)&&Un.isPlainObject(t)?Un.merge.call({caseless:r},e,t):Un.isPlainObject(t)?Un.merge({},t):Un.isArray(t)?t.slice():t}function a(e,t,n,a){return Un.isUndefined(t)?Un.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function i(e,t){if(!Un.isUndefined(t))return r(void 0,t)}function o(e,t){return Un.isUndefined(t)?Un.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,a,i){return i in t?r(n,a):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>a(Mr(e),Mr(t),0,!0)};return Un.forEach(Object.keys(Fe(Fe({},e),t)),function(r){const i=l[r]||a,o=i(e[r],t[r],r);Un.isUndefined(o)&&i!==s||(n[r]=o)}),n}const Lr=e=>{const t=Rr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:s}=t;if(t.headers=o=wr.from(o),t.url=nr(Ir(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Un.isFormData(n))if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Un.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&o.set(n,r)})}if(dr.hasStandardBrowserEnv&&(r&&Un.isFunction(r)&&(r=r(t)),r||!1!==r&&Pr(t.url))){const e=a&&i&&Or.read(i);e&&o.set(a,e)}return t},Br="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Lr(e);let a=r.data;const i=wr.from(r.headers).normalize();let o,s,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=wr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Cr(function(e){t(e),h()},function(e){n(e),h()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Vn("Request aborted",Vn.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Vn(r,Vn.ERR_NETWORK,e,m);a.event=t||null,n(a),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||ar;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Vn(t,a.clarifyTimeoutError?Vn.ETIMEDOUT:Vn.ECONNABORTED,e,m)),m=null},void 0===a&&i.setContentType(null),"setRequestHeader"in m&&Un.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Un.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=Dr(p,!0),m.addEventListener("progress",l)),f&&m.upload&&([s,c]=Dr(f),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new Sr(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===dr.protocols.indexOf(b)?n(new Vn("Unsupported protocol "+b+":",Vn.ERR_BAD_REQUEST,e)):m.send(a||null)})},Fr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Vn?t:new Sr(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,a(new Vn("timeout ".concat(t," of ms exceeded"),Vn.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:s}=r;return s.unsubscribe=()=>Un.asap(o),s}};function zr(e,t){this.v=e,this.k=t}function Ur(e){return function(){return new Wr(e.apply(this,arguments))}}function Wr(e){var t,n;function r(t,n){try{var i=e[t](n),o=i.value,s=o instanceof zr;Promise.resolve(s?o.v:o).then(function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}a(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(i,o){var s={key:e,arg:a,resolve:i,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Hr(e){return new zr(e,0)}function qr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new zr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Vr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Gr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Gr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Gr=function(e){this.s=e,this.n=e.next},Gr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Gr(e)}Wr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Wr.prototype.next=function(e){return this._invoke("next",e)},Wr.prototype.throw=function(e){return this._invoke("throw",e)},Wr.prototype.return=function(e){return this._invoke("return",e)};const $r=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Kr=function(){var e=Ur(function*(e,t){var n,r=!1,a=!1;try{for(var i,o=Vr(Yr(e));r=!(i=yield Hr(o.next())).done;r=!1){const e=i.value;yield*qr(Vr($r(e,t)))}}catch(s){a=!0,n=s}finally{try{r&&null!=o.return&&(yield Hr(o.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Yr=function(){var e=Ur(function*(e){if(e[Symbol.asyncIterator])return void(yield*qr(Vr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Hr(t.read());if(e)break;yield n}}finally{yield Hr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Jr=(e,t,n,r)=>{const a=Kr(e,t);let i,o=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=o+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),a.return())},{highWaterMark:2})},{isFunction:Qr}=Un,Xr=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Un.global),{ReadableStream:Zr,TextEncoder:ea}=Un.global,ta=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(ze){return!1}},na=e=>{e=Un.merge.call({skipUndefined:!0},Xr,e);const{fetch:t,Request:n,Response:r}=e,a=t?Qr(t):"function"===typeof fetch,i=Qr(n),o=Qr(r);if(!a)return!1;const s=a&&Qr(Zr),l=a&&("function"===typeof ea?(c=new ea,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=i&&s&&ta(()=>{let e=!1;const t=new n(dr.origin,{body:new Zr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=o&&s&&ta(()=>Un.isReadableStream(new r("").body)),f={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f[e]&&(f[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Vn("Response type '".concat(e,"' is not supported"),Vn.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=Un.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Un.isBlob(e))return e.size;if(Un.isSpecCompliantForm(e)){const t=new n(dr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Un.isArrayBufferView(e)||Un.isArrayBuffer(e)?e.byteLength:(Un.isURLSearchParams(e)&&(e+=""),Un.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:o,data:s,signal:l,cancelToken:c,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:b,headers:v,withCredentials:x="same-origin",fetchOptions:y}=Lr(e),w=t||fetch;b=b?(b+"").toLowerCase():"text";let k=Fr([l,c&&c.toAbortSignal()],h),N=null;const j=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let S;try{if(g&&u&&"get"!==o&&"head"!==o&&0!==(S=await p(v,s))){let e,t=new n(a,{method:"POST",body:s,duplex:"half"});if(Un.isFormData(s)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=Tr(S,Dr(Ar(g)));s=Jr(t.body,65536,e,n)}}Un.isString(x)||(x=x?"include":"omit");const t=i&&"credentials"in n.prototype,l=Fe(Fe({},y),{},{signal:k,method:o.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:t?x:void 0});N=i&&new n(a,l);let c=await(i?w(N,y):w(a,l));const h=d&&("stream"===b||"response"===b);if(d&&(m||h&&j)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Un.toFiniteNumber(c.headers.get("content-length")),[n,a]=m&&Tr(t,Dr(Ar(m),!0))||[];c=new r(Jr(c.body,65536,n,()=>{a&&a(),j&&j()}),e)}b=b||"text";let C=await f[Un.findKey(f,b)||"text"](c,e);return!h&&j&&j(),await new Promise((t,n)=>{Cr(t,n,{data:C,headers:wr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(C){if(j&&j(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Vn("Network Error",Vn.ERR_NETWORK,e,N),{cause:C.cause||C});throw Vn.from(C,C&&C.code,e,N)}}},ra=new Map,aa=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,i=[r,a,n];let o,s,l=i.length,c=ra;for(;l--;)o=i[l],s=c.get(o),void 0===s&&c.set(o,s=l?new Map:na(t)),c=s;return s},ia=(aa(),{http:null,xhr:Br,fetch:{get:aa}});Un.forEach(ia,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ze){}Object.defineProperty(e,"adapterName",{value:t})}});const oa=e=>"- ".concat(e),sa=e=>Un.isFunction(e)||null===e||!1===e,la=(e,t)=>{e=Un.isArray(e)?e:[e];const{length:n}=e;let r,a;const i={};for(let o=0;o<n;o++){let n;if(r=e[o],a=r,!sa(r)&&(a=ia[(n=String(r)).toLowerCase()],void 0===a))throw new Vn("Unknown adapter '".concat(n,"'"));if(a&&(Un.isFunction(a)||(a=a.get(t))))break;i[n||"#"+o]=a}if(!a){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(oa).join("\n"):" "+oa(e[0]):"as no adapter specified";throw new Vn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function ca(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sr(null,e)}function ua(e){ca(e),e.headers=wr.from(e.headers),e.data=kr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return la(e.adapter||hr.adapter,e)(e).then(function(t){return ca(e),t.data=kr.call(e,e.transformResponse,t),t.headers=wr.from(t.headers),t},function(t){return Nr(t)||(ca(e),t&&t.response&&(t.response.data=kr.call(e,e.transformResponse,t.response),t.response.headers=wr.from(t.response.headers))),Promise.reject(t)})}const da="1.12.2",fa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const pa={};fa.transitional=function(e,t,n){function r(e,t){return"[Axios v"+da+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,i)=>{if(!1===e)throw new Vn(r(a," has been removed"+(t?" in "+t:"")),Vn.ERR_DEPRECATED);return t&&!pa[a]&&(pa[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,i)}},fa.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ha={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Vn("options must be an object",Vn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const t=e[i],n=void 0===t||o(t,i,e);if(!0!==n)throw new Vn("option "+i+" must be "+n,Vn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Vn("Unknown option "+i,Vn.ERR_BAD_OPTION)}},validators:fa},ma=ha.validators;class ga{constructor(e){this.defaults=e||{},this.interceptors={request:new rr,response:new rr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ze){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Rr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&ha.assertOptions(n,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1),null!=r&&(Un.isFunction(r)?t.paramsSerializer={serialize:r}:ha.assertOptions(r,{encode:ma.function,serialize:ma.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ha.assertOptions(t,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&Un.merge(a.common,a[t.method]);a&&Un.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=wr.concat(i,a);const o=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[ua.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let f=t;for(;d<u;){const e=o[d++],t=o[d++];try{f=e(f)}catch(p){t.call(this,p);break}}try{c=ua.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return nr(Ir((e=Rr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Un.forEach(["delete","get","head","options"],function(e){ga.prototype[e]=function(t,n){return this.request(Rr(n||{},{method:e,url:t,data:(n||{}).data}))}}),Un.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Rr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ga.prototype[e]=t(),ga.prototype[e+"Form"]=t(!0)});const ba=ga;class va{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Sr(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new va(function(t){e=t});return{token:t,cancel:e}}}const xa=va;const ya={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ya).forEach(e=>{let[t,n]=e;ya[n]=t});const wa=ya;const ka=function e(t){const n=new ba(t),r=tn(ba.prototype.request,n);return Un.extend(r,ba.prototype,n,{allOwnKeys:!0}),Un.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Rr(t,n))},r}(hr);ka.Axios=ba,ka.CanceledError=Sr,ka.CancelToken=xa,ka.isCancel=Nr,ka.VERSION=da,ka.toFormData=Jn,ka.AxiosError=Vn,ka.Cancel=ka.CanceledError,ka.all=function(e){return Promise.all(e)},ka.spread=function(e){return function(t){return e.apply(null,t)}},ka.isAxiosError=function(e){return Un.isObject(e)&&!0===e.isAxiosError},ka.mergeConfig=Rr,ka.AxiosHeaders=wr,ka.formToJSON=e=>fr(Un.isHTMLForm(e)?new FormData(e):e),ka.getAdapter=la,ka.HttpStatusCode=wa,ka.default=ka;const Na=ka.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Na.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),Na.interceptors.response.use(e=>e,e=>{var t,n,r,a;return console.error("API Error:",{url:null===(t=e.config)||void 0===t?void 0:t.url,method:null===(n=e.config)||void 0===n?void 0:n.method,status:null===(r=e.response)||void 0===r?void 0:r.status,data:null===(a=e.response)||void 0===a?void 0:a.data,message:e.message}),Promise.reject(e)});const ja=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"employee";return Na.post("/auth/register",{name:e,email:t,password:n,role:r})},Sa=(e,t,n,r)=>{const a=new URLSearchParams;return e&&a.append("start",e),t&&a.append("end",t),n&&a.append("type",n),r&&a.append("priority",r),Na.get("/schedule/events".concat(a.toString()?"?".concat(a.toString()):""))},Ca=e=>Na.post("/schedule/events",e),Ea=(e,t,n,r)=>Na.post("/waste/items",{name:e,description:t,disposalInstructions:n,nextDisposalDate:r});var _a=n(579);const Da=(0,o.createContext)(),Ta=(e,t)=>{switch(t.type){case"LOGIN":return Fe(Fe({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,loading:!1});case"LOGOUT":case"USER_ERROR":return Fe(Fe({},e),{},{user:null,token:null,isAuthenticated:!1,loading:!1});case"LOAD_USER":return Fe(Fe({},e),{},{user:t.payload,isAuthenticated:!0,loading:!1});case"SET_LOADING":return Fe(Fe({},e),{},{loading:t.payload});default:return e}},Aa=e=>{let{children:t}=e;const n=localStorage.getItem("token"),r={user:null,token:n,isAuthenticated:!!n,loading:!!n},[a,i]=(0,o.useReducer)(Ta,r);(0,o.useEffect)(()=>{(async()=>{if(a.token){i({type:"SET_LOADING",payload:!0});try{const e=await Na.get("/auth/user");i({type:"LOAD_USER",payload:e.data})}catch(n){var e,t;console.error("Error loading user:",n),401===(null===(e=n.response)||void 0===e?void 0:e.status)||403===(null===(t=n.response)||void 0===t?void 0:t.status)?(console.log("Authentication failed, logging out"),i({type:"USER_ERROR"}),localStorage.removeItem("token")):(console.log("Network/server error, keeping user logged in"),i({type:"SET_LOADING",payload:!1}))}}else i({type:"SET_LOADING",payload:!1})})()},[a.token]);const s=e=>{var t;return!(null===(t=a.user)||void 0===t||!t.role)&&(Array.isArray(e)?e.includes(a.user.role):a.user.role===e)};return(0,_a.jsx)(Da.Provider,{value:Fe(Fe({},a),{},{login:(e,t)=>{localStorage.setItem("token",e),i({type:"LOGIN",payload:{token:e,user:t}})},logout:()=>{localStorage.removeItem("token"),i({type:"LOGOUT"})},hasRole:s,canAssignTasks:()=>s(["admin","superadmin"]),canManageUsers:()=>s(["admin","superadmin"]),isEmployee:()=>s("employee")}),children:t})},Pa=()=>(0,o.useContext)(Da);class Oa extends o.Component{constructor(e){super(e),this.logErrorToService=(e,t)=>{console.error("Error logged:",{error:e.toString(),componentStack:t.componentStack,timestamp:(new Date).toISOString()})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState(n=>({error:e,errorInfo:t,errorCount:n.errorCount+1})),this.logErrorToService(e,t)}render(){return this.state.hasError?(0,_a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:(0,_a.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[(0,_a.jsxs)("div",{className:"text-center",children:[(0,_a.jsx)("div",{className:"mb-6",children:(0,_a.jsx)("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center",children:(0,_a.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),(0,_a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Oops! Etwas ist schief gelaufen"}),(0,_a.jsx)("p",{className:"text-gray-600 mb-6",children:"Die Anwendung ist auf einen unerwarteten Fehler gesto\xdfen."}),!1,(0,_a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,_a.jsx)("button",{onClick:this.handleReset,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Nochmal versuchen"}),(0,_a.jsx)("button",{onClick:this.handleReload,className:"px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Seite neu laden"})]}),!1]}),(0,_a.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500",children:[(0,_a.jsx)("p",{className:"mb-2",children:"Wenn das Problem weiterhin besteht:"}),(0,_a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-left max-w-md mx-auto",children:[(0,_a.jsx)("li",{children:"Versuchen Sie, die Seite neu zu laden"}),(0,_a.jsx)("li",{children:"L\xf6schen Sie Ihren Browser-Cache"}),(0,_a.jsx)("li",{children:"Kontaktieren Sie den Administrator"})]})]})]})}):this.props.children}}const Ia=Oa,Ma="user",Ra="employee",La="admin",Ba="superadmin",Fa={"schedule:read":[Ma,Ra,La,Ba],"schedule:create":[Ra,La,Ba],"schedule:update":[Ra,La,Ba],"schedule:delete":[La,Ba],"schedule:manage":[La,Ba],"message:read":[Ma,Ra,La,Ba],"message:send":[Ma,Ra,La,Ba],"message:delete":[La,Ba],"waste:read":[Ra,La,Ba],"waste:create":[Ra,La,Ba],"waste:update":[Ra,La,Ba],"waste:delete":[La,Ba],"task:read":[Ma,Ra,La,Ba],"task:create":[Ra,La,Ba],"task:update":[Ra,La,Ba],"task:delete":[La,Ba],"task:assign":[La,Ba],"user:read":[La,Ba],"user:create":[La,Ba],"user:update":[La,Ba],"user:delete":[Ba],"user:role":[Ba],"template:read":[Ra,La,Ba],"template:create":[La,Ba],"template:update":[La,Ba],"template:delete":[Ba],"system:settings":[Ba],"system:logs":[La,Ba]},za=()=>{const{user:e}=Pa(),t=t=>{if(!e||!e.role)return!1;const n=Fa[t];return n?n.includes(e.role):(console.warn("Unknown permission: ".concat(t)),!1)},n=function(){if(!e||!e.role)return!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.includes(e.role)},r=()=>n(La,Ba);return{hasPermission:t,hasAllPermissions:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.every(e=>t(e))},hasAnyPermission:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some(e=>t(e))},hasRole:n,isAdmin:r,isSuperAdmin:()=>n(Ba),isEmployee:()=>n(Ra,La,Ba),ownsResource:t=>!!e&&(!!r()||e.id===t),userRole:null===e||void 0===e?void 0:e.role}},Ua=za,Wa=e=>en.success(e,{duration:3e3,position:"top-right"}),Ha=function(e){var t,n,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===a||void 0===a?void 0:a.message)||e;return en.error(i,{duration:5e3,position:"top-right"})},qa=e=>en(e,{icon:"\u2139\ufe0f",duration:3e3,position:"top-right",style:{background:"#3B82F6"}}),Va=(e,t)=>en.custom(n=>(0,_a.jsxs)("div",{className:"".concat(n.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5"),children:[(0,_a.jsx)("div",{className:"flex-1 w-0 p-4",children:(0,_a.jsx)("div",{className:"flex items-start",children:(0,_a.jsx)("div",{className:"ml-3 flex-1",children:(0,_a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e})})})}),t&&(0,_a.jsx)("div",{className:"flex border-l border-gray-200",children:(0,_a.jsx)("button",{onClick:()=>{t.onClick(),en.dismiss(n.id)},className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-blue-600 hover:text-blue-500 focus:outline-none",children:t.label})})]}),{position:"top-right",duration:5e3}),Ga=Object.create(null);Ga.open="0",Ga.close="1",Ga.ping="2",Ga.pong="3",Ga.message="4",Ga.upgrade="5",Ga.noop="6";const $a=Object.create(null);Object.keys(Ga).forEach(e=>{$a[Ga[e]]=e});const Ka={type:"error",data:"parser error"},Ya="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ja="function"===typeof ArrayBuffer,Qa=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Xa=(e,t,n)=>{let{type:r,data:a}=e;return Ya&&a instanceof Blob?t?n(a):Za(a,n):Ja&&(a instanceof ArrayBuffer||Qa(a))?t?n(a):Za(new Blob([a]),n):n(Ga[r]+(a||""))},Za=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function ei(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ti;const ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ri="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let am=0;am<64;am++)ri[ni.charCodeAt(am)]=am;const ai="function"===typeof ArrayBuffer,ii=(e,t)=>{if("string"!==typeof e)return{type:"message",data:si(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:oi(e.substring(1),t)};return $a[n]?e.length>1?{type:$a[n],data:e.substring(1)}:{type:$a[n]}:Ka},oi=(e,t)=>{if(ai){const n=(e=>{let t,n,r,a,i,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=ri[e.charCodeAt(t)],r=ri[e.charCodeAt(t+1)],a=ri[e.charCodeAt(t+2)],i=ri[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|a>>2,u[l++]=(3&a)<<6|63&i;return c})(e);return si(n,t)}return{base64:!0,data:e}},si=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,li=String.fromCharCode(30);function ci(){return new TransformStream({transform(e,t){!function(e,t){Ya&&e.data instanceof Blob?e.data.arrayBuffer().then(ei).then(t):Ja&&(e.data instanceof ArrayBuffer||Qa(e.data))?t(ei(e.data)):Xa(e,!1,e=>{ti||(ti=new TextEncoder),t(ti.encode(e))})}(e,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let ui;function di(e){return e.reduce((e,t)=>e+t.length,0)}function fi(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function pi(e){if(e)return function(e){for(var t in pi.prototype)e[t]=pi.prototype[t];return e}(e)}pi.prototype.on=pi.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},pi.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},pi.prototype.off=pi.prototype.removeListener=pi.prototype.removeAllListeners=pi.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},pi.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},pi.prototype.emitReserved=pi.prototype.emit,pi.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},pi.prototype.hasListeners=function(e){return!!this.listeners(e).length};const hi="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),mi="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const bi=mi.setTimeout,vi=mi.clearTimeout;function xi(e,t){t.useNativeTimers?(e.setTimeoutFn=bi.bind(mi),e.clearTimeoutFn=vi.bind(mi)):(e.setTimeoutFn=mi.setTimeout.bind(mi),e.clearTimeoutFn=mi.clearTimeout.bind(mi))}function yi(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function wi(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ki extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Ni extends pi{constructor(e){super(),this.writable=!1,xi(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new ki(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ii(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class ji extends Ni{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(li),r=[];for(let a=0;a<n.length;a++){const e=ii(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach((e,i)=>{Xa(e,!1,e=>{r[i]=e,++a===n&&t(r.join(li))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=wi()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Si=!1;try{Si="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(rm){}const Ci=Si;function Ei(){}class _i extends ji{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Di extends pi{constructor(e,t,n){super(),this.createRequest=e,xi(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=gi(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(ze){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(ze){}try{n.setRequestHeader("Accept","*/*")}catch(ze){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(ze){return void this.setTimeoutFn(()=>{this._onError(ze)},0)}"undefined"!==typeof document&&(this._index=Di.requestsCount++,Di.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Ei,e)try{this._xhr.abort()}catch(ze){}"undefined"!==typeof document&&delete Di.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Di.requestsCount=0,Di.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Ti);else if("function"===typeof addEventListener){addEventListener("onpagehide"in mi?"pagehide":"unload",Ti,!1)}function Ti(){for(let e in Di.requests)Di.requests.hasOwnProperty(e)&&Di.requests[e].abort()}const Ai=function(){const e=Pi({xdomain:!1});return e&&null!==e.responseType}();function Pi(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Ci))return new XMLHttpRequest}catch(ze){}if(!t)try{return new(mi[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(ze){}}const Oi="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Ii extends Ni{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Oi?{}:gi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(rm){return this.emitReserved("error",rm)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Xa(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(ze){}r&&hi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=wi()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Mi=mi.WebSocket||mi.MozWebSocket;const Ri={websocket:class extends Ii{createSocket(e,t,n){return Oi?new Mi(e,t,n):t?new Mi(e,t):new Mi(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Ni{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(rm){return this.emitReserved("error",rm)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){ui||(ui=new TextDecoder);const n=[];let r=0,a=-1,i=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(0===r){if(di(n)<1)break;const e=fi(n,1);i=128===(128&e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(di(n)<2)break;const e=fi(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(di(n)<8)break;const e=fi(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){s.enqueue(Ka);break}a=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(di(n)<a)break;const e=fi(n,a);s.enqueue(ii(i?e:ui.decode(e),t)),r=0}if(0===a||a>e){s.enqueue(Ka);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=ci();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),a())}).catch(e=>{})};a();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(i).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&hi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends _i{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ai&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Di(Pi,this.uri(),e)}}},Li=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Bi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fi(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=Li.exec(e||""),i={},o=14;for(;o--;)i[Bi[o]]=a[o]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,i.query),i}const zi="function"===typeof addEventListener&&"function"===typeof removeEventListener,Ui=[];zi&&addEventListener("offline",()=>{Ui.forEach(e=>e())},!1);class Wi extends pi{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Fi(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Fi(t.host).host);xi(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),zi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ui.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Wi.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Wi.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=yi(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,hi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Wi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Ui.indexOf(this._offlineEventListener);-1!==e&&Ui.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Wi.protocol=4;class Hi extends Wi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Wi.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Wi.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function a(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function o(){i("transport closed")}function s(){i("socket closed")}function l(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",o),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",o),this.once("close",s),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class qi extends Hi{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Ri[e]).filter(e=>!!e)),super(e,t)}}const Vi="function"===typeof ArrayBuffer,Gi=Object.prototype.toString,$i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Gi.call(Blob),Ki="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Gi.call(File);function Yi(e){return Vi&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||$i&&e instanceof Blob||Ki&&e instanceof File}function Ji(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Ji(e[t]))return!0;return!1}if(Yi(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Ji(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ji(e[n]))return!0;return!1}function Qi(e){const t=[],n=e.data,r=e;return r.data=Xi(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Xi(e,t){if(!e)return e;if(Yi(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Xi(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Xi(e[r],t));return n}return e}function Zi(e,t){return e.data=eo(e.data,t),delete e.attachments,e}function eo(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=eo(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=eo(e[n],t));return e}const to=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],no=5;var ro;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ro||(ro={}));class ao{constructor(e){this.replacer=e}encode(e){return e.type!==ro.EVENT&&e.type!==ro.ACK||!Ji(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ro.EVENT?ro.BINARY_EVENT:ro.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ro.BINARY_EVENT&&e.type!==ro.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Qi(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function io(e){return"[object Object]"===Object.prototype.toString.call(e)}class oo extends pi{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ro.BINARY_EVENT;n||t.type===ro.BINARY_ACK?(t.type=n?ro.EVENT:ro.ACK,this.reconstructor=new so(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Yi(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ro[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ro.BINARY_EVENT||n.type===ro.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!oo.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(ze){return!1}}static isPayloadValid(e,t){switch(e){case ro.CONNECT:return io(t);case ro.DISCONNECT:return void 0===t;case ro.CONNECT_ERROR:return"string"===typeof t||io(t);case ro.EVENT:case ro.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===to.indexOf(t[0]));case ro.ACK:case ro.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class so{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Zi(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function lo(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const co=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class uo extends pi{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[lo(e,"open",this.onopen.bind(this)),lo(e,"packet",this.onpacket.bind(this)),lo(e,"error",this.onerror.bind(this)),lo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(co.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const s={type:ro.EVENT,data:i,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),s.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},a),o=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const a=(e,n)=>e?r(e):t(n);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];n(null,...i)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ro.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ro.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ro.EVENT:case ro.BINARY_EVENT:this.onevent(e);break;case ro.ACK:case ro.BINARY_ACK:this.onack(e);break;case ro.DISCONNECT:this.ondisconnect();break;case ro.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:ro.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ro.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function fo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}fo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},fo.prototype.reset=function(){this.attempts=0},fo.prototype.setMin=function(e){this.ms=e},fo.prototype.setMax=function(e){this.max=e},fo.prototype.setJitter=function(e){this.jitter=e};class po extends pi{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,xi(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new fo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||a;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qi(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=lo(t,"open",function(){n.onopen(),e&&e()}),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=lo(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(lo(e,"ping",this.onping.bind(this)),lo(e,"data",this.ondata.bind(this)),lo(e,"error",this.onerror.bind(this)),lo(e,"close",this.onclose.bind(this)),lo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(ze){this.onclose("parse error",ze)}}ondecoded(e){hi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new uo(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ho={};function mo(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Fi(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,i=n.path,o=ho[a]&&i in ho[a].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new po(r,t):(ho[a]||(ho[a]=new po(r,t)),s=ho[a]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(mo,{Manager:po,Socket:uo,io:mo,connect:mo});const go=()=>{const{token:e,isAuthenticated:t}=Pa(),n=(0,o.useRef)(null),r=(0,o.useRef)(null),a=(0,o.useRef)(0),[i,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)([]),[f,p]=(0,o.useState)([]),[h,m]=(0,o.useState)([]),g=(0,o.useRef)(new Map);(0,o.useEffect)(()=>{if(!t||!e)return;return(()=>{try{const t=mo(window.location.origin,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4});t.on("connect",()=>{console.log("WebSocket connected successfully"),s(!0),a.current=0;const e=setInterval(()=>{t.connected&&t.emit("heartbeat")},3e4);t.heartbeatInterval=e}),t.on("connect_error",e=>{console.error("WebSocket connection error:",e),s(!1),a.current++;const t=Math.min(1e3*Math.pow(2,a.current),3e4);console.log("Reconnecting in ".concat(t,"ms (attempt ").concat(a.current,")"))}),t.on("disconnect",e=>{console.log("WebSocket disconnected:",e),s(!1),t.heartbeatInterval&&clearInterval(t.heartbeatInterval)}),t.on("online_users",e=>{d(e)}),t.on("user_online",e=>{d(t=>[...t.filter(t=>t.userId!==e.userId),e])}),t.on("user_offline",e=>{d(t=>t.filter(t=>t.userId!==e.userId))}),t.on("new_message",e=>{c(t=>t.find(t=>t.id===e.id)?t:[...t,e])}),t.on("message_sent",e=>{c(t=>t.find(t=>t.id===e.id)?t:[...t,e])}),t.on("message_read",e=>{let{messageId:t,readBy:n}=e;c(e=>e.map(e=>e.id===t?Fe(Fe({},e),{},{read_status:1}):e))}),t.on("notification",e=>{p(t=>[...t,Fe(Fe({},e),{},{timestamp:Date.now()})])}),t.on("user_typing",e=>{console.log("".concat(e.userName," is typing..."))}),t.on("user_stopped_typing",e=>{console.log("User ".concat(e.userId," stopped typing"))}),t.on("task:created",e=>{m(t=>[...t,Fe(Fe({type:"created"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:created");t&&t.forEach(t=>t(e))}),t.on("task:updated",e=>{m(t=>[...t,Fe(Fe({type:"updated"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:updated");t&&t.forEach(t=>t(e))}),t.on("task:moved",e=>{m(t=>[...t,Fe(Fe({type:"moved"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:moved");t&&t.forEach(t=>t(e))}),t.on("task:deleted",e=>{m(t=>[...t,Fe(Fe({type:"deleted"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:deleted");t&&t.forEach(t=>t(e))}),t.on("task:user_editing",e=>{const t=g.current.get("task:user_editing");t&&t.forEach(t=>t(e))}),t.on("task:user_stopped_editing",e=>{const t=g.current.get("task:user_stopped_editing");t&&t.forEach(t=>t(e))}),n.current=t}catch(t){console.error("WebSocket setup error:",t),s(!1)}})(),()=>{n.current&&(n.current.heartbeatInterval&&clearInterval(n.current.heartbeatInterval),n.current.disconnect(),n.current=null),r.current&&clearTimeout(r.current),s(!1)}},[t,e]);const b=(0,o.useCallback)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return n.current&&n.current.connected?(n.current.emit("send_message",{receiverId:e,message:t,messageType:r}),!0):(console.warn("WebSocket not connected, falling back to HTTP"),v(e,t))},[]),v=async(t,n)=>{try{const r=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({receiverId:t,message:n,isGroup:!1})});if(r.ok){const e=await r.json();return c(t=>[...t,e]),!0}return!1}catch(r){return console.error("HTTP message send error:",r),!1}};return{isConnected:i,messages:l,onlineUsers:u,notifications:f,taskEvents:h,sendMessage:b,markAsRead:(0,o.useCallback)(e=>{n.current&&n.current.connected&&n.current.emit("mark_as_read",{messageId:e})},[]),startTyping:(0,o.useCallback)(e=>{n.current&&n.current.connected&&n.current.emit("typing_start",{receiverId:e})},[]),stopTyping:(0,o.useCallback)(e=>{n.current&&n.current.connected&&n.current.emit("typing_stop",{receiverId:e})},[]),showNotification:(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("Notification"in window))return console.warn("This browser does not support notifications"),!1;let r=Notification.permission;if("default"===r&&(r=await Notification.requestPermission()),"granted"===r){const r=new Notification(e,Fe({body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:n.tag||"biolab-notification",renotify:!0,requireInteraction:n.requireInteraction||!1,silent:n.silent||!1,vibrate:[200,100,200],data:n.data||{}},n));r.onclick=e=>{var t;e.preventDefault(),window.focus(),r.close(),null!==(t=n.data)&&void 0!==t&&t.url&&(window.location.href=n.data.url)};const a=!1!==n.autoClose?n.autoCloseDelay||7e3:null;return a&&setTimeout(()=>{r.close()},a),!0}return!1},[]),requestNotificationPermission:(0,o.useCallback)(async()=>{if(!("Notification"in window))return!1;return"granted"===await Notification.requestPermission()},[]),onTaskEvent:(0,o.useCallback)((e,t)=>(g.current.has(e)||g.current.set(e,new Set),g.current.get(e).add(t),()=>{const n=g.current.get(e);n&&n.delete(t)}),[]),emitTaskEditing:(0,o.useCallback)(e=>{n.current&&n.current.connected&&n.current.emit("task:editing",{taskId:e})},[]),emitTaskStopEditing:(0,o.useCallback)(e=>{n.current&&n.current.connected&&n.current.emit("task:stop_editing",{taskId:e})},[])}},bo=()=>"Notification"in window,vo=async()=>{if(!bo())return console.warn("This browser does not support desktop notifications"),!1;try{const e=await Notification.requestPermission();return"granted"===e?(console.log("Notification permission granted"),localStorage.setItem("notification_permission","granted"),!0):"denied"===e?(console.warn("Notification permission denied"),localStorage.setItem("notification_permission","denied"),!1):(console.log("Notification permission dismissed"),!1)}catch(e){return console.error("Error requesting notification permission:",e),!1}},xo=()=>bo()?Notification.permission:"unsupported",yo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!bo())return console.warn("Desktop notifications not supported"),null;if("granted"!==Notification.permission)return console.warn("Notification permission not granted"),null;try{const r=Fe({body:t,icon:n.icon||"/favicon.ico",badge:n.badge||"/favicon.ico",tag:n.tag||"biolab-notification",renotify:void 0===n.renotify||n.renotify,requireInteraction:n.requireInteraction||!1,silent:n.silent||!1,vibrate:n.vibrate||[200,100,200],data:n.data||{},dir:n.dir||"auto",lang:n.lang||"de",timestamp:Date.now()},n),a=new Notification(e,r);a.onclick=e=>{var t;e.preventDefault(),window.focus(),null!==(t=n.data)&&void 0!==t&&t.url&&(window.location.href=n.data.url),n.onClick&&n.onClick(e),a.close()},a.onclose=e=>{n.onClose&&n.onClose(e)},a.onerror=e=>{console.error("Notification error:",e),n.onError&&n.onError(e)};const i=n.autoCloseDelay||7e3;return i&&!n.requireInteraction&&setTimeout(()=>{a.close()},i),a}catch(r){return console.error("Error showing desktop notification:",r),null}},wo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("true"===localStorage.getItem("notification_sound")&&n.soundUrl)try{const e=new Audio(n.soundUrl);e.volume=parseFloat(localStorage.getItem("notification_volume")||"0.5"),e.play().catch(e=>console.warn("Could not play notification sound:",e))}catch(r){console.warn("Error playing notification sound:",r)}return yo(e,t,n)},ko={NEW_MESSAGE:"new_message",TASK_ASSIGNED:"task_assigned",WASTE_DISPOSAL:"waste_disposal",CALENDAR_EVENT:"calendar_event",SYSTEM:"system"},No=(e,t)=>{const n="/sounds/notification.mp3";switch(e){case ko.NEW_MESSAGE:return wo("Neue Nachricht von ".concat(t.senderName),t.messagePreview,{tag:"message_".concat(t.messageId),icon:"/favicon.ico",soundUrl:n,data:{url:"/messages",messageId:t.messageId,senderId:t.senderId},autoCloseDelay:5e3});case ko.TASK_ASSIGNED:return wo("Neue Aufgabe zugewiesen","".concat(t.taskTitle," wurde Ihnen zugewiesen"),{tag:"task_".concat(t.taskId),icon:"/favicon.ico",soundUrl:n,data:{url:"/dashboard",taskId:t.taskId},autoCloseDelay:7e3});case ko.WASTE_DISPOSAL:return wo("Entsorgungserinnerung","".concat(t.wasteName,": Entsorgung erforderlich"),{tag:"waste_".concat(t.wasteId),icon:"/favicon.ico",soundUrl:n,data:{url:"/waste",wasteId:t.wasteId},requireInteraction:!0,autoCloseDelay:1e4});case ko.CALENDAR_EVENT:return wo("Terminerinnerung","".concat(t.eventTitle," beginnt in ").concat(t.minutesUntil," Minuten"),{tag:"event_".concat(t.eventId),icon:"/favicon.ico",soundUrl:n,data:{url:"/dashboard",eventId:t.eventId},requireInteraction:!0,autoCloseDelay:8e3});case ko.SYSTEM:return yo(t.title||"System-Benachrichtigung",t.message,Fe({tag:"system_notification",icon:"/favicon.ico",autoCloseDelay:5e3},t.options));default:return yo(t.title,t.message,t.options)}},jo=e=>{let{socket:t,userId:n}=e;const[r,a]=(0,o.useState)(!1),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)(0),[u,d]=(0,o.useState)(xo()),f=(0,o.useRef)(null),p=ne();(0,o.useEffect)(()=>{const e=localStorage.getItem("notifications_".concat(n));if(e)try{const t=JSON.parse(e);s(t),c(t.filter(e=>!e.read).length)}catch(t){console.error("Error loading notifications:",t)}},[n]);const h=(0,o.useCallback)(e=>{try{localStorage.setItem("notifications_".concat(n),JSON.stringify(e))}catch(t){console.error("Error saving notifications:",t)}},[n]),m=(0,o.useCallback)(e=>{const t=Fe({id:Date.now()+Math.random(),timestamp:(new Date).toISOString(),read:!1},e);if(s(e=>{const n=[t,...e].slice(0,50);return h(n),n}),c(e=>e+1),"granted"===u){!1!==JSON.parse(localStorage.getItem("notification_preferences")||"{}")[e.type]&&No(e.type,e.data)}},[u,h]);(0,o.useEffect)(()=>{if(!t)return;const e=e=>{m(e)};return t.on("notification",e),()=>{t.off("notification",e)}},[t,m]),(0,o.useEffect)(()=>{const e=async()=>{try{const e=await fetch("/api/messages/unread-count",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json(),n=i.filter(e=>!e.read&&"new_message"===e.type).length;t.unreadCount!==n&&c(e=>e+(t.unreadCount-n))}}catch(e){console.error("Error fetching unread count:",e)}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[i]),(0,o.useEffect)(()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&a(!1)};if(r)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]);const g=(0,o.useCallback)(e=>{s(t=>{const n=t.map(t=>t.id===e?Fe(Fe({},t),{},{read:!0}):t);return h(n),n}),c(e=>Math.max(0,e-1))},[h]),b=(0,o.useCallback)(()=>{s(e=>{const t=e.map(e=>Fe(Fe({},e),{},{read:!0}));return h(t),t}),c(0),Wa("Alle Benachrichtigungen als gelesen markiert")},[h]),v=(0,o.useCallback)(()=>{s([]),c(0),h([]),qa("Alle Benachrichtigungen gel\xf6scht")},[h]),x=(0,o.useCallback)(e=>{var t;g(e.id),null!==(t=e.data)&&void 0!==t&&t.url&&(p(e.data.url),a(!1))},[g,p]),y=e=>{const t=new Date(e),n=new Date,r=Math.floor((n-t)/6e4);if(r<1)return"Gerade eben";if(r<60)return"vor ".concat(r," Min.");const a=Math.floor(r/60);if(a<24)return"vor ".concat(a," Std.");const i=Math.floor(a/24);return 1===i?"Gestern":i<7?"vor ".concat(i," Tagen"):t.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit"})},w=e=>{switch(e){case"new_message":return(0,_a.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,_a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})});case"task_assigned":return(0,_a.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:(0,_a.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})});case"waste_disposal":return(0,_a.jsx)("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,_a.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})});case"calendar_event":return(0,_a.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:(0,_a.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})});default:return(0,_a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,_a.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}};return(0,_a.jsxs)("div",{className:"relative",ref:f,children:[(0,_a.jsxs)("button",{onClick:()=>a(!r),className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Benachrichtigungen",children:[(0,_a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l>0&&(0,_a.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full animate-pulse",children:l>99?"99+":l})]}),r&&(0,_a.jsxs)("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[600px] flex flex-col animate-fadeIn",children:[(0,_a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Benachrichtigungen",l>0&&(0,_a.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",l," neu)"]})]}),(0,_a.jsx)("div",{className:"flex items-center gap-2",children:i.length>0&&(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)("button",{onClick:b,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",title:"Alle als gelesen markieren",children:"Alle lesen"}),(0,_a.jsx)("button",{onClick:v,className:"text-xs text-gray-500 hover:text-gray-700",title:"Alle l\xf6schen",children:"L\xf6schen"})]})})]}),"granted"!==u&&"denied"!==u&&(0,_a.jsxs)("button",{onClick:async()=>{const e=await vo();d(xo()),e?Wa("Benachrichtigungen aktiviert"):qa("Benachrichtigungen wurden abgelehnt")},className:"mt-3 w-full text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,_a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Desktop-Benachrichtigungen aktivieren"]})]}),(0,_a.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===i.length?(0,_a.jsxs)("div",{className:"p-8 text-center",children:[(0,_a.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,_a.jsx)("p",{className:"text-gray-500 font-medium",children:"Keine Benachrichtigungen"}),(0,_a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Sie sind auf dem neuesten Stand"})]}):(0,_a.jsx)("div",{className:"divide-y divide-gray-100",children:i.slice(0,10).map(e=>(0,_a.jsx)("div",{onClick:()=>x(e),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors ".concat(e.read?"":"bg-blue-50"),children:(0,_a.jsxs)("div",{className:"flex items-start gap-3",children:[w(e.type),(0,_a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_a.jsx)("p",{className:"text-sm font-medium text-gray-900 ".concat(e.read?"":"font-semibold"),children:e.title}),(0,_a.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.body}),(0,_a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:y(e.timestamp)})]}),!e.read&&(0,_a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]})},e.id))})}),i.length>10&&(0,_a.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:(0,_a.jsx)("button",{onClick:()=>{p("/messages"),a(!1)},className:"w-full text-center text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Alle anzeigen"})})]})]})},So=[{to:"/dashboard",label:"Planung",permission:"schedule:read",icon:e=>(0,_a.jsxs)("svg",{className:e?"h-5 w-5 text-blue-600":"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,_a.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"4",ry:"4"}),(0,_a.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,_a.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,_a.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{to:"/messages",label:"Nachrichten",permission:"message:read",icon:e=>(0,_a.jsx)("svg",{className:e?"h-5 w-5 text-blue-600":"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:(0,_a.jsx)("path",{d:"M21 15a2 2 0 01-2 2H8l-4 4V5a2 2 0 012-2h13a2 2 0 012 2v10z"})})},{to:"/waste",label:"Abfall",permission:"waste:read",icon:e=>(0,_a.jsxs)("svg",{className:e?"h-5 w-5 text-blue-600":"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,_a.jsx)("path",{d:"M3 6h18"}),(0,_a.jsx)("path",{d:"M8 6v13a2 2 0 002 2h4a2 2 0 002-2V6"}),(0,_a.jsx)("path",{d:"M10 11v6"}),(0,_a.jsx)("path",{d:"M14 11v6"}),(0,_a.jsx)("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})},{to:"/users",label:"Benutzer",permission:"user:read",icon:e=>(0,_a.jsxs)("svg",{className:e?"h-5 w-5 text-blue-600":"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,_a.jsx)("path",{d:"M17 21v-2a4 4 0 00-4-4H7a4 4 0 00-4 4v2"}),(0,_a.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,_a.jsx)("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),(0,_a.jsx)("path",{d:"M16 3.13a4 4 0 010 7.75"})]})}],Co=(0,o.memo)(e=>{let{item:t,isActive:n}=e;return(0,_a.jsxs)(Ae,{to:t.to,className:"group flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all duration-200 ".concat(n?"bg-blue-600 text-white shadow-md scale-105":"text-slate-500 hover:bg-slate-100 hover:text-slate-900 hover:scale-105"),children:[t.icon(n),(0,_a.jsx)("span",{children:t.label})]})});Co.displayName="NavItem";const Eo=(0,o.memo)(e=>{let{item:t,isActive:n,onClick:r}=e;return(0,_a.jsxs)(Ae,{to:t.to,onClick:r,className:"group flex items-center gap-3 rounded-xl px-4 py-3 sm:py-3.5 text-sm sm:text-base font-medium transition-all duration-200 ".concat(n?"bg-blue-600 text-white shadow-md scale-105":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 active:scale-95"),children:[t.icon(n),(0,_a.jsx)("span",{className:"flex-1",children:t.label}),n&&(0,_a.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,_a.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})});Eo.displayName="MobileNavItem";const _o=(0,o.memo)(e=>{let{item:t,isActive:n}=e;return(0,_a.jsxs)(Ae,{to:t.to,className:"flex flex-col items-center gap-1 rounded-xl px-2.5 py-1.5 transition-all duration-200 ".concat(n?"bg-blue-100/80 scale-105":"active:scale-95"),children:[t.icon(n),(0,_a.jsx)("span",{className:"text-[10px] sm:text-[11px] font-medium ".concat(n?"text-blue-600":"text-slate-500"),children:t.label})]})});_o.displayName="BottomNavItem";const Do=()=>{const{user:e,logout:t}=Pa(),{hasPermission:n}=Ua(),r=ee(),a=ne(),[i,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(null);(0,o.useEffect)(()=>{const t=localStorage.getItem("token");if(!t||!e)return;const n=mo(window.location.origin,{auth:{token:t},transports:["websocket","polling"]});return n.on("connect",()=>{console.log("WebSocket connected for notifications")}),n.on("connect_error",e=>{console.error("WebSocket connection error:",e)}),c(n),()=>{n.disconnect()}},[e]);const u=(0,o.useCallback)(e=>r.pathname===e||r.pathname.startsWith("".concat(e,"/")),[r.pathname]),d=(0,o.useCallback)(async()=>{try{t(),Wa("Erfolgreich abgemeldet"),a("/login")}catch(e){Ha("Fehler beim Abmelden",e)}},[t,a]),f=(0,o.useMemo)(()=>So.filter(e=>n(e.permission)),[n]);return(0,o.useEffect)(()=>{s(!1)},[r.pathname]),(0,o.useEffect)(()=>(document.body.style.overflow=i?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[i]),e?(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)("header",{className:"sticky top-0 z-50 border-b border-slate-200/60 bg-white/80 backdrop-blur-xl",children:(0,_a.jsxs)("div",{className:"mx-auto flex h-14 sm:h-16 max-w-7xl items-center justify-between px-3 sm:px-6 lg:px-8",children:[(0,_a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,_a.jsx)("div",{className:"flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-xl sm:rounded-2xl bg-gradient-to-br from-blue-500 via-indigo-500 to-sky-500 text-xs sm:text-sm font-semibold uppercase text-white shadow-inner",children:"BL"}),(0,_a.jsxs)("div",{className:"hidden sm:block",children:[(0,_a.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:"Biolab Logistik"}),(0,_a.jsx)("p",{className:"text-sm sm:text-base font-semibold text-slate-900",children:"Planner Suite"})]})]}),(0,_a.jsx)("nav",{className:"hidden lg:flex items-center gap-1",children:f.map(e=>(0,_a.jsx)(Co,{item:e,isActive:u(e.to)},e.to))}),(0,_a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,_a.jsx)(jo,{socket:l,userId:null===e||void 0===e?void 0:e.id}),(0,_a.jsxs)("div",{className:"hidden md:flex flex-col text-right",children:[(0,_a.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Angemeldet"}),(0,_a.jsxs)("span",{className:"text-sm font-medium text-slate-800",children:[e.name,(0,_a.jsx)("span",{className:"ml-1 rounded-full bg-blue-50 px-2 py-0.5 text-xs font-semibold text-blue-600",children:"superadmin"===e.role?"Superadmin":"admin"===e.role?"Admin":"Team"})]})]}),(0,_a.jsxs)("button",{onClick:d,className:"rounded-full border border-red-500/40 bg-red-500 px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-semibold text-white shadow-sm transition-all duration-200 hover:bg-red-400 hover:scale-105 active:scale-95",children:[(0,_a.jsx)("span",{className:"hidden sm:inline",children:"Abmelden"}),(0,_a.jsx)("span",{className:"sm:hidden",children:(0,_a.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,_a.jsx)("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),(0,_a.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,_a.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),(0,_a.jsx)("button",{onClick:()=>s(!i),className:"lg:hidden flex items-center justify-center w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-slate-100 hover:bg-slate-200 transition-all duration-200 active:scale-95","aria-label":"Toggle menu",children:(0,_a.jsxs)("div",{className:"flex flex-col gap-1.5 w-5",children:[(0,_a.jsx)("span",{className:"h-0.5 w-full bg-slate-700 rounded-full transition-all duration-300 ".concat(i?"rotate-45 translate-y-2":"")}),(0,_a.jsx)("span",{className:"h-0.5 w-full bg-slate-700 rounded-full transition-all duration-300 ".concat(i?"opacity-0":"")}),(0,_a.jsx)("span",{className:"h-0.5 w-full bg-slate-700 rounded-full transition-all duration-300 ".concat(i?"-rotate-45 -translate-y-2":"")})]})})]})]})}),i&&(0,_a.jsx)("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:()=>s(!1)}),(0,_a.jsxs)("div",{className:"lg:hidden fixed top-0 right-0 z-50 h-full w-[280px] sm:w-[320px] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ".concat(i?"translate-x-0":"translate-x-full"),children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-slate-200",children:[(0,_a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 via-indigo-500 to-sky-500 text-sm font-semibold uppercase text-white shadow-inner",children:"BL"}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:"Biolab Logistik"}),(0,_a.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Planner Suite"})]})]}),(0,_a.jsx)("button",{onClick:()=>s(!1),className:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-slate-100 transition-colors","aria-label":"Close menu",children:(0,_a.jsxs)("svg",{className:"h-5 w-5 text-slate-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,_a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,_a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,_a.jsxs)("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-b border-slate-200",children:[(0,_a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1",children:"Angemeldet als"}),(0,_a.jsx)("p",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:e.name}),(0,_a.jsx)("span",{className:"inline-block rounded-full bg-blue-600 px-3 py-1 text-xs font-semibold text-white",children:"superadmin"===e.role?"Superadmin":"admin"===e.role?"Admin":"Team"})]}),(0,_a.jsx)("nav",{className:"flex flex-col p-4 sm:p-6 gap-2",children:f.map(e=>(0,_a.jsx)(Eo,{item:e,isActive:u(e.to),onClick:()=>s(!1)},e.to))}),(0,_a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 border-t border-slate-200",children:(0,_a.jsxs)("button",{onClick:()=>{s(!1),d()},className:"w-full flex items-center justify-center gap-2 rounded-xl bg-red-500 px-4 py-3 text-sm sm:text-base font-semibold text-white shadow-md transition-all duration-200 hover:bg-red-400 active:scale-95",children:[(0,_a.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,_a.jsx)("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),(0,_a.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,_a.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),(0,_a.jsx)("span",{children:"Abmelden"})]})})]}),(0,_a.jsx)("nav",{className:"md:hidden fixed bottom-4 left-1/2 z-40 flex w-[92%] max-w-md -translate-x-1/2 items-center justify-around rounded-[28px] border border-slate-200/80 bg-white/95 px-3 py-2.5 shadow-xl backdrop-blur",children:f.slice(0,4).map(e=>(0,_a.jsx)(_o,{item:e,isActive:u(e.to)},e.to))})]}):null},To=()=>{const[e,t]=(0,o.useState)({email:"",password:""}),[n,r]=(0,o.useState)(""),[a,i]=(0,o.useState)(!1),{login:s}=Pa(),l=ne(),c=n=>{t(Fe(Fe({},e),{},{[n.target.name]:n.target.value}))};return(0,_a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,_a.jsx)("div",{className:"bg-white bg-opacity-95 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20",children:(0,_a.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),r("");try{const t=await(n=e.email,a=e.password,Na.post("/auth/login",{email:n,password:a})),{token:r,user:i}=t.data;s(r,i),l("/dashboard")}catch(rm){r("Ung\xfcltige Anmeldeinformationen. Bitte versuche es erneut.")}finally{i(!1)}var n,a},className:"space-y-6",children:[n&&(0,_a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md text-sm",children:n}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Login"}),(0,_a.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"E-Mail eingeben"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort"}),(0,_a.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Passwort eingeben"})]}),(0,_a.jsx)("div",{className:"pt-4",children:(0,_a.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-lg",children:a?"Wird angemeldet...":"Anmelden"})})]})})})};function Ao(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Po(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Oo(e){Po(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Me(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Io(e,t){Po(2,arguments);var n=Oo(e),r=Ao(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}var Mo={};function Ro(){return Mo}function Lo(e,t){var n,r,a,i,o,s,l,c;Po(1,arguments);var u=Ro(),d=Ao(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Oo(e),p=f.getDay(),h=(p<d?7:0)+p-d;return f.setDate(f.getDate()-h),f.setHours(0,0,0,0),f}function Bo(e,t){var n,r,a,i,o,s,l,c;Po(1,arguments);var u=Ro(),d=Ao(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Oo(e),p=f.getDay(),h=6+(p<d?-7:0)-(p-d);return f.setDate(f.getDate()+h),f.setHours(23,59,59,999),f}function Fo(e){Po(1,arguments);var t=Oo(e);return t.setHours(0,0,0,0),t}function zo(e,t){Po(2,arguments);var n=Fo(e),r=Fo(t);return n.getTime()===r.getTime()}function Uo(e){if(Po(1,arguments),!function(e){return Po(1,arguments),e instanceof Date||"object"===Me(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Oo(e);return!isNaN(Number(t))}function Wo(e,t){Po(2,arguments);var n=Oo(e).getTime(),r=Ao(t);return new Date(n+r)}function Ho(e){Po(1,arguments);var t=Oo(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function qo(e){Po(1,arguments);var t=Oo(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Ho(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Ho(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Vo(e){Po(1,arguments);var t=Oo(e),n=Ho(t).getTime()-function(e){Po(1,arguments);var t=qo(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Ho(n)}(t).getTime();return Math.round(n/6048e5)+1}function Go(e,t){var n,r,a,i,o,s,l,c;Po(1,arguments);var u=Ro(),d=Ao(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Oo(e),p=f.getUTCDay(),h=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-h),f.setUTCHours(0,0,0,0),f}function $o(e,t){var n,r,a,i,o,s,l,c;Po(1,arguments);var u=Oo(e),d=u.getUTCFullYear(),f=Ro(),p=Ao(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:f.firstWeekContainsDate)&&void 0!==r?r:null===(l=f.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(d+1,0,p),h.setUTCHours(0,0,0,0);var m=Go(h,t),g=new Date(0);g.setUTCFullYear(d,0,p),g.setUTCHours(0,0,0,0);var b=Go(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=b.getTime()?d:d-1}function Ko(e,t){Po(1,arguments);var n=Oo(e),r=Go(n,t).getTime()-function(e,t){var n,r,a,i,o,s,l,c;Po(1,arguments);var u=Ro(),d=Ao(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),f=$o(e,t),p=new Date(0);return p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0),Go(p,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Yo(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const Jo={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Yo("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Yo(n+1,2)},d:function(e,t){return Yo(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Yo(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Yo(e.getUTCHours(),t.length)},m:function(e,t){return Yo(e.getUTCMinutes(),t.length)},s:function(e,t){return Yo(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Yo(Math.floor(r*Math.pow(10,n-3)),t.length)}};var Qo="midnight",Xo="noon",Zo="morning",es="afternoon",ts="evening",ns="night",rs={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Jo.y(e,t)},Y:function(e,t,n,r){var a=$o(e,r),i=a>0?a:1-a;return"YY"===t?Yo(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Yo(i,t.length)},R:function(e,t){return Yo(qo(e),t.length)},u:function(e,t){return Yo(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Yo(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Yo(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Jo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Yo(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=Ko(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Yo(a,t.length)},I:function(e,t,n){var r=Vo(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Yo(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Jo.d(e,t)},D:function(e,t,n){var r=function(e){Po(1,arguments);var t=Oo(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Yo(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Yo(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Yo(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Yo(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?Xo:0===a?Qo:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?ts:a>=12?es:a>=4?Zo:ns,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Jo.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Jo.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Yo(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Yo(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Jo.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Jo.s(e,t)},S:function(e,t){return Jo.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return is(a);case"XXXX":case"XX":return os(a);default:return os(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return is(a);case"xxxx":case"xx":return os(a);default:return os(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+as(a,":");default:return"GMT"+os(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+as(a,":");default:return"GMT"+os(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return Yo(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return Yo((r._originalDate||e).getTime(),t.length)}};function as(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(0===i)return n+String(a);var o=t||"";return n+String(a)+o+Yo(i,2)}function is(e,t){return e%60===0?(e>0?"-":"+")+Yo(Math.abs(e)/60,2):os(e,t)}function os(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+Yo(Math.floor(a/60),2)+n+Yo(a%60,2)}const ss=rs;var ls=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},cs=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},us={p:cs,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return ls(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",ls(a,t)).replace("{{time}}",cs(i,t))}};const ds=us;function fs(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var ps=["D","DD"],hs=["YY","YYYY"];function ms(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var gs={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const bs=function(e,t,n){var r,a=gs[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vs(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const xs={date:vs({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:vs({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:vs({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var ys={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const ws=function(e,t,n,r){return ys[e]};function ks(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):a;r=e.formattingValues[i]||e.formattingValues[a]}else{var o=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Ns={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ks({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ks({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ks({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ks({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ks({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function js(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o,s=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(s)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(s)});return o=e.valueCallback?e.valueCallback(c):c,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(s.length)}}}function Ss(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(a.length)}}}var Cs={ordinalNumber:Ss({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:js({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:js({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:js({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:js({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Es={code:"en-US",formatDistance:bs,formatLong:xs,formatRelative:ws,localize:Ns,match:Cs,options:{weekStartsOn:0,firstWeekContainsDate:1}};var _s=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ds=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ts=/^'([^]*?)'?$/,As=/''/g,Ps=/[a-zA-Z]/;function Os(e,t,n){var r,a,i,o,s,l,c,u,d,f,p,h,m,g,b,v,x,y;Po(2,arguments);var w=String(t),k=Ro(),N=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:k.locale)&&void 0!==r?r:Es,j=Ao(null!==(i=null!==(o=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:k.firstWeekContainsDate)&&void 0!==o?o:null===(d=k.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==i?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Ao(null!==(p=null!==(h=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(b=n.locale)||void 0===b||null===(v=b.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:k.weekStartsOn)&&void 0!==h?h:null===(x=k.locale)||void 0===x||null===(y=x.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==p?p:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var C=Oo(e);if(!Uo(C))throw new RangeError("Invalid time value");var E=function(e,t){return Po(2,arguments),Wo(e,-Ao(t))}(C,fs(C)),_={firstWeekContainsDate:j,weekStartsOn:S,locale:N,_originalDate:C};return w.match(Ds).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,ds[t])(e,N.formatLong):e}).join("").match(_s).map(function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return function(e){var t=e.match(Ts);if(!t)return e;return t[1].replace(As,"'")}(r);var i,o=ss[a];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(i=r,-1===hs.indexOf(i))||ms(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==ps.indexOf(e)}(r)||ms(r,t,String(e)),o(E,r,N.localize,_);if(a.match(Ps))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r}).join("")}function Is(e){return Po(1,arguments),zo(e,Date.now())}var Ms={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"halbe Minute",withPreposition:"halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}};const Rs=function(e,t,n){var r,a=null!==n&&void 0!==n&&n.addSuffix?Ms[e].withPreposition:Ms[e].standalone;return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r};const Ls={date:vs({formats:{full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:vs({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:vs({formats:{full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var Bs={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"};const Fs=function(e,t,n,r){return Bs[e]};var zs={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},Us={narrow:zs.narrow,abbreviated:["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:zs.wide};const Ws={ordinalNumber:function(e){return Number(e)+"."},era:ks({values:{narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},defaultWidth:"wide"}),quarter:ks({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ks({values:zs,formattingValues:Us,defaultWidth:"wide"}),day:ks({values:{narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},defaultWidth:"wide"}),dayPeriod:ks({values:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},defaultWidth:"wide",formattingValues:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},defaultFormattingWidth:"wide"})};var Hs={ordinalNumber:Ss({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:js({matchPatterns:{narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^v/i,/^n/i]},defaultParseWidth:"any"}),quarter:js({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:js({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(j[a\xe4]n|feb|m\xe4r[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|m\xe4rz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a\xe4]/i,/^f/i,/^m\xe4r/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:js({matchPatterns:{narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:{narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},defaultParseWidth:"any"})};const qs={code:"de",formatDistance:Rs,formatLong:Ls,formatRelative:Fs,localize:Ws,match:Hs,options:{weekStartsOn:1,firstWeekContainsDate:4}},Vs=e=>{let{events:t=[],onEventClick:n,onEventCreate:r,onDateSelect:a,selectedDate:i=new Date}=e;const[s,l]=(0,o.useState)(new Date),c=(()=>{const e=function(e){Po(1,arguments);var t=Oo(e);return t.setDate(1),t.setHours(0,0,0,0),t}(s),t=function(e){Po(1,arguments);var t=Oo(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(e),n=Lo(e,{weekStartsOn:1}),r=Bo(t,{weekStartsOn:1}),a=[];let i=n;for(;i<=r;)a.push(i),i=Io(i,1);return a})();return(0,_a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,_a.jsx)("button",{onClick:()=>{l(Io(s,-32))},className:"p-2 hover:bg-gray-100 rounded-full",children:"\u2190"}),(0,_a.jsx)("h2",{className:"text-xl font-semibold",children:Os(s,"MMMM yyyy",{locale:qs})}),(0,_a.jsx)("button",{onClick:()=>{l(Io(s,32))},className:"p-2 hover:bg-gray-100 rounded-full",children:"\u2192"})]}),(0,_a.jsx)("div",{className:"grid grid-cols-7 border-b",children:["Mo","Di","Mi","Do","Fr","Sa","So"].map(e=>(0,_a.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:e},e))}),(0,_a.jsx)("div",{className:"grid grid-cols-7",children:c.map((e,o)=>{const l=(e=>t.filter(t=>zo(new Date(t.start_date||t.start),e)))(e),c=function(e,t){Po(2,arguments);var n=Oo(e),r=Oo(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,s),u=zo(e,i),d=Is(e);return(0,_a.jsxs)("div",{className:"min-h-[100px] p-2 border-r border-b cursor-pointer hover:bg-gray-50 ".concat(c?"":"bg-gray-50 text-gray-400"," ").concat(u?"bg-blue-50":""," ").concat(d?"bg-yellow-50":""),onClick:()=>(e=>{a&&a(e),r&&r({start:e})})(e),children:[(0,_a.jsx)("div",{className:"text-sm font-medium ".concat(d?"text-blue-600":""),children:Os(e,"d")}),(0,_a.jsxs)("div",{className:"mt-1 space-y-1",children:[l.slice(0,3).map((e,t)=>(0,_a.jsxs)("div",{className:"text-xs p-1 rounded truncate cursor-pointer ".concat("Meeting"===e.type?"bg-blue-100 text-blue-800":"Arbeit"===e.type?"bg-green-100 text-green-800":"Urlaub"===e.type?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),onClick:t=>{t.stopPropagation(),n&&n(e)},children:[e.start_time&&(0,_a.jsx)("span",{className:"font-medium",children:e.start_time})," ",e.title]},t)),l.length>3&&(0,_a.jsxs)("div",{className:"text-xs text-gray-500",children:["+",l.length-3," mehr"]})]})]},o)})})]})};Math.pow(10,8);var Gs=6e4,$s=36e5;function Ks(e,t){var n;Po(1,arguments);var r=Ao(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,i=function(e){var t,n={},r=e.split(Ys.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],Ys.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Ys.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var a=Ys.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e);if(i.date){var o=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,r);a=function(e,t){if(null===t)return new Date(NaN);var n=e.match(Js);if(!n)return new Date(NaN);var r=!!n[4],a=Zs(n[1]),i=Zs(n[2])-1,o=Zs(n[3]),s=Zs(n[4]),l=Zs(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,i=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}(t,s,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(tl[t]||(nl(e)?29:28))}(t,i,o)&&function(e,t){return t>=1&&t<=(nl(e)?366:365)}(t,a)?(c.setUTCFullYear(t,i,Math.max(a,o)),c):new Date(NaN)}(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s,l=a.getTime(),c=0;if(i.time&&(c=function(e){var t=e.match(Qs);if(!t)return NaN;var n=el(t[1]),r=el(t[2]),a=el(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*$s+r*Gs+1e3*a}(i.time),isNaN(c)))return new Date(NaN);if(!i.timezone){var u=new Date(l+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return s=function(e){if("Z"===e)return 0;var t=e.match(Xs);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*$s+a*Gs)}(i.timezone),isNaN(s)?new Date(NaN):new Date(l+c+s)}var Ys={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Js=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Qs=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xs=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zs(e){return e?parseInt(e):1}function el(e){return e&&parseFloat(e.replace(",","."))||0}var tl=[31,null,31,30,31,30,31,31,30,31,30,31];function nl(e){return e%400===0||e%4===0&&e%100!==0}const rl=e=>{var t,n;let{event:r,isOpen:a,onClose:i,onSave:s,onDelete:l,onDuplicate:c,mode:u="view",users:d=[]}=e;const[f,p]=(0,o.useState)({title:"",description:"",start_date:"",start_time:"",end_date:"",end_time:"",type:"Termin",priority:"medium",location:"",attendees:[],all_day:!1,recurring:!1,recurring_pattern:"weekly",recurring_end:"",reminder:15,status:"confirmed",color:"#3b82f6",tags:[]}),[h,m]=(0,o.useState)({}),[g,b]=(0,o.useState)("edit"===u||"create"===u),[v,x]=(0,o.useState)(!1),y=[{value:"Arbeit",label:"Arbeit",color:"#10b981"},{value:"Meeting",label:"Meeting",color:"#3b82f6"},{value:"Urlaub",label:"Urlaub",color:"#8b5cf6"},{value:"Krankheit",label:"Krankheit",color:"#ef4444"},{value:"Training",label:"Training",color:"#f59e0b"},{value:"Projekt",label:"Projekt",color:"#f97316"},{value:"Termin",label:"Termin",color:"#06b6d4"},{value:"Deadline",label:"Deadline",color:"#dc2626"},{value:"Personal",label:"Personal",color:"#84cc16"}],w=[{value:"low",label:"Niedrig",color:"#10b981"},{value:"medium",label:"Mittel",color:"#f59e0b"},{value:"high",label:"Hoch",color:"#ef4444"},{value:"urgent",label:"Dringend",color:"#dc2626"}];(0,o.useEffect)(()=>{if(r)p({title:r.title||"",description:r.description||"",start_date:r.start_date||r.date||"",start_time:r.start_time||"09:00",end_date:r.end_date||r.date||"",end_time:r.end_time||"10:00",type:r.type||"Termin",priority:r.priority||"medium",location:r.location||"",attendees:r.attendees||[],all_day:r.all_day||!1,recurring:r.recurring||!1,recurring_pattern:r.recurring_pattern||"weekly",recurring_end:r.recurring_end||"",reminder:r.reminder||15,status:r.status||"confirmed",color:r.color||k(r.type||"Termin"),tags:r.tags||[]});else if("create"===u){const e=new Date;p(t=>Fe(Fe({},t),{},{start_date:Os(e,"yyyy-MM-dd"),end_date:Os(e,"yyyy-MM-dd"),start_time:Os(e,"HH:mm"),end_time:Os(Io(e,0),"HH:mm")}))}},[r,u]);const k=e=>{const t=y.find(t=>t.value===e);return t?t.color:"#3b82f6"},N=(e,t)=>{if(p(n=>Fe(Fe({},n),{},{[e]:t})),h[e]&&m(t=>Fe(Fe({},t),{},{[e]:null})),"type"===e&&p(e=>Fe(Fe({},e),{},{color:k(t)})),"start_time"===e&&!f.all_day){const[e,n]=t.split(":").map(Number),r=new Date;r.setHours(e+1,n),p(e=>Fe(Fe({},e),{},{end_time:Os(r,"HH:mm")}))}};return a?(0,_a.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,_a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full m-4 max-h-screen overflow-y-auto",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,_a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"create"===u?"Neuer Termin":g?"Termin bearbeiten":"Termin-Details"}),(0,_a.jsxs)("div",{className:"flex items-center space-x-2",children:[!g&&r&&(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)("button",{onClick:()=>b(!0),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Bearbeiten",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,_a.jsx)("button",{onClick:()=>{const e=Fe(Fe({},f),{},{id:Date.now(),title:"".concat(f.title," (Kopie)"),start_date:Os(Io(Ks(f.start_date),1),"yyyy-MM-dd"),end_date:Os(Io(Ks(f.end_date),1),"yyyy-MM-dd")});null===c||void 0===c||c(e)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Duplizieren",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,_a.jsx)("button",{onClick:()=>x(!0),className:"p-2 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50",title:"L\xf6schen",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,_a.jsx)("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,_a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titel *"}),g?(0,_a.jsx)("input",{type:"text",value:f.title,onChange:e=>N("title",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.title?"border-red-500":"border-gray-300"),placeholder:"Termintitel eingeben..."}):(0,_a.jsx)("p",{className:"text-lg font-medium text-gray-900",children:f.title}),h.title&&(0,_a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.title})]}),(0,_a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Typ"}),g?(0,_a.jsx)("select",{value:f.type,onChange:e=>N("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(e=>(0,_a.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,_a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k(f.type)}}),(0,_a.jsx)("span",{children:f.type})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorit\xe4t"}),g?(0,_a.jsx)("select",{value:f.priority,onChange:e=>N("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(e=>(0,_a.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,_a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:null===(t=w.find(e=>e.value===f.priority))||void 0===t?void 0:t.color}}),(0,_a.jsx)("span",{children:null===(n=w.find(e=>e.value===f.priority))||void 0===n?void 0:n.label})]})]})]}),g&&(0,_a.jsxs)("div",{className:"flex items-center",children:[(0,_a.jsx)("input",{type:"checkbox",id:"all_day",checked:f.all_day,onChange:e=>N("all_day",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,_a.jsx)("label",{htmlFor:"all_day",className:"ml-2 text-sm text-gray-700",children:"Ganzt\xe4gig"})]}),(0,_a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Startdatum *"}),g?(0,_a.jsx)("input",{type:"date",value:f.start_date,onChange:e=>N("start_date",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.start_date?"border-red-500":"border-gray-300")}):(0,_a.jsx)("p",{children:Os(Ks(f.start_date),"dd.MM.yyyy",{locale:qs})}),h.start_date&&(0,_a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.start_date})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enddatum"}),g?(0,_a.jsx)("input",{type:"date",value:f.end_date,onChange:e=>N("end_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,_a.jsx)("p",{children:Os(Ks(f.end_date),"dd.MM.yyyy",{locale:qs})})]})]}),!f.all_day&&(0,_a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Startzeit *"}),g?(0,_a.jsx)("input",{type:"time",value:f.start_time,onChange:e=>N("start_time",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.start_time?"border-red-500":"border-gray-300")}):(0,_a.jsx)("p",{children:f.start_time}),h.start_time&&(0,_a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.start_time})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endzeit *"}),g?(0,_a.jsx)("input",{type:"time",value:f.end_time,onChange:e=>N("end_time",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.end_time?"border-red-500":"border-gray-300")}):(0,_a.jsx)("p",{children:f.end_time}),h.end_time&&(0,_a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.end_time})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschreibung"}),g?(0,_a.jsx)("textarea",{value:f.description,onChange:e=>N("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Zus\xe4tzliche Details..."}):(0,_a.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:f.description||"Keine Beschreibung vorhanden"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ort"}),g?(0,_a.jsx)("input",{type:"text",value:f.location,onChange:e=>N("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Veranstaltungsort..."}):(0,_a.jsx)("p",{className:"text-gray-700",children:f.location||"Kein Ort angegeben"})]}),g&&(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Erinnerung"}),(0,_a.jsx)("select",{value:f.reminder,onChange:e=>N("reminder",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:0,label:"Keine Erinnerung"},{value:5,label:"5 Minuten"},{value:15,label:"15 Minuten"},{value:30,label:"30 Minuten"},{value:60,label:"1 Stunde"},{value:120,label:"2 Stunden"},{value:1440,label:"1 Tag"},{value:2880,label:"2 Tage"}].map(e=>(0,_a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,_a.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,_a.jsx)("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:g?"Abbrechen":"Schlie\xdfen"}),g&&(0,_a.jsx)("button",{onClick:()=>{if(!(()=>{const e={};return f.title.trim()||(e.title="Titel ist erforderlich"),f.start_date||(e.start_date="Startdatum ist erforderlich"),f.all_day||(f.start_time||(e.start_time="Startzeit ist erforderlich"),f.end_time||(e.end_time="Endzeit ist erforderlich"),f.start_date===f.end_date&&f.start_time>=f.end_time&&(e.end_time="Endzeit muss nach Startzeit liegen")),f.recurring&&!f.recurring_end&&(e.recurring_end="Wiederholung-Enddatum ist erforderlich"),m(e),0===Object.keys(e).length})())return;const e=Fe(Fe(Fe({},r),f),{},{id:(null===r||void 0===r?void 0:r.id)||Date.now(),updated_at:(new Date).toISOString()});null===s||void 0===s||s(e),b(!1)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"create"===u?"Erstellen":"Speichern"})]})]}),v&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,_a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm mx-4",children:[(0,_a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termin l\xf6schen?"}),(0,_a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Sind Sie sicher, dass Sie diesen Termin l\xf6schen m\xf6chten? Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden."}),(0,_a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,_a.jsx)("button",{onClick:()=>x(!1),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Abbrechen"}),(0,_a.jsx)("button",{onClick:()=>{null!==r&&void 0!==r&&r.id&&(null===l||void 0===l||l(r.id),x(!1))},className:"px-3 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700",children:"L\xf6schen"})]})]})})]}):null},al=(0,o.memo)(e=>{let{isOpen:t,onClose:n,onSave:r,selectedDate:a,event:i=null,mode:s="create"}=e;const[l,c]=(0,o.useState)({title:"",description:"",start_date:"",end_date:"",start_time:"08:00",end_time:"17:00",all_day:!1,type:"Arbeit",priority:"medium",location:"",attendees:[],reminder:15,status:"confirmed",category:"work",notes:"",recurring:!1,recurring_pattern:"weekly",recurring_end:""}),[u,d]=(0,o.useState)({});(0,o.useEffect)(()=>{if(t){if("edit"===s&&i){var e;c({title:i.title||"",description:i.description||"",start_date:i.start_date||Os(a||new Date,"yyyy-MM-dd"),end_date:i.end_date||Os(a||new Date,"yyyy-MM-dd"),start_time:i.start_time||"08:00",end_time:i.end_time||"17:00",all_day:Boolean(i.all_day),type:i.type||"Arbeit",priority:i.priority||"medium",location:i.location||"",attendees:Array.isArray(i.attendees)?i.attendees:[],reminder:null!==(e=i.reminder)&&void 0!==e?e:15,status:i.status||"confirmed",category:i.category||"work",notes:i.notes||"",recurring:Boolean(i.recurring),recurring_pattern:i.recurring_pattern||"weekly",recurring_end:i.recurring_end||""})}else{const e=Os(a||new Date,"yyyy-MM-dd");c({title:"",description:"",start_date:e,end_date:e,start_time:"08:00",end_time:"17:00",all_day:!1,type:"Arbeit",priority:"medium",location:"",attendees:[],reminder:15,status:"confirmed",category:"work",notes:"",recurring:!1,recurring_pattern:"weekly",recurring_end:""})}d({})}},[t,a,i,s]);const f=(0,o.useCallback)(e=>{const{name:t,value:n,type:r,checked:a}=e.target;c(e=>Fe(Fe({},e),{},{[t]:"checkbox"===r?a:n})),d(e=>{if(e[t]){const n=Fe({},e);return delete n[t],n}return e})},[]),p=(0,o.useCallback)(e=>{const t=e.target.value.split(",").map(e=>e.trim()).filter(Boolean);c(e=>Fe(Fe({},e),{},{attendees:t}))},[]),h=(0,o.useCallback)(()=>{const e={};return l.title.trim()||(e.title="Titel ist erforderlich"),l.start_date||(e.start_date="Startdatum ist erforderlich"),l.end_date||(e.end_date="Enddatum ist erforderlich"),l.start_date&&l.end_date&&l.start_date>l.end_date&&(e.end_date="Enddatum muss nach Startdatum liegen"),l.all_day||(l.start_time||(e.start_time="Startzeit ist erforderlich"),l.end_time||(e.end_time="Endzeit ist erforderlich"),l.start_date===l.end_date&&l.start_time&&l.end_time&&l.start_time>=l.end_time&&(e.end_time="Endzeit muss nach Startzeit liegen")),d(e),0===Object.keys(e).length},[l]),m=(0,o.useCallback)(e=>{if(e.preventDefault(),h()){const e=Fe(Fe({},l),{},{id:null===i||void 0===i?void 0:i.id});r(e)}},[l,null===i||void 0===i?void 0:i.id,r,h]);return t?(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,_a.jsx)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,_a.jsxs)("div",{className:"p-6",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,_a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"edit"===s?"Termin bearbeiten":"Neuen Termin erstellen"}),(0,_a.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,_a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_a.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),(0,_a.jsx)("input",{type:"text",name:"title",value:l.title,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.title?"border-red-500":"border-gray-300"),placeholder:"Termin Titel eingeben..."}),u.title&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.title})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung"}),(0,_a.jsx)("textarea",{name:"description",value:l.description,onChange:f,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zus\xe4tzliche Details..."})]}),(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Startdatum *"}),(0,_a.jsx)("input",{type:"date",name:"start_date",value:l.start_date,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.start_date?"border-red-500":"border-gray-300")}),u.start_date&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.start_date})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enddatum *"}),(0,_a.jsx)("input",{type:"date",name:"end_date",value:l.end_date,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.end_date?"border-red-500":"border-gray-300")}),u.end_date&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.end_date})]})]}),(0,_a.jsxs)("div",{className:"flex items-center",children:[(0,_a.jsx)("input",{type:"checkbox",name:"all_day",id:"all_day",checked:l.all_day,onChange:f,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,_a.jsx)("label",{htmlFor:"all_day",className:"ml-2 text-sm font-medium text-gray-700",children:"Ganzt\xe4gig"})]}),!l.all_day&&(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Startzeit *"}),(0,_a.jsx)("input",{type:"time",name:"start_time",value:l.start_time,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.start_time?"border-red-500":"border-gray-300")}),u.start_time&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.start_time})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endzeit *"}),(0,_a.jsx)("input",{type:"time",name:"end_time",value:l.end_time,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.end_time?"border-red-500":"border-gray-300")}),u.end_time&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.end_time})]})]}),(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Typ"}),(0,_a.jsxs)("select",{name:"type",value:l.type,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,_a.jsx)("option",{value:"Arbeit",children:"Arbeit"}),(0,_a.jsx)("option",{value:"Meeting",children:"Meeting"}),(0,_a.jsx)("option",{value:"Urlaub",children:"Urlaub"}),(0,_a.jsx)("option",{value:"Krankheit",children:"Krankheit"}),(0,_a.jsx)("option",{value:"Training",children:"Training"}),(0,_a.jsx)("option",{value:"Projekt",children:"Projekt"}),(0,_a.jsx)("option",{value:"Termin",children:"Termin"}),(0,_a.jsx)("option",{value:"Deadline",children:"Deadline"})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorit\xe4t"}),(0,_a.jsxs)("select",{name:"priority",value:l.priority,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,_a.jsx)("option",{value:"low",children:"Niedrig"}),(0,_a.jsx)("option",{value:"medium",children:"Normal"}),(0,_a.jsx)("option",{value:"high",children:"Hoch"})]})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ort"}),(0,_a.jsx)("input",{type:"text",name:"location",value:l.location,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ort des Termins..."})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teilnehmer (E-Mail Adressen, durch Komma getrennt)"}),(0,_a.jsx)("input",{type:"text",value:l.attendees.join(", "),onChange:p,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"beispiel@email.com, andere@email.com"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Erinnerung (Minuten vorher)"}),(0,_a.jsxs)("select",{name:"reminder",value:l.reminder,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,_a.jsx)("option",{value:0,children:"Keine"}),(0,_a.jsx)("option",{value:5,children:"5 Minuten"}),(0,_a.jsx)("option",{value:15,children:"15 Minuten"}),(0,_a.jsx)("option",{value:30,children:"30 Minuten"}),(0,_a.jsx)("option",{value:60,children:"1 Stunde"}),(0,_a.jsx)("option",{value:1440,children:"1 Tag"})]})]}),(0,_a.jsxs)("div",{className:"border-t pt-6",children:[(0,_a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,_a.jsx)("input",{type:"checkbox",name:"recurring",id:"recurring",checked:l.recurring,onChange:f,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,_a.jsx)("label",{htmlFor:"recurring",className:"ml-2 text-sm font-medium text-gray-700",children:"Wiederholender Termin"})]}),l.recurring&&(0,_a.jsxs)("div",{className:"space-y-4 pl-6 border-l-2 border-blue-200",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wiederholungsmuster"}),(0,_a.jsxs)("select",{name:"recurring_pattern",value:l.recurring_pattern,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,_a.jsx)("option",{value:"daily",children:"T\xe4glich"}),(0,_a.jsx)("option",{value:"weekly",children:"W\xf6chentlich"}),(0,_a.jsx)("option",{value:"biweekly",children:"Alle 2 Wochen"}),(0,_a.jsx)("option",{value:"monthly",children:"Monatlich"}),(0,_a.jsx)("option",{value:"yearly",children:"J\xe4hrlich"})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wiederholung endet am (optional)"}),(0,_a.jsx)("input",{type:"date",name:"recurring_end",value:l.recurring_end,onChange:f,min:l.start_date,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,_a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leer lassen f\xfcr unbegrenzte Wiederholung"})]})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notizen"}),(0,_a.jsx)("textarea",{name:"notes",value:l.notes,onChange:f,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zus\xe4tzliche Notizen..."})]}),(0,_a.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[(0,_a.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Abbrechen"}),(0,_a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"edit"===s?"Aktualisieren":"Erstellen"})]})]})]})})}):null});al.displayName="EventModal";const il=al,ol=e=>{let{isOpen:t,onClose:n,onSave:r,selectedDate:a}=e;const[i,s]=(0,o.useState)({title:"",description:"",start_date:"",end_date:"",type:"Urlaub",is_all_day:!0}),[l,c]=(0,o.useState)({}),[u,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(t){const e=Os(a||new Date,"yyyy-MM-dd");s({title:"",description:"",start_date:e,end_date:e,type:"Urlaub",is_all_day:!0}),c({})}},[t,a]);const f=e=>{const{name:t,value:n,type:r,checked:a}=e.target,i="checkbox"===r?a:n;if(s(e=>Fe(Fe({},e),{},{[t]:i})),"type"===t){const e={Urlaub:"Urlaub",Krankheit:"Krankschreibung","\xdcberstundenabbau":"\xdcberstundenabbau"};s(t=>Fe(Fe({},t),{},{title:e[n]||""}))}l[t]&&c(e=>Fe(Fe({},e),{},{[t]:""}))},p=()=>{if(i.start_date&&i.end_date){const e=new Date(i.start_date),t=new Date(i.end_date).getTime()-e.getTime();return Math.ceil(t/864e5)+1}return 1};if(!t)return null;const h=[{value:"Urlaub",label:"Urlaub",icon:"\ud83c\udfd6\ufe0f",color:"text-blue-600",description:"Geplanter Urlaub oder Freizeit"},{value:"Krankheit",label:"Krankschreibung",icon:"\ud83c\udfe5",color:"text-red-600",description:"Krankheitsbedingte Abwesenheit"},{value:"\xdcberstundenabbau",label:"\xdcberstundenabbau",icon:"\u23f0",color:"text-green-600",description:"Abbau von angesammelten \xdcberstunden"}],m=h.find(e=>e.value===i.type);return(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,_a.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,_a.jsxs)("div",{className:"p-6",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,_a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Abwesenheit melden"}),(0,_a.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,_a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.title.trim()||(e.title="Titel ist erforderlich"),i.start_date||(e.start_date="Startdatum ist erforderlich"),i.end_date||(e.end_date="Enddatum ist erforderlich"),i.start_date&&i.end_date&&i.start_date>i.end_date&&(e.end_date="Enddatum muss nach oder gleich dem Startdatum sein"),c(e),0===Object.keys(e).length})()){d(!0);try{await r(i),n()}catch(t){console.error("Error saving absence:",t),c({submit:"Fehler beim Speichern der Abwesenheit"})}finally{d(!1)}}},className:"space-y-6",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Art der Abwesenheit"}),(0,_a.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,_a.jsxs)("label",{className:"flex items-center p-3 rounded-lg border-2 cursor-pointer transition-all ".concat(i.type===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,_a.jsx)("input",{type:"radio",name:"type",value:e.value,checked:i.type===e.value,onChange:f,className:"sr-only"}),(0,_a.jsxs)("div",{className:"flex items-center flex-1",children:[(0,_a.jsx)("span",{className:"text-2xl mr-3",children:e.icon}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("div",{className:"font-medium ".concat(e.color),children:e.label}),(0,_a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]}),i.type===e.value&&(0,_a.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,_a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]},e.value))})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),(0,_a.jsx)("input",{type:"text",name:"title",value:i.title,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.title?"border-red-500":"border-gray-300"),placeholder:"z.B. Sommerurlaub, Krankmeldung..."}),l.title&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.title})]}),(0,_a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Von *"}),(0,_a.jsx)("input",{type:"date",name:"start_date",value:i.start_date,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.start_date?"border-red-500":"border-gray-300")}),l.start_date&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.start_date})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bis *"}),(0,_a.jsx)("input",{type:"date",name:"end_date",value:i.end_date,onChange:f,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.end_date?"border-red-500":"border-gray-300")}),l.end_date&&(0,_a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.end_date})]})]}),i.start_date&&i.end_date&&(0,_a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,_a.jsxs)("div",{className:"flex items-center",children:[(0,_a.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83d\udcc5"}),(0,_a.jsxs)("span",{className:"text-blue-700 font-medium",children:["Dauer: ",p()," ",1===p()?"Tag":"Tage"]})]})}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung (optional)"}),(0,_a.jsx)("textarea",{name:"description",value:i.description,onChange:f,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zus\xe4tzliche Informationen..."})]}),(0,_a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,_a.jsxs)("div",{className:"flex",children:[(0,_a.jsx)("div",{className:"flex-shrink-0",children:(0,_a.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,_a.jsx)("div",{className:"ml-3",children:(0,_a.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,_a.jsx)("strong",{children:"Hinweis:"})," Diese Abwesenheit \xfcberschreibt automatisch generierte Arbeitszeiten f\xfcr den gew\xe4hlten Zeitraum."]})})]})}),l.submit&&(0,_a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,_a.jsx)("p",{className:"text-red-700 text-sm",children:l.submit})}),(0,_a.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[(0,_a.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Abbrechen"}),(0,_a.jsx)("button",{type:"submit",disabled:u,className:"px-6 py-2 rounded-lg transition-colors ".concat(m?"bg-".concat(m.color.split("-")[1],"-600 hover:bg-").concat(m.color.split("-")[1],"-700"):"bg-blue-600 hover:bg-blue-700"," text-white disabled:opacity-50 disabled:cursor-not-allowed"),children:u?"Speichern...":"Abwesenheit melden"})]})]})]})})})};function sl(e,t){return sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sl(e,t)}function ll(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sl(e,t)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(null,arguments)}function ul(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var dl="function"===typeof Symbol&&Symbol.observable||"@@observable",fl=function(){return Math.random().toString(36).substring(7).split("").join(".")},pl={INIT:"@@redux/INIT"+fl(),REPLACE:"@@redux/REPLACE"+fl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fl()}};function hl(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ml(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ul(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ul(1));return n(ml)(e,t)}if("function"!==typeof e)throw new Error(ul(2));var a=e,i=t,o=[],s=o,l=!1;function c(){s===o&&(s=o.slice())}function u(){if(l)throw new Error(ul(3));return i}function d(e){if("function"!==typeof e)throw new Error(ul(4));if(l)throw new Error(ul(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(ul(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!hl(e))throw new Error(ul(7));if("undefined"===typeof e.type)throw new Error(ul(8));if(l)throw new Error(ul(9));try{l=!0,i=a(i,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:pl.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ul(10));a=e,f({type:pl.REPLACE})}})[dl]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ul(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[dl]=function(){return this},e},r}function gl(e,t){return function(){return t(e.apply(this,arguments))}}function bl(e,t){if("function"===typeof e)return gl(e,t);if("object"!==typeof e||null===e)throw new Error(ul(16));var n={};for(var r in e){var a=e[r];"function"===typeof a&&(n[r]=gl(a,t))}return n}function vl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var xl=o.createContext(null);var yl=function(e){e()},wl=function(){return yl};var kl={notify:function(){},get:function(){return[]}};function Nl(e,t){var n,r=kl;function a(){o.onStateChange&&o.onStateChange()}function i(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=wl(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var o={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=kl)},getListeners:function(){return r}};return o}var jl="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect;const Sl=function(e){var t=e.store,n=e.context,r=e.children,a=(0,o.useMemo)(function(){var e=Nl(t);return{store:t,subscription:e}},[t]),i=(0,o.useMemo)(function(){return t.getState()},[t]);jl(function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,i]);var s=n||xl;return o.createElement(s.Provider,{value:a},r)};function Cl(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var El=n(219),_l=n.n(El),Dl=n(86),Tl=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Al=["reactReduxForwardedRef"],Pl=[],Ol=[null,null];function Il(e,t){var n=e[1];return[t.payload,n+1]}function Ml(e,t,n){jl(function(){return e.apply(void 0,t)},n)}function Rl(e,t,n,r,a,i,o){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,o())}function Ll(e,t,n,r,a,i,o,s,l,c){if(e){var u=!1,d=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,a.current)}catch(ze){n=ze,d=ze}n||(d=null),e===i.current?o.current||l():(i.current=e,s.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Bl=function(){return[null,0]};function Fl(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,s=void 0===i?"connectAdvanced":i,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,f=n.storeKey,p=void 0===f?"store":f,h=(n.withRef,n.forwardRef),m=void 0!==h&&h,g=n.context,b=void 0===g?xl:g,v=Cl(n,Tl),x=b;return function(t){var n=t.displayName||t.name||"Component",r=a(n),i=cl({},v,{getDisplayName:a,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=v.pure;var u=l?o.useMemo:function(e){return e()};function f(n){var r=(0,o.useMemo)(function(){var e=n.reactReduxForwardedRef,t=Cl(n,Al);return[n.context,e,t]},[n]),a=r[0],s=r[1],l=r[2],c=(0,o.useMemo)(function(){return a&&a.Consumer&&(0,Dl.isContextConsumer)(o.createElement(a.Consumer,null))?a:x},[a,x]),f=(0,o.useContext)(c),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var h=p?n.store:f.store,m=(0,o.useMemo)(function(){return function(t){return e(t.dispatch,i)}(h)},[h]),g=(0,o.useMemo)(function(){if(!d)return Ol;var e=Nl(h,p?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[h,p,f]),b=g[0],v=g[1],y=(0,o.useMemo)(function(){return p?f:cl({},f,{subscription:b})},[p,f,b]),w=(0,o.useReducer)(Il,Pl,Bl),k=w[0][0],N=w[1];if(k&&k.error)throw k.error;var j=(0,o.useRef)(),S=(0,o.useRef)(l),C=(0,o.useRef)(),E=(0,o.useRef)(!1),_=u(function(){return C.current&&l===S.current?C.current:m(h.getState(),l)},[h,k,l]);Ml(Rl,[S,j,E,l,_,C,v]),Ml(Ll,[d,h,b,m,S,j,E,C,v,N],[h,b,m]);var D=(0,o.useMemo)(function(){return o.createElement(t,cl({},_,{ref:s}))},[s,t,_]);return(0,o.useMemo)(function(){return d?o.createElement(c.Provider,{value:y},D):D},[c,D,y])}var h=l?o.memo(f):f;if(h.WrappedComponent=t,h.displayName=f.displayName=r,m){var g=o.forwardRef(function(e,t){return o.createElement(h,cl({},e,{reactReduxForwardedRef:t}))});return g.displayName=r,g.WrappedComponent=t,_l()(g,t)}return _l()(h,t)}}function zl(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Ul(e,t){if(zl(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!zl(e[n[a]],t[n[a]]))return!1;return!0}function Wl(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function Hl(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function ql(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Hl(e);var a=r(t,n);return"function"===typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=Hl(a),a=r(t,n)),a},r}}const Vl=[function(e){return"function"===typeof e?ql(e):void 0},function(e){return e?void 0:Wl(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?Wl(function(t){return function(e,t){var n={},r=function(r){var a=e[r];"function"===typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}(e,t)}):void 0}];const Gl=[function(e){return"function"===typeof e?ql(e):void 0},function(e){return e?void 0:Wl(function(){return{}})}];function $l(e,t,n){return cl({},n,e,t)}const Kl=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,o=!1;return function(t,n,s){var l=e(t,n,s);return o?a&&i(l,r)||(r=l):(o=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return $l}}];var Yl=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Jl(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}}function Ql(e,t,n,r,a){var i,o,s,l,c,u=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;function h(a,p){var h=!d(p,o),m=!u(a,i,p,o);return i=a,o=p,h&&m?(s=e(i,o),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):h?(e.dependsOnOwnProps&&(s=e(i,o)),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):m?function(){var t=e(i,o),r=!f(t,s);return s=t,r&&(c=n(s,l,o)),c}():c}return function(a,u){return p?h(a,u):(s=e(i=a,o=u),l=t(r,o),c=n(s,l,o),p=!0,c)}}function Xl(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=Cl(t,Yl),o=n(e,i),s=r(e,i),l=a(e,i);return(i.pure?Ql:Jl)(o,s,l,e,i)}var Zl=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ec(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function tc(e,t){return e===t}function nc(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Fl:n,a=t.mapStateToPropsFactories,i=void 0===a?Gl:a,o=t.mapDispatchToPropsFactories,s=void 0===o?Vl:o,l=t.mergePropsFactories,c=void 0===l?Kl:l,u=t.selectorFactory,d=void 0===u?Xl:u;return function(e,t,n,a){void 0===a&&(a={});var o=a,l=o.pure,u=void 0===l||l,f=o.areStatesEqual,p=void 0===f?tc:f,h=o.areOwnPropsEqual,m=void 0===h?Ul:h,g=o.areStatePropsEqual,b=void 0===g?Ul:g,v=o.areMergedPropsEqual,x=void 0===v?Ul:v,y=Cl(o,Zl),w=ec(e,i,"mapStateToProps"),k=ec(t,s,"mapDispatchToProps"),N=ec(n,c,"mergeProps");return r(d,cl({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:k,initMergeProps:N,pure:u,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:b,areMergedPropsEqual:x},y))}}const rc=nc();var ac;function ic(e,t){var n=(0,o.useState)(function(){return{inputs:t,result:e()}})[0],r=(0,o.useRef)(!0),a=(0,o.useRef)(n),i=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs)),s=i?a.current:{inputs:t,result:e()};return(0,o.useEffect)(function(){r.current=!1,a.current=s},[s]),s.result}ac=ke.unstable_batchedUpdates,yl=ac;var oc=ic,sc=function(e,t){return ic(function(){return e},t)},lc="Invariant failed";var cc=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},uc=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},dc=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},fc={top:0,right:0,bottom:0,left:0},pc=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?fc:n,a=e.border,i=void 0===a?fc:a,o=e.padding,s=void 0===o?fc:o,l=cc(uc(t,r)),c=cc(dc(t,i)),u=cc(dc(c,s));return{marginBox:l,borderBox:cc(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},hc=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(lc)}(!1),n},mc=function(e,t){var n,r,a=e.borderBox,i=e.border,o=e.margin,s=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return pc({borderBox:l,border:i,margin:o,padding:s})},gc=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),mc(e,t)},bc=function(e,t){var n={top:hc(t.marginTop),right:hc(t.marginRight),bottom:hc(t.marginBottom),left:hc(t.marginLeft)},r={top:hc(t.paddingTop),right:hc(t.paddingRight),bottom:hc(t.paddingBottom),left:hc(t.paddingLeft)},a={top:hc(t.borderTopWidth),right:hc(t.borderRightWidth),bottom:hc(t.borderBottomWidth),left:hc(t.borderLeftWidth)};return pc({borderBox:e,margin:n,padding:r,border:a})},vc=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return bc(t,n)},xc=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function yc(e,t){return e===t||!(!xc(e)||!xc(t))}function wc(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!yc(e[n],t[n]))return!1;return!0}const kc=function(e,t){var n;void 0===t&&(t=wc);var r,a=[],i=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return i&&n===this&&t(o,a)||(r=e.apply(this,o),i=!0,n=this,a=o),r}};const Nc=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function jc(e,t){}jc.bind(null,"warn"),jc.bind(null,"error");function Sc(){}function Cc(e,t,n){var r=t.map(function(t){var r=function(e,t){return cl({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}});return function(){r.forEach(function(e){e()})}}var Ec="Invariant failed";function _c(e){this.message=e}function Dc(e,t){if(!e)throw new _c(Ec)}_c.prototype.toString=function(){return this.message};var Tc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Sc,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof _c&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ll(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Cc(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof _c))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(o.Component),Ac=function(e){return e+1},Pc=function(e,t){var n=e.droppableId===t.droppableId,r=Ac(e.index),a=Ac(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},Oc=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Ic=function(e){return"\n  The item has returned to its starting position\n  of "+Ac(e.index)+"\n"},Mc="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Rc=function(e){return"\n  You have lifted an item in position "+Ac(e.source.index)+"\n"},Lc=function(e){var t=e.destination;if(t)return Pc(e.source,t);var n=e.combine;return n?Oc(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Bc=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Ic(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Pc(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Oc(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Ic(e.source)+"\n  "},Fc={x:0,y:0},zc=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Uc=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Wc=function(e,t){return e.x===t.x&&e.y===t.y},Hc=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},qc=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Vc=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Gc=function(e,t){return Math.min.apply(Math,t.map(function(t){return Vc(e,t)}))},$c=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Kc=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Yc=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Jc=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=cc({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):cc(e)},Qc=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,i=function(e,t){return t?Kc(e,t.scroll.diff.displacement):e}(t.marginBox,a),o=function(e,t,n){var r;return n&&n.increasedBy?cl({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Jc(o,a)}},Xc=function(e,t){e.frame||Dc(!1);var n=e.frame,r=Uc(t,n.scroll.initial),a=Hc(r),i=cl({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}});return cl({},e,{frame:i,subject:Qc({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Zc(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function eu(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function tu(e,t){if(e.find)return e.find(t);var n=eu(e,t);return-1!==n?e[n]:void 0}function nu(e){return Array.prototype.slice.call(e)}var ru=kc(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),au=kc(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),iu=kc(function(e){return Zc(e)}),ou=kc(function(e){return Zc(e)}),su=kc(function(e,t){var n=ou(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return n});function lu(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function cu(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var uu=kc(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),du=function(e,t){return e.descriptor.droppableId===t.descriptor.id},fu={point:Fc,value:0},pu={invisible:{},visible:{},all:[]},hu={displaced:pu,displacedBy:fu,at:null},mu=function(e,t){return function(n){return e<=n&&n<=t}},gu=function(e){var t=mu(e.top,e.bottom),n=mu(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;var o=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!o||!s)||(o&&i||s&&a)}},bu=function(e){var t=mu(e.top,e.bottom),n=mu(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},vu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xu={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},yu=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,o=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Fc;return Kc(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,i)&&function(e,t,n){return n(t)(e)}(o,r,i)},wu=function(e){return yu(cl({},e,{isVisibleThroughFrameFn:gu}))},ku=function(e){return yu(cl({},e,{isVisibleThroughFrameFn:bu}))};function Nu(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return cc(uc(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!wu({target:s,destination:n,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var i=a[e];return!i||i.shouldAnimate}(l,o,i),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e},{all:[],visible:{},invisible:{}})}function ju(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:pu,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Su(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,s=e.index,l=e.forceShouldAnimate,c=du(t,r);if(null==s)return ju({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=tu(n,function(e){return e.descriptor.index===s});if(!u)return ju({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=uu(t,n),f=n.indexOf(u);return{displaced:Nu({afterDragging:d.slice(f),destination:r,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Cu(e,t){return Boolean(t.effected[e])}var Eu=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||Dc(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,o=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return o<s||o>(n?l:l+1)?null:o}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:o});return null==d?null:Su({draggable:r,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=a.draggableId,s=r[o].descriptor.index;return Cu(o,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:a,combine:u.combine,afterCritical:c});return null==f?null:Su({draggable:r,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},_u=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=cu(n);a||Dc(!1);var i=a.draggableId,o=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Cu(r,n)?i?Fc:Hc(a.point):i?a.point:Fc}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return zc(o,s)},Du=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Tu=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Au=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qc(t.line,n.marginBox[t.end]+Du(t,r),Tu(t,n.marginBox,r))},Pu=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qc(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Tu(t,n.marginBox,r))},Ou=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,o=su(a.descriptor.id,r),s=n.page,l=a.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return qc(t.line,n.contentBox[t.start]+Du(t,r),Tu(t,n.contentBox,r))}({axis:l,moveInto:a.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var f=r[d];if(Cu(d,i))return Pu({axis:l,moveRelativeTo:f.page,isMoving:s});var p=mc(f.page,u.point);return Pu({axis:l,moveRelativeTo:p,isMoving:s})}var h=o[o.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Cu(h.descriptor.id,i)){var m=mc(h.page,Hc(i.displacedBy.point));return Au({axis:l,moveRelativeTo:m,isMoving:s})}return Au({axis:l,moveRelativeTo:h.page,isMoving:s})},Iu=function(e,t){var n=e.frame;return n?zc(t,n.scroll.diff.displacement):t},Mu=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.afterCritical,o=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?Ou({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i}):_u({impact:t,draggables:a,afterCritical:i}):o}(e),n=e.droppable;return n?Iu(n,t):t},Ru=function(e,t){var n=Uc(t,e.scroll.initial),r=Hc(n);return{frame:cc({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Lu(e,t){return e.map(function(e){return t[e]})}var Bu=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return zc(e.scroll.diff.displacement,t)}(e.viewport,t),a=Uc(r,n.page.borderBox.center);return zc(n.client.borderBox.center,a)},Fu=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=void 0!==o&&o,l=Uc(r,t.page.borderBox.center),c={target:Kc(t.page.borderBox,l),destination:n,withDroppableDisplacement:i,viewport:a};return s?function(e){return yu(cl({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=mu(e.top,e.bottom),r=mu(e.left,e.right);return function(e){return t===vu?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):ku(c)},zu=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=su(r.descriptor.id,a),d=du(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!lu(i))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return cl({},i,{at:t})}var s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?o(l):null;var c=uu(n,a);if(!l)return c.length?o(c[c.length-1].descriptor.id):null;var u=eu(c,function(e){return e.descriptor.id===l});-1===u&&Dc(!1);var d=u-1;return d<0?null:o(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||Eu({isMovingForward:t,isInHomeList:d,draggable:n,draggables:a,destination:r,insideDestination:u,previousImpact:i,viewport:o,afterCritical:c});if(!f)return null;var p=Mu({impact:f,draggable:n,droppable:r,draggables:a,afterCritical:c});if(Fu({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Bu({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null};var h=Uc(p,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,o=Ru(n,zc(n.scroll.current,i)),s=r.frame?Xc(r,zc(r.frame.scroll.current,i)):r,l=t.displaced,c=Nu({afterDragging:Lu(l.all,a),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),u=Nu({afterDragging:Lu(l.all,a),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},p=[l,c,u];return l.all.forEach(function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?f[e]=t:d[e]=!0}),cl({},t,{displaced:{all:l.all,invisible:d,visible:f}})}({impact:f,viewport:o,destination:r,draggables:a,maxScrollChange:h});return{clientSelection:l,impact:m,scrollJumpRequest:h}},Uu=function(e){var t=e.subject.active;return t||Dc(!1),t},Wu=function(e,t){var n=e.page.borderBox.center;return Cu(e.descriptor.id,t)?Uc(n,t.displacedBy.point):n},Hu=function(e,t){var n=e.page.borderBox;return Cu(e.descriptor.id,t)?Kc(n,Hc(t.displacedBy.point)):n},qu=kc(function(e,t){var n=t[e.line];return{value:n,point:qc(e.line,n)}}),Vu=function(e,t){return cl({},e,{scroll:cl({},e.scroll,{max:t})})},Gu=function(e,t,n){var r=e.frame;du(t,e)&&Dc(!1),e.subject.withPlaceholder&&Dc(!1);var a=qu(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return qc(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],i=su(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-a;return i<=0?null:qc(r.line,i)}(e,a,n),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return cl({},e,{subject:Qc({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame})});var s=i?zc(r.scroll.max,i):r.scroll.max,l=Vu(r,s);return cl({},e,{subject:Qc({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l}),frame:l})},$u=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,o=r.subject.active;if(!o)return null;var s=r.axis,l=mu(o[s.start],o[s.end]),c=iu(a).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return gu(i.frame)(Uu(e))}).filter(function(e){var n=Uu(e);return t?o[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(e){var t=Uu(e),n=mu(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(o[s.start])||n(o[s.end])}).sort(function(e,n){var r=Uu(e)[s.crossAxisStart],a=Uu(n)[s.crossAxisStart];return t?r-a:a-r}).filter(function(e,t,n){return Uu(e)[s.crossAxisStart]===Uu(n[0])[s.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter(function(e){return mu(Uu(e)[s.start],Uu(e)[s.end])(n[s.line])});return 1===u.length?u[0]:u.length>1?u.sort(function(e,t){return Uu(e)[s.start]-Uu(t)[s.start]})[0]:c.sort(function(e,t){var r=Gc(n,Yc(Uu(e))),a=Gc(n,Yc(Uu(t)));return r!==a?r-a:Uu(e)[s.start]-Uu(t)[s.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:o,viewport:s});if(!c)return null;var u=su(c.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(e){return ku({target:Hu(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var a=Vc(t,Iu(r,Wu(e,i))),o=Vc(t,Iu(r,Wu(n,i)));return a<o?-1:o<a?1:e.descriptor.index-n.descriptor.index});return o[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),f=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:pu,displacedBy:fu,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=Mu({impact:c,draggable:a,droppable:o,draggables:i,afterCritical:l}),d=du(a,o)?o:Gu(o,a,i);return Fu({draggable:a,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var f=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),p=function(){var e=n.descriptor.index;return n.descriptor.id===a.descriptor.id||f?e:e+1}(),h=qu(o.axis,a.displaceBy);return Su({draggable:a,insideDestination:r,destination:o,viewport:s,displacedBy:h,last:pu,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!f)return null;var p=Mu({impact:f,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Bu({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:f,scrollJumpRequest:null}},Ku=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Yu=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Ku(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,s=o.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!a)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,p=f.draggables,h=f.droppables;return l?zu({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:o,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):$u({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:o,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Ju(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Qu(e){var t=mu(e.top,e.bottom),n=mu(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Xu(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=iu(r).filter(function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Qu(a)(t.center))return!0;var i=e.axis,o=a.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=mu(a[i.crossAxisStart],a[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<o:l>o)});return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,i=r.map(function(e){var n=e.axis,r=qc(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Vc(a,r)}}).sort(function(e,t){return t.distance-e.distance});return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}var Zu=function(e,t){return cc(Kc(e,t))};function ed(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var td=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.afterCritical,l=Zu(n.page.borderBox,t),c=Xu({pageBorderBox:l,draggable:n,droppables:a});if(!c)return hu;var u=a[c],d=su(u.descriptor.id,r),f=function(e,t){var n=e.frame;return n?Zu(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=qu(a.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],f=tu(uu(t,i),function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[s.size]/4,i=Cu(t,o),l=ed({displaced:r.displaced,id:t});return i?l?d>n[s.start]+a&&d<n[s.end]-a:u>n[s.start]-c+a&&u<n[s.end]-c-a:l?d>n[s.start]+c+a&&d<n[s.end]+c-a:u>n[s.start]+a&&u<n[s.end]-a});return f?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,s=e.afterCritical,l=r.axis,c=qu(r.axis,n.displaceBy),u=c.value,d=t[l.start],f=t[l.end],p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:tu(uu(n,a),function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Cu(t,s),a=ed({displaced:i,id:t});return r?a?f<=n:d<n-u:a?f<=n+u:d<n}),inHomeList:du(n,r)});return Su({draggable:n,insideDestination:a,destination:r,viewport:o,last:i,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:o,afterCritical:s})},nd=function(e,t){var n;return cl({},e,((n={})[t.descriptor.id]=t,n))},rd=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=Ku(t),i=Ku(n);if(!a)return r;if(a===i)return r;var o=r[a];if(!o.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||Dc(!1);var n=e.frame;if(!n)return cl({},e,{subject:Qc({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Dc(!1);var a=Vu(n,r);return cl({},e,{subject:Qc({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})}(o);return nd(r,s)},ad=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,s=a||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Uc(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:zc(t.initial.client.borderBoxCenter,u)},f={selection:zc(d.selection,s.scroll.current),borderBoxCenter:zc(d.borderBoxCenter,s.scroll.current),offset:zc(d.offset,s.scroll.diff.value)},p={client:d,page:f};if("COLLECTING"===t.phase)return cl({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:p});var h=l.draggables[t.critical.draggable.id],m=i||td({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,o=rd({previousImpact:a,impact:i,droppables:r}),s=Ku(i);if(!s)return o;var l=r[s];if(du(t,l))return o;if(l.subject.withPlaceholder)return o;var c=Gu(l,t,n);return nd(o,c)}({draggable:h,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return cl({},t,{current:p,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var id=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,s=function(e,t){return e.map(function(e){return t[e]})}(o.all,r);return cl({},t,{displaced:Nu({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o})})},od=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,s=Mu({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o});return Bu({pageBorderBoxCenter:s,draggable:n,viewport:i})},sd=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Dc(!1);var a=t.impact,i=r||t.viewport,o=n||t.dimensions,s=o.draggables,l=o.droppables,c=s[t.critical.draggable.id],u=Ku(a);u||Dc(!1);var d=l[u],f=id({impact:a,viewport:i,destination:d,draggables:s}),p=od({impact:f,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return ad({impact:f,clientSelection:p,state:t,dimensions:o,viewport:i})},ld=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=qu(n.axis,t.displaceBy),o=su(n.descriptor.id,r),s=o.indexOf(t);-1===s&&Dc(!1);var l,c=o.slice(s+1),u=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:Nu({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},cd=function(e){0},ud=function(e){0},dd=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||Dc(!1),t}(n[t]),o=i.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=mc(t.client,n),i=gc(a,r);return cl({},t,{placeholder:cl({},t.placeholder,{client:a}),client:a,page:i})}({draggable:e,offset:zc(a,o),initialWindowScroll:r.scroll.initial});return s})},fd=function(e){return"SNAP"===e.movementMode},pd=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:nd(e.droppables,t)}}(e.dimensions,t);return!fd(e)||n?ad({state:e,dimensions:r}):sd({state:e,dimensions:r})};function hd(e){return e.isDragging&&"SNAP"===e.movementMode?cl({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var md={phase:"IDLE",completed:null,shouldFlush:!1},gd=function(e,t){if(void 0===e&&(e=md),"FLUSH"===t.type)return cl({},md,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Dc(!1);var n=t.payload,r=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,s=n.movementMode,l=o.draggables[r.draggable.id],c=o.droppables[r.droppable.id],u={selection:a,borderBoxCenter:l.client.borderBox.center,offset:Fc},d={client:u,page:{selection:zc(u.selection,i.scroll.initial),borderBoxCenter:zc(u.selection,i.scroll.initial),offset:zc(u.selection,i.scroll.diff.value)}},f=iu(o.droppables).every(function(e){return!e.isFixedOnPage}),p=ld({draggable:l,home:c,draggables:o.draggables,viewport:i}),h=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:h,afterCritical:p.afterCritical,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Dc(!1),cl({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Dc(!1),function(e){var t=e.state,n=e.published;cd();var r=n.modified.map(function(e){var n=t.dimensions.droppables[e.droppableId];return Xc(n,e.scroll)}),a=cl({},t.dimensions.droppables,{},ru(r)),i=au(dd({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),o=cl({},t.dimensions.draggables,{},i);n.removals.forEach(function(e){delete o[e]});var s={droppables:a,draggables:o},l=Ku(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],f=ld({draggable:u,home:d,draggables:o,viewport:t.viewport}),p=f.impact,h=f.afterCritical,m=c&&c.isCombineEnabled?t.impact:p,g=td({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h});ud();var b=cl({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:p,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?b:cl({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Ju(e)||Dc(!1);var m=t.payload.client;return Wc(m,e.current.client.selection)?e:ad({state:e,clientSelection:m,impact:fd(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return hd(e);if("COLLECTING"===e.phase)return hd(e);Ju(e)||Dc(!1);var g=t.payload,b=g.id,v=g.newScroll,x=e.dimensions.droppables[b];if(!x)return e;var y=Xc(x,v);return pd(e,y,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ju(e)||Dc(!1);var w=t.payload,k=w.id,N=w.isEnabled,j=e.dimensions.droppables[k];j||Dc(!1),j.isEnabled===N&&Dc(!1);var S=cl({},j,{isEnabled:N});return pd(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ju(e)||Dc(!1);var C=t.payload,E=C.id,_=C.isCombineEnabled,D=e.dimensions.droppables[E];D||Dc(!1),D.isCombineEnabled===_&&Dc(!1);var T=cl({},D,{isCombineEnabled:_});return pd(e,T,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Ju(e)||Dc(!1),e.isWindowScrollAllowed||Dc(!1);var A=t.payload.newScroll;if(Wc(e.viewport.scroll.current,A))return hd(e);var P=Ru(e.viewport,A);return fd(e)?sd({state:e,viewport:P}):ad({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Ju(e))return e;var O=t.payload.maxScroll;if(Wc(O,e.viewport.scroll.max))return e;var I=cl({},e.viewport,{scroll:cl({},e.viewport.scroll,{max:O})});return cl({phase:"DRAGGING"},e,{viewport:I})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Dc(!1);var M=Yu({state:e,type:t.type});return M?ad({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var R=t.payload.reason;return"COLLECTING"!==e.phase&&Dc(!1),cl({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:R})}if("DROP_ANIMATE"===t.type){var L=t.payload,B=L.completed,F=L.dropDuration,z=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Dc(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:F,newHomeClientOffset:z,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},bd=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},vd=function(){return{type:"COLLECTION_STARTING",payload:null}},xd=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},yd=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},wd=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},kd=function(e){return{type:"MOVE",payload:e}},Nd=function(){return{type:"MOVE_UP",payload:null}},jd=function(){return{type:"MOVE_DOWN",payload:null}},Sd=function(){return{type:"MOVE_RIGHT",payload:null}},Cd=function(){return{type:"MOVE_LEFT",payload:null}},Ed=function(e){return{type:"DROP_COMPLETE",payload:e}},_d=function(e){return{type:"DROP",payload:e}},Dd=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Td="cubic-bezier(.2,1,.1,1)",Ad={drop:0,combining:.7},Pd={drop:.75},Od=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Id={fluid:"opacity "+Od,snap:"transform "+Od+", opacity "+Od,drop:function(e){var t=e+"s "+Td;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Od,placeholder:"height "+Od+", width "+Od+", margin "+Od},Md=function(e){return Wc(e,Fc)?null:"translate("+e.x+"px, "+e.y+"px)"},Rd=Md,Ld=function(e,t){var n=Md(e);return n?t?n+" scale("+Pd.drop+")":n:null},Bd=.33,Fd=.55,zd=Fd-Bd,Ud=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),i=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Dc(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Dc(!1);var o=a.critical,s=a.dimensions,l=s.draggables[a.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:cl({},r,{displaced:pu}),didDropInsideDroppable:!0}:{impact:id({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,f=d?lu(u):null,p=d?cu(u):null,h={index:o.draggable.index,droppableId:o.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:i,mode:a.movementMode,destination:f,combine:p},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,o=r.draggables,s=r.droppables,l=Ku(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=od({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:c||u,viewport:a});return Uc(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:m,impact:u};if(!Wc(a.current.client.offset,g)||Boolean(m.combine)){var v=function(e){var t=e.current,n=e.destination,r=e.reason,a=Vc(t,n);if(a<=0)return Bd;if(a>=1500)return Fd;var i=Bd+zd*(a/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:a.current.client.offset,destination:g,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:v,completed:b}))}else n(Ed({completed:b}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Wd=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Hd(e){var t=e.onWindowScroll;var n=Nc(function(){t(Wd())}),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),a=Sc;function i(){return a!==Sc}return{start:function(){i()&&Dc(!1),a=Cc(window,[r])},stop:function(){i()||Dc(!1),n.cancel(),a(),a=Sc},isActive:i}}var qd=function(e){var t=Hd({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Vd=function(){var e=[];return{add:function(t){var n=setTimeout(function(){return function(t){var n=eu(e,function(e){return e.timerId===t});-1===n&&Dc(!1),e.splice(n,1)[0].callback()}(n)}),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},Gd=function(e,t){cd(),t(),ud()},$d=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Kd=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},Yd=function(e,t){var n=function(e,t){var n=Vd(),r=null,a=function(n){r||Dc(!1),r=null,Gd(0,function(){return Kd(e().onDragEnd,n,t,Bc)})};return{beforeCapture:function(t,n){r&&Dc(!1),Gd(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:function(t,n){r&&Dc(!1),Gd(0,function(){var r=e().onBeforeDragStart;r&&r($d(t,n))})},start:function(a,i){r&&Dc(!1);var o=$d(a,i);r={mode:i,lastCritical:a,lastLocation:o.source,lastCombine:null},n.add(function(){Gd(0,function(){return Kd(e().onDragStart,o,t,Rc)})})},update:function(a,i){var o=lu(i),s=cu(i);r||Dc(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);l&&(r.lastCritical=a);var c,u,d=(u=o,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=o);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(f&&(r.lastCombine=s),l||d||f){var p=cl({},$d(a,r.mode),{combine:s,destination:o});n.add(function(){Gd(0,function(){return Kd(e().onDragUpdate,p,t,Lc)})})}},flush:function(){r||Dc(!1),n.flush()},drop:a,abort:function(){if(r){var e=cl({},$d(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Jd=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Dc(!1),e.dispatch(Ed({completed:r.completed}))}else t(n)}}},Qd=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(function(){n=null,t=Cc(window,[i])})}}}},Xd=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(_d({reason:r.reason})))}}}},Zd=vl,ef=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,i=e.getResponders,o=e.announce,s=e.autoScroller;return ml(gd,Zd(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ul(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(a)});return r=vl.apply(void 0,i)(n.dispatch),Fe(Fe({},n),{},{dispatch:r})}}}((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var i=a.payload,o=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(Ed({completed:c.completed})),"IDLE"!==n().phase&&Dc(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:l}});var u={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),f=d.critical,p=d.dimensions,h=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:f,dimensions:p,clientSelection:s,movementMode:l,viewport:h}})}else t(a)}}}}(n),Ud,Jd,Qd,Xd,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&Dc(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(s),qd,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Yd(i,o))))};var tf=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=Uc({x:n,y:t},{x:a,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},nf=function(){var e=document.documentElement;return e||Dc(!1),e},rf=function(){var e=nf();return tf({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},af=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;cd();var a=function(){var e=Wd(),t=rf(),n=e.y,r=e.x,a=nf(),i=a.clientWidth,o=a.clientHeight;return{frame:cc({top:n,left:r,right:r+i,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:Fc,displacement:Fc}}}}(),i=a.scroll.current,o=t.droppable,s=r.droppable.getAllByType(o.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(e){return e.getDimension(i)}),c={draggables:au(l),droppables:ru(s)};return ud(),{dimensions:c,critical:t,viewport:a}};function of(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var sf=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null,cd();var e=r,i=e.additions,o=e.removals,s=e.modified,l=Object.keys(i).map(function(e){return t.draggable.getById(e).getDimension(Fc)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(s).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),u={additions:l,removals:Object.keys(o),modified:c};r={additions:{},removals:{},modified:{}},ud(),n.publish(u)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||Dc(!1);var a=n.critical.draggable;"ADDITION"===t.type&&of(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&of(e,a,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||Dc(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||Dc(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||Dc(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&Dc(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(a);return n={critical:o,unsubscribe:s},af({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),n.unsubscribe(),n=null}}};return i},lf=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},cf=function(e){window.scrollBy(e.x,e.y)},uf=kc(function(e){return iu(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),df=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var i=function(e,t){var n=tu(uf(t),function(t){return t.frame||Dc(!1),Qu(t.frame.pageMarginBox)(e)});return n}(t,r);return i},ff=.25,pf=.05,hf=28,mf=function(e){return Math.pow(e,2)},gf={stopDampeningAt:1200,accelerateAt:360},bf=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},vf=gf.accelerateAt,xf=gf.stopDampeningAt,yf=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return hf;if(e===t.startScrollingFrom)return 1;var n=bf({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=hf*mf(1-n);return Math.ceil(r)}(t,n);return 0===i?0:a?Math.max(function(e,t){var n=t,r=xf,a=Date.now()-n;if(a>=xf)return e;if(a<vf)return 1;var i=bf({startOfRange:vf,endOfRange:r,current:a}),o=e*mf(i);return Math.ceil(o)}(i,r),1):i},wf=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*ff,maxScrollValueAt:e[t.size]*pf}}(t,a);return n[a.end]<n[a.start]?yf({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i}):-1*yf({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i})},kf=$c(function(e){return 0===e?0:e}),Nf=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=wf({container:n,distanceToEdges:o,dragStartTime:t,axis:vu,shouldUseTimeDampening:i}),l=wf({container:n,distanceToEdges:o,dragStartTime:t,axis:xu,shouldUseTimeDampening:i}),c=kf({x:l,y:s});if(Wc(c,Fc))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return i||a?i&&a?null:{x:i?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Wc(u,Fc)?null:u:null},jf=$c(function(e){return 0===e?0:e>0?1:-1}),Sf=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,a=t.change,i=zc(n,a),o={x:e(i.x,r.x),y:e(i.y,r.y)};return Wc(o,Fc)?null:o}}(),Cf=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=jf(r),o=Sf({max:a,current:n,change:i});return!o||(0!==i.x&&0===o.x||0!==i.y&&0===o.y)},Ef=function(e,t){return Cf({current:e.scroll.current,max:e.scroll.max,change:t})},_f=function(e,t){var n=e.frame;return!!n&&Cf({current:n.scroll.current,max:n.scroll.max,change:t})},Df=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=Nf({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&Ef(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:o,shouldUseTimeDampening:r});if(l)return void a(l)}var c=df({center:o,destination:Ku(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=Nf({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&_f(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:o,shouldUseTimeDampening:r});u&&i(c.descriptor.id,u)}},Tf=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!_f(e,t))return t;var r=function(e,t){var n=e.frame;return n&&_f(e,t)?Sf({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=Uc(t,r);return n(e.descriptor.id,a),Uc(t,a)},i=function(e,t,n){if(!e)return n;if(!Ef(t,n))return n;var a=function(e,t){if(!Ef(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Sf({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var i=Uc(n,a);return r(i),Uc(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Ku(e.impact);r||Dc(!1);var o=a(e.dimensions.droppables[r],n);if(o){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,o);l&&function(e,n){var r=zc(e.current.client.selection,n);t({client:r})}(e,l)}}}},Af=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Nc(t),a=Nc(n),i=null,o=function(e){i||Dc(!1);var t=i,n=t.shouldUseTimeDampening,o=t.dragStartTime;Df({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:o,shouldUseTimeDampening:n})};return{start:function(e){cd(),i&&Dc(!1);var t=Date.now(),n=!1,r=function(){n=!0};Df({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},ud(),n&&o(e)},stop:function(){i&&(r.cancel(),a.cancel(),i=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),i=Tf({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):a.scroll(e))},start:a.start,stop:a.stop}},Pf="data-rbd",Of=function(){var e=Pf+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),If=function(){var e=Pf+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Mf=function(){var e=Pf+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Rf={contextId:Pf+"-scroll-container-context-id"},Lf=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},Bf="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect,Ff=function(){var e=document.querySelector("head");return e||Dc(!1),e},zf=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Uf(e,t){var n=oc(function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Of.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),a=[function(){var e="\n      transition: "+Id.outOfTheWay+";\n    ";return{selector:n(If.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(Mf.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Lf(a,"always"),resting:Lf(a,"resting"),dragging:Lf(a,"dragging"),dropAnimating:Lf(a,"dropAnimating"),userCancel:Lf(a,"userCancel")}}(e)},[e]),r=(0,o.useRef)(null),a=(0,o.useRef)(null),i=sc(kc(function(e){var t=a.current;t||Dc(!1),t.textContent=e}),[]),s=sc(function(e){var t=r.current;t||Dc(!1),t.textContent=e},[]);Bf(function(){(r.current||a.current)&&Dc(!1);var o=zf(t),l=zf(t);return r.current=o,a.current=l,o.setAttribute(Pf+"-always",e),l.setAttribute(Pf+"-dynamic",e),Ff().appendChild(o),Ff().appendChild(l),s(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||Dc(!1),Ff().removeChild(t),e.current=null};e(r),e(a)}},[t,s,i,n.always,n.resting,e]);var l=sc(function(){return i(n.dragging)},[i,n.dragging]),c=sc(function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)},[i,n.dropAnimating,n.userCancel]),u=sc(function(){a.current&&i(n.resting)},[i,n.resting]);return oc(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u])}var Wf=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Hf(e){return e instanceof Wf(e).HTMLElement}function qf(e,t){var n="["+Of.contextId+'="'+e+'"]',r=nu(document.querySelectorAll(n));if(!r.length)return null;var a=tu(r,function(e){return e.getAttribute(Of.draggableId)===t});return a&&Hf(a)?a:null}function Vf(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,i=r(a);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Dc(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Zc(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||Dc(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return Zc(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Gf=o.createContext(null),$f=function(){var e=document.body;return e||Dc(!1),e},Kf={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Yf=0,Jf={separator:"::"};function Qf(e,t){return void 0===t&&(t=Jf),oc(function(){return""+e+t.separator+Yf++},[t.separator,e])}var Xf=o.createContext(null);function Zf(e){0}function ep(e,t){Zf()}function tp(){ep()}function np(e){var t=(0,o.useRef)(e);return(0,o.useEffect)(function(){t.current=e}),t}var rp,ap=((rp={})[13]=!0,rp[9]=!0,rp),ip=function(e){ap[e.keyCode]&&e.preventDefault()},op=function(){var e="visibilitychange";return"undefined"===typeof document?e:tu([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}();var sp,lp={type:"IDLE"};function cp(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var o={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(o);"PENDING"!==s.type&&Dc(!1);var l=s.point;if(c=l,u=o,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(o);a({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void ip(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Dc(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:op,fn:t}]}function up(){}var dp=((sp={})[34]=!0,sp[33]=!0,sp[36]=!0,sp[35]=!0,sp);function fp(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(dp[r.keyCode]?r.preventDefault():ip(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:op,fn:n}]}var pp={type:"IDLE"};var hp={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function mp(e,t){if(null==t)return!1;if(Boolean(hp[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&mp(e,t.parentElement)}function gp(e,t){var n=t.target;return!!Hf(n)&&mp(e,n)}var bp=function(e){return cc(e.getBoundingClientRect()).center};var vp=function(){var e="matches";return"undefined"===typeof document?e:tu([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function xp(e,t){return null==e?null:e[vp](t)?e:xp(e.parentElement,t)}function yp(e,t){return e.closest?e.closest(t):xp(e,t)}function wp(e,t){var n,r=t.target;if(!((n=r)instanceof Wf(n).Element))return null;var a=function(e){return"["+Of.contextId+'="'+e+'"]'}(e),i=yp(r,a);return i&&Hf(i)?i:null}function kp(e){e.preventDefault()}function Np(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function jp(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!!i&&(!!i.options.isEnabled&&!!lf(n.getState(),a))}function Sp(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent;if(!jp({lockAPI:t,store:r,registry:a,draggableId:i}))return null;var l=a.draggable.getById(i),c=function(e,t){var n="["+If.contextId+'="'+e+'"]',r=tu(nu(document.querySelectorAll(n)),function(e){return e.getAttribute(If.id)===t});return r&&Hf(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&gp(c,s))return null;var u=t.claim(o||Sc),d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function p(){return t.isActive(u)}var h=function(e,t){Np({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var i=Cc(window,[{eventName:"click",fn:kp,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(_d({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Dc(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",cl({isActive:function(){return Np({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}var g={isActive:function(){return Np({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=Nc(function(e){h(function(){return kd({client:e})})});return cl({},m({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h(Nd)},moveRight:function(){return h(Sd)},moveDown:function(){return h(jd)},moveLeft:function(){return h(Cd)}};return m({liftActionArgs:{id:i,clientSelection:bp(c),movementMode:"SNAP"},cleanup:Sc,actions:e})},abort:function(){Np({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&t.release()}};return g}var Cp=[function(e){var t=(0,o.useRef)(lp),n=(0,o.useRef)(Sc),r=oc(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,s,{sourceEvent:t});if(a){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),u(a,i)}}}}}},[e]),a=oc(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}},[e]),i=sc(function(){n.current=Cc(window,[a,r],{passive:!1,capture:!0})},[a,r]),s=sc(function(){"IDLE"!==t.current.type&&(t.current=lp,n.current(),i())},[i]),l=sc(function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),c=sc(function(){var e=cp({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Cc(window,e,{capture:!0,passive:!1})},[l,s]),u=sc(function(e,n){"IDLE"!==t.current.type&&Dc(!1),t.current={type:"PENDING",point:n,actions:e},c()},[c]);Bf(function(){return i(),function(){n.current()}},[i])},function(e){var t=(0,o.useRef)(up),n=oc(function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var a=e.findClosestDraggableId(n);if(a){var i=e.tryGetLock(a,l,{sourceEvent:n});if(i){n.preventDefault();var o=!0,s=i.snapLift();t.current(),t.current=Cc(window,fp(s,l),{capture:!0,passive:!1})}}}function l(){o||Dc(!1),o=!1,t.current(),r()}}}},[e]),r=sc(function(){t.current=Cc(window,[n],{passive:!1,capture:!0})},[n]);Bf(function(){return r(),function(){t.current()}},[r])},function(e){var t=(0,o.useRef)(pp),n=(0,o.useRef)(Sc),r=sc(function(){return t.current},[]),a=sc(function(e){t.current=e},[]),i=oc(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,l,{sourceEvent:t});if(a){var i=t.touches[0],o={x:i.clientX,y:i.clientY};n.current(),f(a,o)}}}}}},[e]),s=sc(function(){n.current=Cc(window,[i],{capture:!0,passive:!1})},[i]),l=sc(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(pp),n.current(),s())},[s,a]),c=sc(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),u=sc(function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},a=Cc(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],i={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Dc(!1);var a=e.touches[0];if(a&&a.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:op,fn:t}]}(t),e),i=Cc(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:op,fn:t}]}(t),e);n.current=function(){a(),i()}},[c,r,l]),d=sc(function(){var e=r();"PENDING"!==e.type&&Dc(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})},[r,a]),f=sc(function(e,t){"IDLE"!==r().type&&Dc(!1);var n=setTimeout(d,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()},[u,r,a,d]);Bf(function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(pp))}},[r,s,a]),Bf(function(){return Cc(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function Ep(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?Cp:[],a||[]),l=(0,o.useState)(function(){return function(){var e=null;function t(){e||Dc(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Dc(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],c=sc(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);Bf(function(){var e=n.getState();return n.subscribe(function(){var t=n.getState();c(e,t),e=t})},[l,n,c]),Bf(function(){return l.tryAbandon},[l.tryAbandon]);var u=sc(function(e){return jp({lockAPI:l,registry:r,store:n,draggableId:e})},[l,r,n]),d=sc(function(e,a,i){return Sp({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})},[t,l,r,n]),f=sc(function(e){return function(e,t){var n=wp(e,t);return n?n.getAttribute(Of.draggableId):null}(t,e)},[t]),p=sc(function(e){var t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),h=sc(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),m=sc(l.isClaimed,[l]),g=oc(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:m}},[u,d,f,p,h,m]);Zf();for(var b=0;b<s.length;b++)s[b](g)}function _p(e){return e.current||Dc(!1),e.current}function Dp(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,s=(0,o.useRef)(null);tp();var l=np(e),c=sc(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)},[l]),u=function(e){var t=oc(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),n=(0,o.useRef)(null);return(0,o.useEffect)(function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),cl(e.style,Kf),$f().appendChild(e),function(){setTimeout(function(){var t=$f();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),sc(function(e){var t=n.current;t&&(t.textContent=e)},[])}(t),d=function(e){var t=e.contextId,n=e.text,r=Qf("hidden-text",{separator:"-"}),a=oc(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e},[r,t]);return(0,o.useEffect)(function(){var e=document.createElement("div");return e.id=a,e.textContent=n,e.style.display="none",$f().appendChild(e),function(){var t=$f();t.contains(e)&&t.removeChild(e)}},[a,n]),a}({contextId:t,text:i}),f=Uf(t,a),p=sc(function(e){_p(s).dispatch(e)},[]),h=oc(function(){return bl({publishWhileDragging:bd,updateDroppableScroll:xd,updateDroppableIsEnabled:yd,updateDroppableIsCombineEnabled:wd,collectionStarting:vd},p)},[p]),m=function(){var e=oc(Vf,[]);return(0,o.useEffect)(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),g=oc(function(){return sf(m,h)},[m,h]),b=oc(function(){return Af(cl({scrollWindow:cf,scrollDroppable:g.scrollDroppable},bl({move:kd},p)))},[g.scrollDroppable,p]),v=function(e){var t=(0,o.useRef)({}),n=(0,o.useRef)(null),r=(0,o.useRef)(null),a=(0,o.useRef)(!1),i=sc(function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}},[]),s=sc(function(t){var n=qf(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=sc(function(e,t){n.current===e&&(n.current=t)},[]),c=sc(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var e=n.current;e&&s(e)}))},[s]),u=sc(function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Of.draggableId)===e&&(n.current=e)},[]);return Bf(function(){return a.current=!0,function(){a.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}},[]),oc(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l])}(t),x=oc(function(){return ef({announce:u,autoScroller:b,dimensionMarshal:g,focusMarshal:v,getResponders:c,styleMarshal:f})},[u,b,g,v,c,f]);s.current=x;var y=sc(function(){var e=_p(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),w=sc(function(){var e=_p(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);n(oc(function(){return{isDragging:w,tryAbort:y}},[w,y]));var k=sc(function(e){return lf(_p(s).getState(),e)},[]),N=sc(function(){return Ju(_p(s).getState())},[]),j=oc(function(){return{marshal:g,focus:v,contextId:t,canLift:k,isMovementAllowed:N,dragHandleUsageInstructionsId:d,registry:m}},[t,g,d,v,k,N,m]);return Ep({contextId:t,store:x,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,o.useEffect)(function(){return y},[y]),o.createElement(Xf.Provider,{value:j},o.createElement(Sl,{context:Gf,store:x},e.children))}var Tp=0;function Ap(e){var t=oc(function(){return""+Tp++},[]),n=e.dragHandleUsageInstructions||Mc;return o.createElement(Tc,null,function(r){return o.createElement(Dp,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Pp=function(e){return function(t){return e===t}},Op=Pp("scroll"),Ip=Pp("auto"),Mp=(Pp("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Rp=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Mp(n,Op)||Mp(n,Ip)}(t)?t:e(t.parentElement)},Lp=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Bp=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Fp=function(e){return{closestScrollable:Rp(e),isFixedOnPage:Bp(e)}},zp=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=vc(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,o=a+t.scrollWidth,s=uc({top:r,right:o,bottom:i,left:a},n.border);return pc({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=gc(u,a),f=function(){if(!c)return null;var e=vc(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:gc(e,a),scroll:Lp(c),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=tf({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Fc,displacement:Fc}}}}(),u="vertical"===i?vu:xu;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:u,isEnabled:n,client:o,page:s,frame:c,subject:Qc({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:f});return p},Up={passive:!1},Wp={passive:!0},Hp=function(e){return e.shouldPublishImmediately?Up:Wp};function qp(e){var t=(0,o.useContext)(e);return t||Dc(!1),t}var Vp=function(e){return e&&e.env.closestScrollable||null};function Gp(){}var $p={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Kp=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?$p:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Id.placeholder:null}};var Yp=o.memo(function(e){var t=(0,o.useRef)(null),n=sc(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,s=e.contextId,l=(0,o.useState)("open"===e.animate),c=l[0],u=l[1];(0,o.useEffect)(function(){return c?"open"!==r?(n(),u(!1),Gp):t.current?Gp:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):Gp},[r,c,n]);var d=sc(function(e){"height"===e.propertyName&&(a(),"close"===r&&i())},[r,i,a]),f=Kp({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return o.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}),Jp=o.createContext(null);var Qp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ll(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(o.PureComponent),Xp=5e3,Zp=4500,eh=function(e,t){return t?Id.drop(t.duration):e?Id.snap:Id.fluid},th=function(e,t){return e?t?Ad.drop:Ad.combining:null};function nh(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,a=e.dropping,i=Boolean(r),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(a),l=s?Ld(n,i):Rd(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:eh(o,a),transform:l,opacity:th(i,s),zIndex:s?Zp:Xp,pointerEvents:"none"}}(e):{transform:Rd((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function rh(e){var t=Qf("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=oc(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}},[i,l,s]),u=sc(function(e){var t=a();return t||Dc(!1),function(e,t,n){void 0===n&&(n=Fc);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=bc(a,r),o=gc(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:o}}(n,t,e)},[n,a]),d=oc(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}},[n,u,c,t]),f=(0,o.useRef)(d),p=(0,o.useRef)(!0);Bf(function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}},[r.draggable]),Bf(function(){if(p.current)p.current=!1;else{var e=f.current;f.current=d,r.draggable.update(d,e)}},[d,r.draggable])}function ah(e,t,n){ep()}function ih(e){e.preventDefault()}var oh=function(e,t){return e===t},sh=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function lh(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ch={mapped:{type:"SECONDARY",offset:Fc,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lh(null)}};var uh=rc(function(){var e=function(){var e=kc(function(e,t){return{x:e,y:t}}),t=kc(function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=kc(function(e,n,r,a,i,o,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,a,i,o,null)}}});return function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var i=r.current.client.offset,o=r.dimensions.draggables[a.draggableId],s=Ku(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,o,a.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==a.draggableId)return null;var f=a.isClone,p=r.dimensions.draggables[a.draggableId],h=d.result,m=h.mode,g=sh(h),b=function(e){return e.combine?e.combine.draggableId:null}(h),v={duration:r.dropDuration,curve:Td,moveTo:r.newHomeClientOffset,opacity:b?Ad.drop:null,scale:b?Pd.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:v,draggingOver:g,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,f,g,b,v)}}}return null}}(),t=function(){var e=kc(function(e,t){return{x:e,y:t}}),t=kc(lh),n=kc(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),r=function(e){return e?n(Fc,e,!0):null},a=function(t,a,i,o){var s=i.displaced.visible[t],l=Boolean(o.inVirtualList&&o.effected[t]),c=cu(i),u=c&&c.draggableId===t?a:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;var d=Hc(o.displacedBy.point),f=e(d.x,d.y);return n(f,u,!0)}if(l)return r(u);var p=i.displacedBy.point,h=e(p.x,p.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||ch}},{dropAnimationFinished:Dd},null,{context:Gf,pure:!0,areStatePropsEqual:oh})(function(e){var t=(0,o.useRef)(null),n=sc(function(e){t.current=e},[]),r=sc(function(){return t.current},[]),a=qp(Xf),i=a.contextId,s=a.dragHandleUsageInstructionsId,l=a.registry,c=qp(Jp),u=c.type,d=c.droppableId,f=oc(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),p=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,b=e.canDragInteractiveElements,v=e.isClone,x=e.mapped,y=e.dropAnimationFinished;ah(),Zf(),v||rh(oc(function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:m}},[f,l,r,b,g,m]));var w=oc(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:ih}:null},[i,s,h,m]),k=sc(function(e){"DRAGGING"===x.type&&x.dropping&&"transform"===e.propertyName&&y()},[y,x]),N=oc(function(){var e=nh(x),t="DRAGGING"===x.type&&x.dropping?k:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:w}},[i,w,h,x,k,n]),j=oc(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return p(N,x.snapshot,j)});function dh(e){return qp(Jp).isUsingCloneFor!==e.draggableId||e.isClone?o.createElement(uh,e):null}function fh(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return o.createElement(dh,cl({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var ph=function(e,t){return e===t.droppable.type},hh=function(e,t){return t.draggables[e.draggable.id]};var mh={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Dc(!1),document.body}},gh=rc(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=cl({},e,{shouldAnimatePlaceholder:!1}),n=kc(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=kc(function(r,a,i,o,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!a)return t;if(!o)return e;var f={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return function(n,a){var i=a.droppableId,o=a.type,s=!a.isDropDisabled,l=a.renderClone;if(n.isDragging){var c=n.critical;if(!ph(o,c))return t;var u=hh(c,n.dimensions),d=Ku(n.impact)===i;return r(i,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var f=n.completed;if(!ph(o,f.critical))return t;var p=hh(f.critical,n.dimensions);return r(i,s,sh(f.result)===i,Ku(f.impact)===i,p,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!ph(o,h.critical))return t;var m=Ku(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),b=h.critical.droppable.id===i;return m?g?e:t:b?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Gf,pure:!0,areStatePropsEqual:oh})(function(e){var t=(0,o.useContext)(Xf);t||Dc(!1);var n=t.contextId,r=t.isMovementAllowed,a=(0,o.useRef)(null),i=(0,o.useRef)(null),s=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,h=e.isCombineEnabled,m=e.snapshot,g=e.useClone,b=e.updateViewportMaxScroll,v=e.getContainerForClone,x=sc(function(){return a.current},[]),y=sc(function(e){a.current=e},[]),w=(sc(function(){return i.current},[]),sc(function(e){i.current=e},[]));ep();var k=sc(function(){r()&&b({maxScroll:rf()})},[r,b]);!function(e){var t=(0,o.useRef)(null),n=qp(Xf),r=Qf("droppable"),a=n.registry,i=n.marshal,s=np(e),l=oc(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=(0,o.useRef)(l),u=oc(function(){return kc(function(e,n){t.current||Dc(!1);var r={x:e,y:n};i.updateDroppableScroll(l.id,r)})},[l.id,i]),d=sc(function(){var e=t.current;return e&&e.env.closestScrollable?Lp(e.env.closestScrollable):Fc},[]),f=sc(function(){var e=d();u(e.x,e.y)},[d,u]),p=oc(function(){return Nc(f)},[f]),h=sc(function(){var e=t.current,n=Vp(e);e&&n||Dc(!1),e.scrollOptions.shouldPublishImmediately?f():p()},[p,f]),m=sc(function(e,r){t.current&&Dc(!1);var a=s.current,i=a.getDroppableRef();i||Dc(!1);var o=Fp(i),c={ref:i,descriptor:l,env:o,scrollOptions:r};t.current=c;var u=zp({ref:i,descriptor:l,env:o,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=o.closestScrollable;return d&&(d.setAttribute(Rf.contextId,n.contextId),d.addEventListener("scroll",h,Hp(c.scrollOptions))),u},[n.contextId,l,h,s]),g=sc(function(){var e=t.current,n=Vp(e);return e&&n||Dc(!1),Lp(n)},[]),b=sc(function(){var e=t.current;e||Dc(!1);var n=Vp(e);t.current=null,n&&(p.cancel(),n.removeAttribute(Rf.contextId),n.removeEventListener("scroll",h,Hp(e.scrollOptions)))},[h,p]),v=sc(function(e){var n=t.current;n||Dc(!1);var r=Vp(n);r||Dc(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),x=oc(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:b,scroll:v}},[b,m,g,v]),y=oc(function(){return{uniqueId:r,descriptor:l,callbacks:x}},[x,l,r]);Bf(function(){return c.current=y.descriptor,a.droppable.register(y),function(){t.current&&b(),a.droppable.unregister(y)}},[x,l,b,y,i,a.droppable]),Bf(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Bf(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:x});var N=o.createElement(Qp,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,r=e.data,a=e.animate;return o.createElement(Yp,{placeholder:r,onClose:t,innerRef:w,animate:a,contextId:n,onTransitionEnd:k})}),j=oc(function(){return{innerRef:y,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,N,y]),S=g?g.dragging.draggableId:null,C=oc(function(){return{droppableId:l,type:c,isUsingCloneFor:S}},[l,S,c]);return o.createElement(Jp.Provider,{value:C},s(j,m),function(){if(!g)return null;var e=g.dragging,t=g.render,n=o.createElement(dh,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(n,r){return t(n,r,e)});return ke.createPortal(n,v())}())});gh.defaultProps=mh;function bh(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function vh(e,t){Po(2,arguments);var n=Oo(e),r=Oo(t),a=bh(n,r),i=Math.abs(function(e,t){Po(2,arguments);var n=Fo(e),r=Fo(t),a=n.getTime()-fs(n),i=r.getTime()-fs(r);return Math.round((a-i)/864e5)}(n,r));n.setDate(n.getDate()-a*i);var o=a*(i-Number(bh(n,r)===-a));return 0===o?0:o}const xh=(0,o.memo)(e=>{let{message:t,type:n,onClose:r}=e;(0,o.useEffect)(()=>{const e=setTimeout(r,3e3);return()=>clearTimeout(e)},[r]);const a="success"===n?"bg-green-500":"error"===n?"bg-red-500":"bg-blue-500";return(0,_a.jsxs)("div",{className:"fixed top-4 right-4 ".concat(a," text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-slide-in flex items-center gap-2"),children:[(0,_a.jsx)("span",{children:t}),(0,_a.jsx)("button",{onClick:r,className:"text-white hover:text-gray-200",children:"\u2715"})]})});xh.displayName="Toast";const yh=(0,o.memo)(()=>(0,_a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-3 p-4 animate-pulse",children:[(0,_a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),(0,_a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,_a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]}));yh.displayName="TaskSkeleton";const wh=(0,o.memo)(e=>{let{task:t,index:n,onTaskClick:r,onDuplicate:a,onDelete:i,getPriorityInfo:s,getCategoryInfo:l,getTaskTimeInfo:c,editingUser:u}=e;const d=s(t.priority),f=l(t.category),p=c(t),[h,m]=(0,o.useState)(null),[g,b]=(0,o.useState)(null),v=e=>{m(e.targetTouches[0].clientX)},x=e=>{b(e.targetTouches[0].clientX)},y=()=>{if(!h||!g)return;const e=h-g,n=e<-50;e>50?i(t.id):n&&a(t),m(null),b(null)};return(0,_a.jsx)(fh,{draggableId:String(t.id),index:n,children:(e,n)=>(0,_a.jsxs)("div",Fe(Fe(Fe({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{className:"bg-white rounded-lg shadow-sm border mb-3 p-4 cursor-pointer hover:shadow-md transition-all ".concat(n.isDragging?"shadow-lg rotate-2 scale-105":""," ").concat(null!==p&&void 0!==p&&p.urgent?"ring-2 ring-red-300":""," ").concat(u?"border-blue-400 ring-2 ring-blue-200":"border-gray-200"),onClick:()=>r(t),onTouchStart:v,onTouchMove:x,onTouchEnd:y,children:[u&&(0,_a.jsxs)("div",{className:"mb-2 flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-md",children:[(0,_a.jsx)("span",{className:"animate-pulse",children:"\u270f\ufe0f"}),(0,_a.jsxs)("span",{children:[u.name," bearbeitet gerade..."]})]}),(0,_a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,_a.jsx)("h4",{className:"font-semibold text-gray-800 flex-1 pr-2",children:t.title}),(0,_a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(d.color),children:d.icon}),(0,_a.jsx)("button",{onClick:e=>{e.stopPropagation(),a(t)},className:"text-gray-400 hover:text-blue-600 text-xs p-2 min-w-[44px] min-h-[44px] md:p-1 md:min-w-0 md:min-h-0 flex items-center justify-center",title:"Duplizieren",children:"\ud83d\udccb"}),(0,_a.jsx)("button",{onClick:e=>{e.stopPropagation(),i(t.id)},className:"text-gray-400 hover:text-red-600 text-xs p-2 min-w-[44px] min-h-[44px] md:p-1 md:min-w-0 md:min-h-0 flex items-center justify-center",title:"L\xf6schen",children:"\ud83d\uddd1\ufe0f"})]})]}),t.description&&(0,_a.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),(0,_a.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[t.assignee&&(0,_a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_a.jsx)("span",{children:"\ud83d\udc64"}),(0,_a.jsx)("span",{children:t.assignee})]}),p&&(0,_a.jsxs)("div",{className:"flex items-center space-x-1 ".concat(p.color),children:[(0,_a.jsx)("span",{children:"\ud83d\udcc5"}),(0,_a.jsx)("span",{className:"font-semibold",children:p.text})]}),t.estimatedHours&&(0,_a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_a.jsx)("span",{children:"\u23f1\ufe0f"}),(0,_a.jsxs)("span",{children:[t.estimatedHours,"h gesch\xe4tzt"]})]}),(0,_a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_a.jsx)("span",{children:f.icon}),(0,_a.jsx)("span",{children:f.label})]})]}),t.tags&&t.tags.length>0&&(0,_a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-3",children:[t.tags.slice(0,3).map((e,t)=>(0,_a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:e},t)),t.tags.length>3&&(0,_a.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:["+",t.tags.length-3]})]}),"done"===t.status&&t.completedBy&&(0,_a.jsxs)("div",{className:"mt-3 pt-2 border-t border-gray-200 text-xs text-green-600",children:["\u2705 Abgeschlossen von ",t.completedBy,t.completedAt&&(0,_a.jsx)("div",{className:"text-gray-500",children:Os(new Date(t.completedAt),"dd.MM.yyyy HH:mm",{locale:qs})})]}),t.last_updated_by_name&&t.updated_at&&(0,_a.jsxs)("div",{className:"mt-3 pt-2 border-t border-gray-200 text-xs text-gray-500",children:["Zuletzt aktualisiert von ",t.last_updated_by_name,(0,_a.jsx)("div",{className:"text-gray-400",children:Os(new Date(t.updated_at),"dd.MM.yyyy HH:mm",{locale:qs})})]})]}))},t.id)});wh.displayName="TaskCard";const kh=()=>{const{user:e}=Pa(),{isConnected:t,onTaskEvent:n,emitTaskEditing:r,emitTaskStopEditing:a}=go(),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)({}),u=(0,o.useRef)({}),[d,f]=(0,o.useState)({todo:{id:"todo",title:"\ud83d\udccb Zu erledigen",tasks:[],color:"#3B82F6",bgColor:"bg-blue-50",borderColor:"border-blue-200"},inprogress:{id:"inprogress",title:"\u26a1 In Arbeit",tasks:[],color:"#F59E0B",bgColor:"bg-amber-50",borderColor:"border-amber-200"},review:{id:"review",title:"\ud83d\udd0d Zur \xdcberpr\xfcfung",tasks:[],color:"#8B5CF6",bgColor:"bg-purple-50",borderColor:"border-purple-200"},done:{id:"done",title:"\u2705 Erledigt",tasks:[],color:"#10B981",bgColor:"bg-green-50",borderColor:"border-green-200"}}),[p,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(null),[b,v]=(0,o.useState)(!1),[x,y]=(0,o.useState)(""),[w,k]=(0,o.useState)(""),[N,j]=(0,o.useState)("all"),[S,C]=(0,o.useState)("all"),[E,_]=(0,o.useState)(null),[D,T]=(0,o.useState)(null),[A,P]=(0,o.useState)({title:"",description:"",assignee:"",dueDate:"",priority:"medium",tags:[],status:"todo",estimatedHours:"",category:"general"}),O=[{value:"low",label:"Niedrig",color:"bg-green-100 text-green-800",icon:"\ud83d\udfe2"},{value:"medium",label:"Mittel",color:"bg-yellow-100 text-yellow-800",icon:"\ud83d\udfe1"},{value:"high",label:"Hoch",color:"bg-orange-100 text-orange-800",icon:"\ud83d\udfe0"},{value:"urgent",label:"Dringend",color:"bg-red-100 text-red-800",icon:"\ud83d\udd34"}],I=[{value:"general",label:"Allgemein",icon:"\ud83d\udcdd"},{value:"development",label:"Entwicklung",icon:"\ud83d\udcbb"},{value:"testing",label:"Testing",icon:"\ud83e\uddea"},{value:"meeting",label:"Meeting",icon:"\ud83e\udd1d"},{value:"research",label:"Recherche",icon:"\ud83d\udd2c"},{value:"maintenance",label:"Wartung",icon:"\ud83d\udd27"}],M=(0,o.useCallback)(function(e){_({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]);(0,o.useEffect)(()=>{R()},[]),(0,o.useEffect)(()=>{L()},[i]),(0,o.useEffect)(()=>{if(!t)return;const r=n("task:created",t=>{const{task:n,user:r}=t;r.id!==e.id&&(s(e=>e.find(e=>e.id===n.id)?e:[...e,n]),M("".concat(r.name,' hat eine neue Aufgabe erstellt: "').concat(n.title,'"'),"info"))}),a=n("task:updated",t=>{const{task:n,user:r}=t;r.id!==e.id&&(m&&m.id===n.id&&p?T({updatedTask:n,updatedByUser:r,currentChanges:A}):(s(e=>e.map(e=>e.id===n.id?n:e)),M("".concat(r.name,' hat eine Aufgabe aktualisiert: "').concat(n.title,'"'),"info")))}),i=n("task:moved",t=>{const{task:n,user:r,previousStatus:a}=t;if(r.id===e.id)return;s(e=>e.map(e=>e.id===n.id?n:e));M("".concat(r.name,' hat "').concat(n.title,'" nach ').concat({todo:"Zu erledigen",inprogress:"In Arbeit",review:"Zur \xdcberpr\xfcfung",done:"Erledigt"}[n.status]," verschoben"),"info")}),o=n("task:deleted",t=>{const{taskId:n,task:r,user:a}=t;a.id!==e.id&&(s(e=>e.filter(e=>e.id!==parseInt(n))),M("".concat(a.name,' hat eine Aufgabe gel\xf6scht: "').concat(r.title,'"'),"info"))}),l=n("task:user_editing",e=>{const{taskId:t,user:n}=e;c(e=>Fe(Fe({},e),{},{[t]:n})),u.current[t]&&clearTimeout(u.current[t]),u.current[t]=setTimeout(()=>{c(e=>{const n=Fe({},e);return delete n[t],n})},5e3)}),d=n("task:user_stopped_editing",e=>{const{taskId:t}=e;u.current[t]&&(clearTimeout(u.current[t]),delete u.current[t]),c(e=>{const n=Fe({},e);return delete n[t],n})});return()=>{r(),a(),i(),o(),l(),d()}},[t,n,e.id,M,m,p,A]);const R=async()=>{try{v(!0);const e=await fetch("/api/tasks",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Failed to load tasks");const t=await e.json();s(t)}catch(x){console.error("Error loading tasks from API:",x),M("Fehler beim Laden der Aufgaben","error")}finally{v(!1)}},L=(0,o.useCallback)(()=>{const e={todo:[],inprogress:[],review:[],done:[]};i.forEach(t=>{const n=t.status||"todo";e[n]&&e[n].push(t)}),f(t=>Fe(Fe({},t),{},{todo:Fe(Fe({},t.todo),{},{tasks:e.todo}),inprogress:Fe(Fe({},t.inprogress),{},{tasks:e.inprogress}),review:Fe(Fe({},t.review),{},{tasks:e.review}),done:Fe(Fe({},t.done),{},{tasks:e.done})}))},[i]),B=(0,o.useCallback)(async t=>{const{destination:n,source:r,draggableId:a}=t;if(!n)return;if(n.droppableId===r.droppableId&&n.index===r.index)return;const i=parseInt(a),o=n.droppableId;s(t=>t.map(t=>t.id===i?Fe(Fe({},t),{},{status:o},"done"===o?{completedAt:(new Date).toISOString(),completedBy:e.name}:{}):t));try{await z(i,{status:o}),navigator.vibrate&&navigator.vibrate(10),M("Aufgabe erfolgreich verschoben","success")}catch(x){R(),M("Fehler beim Verschieben der Aufgabe","error")}},[e.name,M]),F=(0,o.useCallback)(async()=>{if(A.title.trim())try{const e=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({title:A.title,description:A.description,status:A.status,priority:A.priority,assigneeId:A.assigneeId,dueDate:A.dueDate,tags:A.tags})});if(!e.ok)throw new Error("Failed to create task");const t=await e.json();s(e=>[...e,t]),q(),M("Aufgabe erfolgreich erstellt","success")}catch(x){console.error("Error creating task:",x),M("Fehler beim Erstellen der Aufgabe","error")}else y("Titel ist erforderlich")},[A,M]),z=(0,o.useCallback)(async(e,t)=>{const n=await fetch("/api/tasks/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update task");const r=await n.json();return s(t=>t.map(t=>t.id===e?r:t)),r},[]),U=(0,o.useCallback)(async(e,t)=>{try{await z(e,t),M("Aufgabe erfolgreich aktualisiert","success")}catch(x){console.error("Error updating task:",x),M("Fehler beim Aktualisieren der Aufgabe","error")}},[z,M]),W=(0,o.useCallback)(async e=>{if(window.confirm("Sind Sie sicher, dass Sie diese Aufgabe l\xf6schen m\xf6chten?")){s(t=>t.filter(t=>t.id!==e));try{if(!(await fetch("/api/tasks/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok)throw new Error("Failed to delete task");M("Aufgabe erfolgreich gel\xf6scht","success"),navigator.vibrate&&navigator.vibrate(20)}catch(x){console.error("Error deleting task:",x),R(),M("Fehler beim L\xf6schen der Aufgabe","error")}}},[M]),H=(0,o.useCallback)(async e=>{try{const t=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({title:"".concat(e.title," (Kopie)"),description:e.description,status:"todo",priority:e.priority,assigneeId:e.assignee_id,dueDate:e.due_date,tags:e.tags})});if(!t.ok)throw new Error("Failed to duplicate task");const n=await t.json();s(e=>[...e,n]),M("Aufgabe dupliziert","success"),navigator.vibrate&&navigator.vibrate(10)}catch(x){console.error("Error duplicating task:",x),M("Fehler beim Duplizieren der Aufgabe","error")}},[M]),q=()=>{m&&a(m.id),h(!1),g(null),y(""),P({title:"",description:"",assignee:"",dueDate:"",priority:"medium",tags:[],status:"todo",estimatedHours:"",category:"general"})},V=e=>{g(e),P(Fe(Fe({},e),{},{dueDate:e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:"",tags:Array.isArray(e.tags)?e.tags:[]})),h(!0),r(e.id)},G=e=>{if(!e.dueDate)return null;const t=vh(new Date(e.dueDate),new Date);return t<0?{text:"".concat(Math.abs(t)," Tage \xfcberf\xe4llig"),color:"text-red-600",urgent:!0}:0===t?{text:"Heute f\xe4llig",color:"text-orange-600",urgent:!0}:1===t?{text:"Morgen f\xe4llig",color:"text-yellow-600",urgent:!1}:{text:"In ".concat(t," Tagen"),color:"text-gray-600",urgent:!1}},$=(0,o.useCallback)(e=>O.find(t=>t.value===e)||O[1],[]),K=(0,o.useCallback)(e=>I.find(t=>t.value===e)||I[0],[]),Y=i.filter(e=>{const t=e.title.toLowerCase().includes(w.toLowerCase())||e.description.toLowerCase().includes(w.toLowerCase())||e.assignee.toLowerCase().includes(w.toLowerCase()),n="all"===N||e.priority===N,r="all"===S||e.assignee===S;return t&&n&&r}),J=[...new Set(i.map(e=>e.assignee).filter(Boolean))],Q=Object.keys(d).reduce((e,t)=>(e[t]=Fe(Fe({},d[t]),{},{tasks:Y.filter(e=>e.status===t)}),e),{});return(0,_a.jsxs)("div",{className:"h-full bg-gradient-to-br from-slate-50 to-blue-50 p-3 md:p-6 rounded-xl",children:[E&&(0,_a.jsx)(xh,{message:E.message,type:E.type,onClose:()=>_(null)}),(0,_a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4 md:mb-6 space-y-3 lg:space-y-0",children:[(0,_a.jsx)("div",{className:"flex items-center gap-3",children:(0,_a.jsxs)("div",{children:[(0,_a.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-1 md:mb-2 flex items-center gap-2",children:["\ud83d\ude80 Kanban Board",t&&(0,_a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full animate-pulse",children:[(0,_a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Live"]})]}),(0,_a.jsxs)("p",{className:"text-sm md:text-base text-gray-600",children:["Verwalte deine Aufgaben effizient und behalte den \xdcberblick",t&&(0,_a.jsx)("span",{className:"ml-2 text-green-600",children:"\u2022 Echtzeit-Sync aktiv"})]})]})}),(0,_a.jsxs)("div",{className:"flex flex-wrap gap-2 w-full lg:w-auto",children:[(0,_a.jsxs)("button",{onClick:()=>{const e=JSON.stringify(i,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(e),n="kanban-tasks-".concat(Os(new Date,"yyyy-MM-dd"),".json"),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",n),r.click()},className:"bg-gray-600 hover:bg-gray-700 active:bg-gray-800 text-white px-4 py-3 min-h-[44px] rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 flex-1 lg:flex-initial",children:[(0,_a.jsx)("span",{children:"\ud83d\udcca"}),(0,_a.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),(0,_a.jsxs)("button",{onClick:async()=>{if(window.confirm("Sind Sie sicher, dass Sie alle Aufgaben l\xf6schen m\xf6chten? Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden."))try{const e=i.map(e=>fetch("/api/tasks/".concat(e.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}));await Promise.all(e),s([]),M("Alle Aufgaben wurden gel\xf6scht","success")}catch(x){console.error("Error clearing tasks:",x),M("Fehler beim L\xf6schen aller Aufgaben","error"),R()}},className:"bg-red-600 hover:bg-red-700 active:bg-red-800 text-white px-4 py-3 min-h-[44px] rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 flex-1 lg:flex-initial",children:[(0,_a.jsx)("span",{children:"\ud83d\uddd1\ufe0f"}),(0,_a.jsx)("span",{className:"hidden sm:inline",children:"Alle l\xf6schen"})]}),(0,_a.jsxs)("button",{onClick:()=>{g(null),h(!0)},className:"bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-3 min-h-[44px] rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 flex-1 lg:flex-initial",children:[(0,_a.jsx)("span",{children:"+"}),(0,_a.jsx)("span",{children:"Neue Aufgabe"})]})]})]}),(0,_a.jsx)("div",{className:"mb-4 md:mb-6 bg-white rounded-lg p-3 md:p-4 shadow-sm",children:(0,_a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 md:gap-4",children:[(0,_a.jsx)("div",{className:"flex-1",children:(0,_a.jsx)("input",{type:"text",placeholder:"Aufgaben durchsuchen...",value:w,onChange:e=>k(e.target.value),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"})}),(0,_a.jsxs)("div",{className:"flex gap-2 flex-col sm:flex-row",children:[(0,_a.jsxs)("select",{value:N,onChange:e=>j(e.target.value),className:"flex-1 sm:flex-initial p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[(0,_a.jsx)("option",{value:"all",children:"Alle Priorit\xe4ten"}),O.map(e=>(0,_a.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))]}),(0,_a.jsxs)("select",{value:S,onChange:e=>C(e.target.value),className:"flex-1 sm:flex-initial p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[(0,_a.jsx)("option",{value:"all",children:"Alle Personen"}),J.map(e=>(0,_a.jsxs)("option",{value:e,children:["\ud83d\udc64 ",e]},e))]})]})]})}),x&&(0,_a.jsxs)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex justify-between items-center",children:[(0,_a.jsx)("span",{children:x}),(0,_a.jsx)("button",{onClick:()=>y(""),className:"text-red-800 hover:text-red-900",children:"\u2715"})]}),(0,_a.jsx)(Ap,{onDragEnd:B,children:(0,_a.jsx)("div",{className:"flex flex-col md:grid md:grid-cols-2 lg:flex lg:flex-row gap-3 md:gap-4 lg:space-x-4 pb-4 lg:overflow-x-auto",children:b?Object.values(Q).map(e=>(0,_a.jsxs)("div",{className:"".concat(e.bgColor," rounded-lg shadow-sm w-full lg:min-w-80 lg:max-w-80 border-2 border-transparent"),children:[(0,_a.jsx)("div",{className:"p-3 md:p-4 border-b border-gray-200",children:(0,_a.jsx)("div",{className:"flex items-center justify-between",children:(0,_a.jsx)("h3",{className:"font-bold text-gray-800 text-base md:text-lg",children:e.title})})}),(0,_a.jsxs)("div",{className:"p-3 min-h-64 md:min-h-96",children:[(0,_a.jsx)(yh,{}),(0,_a.jsx)(yh,{})]})]},e.id)):Object.values(Q).map(e=>(0,_a.jsx)(gh,{droppableId:e.id,children:(t,n)=>(0,_a.jsxs)("div",Fe(Fe({},t.droppableProps),{},{ref:t.innerRef,className:"".concat(e.bgColor," rounded-lg shadow-sm w-full lg:min-w-80 lg:max-w-80 border-2 ").concat(n.isDraggingOver?e.borderColor:"border-transparent"," transition-colors"),children:[(0,_a.jsx)("div",{className:"p-3 md:p-4 border-b border-gray-200 sticky top-0 bg-white/80 backdrop-blur-sm z-10",children:(0,_a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_a.jsx)("h3",{className:"font-bold text-gray-800 text-base md:text-lg",children:e.title}),(0,_a.jsx)("div",{className:"flex items-center space-x-2",children:(0,_a.jsx)("span",{className:"bg-white px-2 py-1 rounded-full text-sm font-semibold",style:{color:e.color},children:e.tasks.length})})]})}),(0,_a.jsxs)("div",{className:"p-2 md:p-3 min-h-64 md:min-h-96 max-h-[500px] md:max-h-[600px] overflow-y-auto",children:[e.tasks.map((e,t)=>(0,_a.jsx)(wh,{task:e,index:t,onTaskClick:V,onDuplicate:H,onDelete:W,getPriorityInfo:$,getCategoryInfo:K,getTaskTimeInfo:G,editingUser:l[e.id]},e.id)),t.placeholder,0===e.tasks.length&&(0,_a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,_a.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcdd"}),(0,_a.jsx)("p",{className:"text-sm",children:"Keine Aufgaben in dieser Spalte"})]})]})]}))},e.id))})}),p&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 md:p-4 z-50 overflow-y-auto",children:(0,_a.jsxs)("div",{className:"bg-white rounded-xl p-4 md:p-6 w-full max-w-2xl mx-auto my-auto max-h-[95vh] overflow-y-auto",children:[(0,_a.jsxs)("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[(0,_a.jsx)("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:m?"\u270f\ufe0f Aufgabe bearbeiten":"\u2795 Neue Aufgabe"}),(0,_a.jsx)("button",{onClick:q,className:"text-gray-400 hover:text-gray-600 text-2xl min-w-[44px] min-h-[44px] flex items-center justify-center",children:"\u2715"})]}),(0,_a.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m?(await U(m.id,A),q()):await F()},children:[(0,_a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[(0,_a.jsxs)("div",{className:"lg:col-span-2",children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),(0,_a.jsx)("input",{type:"text",value:A.title,onChange:e=>P(Fe(Fe({},A),{},{title:e.target.value})),required:!0,className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Aufgaben Titel"})]}),(0,_a.jsxs)("div",{className:"lg:col-span-2",children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung"}),(0,_a.jsx)("textarea",{value:A.description,onChange:e=>P(Fe(Fe({},A),{},{description:e.target.value})),rows:"3",className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base resize-y",placeholder:"Detailierte Beschreibung der Aufgabe"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verantwortlich"}),(0,_a.jsx)("input",{type:"text",value:A.assignee,onChange:e=>P(Fe(Fe({},A),{},{assignee:e.target.value})),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Name der verantwortlichen Person"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"F\xe4lligkeitsdatum"}),(0,_a.jsx)("input",{type:"date",value:A.dueDate,onChange:e=>P(Fe(Fe({},A),{},{dueDate:e.target.value})),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorit\xe4t"}),(0,_a.jsx)("select",{value:A.priority,onChange:e=>P(Fe(Fe({},A),{},{priority:e.target.value})),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:O.map(e=>(0,_a.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategorie"}),(0,_a.jsx)("select",{value:A.category,onChange:e=>P(Fe(Fe({},A),{},{category:e.target.value})),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:I.map(e=>(0,_a.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gesch\xe4tzte Stunden"}),(0,_a.jsx)("input",{type:"number",min:"0",step:"0.5",value:A.estimatedHours,onChange:e=>P(Fe(Fe({},A),{},{estimatedHours:e.target.value})),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"z.B. 2.5"})]}),m&&(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,_a.jsxs)("select",{value:A.status,onChange:e=>P(Fe(Fe({},A),{},{status:e.target.value})),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[(0,_a.jsx)("option",{value:"todo",children:"\ud83d\udccb Zu erledigen"}),(0,_a.jsx)("option",{value:"inprogress",children:"\u26a1 In Arbeit"}),(0,_a.jsx)("option",{value:"review",children:"\ud83d\udd0d Zur \xdcberpr\xfcfung"}),(0,_a.jsx)("option",{value:"done",children:"\u2705 Erledigt"})]})]}),(0,_a.jsxs)("div",{className:"lg:col-span-2",children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (durch Komma getrennt)"}),(0,_a.jsx)("input",{type:"text",value:Array.isArray(A.tags)?A.tags.join(", "):"",onChange:e=>P(Fe(Fe({},A),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"w-full p-3 min-h-[44px] border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"projekt, wichtig, dringend, meeting"})]})]}),(0,_a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-6 md:mt-8",children:[(0,_a.jsx)("button",{type:"button",onClick:q,className:"flex-1 px-6 py-3 min-h-[44px] border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-colors font-medium",children:"Abbrechen"}),(0,_a.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 min-h-[44px] bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors font-medium",children:m?"Aktualisieren":"Erstellen"})]})]})]})}),D&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:(0,_a.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,_a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,_a.jsx)("span",{className:"text-3xl",children:"\u26a0\ufe0f"}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Konflikt erkannt"}),(0,_a.jsxs)("p",{className:"text-sm text-gray-600",children:[D.updatedByUser.name," hat diese Aufgabe gerade aktualisiert"]})]})]}),(0,_a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:(0,_a.jsxs)("p",{className:"text-sm text-gray-700",children:["Die Aufgabe wurde von ",D.updatedByUser.name," ge\xe4ndert, w\xe4hrend Sie sie bearbeitet haben. W\xe4hlen Sie, ob Sie Ihre \xc4nderungen behalten oder die neuen \xc4nderungen \xfcbernehmen m\xf6chten."]})}),(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,_a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,_a.jsxs)("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[(0,_a.jsx)("span",{children:"\ud83d\udcdd"}),"Ihre \xc4nderungen"]}),(0,_a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("span",{className:"font-medium",children:"Titel:"})," ",D.currentChanges.title]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("span",{className:"font-medium",children:"Status:"})," ",D.currentChanges.status]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("span",{className:"font-medium",children:"Priorit\xe4t:"})," ",D.currentChanges.priority]})]})]}),(0,_a.jsxs)("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[(0,_a.jsxs)("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[(0,_a.jsx)("span",{children:"\ud83d\udd04"}),"Neue \xc4nderungen von ",D.updatedByUser.name]}),(0,_a.jsxs)("div",{className:"space-y-2 text-sm text-blue-900",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("span",{className:"font-medium",children:"Titel:"})," ",D.updatedTask.title]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("span",{className:"font-medium",children:"Status:"})," ",D.updatedTask.status]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("span",{className:"font-medium",children:"Priorit\xe4t:"})," ",D.updatedTask.priority]})]})]})]}),(0,_a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,_a.jsx)("button",{onClick:()=>{T(null)},className:"flex-1 px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Meine \xc4nderungen behalten"}),(0,_a.jsx)("button",{onClick:()=>{s(e=>e.map(e=>e.id===D.updatedTask.id?D.updatedTask:e)),P(Fe(Fe({},D.updatedTask),{},{dueDate:D.updatedTask.dueDate?new Date(D.updatedTask.dueDate).toISOString().split("T")[0]:"",tags:Array.isArray(D.updatedTask.tags)?D.updatedTask.tags:[]})),g(D.updatedTask),T(null),M("\xc4nderungen von "+D.updatedByUser.name+" \xfcbernommen","info")},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Neue \xc4nderungen \xfcbernehmen"})]})]})})]})},Nh=e=>{let{templates:t=[],onTemplateCreate:n,onTemplateUpdate:r,onTemplateDelete:a,onTemplateApply:i}=e;const[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,f]=(0,o.useState)({name:"",description:"",disposalInstructions:"",color:"#5D8AA8",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""}),p=[{value:"daily",label:"T\xe4glich"},{value:"weekly",label:"W\xf6chentlich"},{value:"biweekly",label:"Alle 2 Wochen"},{value:"monthly",label:"Monatlich"},{value:"quarterly",label:"Viertelj\xe4hrlich"},{value:"yearly",label:"J\xe4hrlich"}],h=(e,t)=>{const n=e=>Math.min(255,Math.max(0,e)),r=e.replace("#",""),a=parseInt(r,16),i=n((a>>16)+t),o=n((a>>8&255)+t),s=n((255&a)+t);return"#".concat((s|o<<8|i<<16).toString(16).padStart(6,"0"))},m=e=>{try{return"linear-gradient(135deg, ".concat(h(e,-20)," 0%, ").concat(h(e,20)," 100%)")}catch(t){return"linear-gradient(135deg, ".concat(e,", ").concat(e,")")}},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(u(e),f({name:e.name,description:e.description||"",disposalInstructions:e.disposalInstructions||e.disposal_instructions||"",color:e.color||"#5D8AA8",icon:e.icon||"trash",defaultFrequency:e.defaultFrequency||e.default_frequency||"weekly",defaultNextDate:e.defaultNextDate||e.default_next_date||""})):(u(null),f({name:"",description:"",disposalInstructions:"",color:"#5D8AA8",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""})),l(!0)},b=e=>{switch(e){case"bio":return"\ud83c\udf3f";case"paper":return"\ud83d\udcc4";case"plastic":return"\u267b\ufe0f";case"glass":return"\ud83c\udf7e";case"electronics":return"\ud83d\udcbb";case"chemical":return"\ud83e\uddea";case"medical":return"\ud83c\udfe5";default:return"\ud83d\uddd1\ufe0f"}};return(0,_a.jsxs)("div",{className:"space-y-6",children:[(0,_a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Abfall-Vorlagen"}),(0,_a.jsx)("p",{className:"text-sm text-slate-500",children:"Speichere Routinen f\xfcr dein Team \u2013 farblich codiert, selbsterkl\xe4rend und bereit zur Anwendung."})]}),(0,_a.jsxs)("button",{onClick:()=>g(),className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-500",children:[(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_a.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),(0,_a.jsx)("span",{children:"Neue Vorlage"})]})]}),(0,_a.jsx)("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:t.map(e=>{var t,n,r;return(0,_a.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-1.5 hover:shadow-xl",children:[(0,_a.jsx)("div",{className:"absolute inset-0 h-32",style:{background:m(e.color||"#5D8AA8")}}),(0,_a.jsxs)("div",{className:"relative p-5 text-white",children:[(0,_a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 text-2xl shadow-inner",children:b(e.icon)}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("h3",{className:"text-lg font-semibold leading-tight drop-shadow-sm",children:e.name}),(0,_a.jsx)("p",{className:"text-xs uppercase tracking-wide text-white/80",children:(null===(t=p.find(t=>t.value===(e.defaultFrequency||e.default_frequency)))||void 0===t?void 0:t.label)||"W\xf6chentlich"})]})]}),(0,_a.jsxs)("div",{className:"flex gap-1",children:[(0,_a.jsx)("button",{onClick:()=>g(e),className:"rounded-full bg-white/20 p-2 text-white transition hover:bg-white/40",title:"Bearbeiten",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,_a.jsx)("button",{onClick:()=>a(e.id),className:"rounded-full bg-white/20 p-2 text-white transition hover:bg-white/40",title:"L\xf6schen",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_a.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.description&&(0,_a.jsx)("p",{className:"mt-4 text-sm text-white/90",children:e.description})]}),(0,_a.jsxs)("div",{className:"relative mt-2 space-y-4 rounded-t-3xl bg-white p-5 text-sm text-slate-600",children:[(0,_a.jsxs)("div",{className:"space-y-2",children:[(0,_a.jsx)("h4",{className:"font-medium text-slate-700",children:"Entsorgungsanleitung"}),(0,_a.jsx)("p",{className:"rounded-2xl bg-slate-50/80 p-3 leading-relaxed",children:e.disposalInstructions||e.disposal_instructions})]}),(0,_a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[(0,_a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-600",children:["\u23f1\ufe0f ",(null===(n=p.find(t=>t.value===(e.defaultFrequency||e.default_frequency)))||void 0===n?void 0:n.label)||"W\xf6chentlich"]}),(e.defaultNextDate||e.default_next_date)&&(0,_a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-50 px-3 py-1 font-medium text-blue-600",children:["\ud83d\udcc5 N\xe4chster Termin: ",(r=e.defaultNextDate||e.default_next_date,r?new Date(r).toLocaleDateString("de-DE",{day:"numeric",month:"long",year:"numeric"}):"Nicht festgelegt")]})]}),(0,_a.jsxs)("button",{onClick:()=>i(e),className:"flex w-full items-center justify-center gap-2 rounded-full bg-emerald-500 py-2 text-sm font-semibold text-white shadow transition hover:bg-emerald-400",children:[(0,_a.jsx)("span",{children:"Vorlage anwenden"}),(0,_a.jsx)("span",{"aria-hidden":!0,children:"\u2192"})]})]})]},e.id)})}),0===t.length&&(0,_a.jsxs)("div",{className:"rounded-3xl border-2 border-dashed border-slate-300 bg-white/80 p-10 text-center shadow-sm",children:[(0,_a.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-2xl",children:"\u267b\ufe0f"}),(0,_a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Noch keine Vorlagen"}),(0,_a.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Erstelle Vorlagen f\xfcr Bioabfall, Papier, Restm\xfcll & Co. und halte dein Team mit einem Tipp auf Kurs."}),(0,_a.jsx)("button",{onClick:()=>g(),className:"mt-4 inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-500",children:(0,_a.jsx)("span",{children:"Erste Vorlage erstellen"})})]}),s&&(0,_a.jsx)("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/50 p-4",children:(0,_a.jsxs)("div",{className:"w-full max-w-lg rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-100",children:[(0,_a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,_a.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:c?"Vorlage bearbeiten":"Neue Vorlage erstellen"}),(0,_a.jsx)("button",{onClick:()=>l(!1),className:"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!d.name.trim())return;const t=Fe(Fe({},d),{},{id:(null===c||void 0===c?void 0:c.id)||Date.now()});c?r(t):n(t),l(!1),u(null),f({name:"",description:"",disposalInstructions:"",color:"#5D8AA8",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""})},children:[(0,_a.jsxs)("div",{className:"space-y-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name *"}),(0,_a.jsx)("input",{type:"text",value:d.name,onChange:e=>f(Fe(Fe({},d),{},{name:e.target.value})),required:!0,className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"z.B. Bioabfall"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beschreibung"}),(0,_a.jsx)("input",{type:"text",value:d.description,onChange:e=>f(Fe(Fe({},d),{},{description:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Optionale Beschreibung"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Symbol"}),(0,_a.jsx)("select",{value:d.icon,onChange:e=>f(Fe(Fe({},d),{},{icon:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",children:[{value:"trash",label:"\ud83d\uddd1\ufe0f Allgemein"},{value:"bio",label:"\ud83c\udf3f Bioabfall"},{value:"paper",label:"\ud83d\udcc4 Papier"},{value:"plastic",label:"\u267b\ufe0f Plastik"},{value:"glass",label:"\ud83c\udf7e Glas"},{value:"electronics",label:"\ud83d\udcbb Elektronik"},{value:"chemical",label:"\ud83e\uddea Chemikalien"},{value:"medical",label:"\ud83c\udfe5 Medizinisch"}].map(e=>(0,_a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Farbe"}),(0,_a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,_a.jsx)("input",{type:"color",value:d.color,onChange:e=>f(Fe(Fe({},d),{},{color:e.target.value})),className:"h-10 w-10 rounded border border-slate-200"}),(0,_a.jsx)("input",{type:"text",value:d.color,onChange:e=>f(Fe(Fe({},d),{},{color:e.target.value})),className:"flex-1 rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"#A9D08E"})]}),(0,_a.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:["#5D8AA8","#A9D08E","#F4B084","#D9E1F2","#7DD3FC","#FECACA","#C4B5FD"].map(e=>(0,_a.jsx)("button",{type:"button",onClick:()=>f(Fe(Fe({},d),{},{color:e})),className:"h-8 w-8 rounded-full border border-white shadow-sm transition hover:-translate-y-0.5 hover:shadow ".concat(d.color===e?"ring-2 ring-blue-400":""),style:{background:m(e)},"aria-label":"Farbe ".concat(e," w\xe4hlen")},e))})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Entsorgungsanleitung *"}),(0,_a.jsx)("textarea",{value:d.disposalInstructions,onChange:e=>f(Fe(Fe({},d),{},{disposalInstructions:e.target.value})),required:!0,rows:"4",className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Wie muss dieser Abfall entsorgt werden?"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Standardfrequenz"}),(0,_a.jsx)("select",{value:d.defaultFrequency,onChange:e=>f(Fe(Fe({},d),{},{defaultFrequency:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",children:p.map(e=>(0,_a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Standard N\xe4chster Termin"}),(0,_a.jsx)("input",{type:"date",value:d.defaultNextDate,onChange:e=>f(Fe(Fe({},d),{},{defaultNextDate:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100"})]})]}),(0,_a.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,_a.jsx)("button",{type:"button",onClick:()=>l(!1),className:"flex-1 rounded-full border border-slate-200 px-4 py-2 text-slate-600 transition hover:bg-slate-50",children:"Abbrechen"}),(0,_a.jsx)("button",{type:"submit",className:"flex-1 rounded-full bg-blue-600 px-4 py-2 text-white shadow hover:bg-blue-500",children:c?"Aktualisieren":"Erstellen"})]})]})]})})]})},jh=(0,o.memo)(e=>{let{type:t,className:n="w-6 h-6"}=e;const r={chemical:(0,_a.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M7,2V4H8V18A4,4 0 0,0 12,22A4,4 0 0,0 16,18V4H17V2H7M10,4H14V18A2,2 0 0,1 12,20A2,2 0 0,1 10,18V4Z"})}),glass:(0,_a.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M12,2C13.1,7.4 18,9.9 18,15.5C18,19.1 15.1,22 11.5,22C7.9,22 5,19.1 5,15.5C5,9.9 9.9,7.4 11,2H12Z"})}),medical:(0,_a.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M12,2L13.09,8.26L22,9L13.09,9.74L12,16L10.91,9.74L2,9L10.91,8.26L12,2M12,4.74L11.38,8.5L7.76,9L11.38,9.5L12,13.26L12.62,9.5L16.24,9L12.62,8.5L12,4.74Z"})}),bio:(0,_a.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M2,17H22V19H2V17M3,2V4H5V6H3V8H5V10H3V12H5V14H21V4H19V2H3M7,8H9V10H11V8H13V10H15V8H17V10H19V12H5V10H7V8Z"})}),plastic:(0,_a.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3H19M19,5H5V19H19V5Z"})}),trash:(0,_a.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})})};return r[t]||r.trash});jh.displayName="WasteIcon";const Sh=(0,o.memo)(e=>{let{level:t}=e;return(0,_a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat({low:"bg-green-100 text-green-800 border-green-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",high:"bg-orange-100 text-orange-800 border-orange-200",critical:"bg-red-100 text-red-800 border-red-200"}[t]),children:{low:"Niedrig",medium:"Mittel",high:"Hoch",critical:"Kritisch"}[t]})});Sh.displayName="HazardBadge";const Ch=(0,o.memo)(e=>{let{frequency:t}=e;return(0,_a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({immediate:"bg-red-100 text-red-800",daily:"bg-blue-100 text-blue-800",weekly:"bg-green-100 text-green-800",biweekly:"bg-yellow-100 text-yellow-800",monthly:"bg-purple-100 text-purple-800",quarterly:"bg-indigo-100 text-indigo-800",yearly:"bg-gray-100 text-gray-800"}[t]),children:{immediate:"Sofort",daily:"T\xe4glich",weekly:"W\xf6chentlich",biweekly:"2-w\xf6chentlich",monthly:"Monatlich",quarterly:"Viertelj\xe4hrlich",yearly:"J\xe4hrlich"}[t]})});Ch.displayName="FrequencyBadge";const Eh=()=>{const{user:e}=Pa(),[t,n]=(0,o.useState)([]),[r,a]=(0,o.useState)([]),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)(!0),[u,d]=(0,o.useState)(""),[f,p]=(0,o.useState)(""),[h,m]=(0,o.useState)(!1),[g,b]=(0,o.useState)(!1),[v,x]=(0,o.useState)(!1),[y,w]=(0,o.useState)(null),[k,N]=(0,o.useState)(null),[j,S]=(0,o.useState)("all"),[C,E]=(0,o.useState)("all"),[_,D]=(0,o.useState)("all"),[T,A]=(0,o.useState)(""),[P,O]=(0,o.useState)("items"),[I,M]=(0,o.useState)({template_id:"",next_disposal_date:"",assigned_to:"",notification_users:[],notes:""}),R={chemical:{label:"Chemikalien",icon:"chemical",color:"#FF6B6B"},heavy_metal:{label:"Schwermetalle",icon:"chemical",color:"#8E44AD"},aqueous:{label:"Wassrige Losungen",icon:"glass",color:"#3498DB"},hazardous:{label:"Gefahrstoffe",icon:"medical",color:"#6C757D"},construction:{label:"Bauschutt",icon:"bio",color:"#495057"},soil:{label:"Bodenproben",icon:"bio",color:"#8D6E63"},container:{label:"Behalter",icon:"plastic",color:"#FFC107"},general:{label:"Allgemein",icon:"trash",color:"#6C757D"}};(0,o.useEffect)(()=>{F()},[]);const L=(0,o.useCallback)(e=>{d(e),setTimeout(()=>d(""),5e3)},[]),B=(0,o.useCallback)(e=>{p(e),setTimeout(()=>p(""),5e3)},[]),F=(0,o.useCallback)(async()=>{try{c(!0);const e=await fetch("/api/waste/templates",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Fehler beim Laden der Vorlagen");const t=await e.json();n(t);const r=await fetch("/api/waste/items",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!r.ok)throw new Error("Fehler beim Laden der Abfalle");const i=await r.json();a(i);const o=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!o.ok)throw new Error("Fehler beim Laden der Benutzer");const l=await o.json();s(l)}catch(rm){L("Fehler beim Laden der Daten: "+rm.message),console.error("Error loading data:",rm)}finally{c(!1)}},[L]),z=t=>{const n={immediate:0,daily:1,weekly:7,biweekly:14,monthly:30,quarterly:90,yearly:365}[t.default_frequency]||7,r=Os(Io(new Date,n),"yyyy-MM-dd");M({template_id:t.id,next_disposal_date:r,assigned_to:(null===e||void 0===e?void 0:e.id)||"",notification_users:[],notes:""}),m(!0)},U=async(e,t)=>{try{await fetch("/api/waste/notifications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({waste_id:e,user_ids:t,type:"assignment"})})}catch(rm){console.error("Error sending notifications:",rm)}},W=(0,o.useCallback)(e=>e?vh(new Date(e),new Date):null,[]),H=(0,o.useMemo)(()=>r.filter(e=>{var t,n,r;if(!e.template_id)return!1;const a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(T.toLowerCase()))||(null===(n=e.waste_code)||void 0===n?void 0:n.toLowerCase().includes(T.toLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(T.toLowerCase())),i="all"===C||e.category===C,o="all"===_||e.hazard_level===_,s=W(e.next_disposal_date);return a&&i&&o&&("all"===j||"urgent"===j&&null!==s&&s<=3||"overdue"===j&&null!==s&&s<0||"upcoming"===j&&null!==s&&s>=0&&s<=7)}),[r,T,C,_,j,W]),q=(0,o.useMemo)(()=>[...new Set(t.map(e=>e.category))],[t]);return l?(0,_a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,_a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,_a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,_a.jsxs)("div",{className:"mb-6",children:[(0,_a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Abfallmanagement"}),(0,_a.jsx)("p",{className:"text-gray-600 mt-1",children:"Professionelle Entsorgung und \xdcberwachung"})]}),(0,_a.jsxs)("div",{className:"mt-4 sm:mt-0 flex gap-2",children:[(0,_a.jsxs)("button",{onClick:()=>b(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,_a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Schnellzugriff"]}),("admin"===(null===e||void 0===e?void 0:e.role)||"superadmin"===(null===e||void 0===e?void 0:e.role))&&(0,_a.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,_a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Neue Entsorgung"]})]})]}),u&&(0,_a.jsxs)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex justify-between items-center animate-fade-in",children:[(0,_a.jsx)("span",{children:u}),(0,_a.jsx)("button",{onClick:()=>d(""),className:"text-red-800 hover:text-red-900 font-bold",children:"\xd7"})]}),f&&(0,_a.jsxs)("div",{className:"mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex justify-between items-center animate-fade-in",children:[(0,_a.jsx)("span",{children:f}),(0,_a.jsx)("button",{onClick:()=>p(""),className:"text-green-800 hover:text-green-900 font-bold",children:"\xd7"})]})]}),(0,_a.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,_a.jsxs)("nav",{className:"flex space-x-8",children:[(0,_a.jsxs)("button",{onClick:()=>O("items"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("items"===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Abfall-Items (",r.length,")"]}),(0,_a.jsxs)("button",{onClick:()=>O("templates"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("templates"===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Vorlagen (",t.length,")"]})]})}),"items"===P&&(0,_a.jsx)("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Suche"}),(0,_a.jsx)("input",{type:"text",value:T,onChange:e=>A(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Name oder Code..."})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,_a.jsxs)("select",{value:j,onChange:e=>S(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,_a.jsx)("option",{value:"all",children:"Alle"}),(0,_a.jsx)("option",{value:"urgent",children:"Dringend (3 Tage)"}),(0,_a.jsx)("option",{value:"overdue",children:"Uberf\xe4llig"}),(0,_a.jsx)("option",{value:"upcoming",children:"Anstehend (7 Tage)"})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategorie"}),(0,_a.jsxs)("select",{value:C,onChange:e=>E(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,_a.jsx)("option",{value:"all",children:"Alle Kategorien"}),q.map(e=>{var t;return(0,_a.jsx)("option",{value:e,children:(null===(t=R[e])||void 0===t?void 0:t.label)||e},e)})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gefahrenstufe"}),(0,_a.jsxs)("select",{value:_,onChange:e=>D(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,_a.jsx)("option",{value:"all",children:"Alle Stufen"}),(0,_a.jsx)("option",{value:"low",children:"Niedrig"}),(0,_a.jsx)("option",{value:"medium",children:"Mittel"}),(0,_a.jsx)("option",{value:"high",children:"Hoch"}),(0,_a.jsx)("option",{value:"critical",children:"Kritisch"})]})]}),(0,_a.jsx)("div",{className:"flex items-end",children:(0,_a.jsx)("button",{onClick:()=>{A(""),S("all"),E("all"),D("all")},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Filter zurucksetzen"})})]})}),"items"===P&&(0,_a.jsx)(_a.Fragment,{children:0===H.length?(0,_a.jsxs)("div",{className:"text-center py-12",children:[(0,_a.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\uddd1"}),(0,_a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Abfall-Items gefunden"}),(0,_a.jsx)("p",{className:"text-gray-600",children:"Versuchen Sie, die Filter anzupassen oder erstellen Sie ein neues Item."})]}):(0,_a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(n=>{const r=W(n.next_disposal_date),a=i.find(e=>e.id===n.assigned_to),o=R[n.category]||{label:n.category,icon:"trash",color:"#6B7280"};return(0,_a.jsx)("div",{className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 border-l-4 group",style:{borderLeftColor:n.color||o.color},children:(0,_a.jsxs)("div",{className:"p-6",children:[(0,_a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,_a.jsxs)("div",{className:"flex items-center flex-1",children:[(0,_a.jsx)("div",{className:"p-3 rounded-lg mr-3 flex-shrink-0",style:{backgroundColor:(n.color||o.color)+"20",color:n.color||o.color},children:(0,_a.jsx)(jh,{type:n.icon||o.icon})}),(0,_a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_a.jsx)("h3",{className:"font-semibold text-gray-900 text-sm leading-tight truncate",children:n.name}),(0,_a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",n.waste_code||"N/A"]}),(0,_a.jsx)("div",{className:"mt-1",children:(0,_a.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:o.label})})]})]})}),(0,_a.jsxs)("div",{className:"space-y-3",children:[(0,_a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_a.jsx)(Sh,{level:n.hazard_level}),(0,_a.jsx)(Ch,{frequency:n.default_frequency})]}),n.next_disposal_date&&(0,_a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,_a.jsx)("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Nachste Entsorgung:"}),(0,_a.jsx)("div",{className:"font-bold text-lg ".concat(null===r?"text-gray-600":r<0?"text-red-600":r<=3?"text-orange-600":r<=7?"text-yellow-600":"text-green-600"),children:null===r?"Nicht geplant":r<0?"".concat(Math.abs(r)," Tage uberf\xe4llig"):0===r?"Heute":1===r?"Morgen":"In ".concat(r," Tagen")}),(0,_a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:Os(new Date(n.next_disposal_date),"dd.MM.yyyy - EEEE",{locale:qs})})]}),a&&(0,_a.jsxs)("div",{className:"text-sm",children:[(0,_a.jsx)("span",{className:"text-gray-600 font-medium",children:"Zugewiesen an:"}),(0,_a.jsx)("div",{className:"text-gray-900 mt-1",children:a.name})]}),n.disposal_instructions&&(0,_a.jsx)("div",{className:"text-xs bg-blue-50 border-l-2 border-blue-400 p-2 rounded",children:(0,_a.jsx)("p",{className:"text-gray-700",children:n.disposal_instructions})})]}),(0,_a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex gap-2",children:[(0,_a.jsx)("button",{onClick:()=>(async e=>{try{const n=t.find(t=>t.id===e.template_id),r={immediate:0,daily:1,weekly:7,biweekly:14,monthly:30,quarterly:90,yearly:365}[null===n||void 0===n?void 0:n.default_frequency]||7,a=Os(Io(new Date,r),"yyyy-MM-dd");if(!(await fetch("/api/waste/items/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(Fe(Fe({},e),{},{next_disposal_date:a}))})).ok)throw new Error("Fehler beim Aktualisieren");B("Als entsorgt markiert. Nachster Termin geplant."),await F()}catch(rm){L(rm.message)}})(n),className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-md text-sm hover:bg-green-700 transition-colors font-medium",children:"\u2713 Entsorgt"}),("admin"===(null===e||void 0===e?void 0:e.role)||"superadmin"===(null===e||void 0===e?void 0:e.role))&&(0,_a.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Mochten Sie dieses Abfall-Element wirklich loschen?"))try{if(!(await fetch("/api/waste/items/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok)throw new Error("Fehler beim Loschen");B("Abfall-Element erfolgreich geloscht"),await F()}catch(rm){L(rm.message)}})(n.id),className:"px-3 py-2 bg-red-100 text-red-600 rounded-md text-sm hover:bg-red-200 transition-colors",children:(0,_a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,_a.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})},n.id)})})}),"templates"===P&&(0,_a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{const t=R[e.category]||{label:e.category,icon:"trash",color:"#6B7280"};return(0,_a.jsx)("div",{className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 border-l-4",style:{borderLeftColor:e.color||t.color},children:(0,_a.jsxs)("div",{className:"p-6",children:[(0,_a.jsxs)("div",{className:"flex items-start mb-4",children:[(0,_a.jsx)("div",{className:"p-3 rounded-lg mr-3 flex-shrink-0",style:{backgroundColor:(e.color||t.color)+"20",color:e.color||t.color},children:(0,_a.jsx)(jh,{type:e.icon||t.icon})}),(0,_a.jsxs)("div",{className:"flex-1",children:[(0,_a.jsx)("h3",{className:"font-bold text-gray-900 text-sm leading-tight mb-1",children:e.name}),(0,_a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,_a.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:t.label}),e.waste_code&&(0,_a.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-700",children:e.waste_code})]})]})]}),(0,_a.jsxs)("div",{className:"space-y-3",children:[(0,_a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,_a.jsx)(Sh,{level:e.hazard_level}),(0,_a.jsx)(Ch,{frequency:e.default_frequency})]}),e.description&&(0,_a.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.disposal_instructions&&(0,_a.jsxs)("div",{className:"text-xs bg-blue-50 border-l-2 border-blue-400 p-2 rounded",children:[(0,_a.jsx)("span",{className:"font-medium text-gray-700",children:"Anweisungen:"}),(0,_a.jsx)("p",{className:"text-gray-600 mt-1",children:e.disposal_instructions})]})]}),(0,_a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,_a.jsx)("button",{onClick:()=>z(e),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700 transition-colors font-medium",children:"+ Schnell hinzufugen"})})]})},e.id)})}),g&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,_a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,_a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_a.jsx)("h3",{className:"text-2xl font-bold",children:"Schnellzugriff - Vorlagen"}),(0,_a.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,_a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>{const t=R[e.category]||{label:e.category,icon:"trash",color:"#6B7280"};return(0,_a.jsxs)("button",{onClick:()=>{z(e),b(!1)},className:"text-left p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:shadow-md transition-all",children:[(0,_a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,_a.jsx)("div",{className:"p-2 rounded-lg mr-2",style:{backgroundColor:(e.color||t.color)+"20",color:e.color||t.color},children:(0,_a.jsx)(jh,{type:e.icon||t.icon,className:"w-5 h-5"})}),(0,_a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_a.jsx)("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:e.name}),(0,_a.jsx)("p",{className:"text-xs text-gray-500",children:e.waste_code})]})]}),(0,_a.jsx)("div",{className:"flex gap-1",children:(0,_a.jsx)(Sh,{level:e.hazard_level})})]},e.id)})})]})}),h&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,_a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,_a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_a.jsx)("h3",{className:"text-xl font-bold",children:"Neue Entsorgung erstellen"}),(0,_a.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,_a.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{if(!(await fetch("/api/waste/items",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(I)})).ok)throw new Error("Fehler beim Erstellen des Abfall-Elements");{const e=t.find(e=>e.id===parseInt(I.template_id));B('Entsorgung "'.concat(null===e||void 0===e?void 0:e.name,'" erfolgreich erstellt!')),m(!1),M({template_id:"",next_disposal_date:"",assigned_to:"",notification_users:[],notes:""}),await F()}}catch(rm){L(rm.message)}finally{c(!1)}},className:"space-y-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abfall-Typ *"}),(0,_a.jsxs)("select",{value:I.template_id,onChange:e=>M(Fe(Fe({},I),{},{template_id:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,_a.jsx)("option",{value:"",children:"Typ wahlen..."}),t.map(e=>{var t;return(0,_a.jsxs)("option",{value:e.id,children:[e.name," (",e.waste_code,") - ",null===(t=R[e.category])||void 0===t?void 0:t.label]},e.id)})]})]}),I.template_id&&(()=>{const e=t.find(e=>e.id===parseInt(I.template_id));if(!e)return null;const n=R[e.category]||{};return(0,_a.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:(0,_a.jsxs)("div",{className:"flex items-start",children:[(0,_a.jsx)("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:(e.color||n.color)+"40",color:e.color||n.color},children:(0,_a.jsx)(jh,{type:e.icon||n.icon})}),(0,_a.jsxs)("div",{className:"flex-1",children:[(0,_a.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,_a.jsx)(Sh,{level:e.hazard_level}),(0,_a.jsx)(Ch,{frequency:e.default_frequency})]}),(0,_a.jsx)("p",{className:"text-sm text-gray-700",children:e.disposal_instructions})]})]})})})(),(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nachste Entsorgung *"}),(0,_a.jsx)("input",{type:"date",value:I.next_disposal_date,onChange:e=>M(Fe(Fe({},I),{},{next_disposal_date:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zuweisen an"}),(0,_a.jsxs)("select",{value:I.assigned_to,onChange:e=>M(Fe(Fe({},I),{},{assigned_to:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,_a.jsx)("option",{value:"",children:"Niemand zugewiesen"}),i.map(e=>(0,_a.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benachrichtigungen senden an"}),(0,_a.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 space-y-2 max-h-40 overflow-y-auto bg-gray-50",children:i.map(e=>(0,_a.jsxs)("label",{className:"flex items-center hover:bg-white px-2 py-1 rounded cursor-pointer",children:[(0,_a.jsx)("input",{type:"checkbox",checked:I.notification_users.includes(e.id),onChange:t=>{t.target.checked?M(Fe(Fe({},I),{},{notification_users:[...I.notification_users,e.id]})):M(Fe(Fe({},I),{},{notification_users:I.notification_users.filter(t=>t!==e.id)}))},className:"mr-2 text-blue-600 focus:ring-blue-500"}),(0,_a.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,_a.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.role,")"]})]},e.id))})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notizen"}),(0,_a.jsx)("textarea",{value:I.notes,onChange:e=>M(Fe(Fe({},I),{},{notes:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Zusatzliche Informationen oder besondere Hinweise..."})]}),(0,_a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,_a.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",disabled:l,children:"Abbrechen"}),(0,_a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors disabled:bg-gray-400",disabled:l,children:l?"Erstelle...":"Erstellen"})]})]})]})}),v&&k&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,_a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,_a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Abfall zuweisen"}),(0,_a.jsxs)("div",{className:"space-y-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zuweisen an"}),(0,_a.jsxs)("select",{value:k.assigned_to||"",onChange:e=>N(Fe(Fe({},k),{},{assigned_to:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,_a.jsx)("option",{value:"",children:"Niemand zugewiesen"}),i.map(e=>(0,_a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Benachrichtigungen senden an"}),(0,_a.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:i.map(e=>(0,_a.jsxs)("label",{className:"flex items-center",children:[(0,_a.jsx)("input",{type:"checkbox",checked:(k.notification_users||[]).includes(e.id),onChange:t=>{const n=k.notification_users||[];t.target.checked?N(Fe(Fe({},k),{},{notification_users:[...n,e.id]})):N(Fe(Fe({},k),{},{notification_users:n.filter(t=>t!==e.id)}))},className:"mr-2"}),(0,_a.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})]}),(0,_a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,_a.jsx)("button",{onClick:()=>{x(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Abbrechen"}),(0,_a.jsx)("button",{onClick:()=>(async(e,t,n)=>{try{if(!(await fetch("/api/waste/items/".concat(e,"/assign"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({assigned_to:t,notification_users:n})})).ok)throw new Error("Fehler beim Zuweisen des Abfalls");x(!1),N(null),F(),n.length>0&&await U(e,n)}catch(rm){d(rm.message)}})(k.id,k.assigned_to,k.notification_users||[]),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Zuweisen"})]})]})]})})]})};function _h(e,t){return Po(2,arguments),Wo(e,6e4*Ao(t))}function Dh(e,t){var n,r;Po(1,arguments);var a=Oo(e);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var i=String(null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"extended"),o=String(null!==(r=null===t||void 0===t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var s="",l="",c="extended"===i?"-":"",u="extended"===i?":":"";if("time"!==o){var d=Yo(a.getDate(),2),f=Yo(a.getMonth()+1,2),p=Yo(a.getFullYear(),4);s="".concat(p).concat(c).concat(f).concat(c).concat(d)}if("date"!==o){var h=a.getTimezoneOffset();if(0!==h){var m=Math.abs(h),g=Yo(Math.floor(m/60),2),b=Yo(m%60,2);l="".concat(h<0?"+":"-").concat(g,":").concat(b)}else l="Z";var v=""===s?"":"T",x=[Yo(a.getHours(),2),Yo(a.getMinutes(),2),Yo(a.getSeconds(),2)].join(u);s="".concat(s).concat(v).concat(x).concat(l)}return s}const Th={Arbeit:"#0EA5E9",Meeting:"#6366F1",Urlaub:"#F97316",Krankheit:"#EF4444",Training:"#10B981",Projekt:"#8B5CF6",Termin:"#06B6D4",Deadline:"#DC2626",Personal:"#84CC16",default:"#475569"},Ah=function(){return Th[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Arbeit"]||Th.default},Ph=e=>{if(!e)return null;if(e instanceof Date)return e;if("string"===typeof e){const t=e.includes("T")?e:e.replace(" ","T"),n=new Date(t);if(!Number.isNaN(n.getTime()))return n}return null},Oh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||"string"!==typeof e)return t;try{const n=JSON.parse(e);return Array.isArray(n)?n:t}catch(n){return t}},Ih=e=>{var t,n,r,a;const i=null!==(t=Ph(e.start_date))&&void 0!==t?t:new Date,o=null!==(n=Ph(e.end_date))&&void 0!==n?n:_h(i,null!==(r=e.duration)&&void 0!==r?r:60),s=Boolean(e.is_all_day)||!e.start_time,l=e.type||"Termin";return{id:e.id,title:e.title,description:e.description||"",start:i,end:o,start_date:Os(i,"yyyy-MM-dd"),end_date:Os(o,"yyyy-MM-dd"),start_time:s?"":e.start_time||Os(i,"HH:mm"),end_time:s?"":e.end_time||Os(o,"HH:mm"),all_day:s,type:l,priority:e.priority||"medium",location:e.location||"",attendees:e.attendees?e.attendees.split(",").map(e=>e.trim()).filter(Boolean):[],reminder:null!==(a=e.reminder)&&void 0!==a?a:15,status:e.status||"confirmed",color:e.color||Ah(l),notes:e.notes||"",category:e.category||"work",recurring:Boolean(e.is_recurring),recurring_pattern:e.recurrence_pattern||"weekly",recurring_end:e.recurrence_end_date?Os(Ph(e.recurrence_end_date),"yyyy-MM-dd"):"",tags:Oh(e.tags),raw:e}},Mh=function(e,t){return e?arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!t?new Date("".concat(e,"T00:00:00")):new Date("".concat(e,"T").concat(t)):null},Rh=e=>{var t;const n=Mh(e.start_date,e.start_time,e.all_day),r=Mh(e.end_date||e.start_date,e.end_time||e.start_time,e.all_day);return{title:e.title,description:e.description||"",startDate:null===n||void 0===n?void 0:n.toISOString(),endDate:null===r||void 0===r?void 0:r.toISOString(),startTime:e.all_day?null:e.start_time||(n?Os(n,"HH:mm"):null),endTime:e.all_day?null:e.end_time||(r?Os(r,"HH:mm"):null),type:e.type||"Termin",isAllDay:Boolean(e.all_day),isRecurring:Boolean(e.recurring),recurrencePattern:e.recurring?e.recurring_pattern:null,recurrenceEndDate:e.recurring&&e.recurring_end?new Date(e.recurring_end).toISOString():null,priority:e.priority||"medium",location:e.location||"",attendees:Array.isArray(e.attendees)?e.attendees.join(","):e.attendees||"",reminder:null!==(t=e.reminder)&&void 0!==t?t:15,category:e.category||"work"}},Lh=[{value:null,label:"Alle",chipClass:"bg-slate-100 text-slate-600 hover:bg-slate-200"},{value:"Arbeit",label:"Arbeit",chipClass:"bg-sky-100 text-sky-700 hover:bg-sky-200"},{value:"Meeting",label:"Meetings",chipClass:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"},{value:"Urlaub",label:"Urlaub",chipClass:"bg-amber-100 text-amber-700 hover:bg-amber-200"},{value:"Krankheit",label:"Ausf\xe4lle",chipClass:"bg-rose-100 text-rose-700 hover:bg-rose-200"},{value:"Projekt",label:"Projekt",chipClass:"bg-violet-100 text-violet-700 hover:bg-violet-200"}],Bh=[{value:null,label:"Alle",badgeClass:"bg-slate-200 text-slate-700"},{value:"low",label:"\u23f1\ufe0f Locker",badgeClass:"bg-emerald-100 text-emerald-700"},{value:"medium",label:"\u26a1 Normal",badgeClass:"bg-amber-100 text-amber-700"},{value:"high",label:"\ud83d\udd25 Hoch",badgeClass:"bg-rose-100 text-rose-700"}],Fh=(0,o.memo)(e=>{let{toast:t,onClose:n}=e;return t?(0,_a.jsx)("div",{className:"fixed right-4 top-24 z-[1200] max-w-sm rounded-2xl border border-slate-200 bg-white/95 px-4 py-3 shadow-xl backdrop-blur",role:"status",children:(0,_a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,_a.jsx)("div",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ".concat("error"===t.type?"bg-rose-100 text-rose-600":"success"===t.type?"bg-emerald-100 text-emerald-600":"bg-sky-100 text-sky-600"),children:"error"===t.type?"!":"success"===t.type?"\u2713":"\u2139\ufe0f"}),(0,_a.jsxs)("div",{className:"flex-1 text-sm text-slate-700",children:[(0,_a.jsx)("p",{className:"font-semibold text-slate-900",children:t.title}),t.message&&(0,_a.jsx)("p",{className:"mt-1 leading-relaxed",children:t.message})]}),(0,_a.jsx)("button",{onClick:n,className:"text-slate-400 transition hover:text-slate-600","aria-label":"Hinweis schlie\xdfen",children:"\xd7"})]})}):null}),zh=()=>{const{user:e}=Pa(),[t,n]=(0,o.useState)(null),[r,a]=(0,o.useState)([]),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(new Date),[f,p]=(0,o.useState)("calendar"),[h,m]=(0,o.useState)(!0),[g,b]=(0,o.useState)(""),[v,x]=(0,o.useState)("week"),[y,w]=(0,o.useState)([]),[k,N]=(0,o.useState)([]),[j,S]=(0,o.useState)(null),[C,E]=(0,o.useState)("view"),[_,D]=(0,o.useState)(!1),[T,A]=(0,o.useState)(!1),[P,O]=(0,o.useState)(!1),[I,M]=(0,o.useState)([]),[R,L]=(0,o.useState)(!1),[B,F]=(0,o.useState)(null),[z,U]=(0,o.useState)(Lh[0].value),[W,H]=(0,o.useState)(Bh[0].value),[q,V]=(0,o.useState)(()=>{const e=new Date;return{start:Lo(e,{weekStartsOn:1}),end:Bo(e,{weekStartsOn:1}),view:"week"}}),G=(0,o.useCallback)(e=>{F(Fe({id:Date.now()},e))},[]);(0,o.useEffect)(()=>{if(!B)return;const e=setTimeout(()=>F(null),4200);return()=>clearTimeout(e)},[B]);const $=(0,o.useCallback)(async()=>{try{m(!0),b("");const[t,r,i,o]=await Promise.all([Na.get("/schedule/current-week"),Na.get("/schedule/my-schedule"),["admin","superadmin"].includes(e.role)?Na.get("/schedule/team-schedule"):Promise.resolve({data:[]}),Na.get("/schedule/archived")]);n(t.data),a(r.data||[]),s(i.data||[]),c(o.data||[]),w([{id:1,title:"Wochenplanung abschlie\xdfen",description:"Stelle sicher, dass alle Arbeitszeiten f\xfcr die kommende Woche eingetragen sind",status:"todo",priority:"high",assignee:e.name,dueDate:new Date,tags:["planung","dringend"]},{id:2,title:"Abfallentsorgung planen",description:"\xdcberpr\xfcfe die n\xe4chsten Entsorgungstermine f\xfcr alle Abfallarten",status:"inprogress",priority:"medium",assignee:e.name,dueDate:Io(new Date,3),tags:["abfall","logistik"]}]),N([{id:1,name:"Bioabfall",description:"Organische Abf\xe4lle aus K\xfcche und Garten",disposalInstructions:"Bioabfallbeh\xe4lter alle 2 Wochen am Dienstag rausstellen.\nNicht erlaubt: Plastik, Metall, Glas.",color:"#A9D08E",icon:"bio",defaultFrequency:"biweekly",defaultNextDate:Os(Io(new Date,7),"yyyy-MM-dd")},{id:2,name:"Papierm\xfcll",description:"Altpapier und Kartonagen",disposalInstructions:"Papiertonnen monatlich am Freitag rausstellen.\nNicht erlaubt: verschmutztes Papier, Tapeten, Foto- und Faxpapier.",color:"#D9E1F2",icon:"paper",defaultFrequency:"monthly",defaultNextDate:Os(Io(new Date,14),"yyyy-MM-dd")},{id:3,name:"Restm\xfcll",description:"Nicht-recyclebare Abf\xe4lle",disposalInstructions:"Restm\xfclltonnen w\xf6chentlich am Montag rausstellen.\nNicht erlaubt: Wertstoffe, Elektroschrott, Sonderm\xfcll.",color:"#F4B084",icon:"trash",defaultFrequency:"weekly",defaultNextDate:Os(new Date,"yyyy-MM-dd")}])}catch(rm){console.error("Error loading data:",rm),b("Fehler beim Laden der Daten. Bitte versuche es sp\xe4ter erneut.")}finally{m(!1)}},[e.role]);(0,o.useEffect)(()=>{$()},[$]),(0,o.useEffect)(()=>{(async()=>{try{var e;L(!0);const t=null!==q&&void 0!==q&&q.start?Dh(q.start):null,n=null!==q&&void 0!==q&&q.end?Dh(q.end):null,r=await Sa(t,n,z||void 0,W||void 0);if(304===(null===r||void 0===r?void 0:r.status))return;const a=Array.isArray(null===r||void 0===r?void 0:r.data)?r.data:Array.isArray(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.data)?r.data.data:[];M(a.map(Ih))}catch(rm){console.error("Error loading events:",rm),G({type:"error",title:"Termine konnten nicht geladen werden",message:"Bitte \xfcberpr\xfcfe deine Verbindung und versuche es erneut."})}finally{L(!1)}})()},[null===q||void 0===q?void 0:q.start,null===q||void 0===q?void 0:q.end,z,W,G]);const K=(0,o.useCallback)(e=>{d(e)},[]),Y=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view";S(e),E(t),D(!0)},[]),J=(0,o.useCallback)(async e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.title)&&void 0!==t&&t.trim())try{if("create"===C){const t=await Ca(Rh(e));M(e=>[...e,Ih(t.data)]),G({type:"success",title:"Termin erstellt",message:"".concat(e.title," wurde hinzugef\xfcgt.")})}else{const t=await((e,t)=>Na.put("/schedule/events/".concat(e),t))(e.id,Rh(e));M(n=>n.map(n=>n.id===e.id?Ih(t.data):n)),G({type:"success",title:"Termin aktualisiert"})}D(!1),A(!1)}catch(rm){console.error("Error saving event:",rm),G({type:"error",title:"Speichern fehlgeschlagen",message:"Der Termin konnte nicht gespeichert werden."})}else G({type:"error",title:"Titel fehlt",message:"Bitte gib einen aussagekr\xe4ftigen Titel f\xfcr den Termin an."})},[C,G]),Q=(0,o.useCallback)(()=>{A(!1),S(null)},[]),X=(0,o.useCallback)(async e=>{try{await(t=e,Na.delete("/schedule/events/".concat(t))),M(t=>t.filter(t=>t.id!==e)),G({type:"success",title:"Termin gel\xf6scht"}),D(!1)}catch(rm){console.error("Error deleting event:",rm),G({type:"error",title:"L\xf6schen fehlgeschlagen",message:"Bitte versuche es in ein paar Sekunden erneut."})}var t},[G]),Z=(0,o.useCallback)(async e=>{try{var t,n;const r=null!==(t=Mh(e.start_date,e.start_time,e.all_day))&&void 0!==t?t:new Date,a=null!==(n=Mh(e.end_date||e.start_date,e.end_time||e.start_time,e.all_day))&&void 0!==n?n:_h(r,60),i=Io(r,1),o=Io(a,1),s=Rh(Fe(Fe({},e),{},{title:"".concat(e.title||"Termin"," (Kopie)"),start_date:Os(i,"yyyy-MM-dd"),end_date:Os(o,"yyyy-MM-dd"),start_time:e.all_day?"":Os(i,"HH:mm"),end_time:e.all_day?"":Os(o,"HH:mm")})),l=await Ca(s);M(e=>[...e,Ih(l.data)]),G({type:"success",title:"Termin dupliziert",message:"".concat(e.title," wurde auf den Folgetag kopiert.")}),D(!1)}catch(rm){console.error("Error duplicating event:",rm),G({type:"error",title:"Duplizieren fehlgeschlagen"})}},[G]),ee=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("handleCalendarEventCreate called with:",t);const n=t.start?new Date(t.start):u||new Date,r=t.end?new Date(t.end):_h(n,60);S({title:t.title||"",description:t.description||"",start_date:Os(n,"yyyy-MM-dd"),end_date:Os(r,"yyyy-MM-dd"),start_time:t.all_day?"":Os(n,"HH:mm"),end_time:t.all_day?"":Os(r,"HH:mm"),all_day:Boolean(t.all_day),type:t.type||"Arbeit",priority:t.priority||"medium",location:t.location||"",attendees:t.attendees||[],reminder:null!==(e=t.reminder)&&void 0!==e?e:15,status:"confirmed",category:t.category||"work",notes:t.notes||""}),E("create"),A(!0),console.log("EventModal should now be open")},te=((0,o.useCallback)((e,t)=>{w(n=>n.map(n=>n.id===e?Fe(Fe({},n),t):n))},[]),(0,o.useCallback)(e=>{w(t=>[...t,Fe(Fe({},e),{},{id:Date.now()})])},[]),(0,o.useCallback)(e=>{w(t=>t.filter(t=>t.id!==e))},[]),(0,o.useCallback)(e=>{if(!e)return;const t=e=>e?e instanceof Date?e:new Date(e):null,n=(e,t)=>!e&&!t||!(!e||!t)&&e.getTime()===t.getTime(),r=t(e.start),a=t(e.end),i=e.view||v;V(e=>{const t=n(null===e||void 0===e?void 0:e.start,r),o=n(null===e||void 0===e?void 0:e.end,a),s=((null===e||void 0===e?void 0:e.view)||v)===i;return t&&o&&s?e:{start:r,end:a,view:i}}),e.view&&e.view!==v&&x(e.view),r&&d(e=>n(e,r)?e:r)},[v]),(0,o.useCallback)(e=>{U(e)},[])),ne=(0,o.useCallback)(e=>{H(e)},[]),re=(0,o.useMemo)(()=>Lh.find(e=>e.value===z),[z]),ae=(0,o.useMemo)(()=>Bh.find(e=>e.value===W),[W]);(0,o.useCallback)(e=>{N(t=>[...t,Fe(Fe({},e),{},{id:Date.now()})])},[]),(0,o.useCallback)(e=>{N(t=>t.map(t=>t.id===e.id?e:t))},[]),(0,o.useCallback)(e=>{N(t=>t.filter(t=>t.id!==e))},[]);return h?(0,_a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,_a.jsxs)("div",{className:"text-center",children:[(0,_a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,_a.jsx)("p",{className:"mt-4 text-gray-600",children:"Daten werden geladen..."})]})}):g?(0,_a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,_a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:g})}):(0,_a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,_a.jsxs)("div",{className:"mb-6",children:[(0,_a.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Dashboard"}),(0,_a.jsxs)("p",{className:"text-gray-600",children:["Willkommen zur\xfcck, ",e.name,"! Hier ist dein \xdcberblick f\xfcr heute."]})]}),(0,_a.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,_a.jsxs)("nav",{className:"flex space-x-8",children:[(0,_a.jsx)("button",{onClick:()=>p("calendar"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("calendar"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Kalender"}),(0,_a.jsx)("button",{onClick:()=>p("kanban"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("kanban"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Kanban Board"}),(0,_a.jsx)("button",{onClick:()=>p("waste-manager"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("waste-manager"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Abfallmanagement"})]})}),"calendar"===f&&(0,_a.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-lg",children:[(0,_a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Fortgeschrittener Kalender"}),(0,_a.jsx)("p",{className:"text-sm text-slate-500",children:"Plane Schichten, Termine und Eins\xe4tze mit einer Ansicht, die sich wie eine mobile App anf\xfchlt."})]}),(0,_a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_a.jsx)("button",{onClick:()=>{console.log("Neuer Termin button clicked, selectedDate:",u),ee({start:u})},className:"rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-500",children:"+ Neuer Termin"}),"Vollzeit"===e.employment_type&&(0,_a.jsx)("button",{onClick:()=>O(!0),className:"rounded-full bg-orange-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-orange-500",children:"\ud83c\udfd6\ufe0f Abwesenheit melden"})]})]}),(0,_a.jsxs)("div",{className:"mt-5 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,_a.jsx)("div",{className:"flex flex-wrap gap-2",children:Lh.map(e=>(0,_a.jsx)("button",{onClick:()=>te(e.value),className:"rounded-full px-3 py-1 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-blue-400 ".concat(z===e.value?"".concat(e.chipClass," ring-2 ring-blue-200"):"".concat(e.chipClass," opacity-70")),children:e.label},e.label))}),(0,_a.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto",children:Bh.map(e=>(0,_a.jsx)("button",{onClick:()=>ne(e.value),className:"rounded-full px-3 py-1 text-xs font-semibold transition ".concat(W===e.value?"".concat(e.badgeClass," ring-2 ring-offset-1 ring-offset-white"):"".concat(e.badgeClass," opacity-60")),children:e.label},e.label))})]}),((null===re||void 0===re?void 0:re.value)||(null===ae||void 0===ae?void 0:ae.value))&&(0,_a.jsx)("div",{className:"mt-4 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:(0,_a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1",children:[(0,_a.jsx)("span",{className:"font-semibold text-slate-700",children:"Filter aktiv:"}),(0,_a.jsx)("span",{children:null===re||void 0===re?void 0:re.label}),(0,_a.jsx)("span",{children:"\u2022"}),(0,_a.jsx)("span",{children:null===ae||void 0===ae?void 0:ae.label}),(0,_a.jsx)("button",{onClick:()=>{U(Lh[0].value),H(Bh[0].value)},className:"ml-2 text-slate-400 hover:text-slate-600","aria-label":"Filter zur\xfccksetzen",children:"\xd7"})]})}),(0,_a.jsxs)("div",{className:"relative mt-6 h-[720px]",children:[R&&(0,_a.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-white/70 backdrop-blur-sm",children:(0,_a.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-200 border-t-blue-500"})}),(0,_a.jsx)(Vs,{events:I,selectedDate:u,onDateSelect:K,onEventClick:Y,onEventCreate:ee})]})]}),"kanban"===f&&(0,_a.jsx)(kh,{}),"waste-manager"===f&&(0,_a.jsx)(Eh,{}),(0,_a.jsx)(rl,{event:j,isOpen:_,onClose:()=>D(!1),onSave:J,onDelete:X,onDuplicate:Z,mode:C}),(0,_a.jsx)(il,{isOpen:T,onClose:Q,onSave:J,selectedDate:u,event:j,mode:C}),(0,_a.jsx)(ol,{isOpen:P,onClose:()=>{O(!1)},onSave:async e=>{try{var t;await(e=>Na.post("/schedule/absence",e))(e),G({type:"success",title:"Abwesenheit gemeldet",message:"".concat(e.title," wurde erfolgreich f\xfcr ").concat(e.start_date," bis ").concat(e.end_date," gemeldet.")});const n=null!==q&&void 0!==q&&q.start?Dh(q.start):null,r=null!==q&&void 0!==q&&q.end?Dh(q.end):null,a=await Sa(n,r,z||void 0,W||void 0),i=Array.isArray(null===a||void 0===a?void 0:a.data)?a.data:Array.isArray(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data)?a.data.data:[];M(i.map(Ih)),O(!1)}catch(rm){console.error("Error creating absence:",rm),G({type:"error",title:"Fehler beim Speichern",message:"Die Abwesenheit konnte nicht gespeichert werden. Bitte versuche es erneut."})}},selectedDate:u}),(0,_a.jsx)(Fh,{toast:B,onClose:()=>F(null)})]})};function Uh(e){return Po(1,arguments),zo(e,function(e,t){return Po(2,arguments),Io(e,-Ao(t))}(Date.now(),1))}const Wh=e=>{let{variant:t="spinner",size:n="md",color:r="blue-600",fullScreen:a=!1,text:i="",className:o=""}=e;const s={spinner:{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-16 h-16 border-4",xl:"w-24 h-24 border-4"},dots:{sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4",xl:"w-6 h-6"},pulse:{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"}},l={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},c=()=>(0,_a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,_a.jsx)("div",{className:"".concat(s.spinner[n]," border-gray-200 border-t-").concat(r," rounded-full animate-spin transition-all duration-300")}),i&&(0,_a.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium animate-pulse"),children:i})]}),u=()=>(0,_a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,_a.jsxs)("div",{className:"flex space-x-2",children:[(0,_a.jsx)("div",{className:"".concat(s.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"0ms"}}),(0,_a.jsx)("div",{className:"".concat(s.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"150ms"}}),(0,_a.jsx)("div",{className:"".concat(s.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"300ms"}})]}),i&&(0,_a.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium"),children:i})]}),d=()=>(0,_a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,_a.jsxs)("div",{className:"relative",children:[(0,_a.jsx)("div",{className:"".concat(s.pulse[n]," bg-").concat(r," rounded-full animate-ping absolute opacity-75")}),(0,_a.jsx)("div",{className:"".concat(s.pulse[n]," bg-").concat(r," rounded-full relative")})]}),i&&(0,_a.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium animate-pulse"),children:i})]}),f=()=>{const e={sm:"w-1",md:"w-1.5",lg:"w-2",xl:"w-3"};return(0,_a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,_a.jsx)("div",{className:"flex items-end space-x-1",children:{sm:["h-4","h-6","h-8","h-6","h-4"],md:["h-6","h-8","h-10","h-8","h-6"],lg:["h-8","h-12","h-16","h-12","h-8"],xl:["h-12","h-16","h-24","h-16","h-12"]}[n].map((t,a)=>(0,_a.jsx)("div",{className:"".concat(e[n]," ").concat(t," bg-").concat(r," rounded-full animate-pulse"),style:{animationDelay:"".concat(100*a,"ms")}},a))}),i&&(0,_a.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium"),children:i})]})},p=()=>{switch(t){case"dots":return(0,_a.jsx)(u,{});case"pulse":return(0,_a.jsx)(d,{});case"bars":return(0,_a.jsx)(f,{});default:return(0,_a.jsx)(c,{})}};return a?(0,_a.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity duration-300 ".concat(o),children:p()}):(0,_a.jsx)("div",{className:"flex items-center justify-center p-4 ".concat(o),children:p()})},Hh="AIzaSyDCTq7o-lL1b3gC5ZEYbQNgN9hx7DqR0iE",qh="https://tenor.googleapis.com/v2",Vh=[{name:"Happy",emoji:"\ud83d\ude0a"},{name:"Sad",emoji:"\ud83d\ude22"},{name:"Love",emoji:"\u2764\ufe0f"},{name:"Funny",emoji:"\ud83d\ude02"},{name:"Celebrate",emoji:"\ud83c\udf89"},{name:"Thumbs Up",emoji:"\ud83d\udc4d"},{name:"Dance",emoji:"\ud83d\udc83"},{name:"Wow",emoji:"\ud83d\ude2e"}],Gh=e=>{let{onSelectGif:t,onClose:n}=e;const[r,a]=(0,o.useState)(""),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(null),[f,p]=(0,o.useState)(null);(0,o.useEffect)(()=>{const e=setTimeout(()=>{r.trim()?m(r):u||h()},500);return()=>clearTimeout(e)},[r]),(0,o.useEffect)(()=>{h()},[]);const h=async()=>{try{c(!0);const e=await fetch("".concat(qh,"/featured?key=").concat(Hh,"&client_key=biolab_messenger&limit=20&media_filter=gif"));if(!e.ok)throw new Error("Failed to load trending GIFs");const t=await e.json();s(t.results||[])}catch(e){console.error("Error loading trending GIFs:",e),Ha("Fehler beim Laden der Trending GIFs"),s([])}finally{c(!1)}},m=async e=>{try{c(!0);const t=await fetch("".concat(qh,"/search?q=").concat(encodeURIComponent(e),"&key=").concat(Hh,"&client_key=biolab_messenger&limit=20&media_filter=gif"));if(!t.ok)throw new Error("Failed to search GIFs");const n=await t.json();s(n.results||[])}catch(t){console.error("Error searching GIFs:",t),Ha("Fehler beim Suchen der GIFs"),s([])}finally{c(!1)}};return(0,_a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm animate-fadeIn",children:(0,_a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[80vh] overflow-hidden shadow-2xl transform transition-all",children:[(0,_a.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-purple-500 to-pink-500",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,_a.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center",children:[(0,_a.jsx)("span",{className:"mr-2",children:"GIF Picker"}),(0,_a.jsx)("span",{className:"text-sm font-normal opacity-90",children:"powered by Tenor"})]}),(0,_a.jsx)("button",{onClick:n,className:"text-white hover:bg-white hover:bg-opacity-20 p-1.5 rounded-full transition-colors",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_a.jsxs)("div",{className:"relative",children:[(0,_a.jsx)("input",{type:"text",value:r,onChange:e=>{a(e.target.value),d(null)},placeholder:"Suche nach GIFs...",className:"w-full border-0 rounded-lg px-4 py-2 pl-10 focus:ring-2 focus:ring-purple-300 text-gray-900",autoFocus:!0}),(0,_a.jsx)("svg",{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r&&(0,_a.jsx)("button",{onClick:()=>{a(""),d(null),h()},className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_a.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:Vh.map(e=>(0,_a.jsxs)("button",{onClick:()=>(e=>{d(e),a(e.name),m(e.name)})(e),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-all ".concat((null===u||void 0===u?void 0:u.name)===e.name?"bg-white text-purple-600 shadow-md":"bg-white bg-opacity-20 text-white hover:bg-opacity-30"),children:[(0,_a.jsx)("span",{className:"mr-1",children:e.emoji}),e.name]},e.name))})]}),(0,_a.jsx)("div",{className:"overflow-y-auto p-4",style:{maxHeight:"calc(80vh - 180px)"},children:l?(0,_a.jsx)(Wh,{variant:"dots",size:"md",text:"Lade GIFs..."}):0===i.length?(0,_a.jsxs)("div",{className:"text-center p-8 text-gray-500",children:[(0,_a.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,_a.jsx)("p",{className:"text-lg font-medium",children:"Keine GIFs gefunden"}),(0,_a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Versuche eine andere Suche"})]}):(0,_a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:i.map(e=>{var r,a,i,o,s,l;const c=(null===(r=e.media_formats)||void 0===r||null===(a=r.tinygif)||void 0===a?void 0:a.url)||(null===(i=e.media_formats)||void 0===i||null===(o=i.gif)||void 0===o?void 0:o.url),u=null===(s=e.media_formats)||void 0===s||null===(l=s.gif)||void 0===l?void 0:l.url;return(0,_a.jsxs)("div",{onClick:()=>(e=>{var r,a,i,o;const s=(null===(r=e.media_formats)||void 0===r||null===(a=r.gif)||void 0===a?void 0:a.url)||(null===(i=e.media_formats)||void 0===i||null===(o=i.tinygif)||void 0===o?void 0:o.url);var l,c;s?(t({url:s,preview:(null===(l=e.media_formats)||void 0===l||null===(c=l.tinygif)||void 0===c?void 0:c.url)||s,title:e.content_description||"GIF"}),n()):Ha("GIF URL nicht gefunden")})(e),onMouseEnter:()=>p(e.id),onMouseLeave:()=>p(null),className:"relative aspect-square rounded-lg overflow-hidden cursor-pointer group bg-gray-100",children:[(0,_a.jsx)("img",{src:f===e.id?u:c,alt:e.content_description||"GIF",className:"w-full h-full object-cover transition-all group-hover:scale-105",loading:"lazy"}),(0,_a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:(0,_a.jsx)("svg",{className:"w-10 h-10 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})})]},e.id)})})}),(0,_a.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50 text-center",children:(0,_a.jsxs)("p",{className:"text-xs text-gray-500",children:["Powered by"," ",(0,_a.jsx)("a",{href:"https://tenor.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Tenor"})]})})]})})},$h=()=>{const{user:e}=Pa(),{isAdmin:t}=za(),n=ee(),[r,a]=(0,o.useState)([]),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)([]),[f,p]=(0,o.useState)(""),[h,m]=(0,o.useState)(!0),[g,b]=(0,o.useState)(!1),[v,x]=(0,o.useState)(""),[y,w]=(0,o.useState)(""),[k,N]=(0,o.useState)(!1),[j,S]=(0,o.useState)(!1),[C,E]=(0,o.useState)(new Set),[_,D]=(0,o.useState)(new Set),[T,A]=(0,o.useState)(!1),[P,O]=(0,o.useState)(!1),[I,M]=(0,o.useState)(null),R=(0,o.useRef)(null),L=(0,o.useRef)(null),[B,F]=(0,o.useState)(!1),z=(0,o.useRef)(null),U=(0,o.useRef)(null),W=(0,o.useRef)(null);(0,o.useEffect)(()=>{U.current=new Audio("/sounds/notification.mp3"),U.current.volume=.5},[]),(0,o.useEffect)(()=>{const t=localStorage.getItem("token");if(!t||!e)return;const r=mo(window.location.origin,{auth:{token:t},transports:["websocket","polling"]});return r.on("connect",()=>{console.log("WebSocket connected for messenger")}),r.on("online_users",e=>{E(new Set(e.map(e=>e.userId)))}),r.on("user_online",e=>{E(t=>new Set([...t,e.userId]))}),r.on("user_offline",e=>{E(t=>{const n=new Set(t);return n.delete(e.userId),n})}),r.on("new_message",e=>{l&&e.sender_id===l.id&&(d(t=>[...t,e]),r.emit("mark_as_read",{messageId:e.id})),q();const t="/messages"===n.pathname,a=l&&e.sender_id===l.id;if(!t||!a){const n=e.message.length>50?e.message.substring(0,50)+"...":e.message;Va("Neue Nachricht von ".concat(e.sender_name),{label:"Anzeigen",onClick:()=>{t||(window.location.href="/messages")}});"true"===localStorage.getItem("notification_sound")&&U.current&&U.current.play().catch(e=>console.warn("Could not play sound:",e)),"granted"===xo()&&No(ko.NEW_MESSAGE,{messageId:e.id,senderId:e.sender_id,senderName:e.sender_name,messagePreview:n})}}),r.on("user_typing",e=>{l&&e.userId===l.id&&D(t=>new Set([...t,e.userId]))}),r.on("user_stopped_typing",e=>{D(t=>{const n=new Set(t);return n.delete(e.userId),n})}),r.on("message_read",e=>{let{messageId:t}=e;d(e=>e.map(e=>e.id===t?Fe(Fe({},e),{},{read_status:1}):e))}),M(r),()=>{r.disconnect()}},[e,l,n.pathname]),(0,o.useEffect)(()=>{H(),q()},[]),(0,o.useEffect)(()=>{l&&V(l.id)},[l]),(0,o.useEffect)(()=>{$()},[u]),(0,o.useEffect)(()=>{W.current&&(W.current.style.height="auto",W.current.style.height=Math.min(W.current.scrollHeight,120)+"px")},[f]);const H=async()=>{try{const t=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to load users");const n=await t.json();s(n.filter(t=>t.id!==e.id))}catch(rm){console.error("Error loading users:",rm),Ha("Fehler beim Laden der Benutzer")}},q=async()=>{try{m(!0);const e=await fetch("/api/messages/conversations",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Failed to load conversations");const t=await e.json();a(t)}catch(rm){console.error("Error loading conversations:",rm),Ha("Fehler beim Laden der Unterhaltungen")}finally{m(!1)}},V=async e=>{try{const t=await fetch("/api/messages/conversation/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok)throw new Error("Failed to load messages");const n=await t.json();d(n)}catch(rm){console.error("Error loading messages:",rm),Ha("Fehler beim Laden der Nachrichten")}},G=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e&&e.preventDefault();const r=n||f.trim();if(r&&l&&!g){b(!0),A(!1);try{const e=await fetch("/api/messages/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({receiver_id:l.id,message:r,messageType:t})});if(!e.ok)throw new Error("Failed to send message");const n=await e.json();d(e=>[...e,n]),p(""),q(),"gif"===t&&Wa("GIF gesendet!")}catch(rm){console.error("Error sending message:",rm),Ha("Fehler beim Senden der Nachricht")}finally{b(!1)}}},$=()=>{var e;null===(e=R.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},K=e=>{if(!e)return"";const t=new Date(e);return Is(t)?Os(t,"HH:mm"):Uh(t)?"Gestern":Os(t,"dd.MM.yy",{locale:qs})},Y=e=>({superadmin:"Super Admins",admin:"Admins",employee:"Mitarbeiter",user:"Benutzer"}[e]||e),J=i.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.email.toLowerCase().includes(v.toLowerCase())),Q=(e=>{const t={superadmin:0,admin:1,employee:2,user:3},n=e.reduce((e,t)=>{const n=t.role||"user";return e[n]||(e[n]=[]),e[n].push(t),e},{});return Object.entries(n).sort((e,n)=>{let[r]=e,[a]=n;return t[r]-t[a]})})(J),X=y?u.filter(e=>e.message.toLowerCase().includes(y.toLowerCase())):u,Z=e=>Is(e)?"Heute":Uh(e)?"Gestern":Os(e,"dd. MMMM yyyy",{locale:qs}),te=e=>{let{user:t,size:n="w-10 h-10",showOnline:r=!1,fontSize:a="text-sm"}=e;const i=t.name.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2),o=["bg-gradient-to-br from-red-400 to-red-600","bg-gradient-to-br from-blue-400 to-blue-600","bg-gradient-to-br from-green-400 to-green-600","bg-gradient-to-br from-yellow-400 to-yellow-600","bg-gradient-to-br from-purple-400 to-purple-600","bg-gradient-to-br from-pink-400 to-pink-600","bg-gradient-to-br from-indigo-400 to-indigo-600","bg-gradient-to-br from-teal-400 to-teal-600"],s=t.id%o.length,l=C.has(t.id);return(0,_a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,_a.jsx)("div",{className:"".concat(n," ").concat(o[s]," rounded-full flex items-center justify-center text-white font-semibold shadow-md ").concat(a),children:i}),r&&(0,_a.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 ".concat(l?"bg-green-500":"bg-gray-400"," border-2 border-white rounded-full ").concat("w-12 h-12"===n?"w-4 h-4":"w-3 h-3"," transition-all duration-300 ").concat(l?"animate-pulse":"")})]})},ne=e=>{let{message:t,isOwn:n}=e;const r=!n&&t.sender_name?{id:t.sender_id,name:t.sender_name}:null,a="gif"===t.message_type||"gif"===t.type,i=y&&t.message.toLowerCase().includes(y.toLowerCase());return(0,_a.jsx)("div",{className:"flex ".concat(n?"justify-end":"justify-start"," mb-2 group px-2 transition-all duration-200 ").concat(i?"bg-yellow-50 -mx-2 px-4 py-1 rounded-lg":""),children:(0,_a.jsxs)("div",{className:"flex items-end gap-1.5 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg ".concat(n?"flex-row-reverse":"flex-row"),children:[!n&&r&&(0,_a.jsx)("div",{className:"mb-1",children:(0,_a.jsx)(te,{user:r,size:"w-7 h-7",fontSize:"text-xs"})}),(0,_a.jsx)("div",{className:"flex flex-col ".concat(n?"items-end":"items-start"),children:(0,_a.jsxs)("div",{className:"".concat(a?"p-1":"px-3 py-2"," shadow-sm transition-all duration-200 ").concat(n?"bg-[#3B82F6] text-white rounded-2xl rounded-br-md hover:shadow-md":"bg-[#F3F4F6] text-gray-900 rounded-2xl rounded-bl-md hover:shadow-md"),children:[a?(0,_a.jsx)("div",{className:"relative rounded-xl overflow-hidden",children:(0,_a.jsx)("img",{src:t.message,alt:"GIF",className:"max-w-[250px] max-h-64 object-contain",loading:"lazy"})}):(0,_a.jsx)("p",{className:"text-[14px] leading-relaxed whitespace-pre-wrap break-words",children:t.message}),(0,_a.jsxs)("div",{className:"flex items-center justify-end gap-1 mt-1 ".concat(a?"px-2 pb-1":""),children:[(0,_a.jsx)("span",{className:"text-[11px] ".concat(n?"text-blue-100":"text-gray-500"),children:Os(new Date(t.created_at),"HH:mm")}),n&&(0,_a.jsx)("div",{className:"flex items-center",children:t.read_status?(0,_a.jsx)("svg",{className:"w-4 h-4 text-blue-200",viewBox:"0 0 16 15",fill:"none",children:(0,_a.jsx)("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"currentColor"})}):(0,_a.jsx)("svg",{className:"w-4 h-4 text-blue-200",viewBox:"0 0 12 11",fill:"none",children:(0,_a.jsx)("path",{d:"M11.1 2.1L9.4 0.6C9.3 0.5 9.1 0.5 9 0.6L3.4 6.7C3.3 6.8 3.1 6.8 3 6.7L0.9 4.6C0.8 4.5 0.6 4.5 0.5 4.6L0 5.1C-0.1 5.2 -0.1 5.4 0 5.5L2.9 8.9C3 9 3.2 9 3.3 8.9L11 1.6C11.2 1.5 11.2 1.2 11.1 2.1Z",fill:"currentColor"})})})]})]})})]})})},re=()=>(0,_a.jsxs)("div",{className:"flex items-end gap-1.5 mb-2 px-2 animate-fadeIn",children:[(0,_a.jsx)("div",{className:"mb-1",children:(0,_a.jsx)("div",{className:"w-7 h-7 bg-gray-200 rounded-full animate-pulse"})}),(0,_a.jsx)("div",{className:"bg-[#F3F4F6] rounded-2xl rounded-bl-md px-4 py-3 shadow-sm",children:(0,_a.jsxs)("div",{className:"flex gap-1",children:[(0,_a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,_a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,_a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),ae=e=>{let{date:t}=e;return(0,_a.jsx)("div",{className:"flex items-center justify-center my-4",children:(0,_a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm text-gray-600 text-xs font-medium px-3 py-1.5 rounded-full shadow-sm border border-gray-200",children:Z(t)})})},ie=e=>{let{icon:t,title:n,description:r,action:a}=e;return(0,_a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,_a.jsxs)("div",{className:"text-center px-4 py-12 max-w-sm",children:[(0,_a.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-blue-50 to-blue-100 mb-6",children:t}),(0,_a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n}),(0,_a.jsx)("p",{className:"text-gray-500 mb-6",children:r}),a]})})};return(0,_a.jsxs)("div",{className:"h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 flex overflow-hidden",children:[(0,_a.jsxs)("div",{className:"".concat(B?"translate-x-0":"-translate-x-full"," fixed inset-y-0 left-0 z-50 w-full sm:w-96 bg-white shadow-2xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 flex flex-col border-r border-gray-200"),children:[(0,_a.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 flex-shrink-0",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Chats"}),(0,_a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_a.jsx)("button",{onClick:()=>N(!0),className:"p-2.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all duration-200 transform hover:scale-110",title:"Neue Unterhaltung",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,_a.jsx)("button",{onClick:()=>F(!1),className:"lg:hidden p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all duration-200",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,_a.jsxs)("div",{className:"relative",children:[(0,_a.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),placeholder:"Unterhaltungen durchsuchen...",className:"w-full bg-gray-50 border-0 rounded-xl px-4 py-2.5 pl-11 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200"}),(0,_a.jsx)("svg",{className:"w-5 h-5 absolute left-3.5 top-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,_a.jsx)("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:h?(0,_a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,_a.jsx)(Wh,{variant:"dots",size:"md",text:"Lade Unterhaltungen..."})}):0===r.length?(0,_a.jsx)(ie,{icon:(0,_a.jsx)("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),title:"Keine Unterhaltungen",description:"Starten Sie eine neue Unterhaltung, um loszulegen",action:(0,_a.jsxs)("button",{onClick:()=>N(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium shadow-lg shadow-blue-600/30 hover:shadow-xl hover:shadow-blue-600/40 transition-all duration-200 transform hover:scale-105",children:[(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Neue Unterhaltung"]})}):r.filter(e=>!v||(e.name||e.user_name||"").toLowerCase().includes(v.toLowerCase())).map(e=>{const t={id:e.id,name:e.name||e.user_name,email:e.email||e.user_email},n=(null===l||void 0===l?void 0:l.id)===e.id;return(0,_a.jsx)("div",{onClick:()=>{c(t),F(!1),w("")},className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-all duration-200 ".concat(n?"bg-blue-50 border-l-4 border-l-blue-600":"border-l-4 border-l-transparent"),children:(0,_a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_a.jsx)(te,{user:t,size:"w-12 h-12",showOnline:!0,fontSize:"text-base"}),(0,_a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_a.jsx)("p",{className:"text-sm font-semibold truncate ".concat(n?"text-blue-900":"text-gray-900"," ").concat(e.unreadCount>0?"font-bold":""),children:t.name}),e.lastMessageTime&&(0,_a.jsx)("span",{className:"text-xs flex-shrink-0 ml-2 ".concat(e.unreadCount>0?"text-blue-600 font-semibold":"text-gray-500"),children:K(e.lastMessageTime)})]}),(0,_a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,_a.jsx)("p",{className:"text-sm truncate flex-1 ".concat(e.unreadCount>0?"text-gray-900 font-medium":"text-gray-500"),children:e.lastMessage||"Keine Nachrichten"}),e.unreadCount>0&&(0,_a.jsx)("div",{className:"bg-blue-600 text-white text-xs rounded-full min-w-[20px] h-5 px-2 flex items-center justify-center font-semibold flex-shrink-0",children:e.unreadCount})]})]})]})},e.id)})})]}),(0,_a.jsx)("div",{className:"flex-1 flex flex-col min-w-0 bg-[#EFEAE2]",children:l?(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center flex-shrink-0 shadow-sm",children:[(0,_a.jsx)("button",{onClick:()=>F(!0),className:"lg:hidden mr-3 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all duration-200",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,_a.jsx)(te,{user:l,size:"w-10 h-10",showOnline:!0}),(0,_a.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,_a.jsx)("h2",{className:"text-base font-semibold text-gray-900 truncate",children:l.name}),(0,_a.jsx)("p",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:C.has(l.id)?(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full"}),"Online"]}):(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)("span",{className:"inline-block w-2 h-2 bg-gray-400 rounded-full"}),"Offline"]})})]}),(0,_a.jsx)("button",{onClick:()=>S(!j),className:"p-2 rounded-full transition-all duration-200 ".concat(j?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"),title:"Nachrichten durchsuchen",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),j&&(0,_a.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3 animate-fadeIn",children:(0,_a.jsxs)("div",{className:"relative",children:[(0,_a.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),placeholder:"Nachrichten durchsuchen...",className:"w-full bg-gray-50 border-0 rounded-xl px-4 py-2 pl-11 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200 text-sm"}),(0,_a.jsx)("svg",{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),y&&(0,_a.jsx)("button",{onClick:()=>w(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:(0,_a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,_a.jsxs)("div",{ref:L,className:"flex-1 overflow-y-auto overscroll-contain px-4 py-4",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d1d5db' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"},children:[0!==X.length||y?0===X.length&&y?(0,_a.jsx)(ie,{icon:(0,_a.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),title:"Keine Ergebnisse",description:'Keine Nachrichten gefunden f\xfcr "'.concat(y,'"')}):(0,_a.jsxs)(_a.Fragment,{children:[(e=>{const t=[];let n=null;return e.forEach(e=>{const r=new Date(e.created_at),a=Os(r,"yyyy-MM-dd");a!==n&&(n=a,t.push({type:"date",date:r})),t.push({type:"message",data:e})}),t})(X).map((t,n)=>"date"===t.type?(0,_a.jsx)(ae,{date:t.date},"date-".concat(n)):(0,_a.jsx)(ne,{message:t.data,isOwn:t.data.sender_id===e.id},t.data.id)),_.has(l.id)&&(0,_a.jsx)(re,{})]}):(0,_a.jsx)(ie,{icon:(0,_a.jsx)("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),title:"Noch keine Nachrichten",description:"Senden Sie die erste Nachricht und starten Sie die Unterhaltung"}),(0,_a.jsx)("div",{ref:R})]}),(0,_a.jsx)("div",{className:"bg-white border-t border-gray-200 px-4 py-3 flex-shrink-0",children:(0,_a.jsxs)("form",{onSubmit:G,className:"flex items-end gap-2",children:[(0,_a.jsx)("button",{type:"button",onClick:()=>O(!0),className:"p-2.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all duration-200 flex-shrink-0 transform hover:scale-110",title:"GIF senden",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,_a.jsxs)("div",{className:"flex-1 relative",children:[(0,_a.jsx)("textarea",{ref:W,value:f,onChange:e=>{p(e.target.value),A(!0),I&&l&&I.emit("typing_start",{receiverId:l.id}),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{A(!1),I&&l&&I.emit("typing_stop",{receiverId:l.id})},1e3)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),G(e))},placeholder:"Nachricht eingeben...",className:"w-full bg-gray-50 border-0 rounded-2xl px-4 py-3 pr-12 focus:ring-2 focus:ring-blue-500 focus:bg-white resize-none overflow-hidden transition-all duration-200 text-sm",disabled:g,rows:"1",style:{maxHeight:"120px"}}),(0,_a.jsx)("button",{type:"submit",disabled:!f.trim()||g,className:"absolute right-2 bottom-2.5 p-2 text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-full transition-all duration-200 transform hover:scale-110 disabled:scale-100 shadow-lg disabled:shadow-none",children:g?(0,_a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]})})]}):(0,_a.jsx)(ie,{icon:(0,_a.jsx)("svg",{className:"w-12 h-12 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),title:"Willkommen im Messenger",description:"W\xe4hlen Sie eine Unterhaltung aus der Liste oder starten Sie eine neue",action:(0,_a.jsxs)("button",{onClick:()=>F(!0),className:"lg:hidden inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium shadow-lg shadow-blue-600/30 hover:shadow-xl hover:shadow-blue-600/40 transition-all duration-200 transform hover:scale-105",children:[(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Unterhaltungen anzeigen"]})})}),k&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:(0,_a.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[85vh] overflow-hidden shadow-2xl transform transition-all animate-scaleIn",children:[(0,_a.jsxs)("div",{className:"p-5 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Neue Unterhaltung"}),(0,_a.jsx)("button",{onClick:()=>{N(!1),x("")},className:"text-white hover:bg-white/20 p-2 rounded-full transition-all duration-200",children:(0,_a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_a.jsxs)("div",{className:"relative",children:[(0,_a.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),placeholder:"Benutzer suchen...",className:"w-full border-0 rounded-xl px-4 py-2.5 pl-11 focus:ring-2 focus:ring-blue-300 text-sm",autoFocus:!0}),(0,_a.jsx)("svg",{className:"w-5 h-5 absolute left-3.5 top-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,_a.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:"calc(85vh - 160px)"},children:0===J.length?(0,_a.jsxs)("div",{className:"text-center p-12 text-gray-500",children:[(0,_a.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,_a.jsx)("p",{className:"text-base font-medium",children:"Keine Benutzer gefunden"}),(0,_a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Versuchen Sie einen anderen Suchbegriff"})]}):Q.map(e=>{let[t,n]=e;return(0,_a.jsxs)("div",{children:[(0,_a.jsx)("div",{className:"bg-gray-50 px-4 py-2.5 sticky top-0 z-10 border-b border-gray-200",children:(0,_a.jsxs)("h4",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider",children:[Y(t)," (",n.length,")"]})}),n.map(e=>(0,_a.jsxs)("div",{onClick:()=>(async e=>{try{const t=await fetch("/api/messages/start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({receiver_id:e})});if(!t.ok)throw new Error("Failed to start conversation");const n=await t.json();c(n),N(!1),F(!1),q(),Wa("Unterhaltung gestartet")}catch(rm){console.error("Error starting conversation:",rm),Ha("Fehler beim Starten der Unterhaltung")}})(e.id),className:"px-4 py-3.5 hover:bg-blue-50 cursor-pointer border-b border-gray-100 flex items-center gap-3 transition-all duration-200 group",children:[(0,_a.jsx)(te,{user:e,size:"w-11 h-11",showOnline:!0}),(0,_a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_a.jsx)("p",{className:"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors text-sm",children:e.name}),(0,_a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.email})]}),C.has(e.id)&&(0,_a.jsxs)("div",{className:"flex items-center gap-1.5 bg-green-50 px-2.5 py-1 rounded-full",children:[(0,_a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,_a.jsx)("span",{className:"text-xs text-green-700 font-medium",children:"Online"})]})]},e.id))]},t)})})]})}),B&&(0,_a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden animate-fadeIn",onClick:()=>F(!1)}),P&&(0,_a.jsx)(Gh,{onSelectGif:e=>{G(null,"gif",e.url),O(!1)},onClose:()=>O(!1)})]})},Kh=()=>(0,_a.jsx)("div",{className:"h-screen",children:(0,_a.jsx)($h,{})}),Yh=()=>{const{user:e}=Pa(),[t,n]=(0,o.useState)([]),[r,a]=(0,o.useState)([]),[i,s]=(0,o.useState)(!0),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)("items");(0,o.useEffect)(()=>{f()},[]);const f=async()=>{try{s(!0),c("");const e=await Na.get("/waste/items");n(e.data),a([{id:1,name:"Bioabfall",description:"Organische Abf\xe4lle aus K\xfcche und Garten",disposalInstructions:"Bioabfallbeh\xe4lter alle 2 Wochen am Dienstag rausstellen.\nNicht erlaubt: Plastik, Metall, Glas.",color:"#A9D08E",icon:"bio",defaultFrequency:"biweekly",defaultNextDate:""},{id:2,name:"Papiertonne",description:"Altpapier und Kartonagen",disposalInstructions:"Papiertonnen monatlich am Freitag rausstellen.\nNicht erlaubt: verschmutztes Papier, Tapeten, Foto- und Faxpapier.",color:"#D9E1F2",icon:"paper",defaultFrequency:"monthly",defaultNextDate:""},{id:3,name:"Restm\xfcll",description:"Nicht-recyclebare Abf\xe4lle",disposalInstructions:"Restm\xfclltonnen w\xf6chentlich am Montag rausstellen.\nNicht erlaubt: Wertstoffe, Elektroschrott, Sonderm\xfcll.",color:"#F4B084",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""},{id:4,name:"Gelber Sack",description:"Verpackungen aus Plastik, Metall und Verbundstoffen",disposalInstructions:"Gelbe S\xe4cke alle 2 Wochen am Mittwoch rausstellen.\nNicht erlaubt: Elektroschrott, Batterien, Glas.",color:"#FFD700",icon:"plastic",defaultFrequency:"biweekly",defaultNextDate:""}])}catch(rm){console.error("Error loading waste items:",rm),c("Fehler beim Laden der Abfallarten. Bitte versuche es sp\xe4ter erneut.")}finally{s(!1)}},p=async(e,t,n,r,a)=>{try{await((e,t,n,r,a)=>Na.put("/waste/items/".concat(e),{name:t,description:n,disposalInstructions:r,nextDisposalDate:a}))(e,t,n,r,a),f()}catch(rm){console.error("Error updating waste item:",rm),c("Fehler beim Aktualisieren der Abfallart. Bitte versuche es erneut.")}},h=async e=>{if(window.confirm("Bist du sicher, dass du diese Abfallart l\xf6schen m\xf6chtest?"))try{await(e=>Na.delete("/waste/items/".concat(e)))(e),f()}catch(rm){console.error("Error deleting waste item:",rm),c("Fehler beim L\xf6schen der Abfallart. Bitte versuche es erneut.")}};return i?(0,_a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,_a.jsxs)("div",{className:"text-center",children:[(0,_a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,_a.jsx)("p",{className:"mt-4 text-gray-600",children:"Abfallarten werden geladen..."})]})}):l?(0,_a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,_a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:l})}):(0,_a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,_a.jsxs)("div",{className:"mb-6",children:[(0,_a.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Abfallmanagement"}),(0,_a.jsx)("p",{className:"text-gray-600",children:"Verwalte Abfallarten, Vorlagen und Entsorgungstermine"})]}),(0,_a.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,_a.jsxs)("nav",{className:"flex space-x-8",children:[(0,_a.jsx)("button",{onClick:()=>d("items"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("items"===u?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Abfallarten"}),(0,_a.jsx)("button",{onClick:()=>d("templates"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("templates"===u?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Vorlagen"})]})}),"items"===u&&(0,_a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.map(t=>(0,_a.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200 hover:shadow-md transition-shadow",children:(0,_a.jsxs)("div",{className:"p-6",children:[(0,_a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,_a.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:t.name}),["admin","superadmin"].includes(e.role)&&(0,_a.jsxs)("div",{className:"flex space-x-1",children:[(0,_a.jsx)("button",{onClick:()=>p(t.id,t.name,t.description,t.disposal_instructions,t.next_disposal_date),className:"p-1.5 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Bearbeiten",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_a.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,_a.jsx)("button",{onClick:()=>h(t.id),className:"p-1.5 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"L\xf6schen",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_a.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),t.description&&(0,_a.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:t.description}),(0,_a.jsxs)("div",{className:"space-y-3",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("h4",{className:"font-medium text-gray-700 text-sm mb-1",children:"Entsorgungsanleitung"}),(0,_a.jsx)("p",{className:"text-gray-600 text-sm whitespace-pre-line",children:t.disposal_instructions})]}),t.next_disposal_date&&(0,_a.jsxs)("div",{children:[(0,_a.jsx)("h4",{className:"font-medium text-gray-700 text-sm mb-1",children:"N\xe4chster Termin"}),(0,_a.jsx)("p",{className:"text-gray-600 text-sm",children:new Date(t.next_disposal_date).toLocaleDateString("de-DE",{day:"numeric",month:"long",year:"numeric"})})]})]})]})},t.id)),0===t.length&&(0,_a.jsxs)("div",{className:"col-span-full bg-white rounded-xl shadow-sm p-8 text-center border-2 border-dashed border-gray-300",children:[(0,_a.jsx)("div",{className:"inline-block p-4 bg-gray-100 rounded-full mb-4",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,_a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Abfallarten vorhanden"}),(0,_a.jsx)("p",{className:"text-gray-500 mb-4",children:["admin","superadmin"].includes(e.role)?"Erstelle neue Abfallarten oder wende Vorlagen an":"Derzeit sind keine Abfallarten definiert"}),["admin","superadmin"].includes(e.role)&&(0,_a.jsx)("button",{onClick:()=>d("templates"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Vorlagen anzeigen"})]})]}),"templates"===u&&(0,_a.jsx)(Nh,{templates:r,onTemplateCreate:e=>{a(t=>[...t,e])},onTemplateUpdate:e=>{a(t=>t.map(t=>t.id===e.id?e:t))},onTemplateDelete:e=>{a(t=>t.filter(t=>t.id!==e))},onTemplateApply:async e=>{try{const t=new Date,n=e.defaultNextDate||new Date(t.setDate(t.getDate()+7));await Ea(e.name,e.description,e.disposalInstructions,"string"===typeof n?n:n.toISOString().split("T")[0]),f(),alert('Vorlage "'.concat(e.name,'" erfolgreich angewendet!'))}catch(rm){console.error("Error applying template:",rm),c("Fehler beim Anwenden der Vorlage.")}}})]})},Jh=()=>{const[e,t]=(0,o.useState)({name:"",email:"",password:"",confirmPassword:""}),[n,r]=(0,o.useState)(""),[a,i]=(0,o.useState)(!1),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)("checking"),d=ne(),{login:f}=Pa();(0,o.useEffect)(()=>{(async()=>{try{(await Na.get("/auth/first-setup")).data.isFirstSetup?u("ready"):d("/login")}catch(rm){console.error("Error checking first setup:",rm),r("Could not connect to server. Please try again later."),u("error")}})()},[d]);const p=n=>{t(Fe(Fe({},e),{},{[n.target.name]:n.target.value}))};return"checking"===c?(0,_a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center",children:(0,_a.jsxs)("div",{className:"text-center",children:[(0,_a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,_a.jsx)("p",{className:"text-white text-lg",children:"\xdcberpr\xfcfe Systemstatus..."})]})}):"error"===c?(0,_a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,_a.jsxs)("div",{className:"bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20 text-center",children:[(0,_a.jsx)("div",{className:"mb-4 p-3 bg-red-100 rounded-full inline-block",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,_a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Fehler"}),(0,_a.jsx)("p",{className:"text-gray-600 mb-4",children:n}),(0,_a.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Seite neu laden"})]})}):(0,_a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,_a.jsxs)("div",{className:"bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20",children:[(0,_a.jsxs)("div",{className:"text-center mb-8",children:[(0,_a.jsx)("div",{className:"mb-4 p-3 bg-blue-100 rounded-full inline-block",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,_a.jsx)("h1",{className:"text-3xl font-bold text-biolab-dark mb-2",children:"Biolab Logistik Planner"}),(0,_a.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Ersteinrichtung"}),(0,_a.jsx)("p",{className:"text-gray-600",children:"Erstelle deinen Admin-Account, um das System zu konfigurieren"})]}),a?(0,_a.jsxs)("div",{className:"text-center py-8",children:[(0,_a.jsx)("div",{className:"inline-block p-4 bg-green-100 rounded-full mb-4",children:(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,_a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erfolgreich eingerichtet!"}),(0,_a.jsx)("p",{className:"text-gray-600 mb-4",children:"Du wirst automatisch weitergeleitet..."}),(0,_a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-biolab-blue mx-auto"})]}):(0,_a.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r(""),l(!0),!e.name.trim())return r("Name is required"),void l(!1);if(!e.email.trim())return r("Email is required"),void l(!1);if(!/\S+@\S+\.\S+/.test(e.email))return r("Please enter a valid email"),void l(!1);if(e.password.length<6)return r("Password must be at least 6 characters"),void l(!1);if(e.password!==e.confirmPassword)return r("Passwords do not match"),void l(!1);try{var n;const t=await ja(e.name,e.email,e.password),r=(null===(n=t.data)||void 0===n?void 0:n.data)||t.data,a=null===r||void 0===r?void 0:r.token,o=null===r||void 0===r?void 0:r.user;a&&o&&(localStorage.setItem("token",a),f(a,o)),i(!0),setTimeout(()=>{d("/dashboard")},2e3)}catch(rm){var a,o;if(console.error("Registration error:",rm),null!==(a=rm.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.firstSetupRequired)u("ready");else{var s,c;const t=null===(s=rm.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.error,n="string"===typeof t?t:null===t||void 0===t?void 0:t.message;r(n||"Registration failed. Please try again.")}}finally{l(!1)}},className:"space-y-6",children:[n&&(0,_a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md text-sm",children:n}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,_a.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Dein Name"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail-Adresse *"}),(0,_a.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"dein@email.de"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort *"}),(0,_a.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Mindestens 6 Zeichen"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort best\xe4tigen *"}),(0,_a.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Passwort wiederholen"})]}),(0,_a.jsx)("div",{children:(0,_a.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-biolab-blue hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-2 px-4 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-biolab-blue",children:s?"Erstelle Admin-Account...":"Admin-Account erstellen"})})]}),(0,_a.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,_a.jsxs)("div",{className:"text-center",children:[(0,_a.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hinweis"}),(0,_a.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,_a.jsx)("li",{children:"\u2022 Dieser Account erh\xe4lt automatisch Admin-Rechte"}),(0,_a.jsx)("li",{children:"\u2022 Du kannst sp\xe4ter weitere Benutzer hinzuf\xfcgen"}),(0,_a.jsx)("li",{children:"\u2022 Das Passwort muss mindestens 6 Zeichen lang sein"})]})]})})]})})},Qh=(0,o.memo)(e=>{let{userItem:t,currentUserId:n,onEdit:r,onDelete:a}=e;return(0,_a.jsxs)("tr",{className:t.id===n?"bg-blue-50":"",children:[(0,_a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[t.name,t.id===n&&(0,_a.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Du"})]}),(0,_a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.email}),(0,_a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,_a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat((e=>{switch(e){case"superadmin":return"bg-indigo-100 text-indigo-700";case"admin":return"bg-purple-100 text-purple-800";default:return"bg-green-100 text-green-800"}})(t.role)),children:(e=>{switch(e){case"superadmin":return"Superadministrator";case"admin":return"Administrator";default:return"Mitarbeiter"}})(t.role)})}),(0,_a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,_a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Vollzeit"===t.employment_type?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:t.employment_type||"Werkstudent"})}),(0,_a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString("de-DE",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,_a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,_a.jsxs)("div",{className:"flex space-x-2",children:[(0,_a.jsx)("button",{onClick:()=>r(t),className:"text-blue-600 hover:text-blue-900",children:"Bearbeiten"}),t.id!==n&&(0,_a.jsx)("button",{onClick:()=>a(t.id,t.name),className:"text-red-600 hover:text-red-900",children:"L\xf6schen"})]})})]})});Qh.displayName="UserRow";const Xh=()=>{const{user:e}=Pa(),[t,n]=(0,o.useState)([]),[r,a]=(0,o.useState)(!0),[i,s]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(!1),[f,p]=(0,o.useState)(null),[h,m]=(0,o.useState)({name:"",email:"",role:"employee",employment_type:"Werkstudent",password:"",confirmPassword:""});(0,o.useEffect)(()=>{["admin","superadmin"].includes(e.role)&&g()},[e.role]);const g=(0,o.useCallback)(async()=>{try{a(!0),s("");const e=await Na.get("/admin/users");n(e.data)}catch(rm){console.error("Error loading users:",rm),s("Fehler beim Laden der Benutzer. Bitte versuche es sp\xe4ter erneut.")}finally{a(!1)}},[]),b=(0,o.useCallback)(e=>{s(""),c(""),p(e),m({name:e.name,email:e.email,role:e.role,employment_type:e.employment_type||"Werkstudent",password:"",confirmPassword:""}),d(!0)},[]),v=(0,o.useCallback)(async(e,t)=>{var n;if(window.confirm('Bist du sicher, dass du den Benutzer "'.concat(t,'" l\xf6schen m\xf6chtest?')))try{c(""),await(n=e,Na.delete("/admin/users/".concat(n))),c("Benutzer ".concat(t," wurde gel\xf6scht.")),g()}catch(rm){console.error("Error deleting user:",rm),s("Fehler beim L\xf6schen des Benutzers.")}},[g]),x=(0,o.useCallback)(()=>{d(!1),p(null),m({name:"",email:"",role:"employee",password:"",confirmPassword:""}),s(""),c("")},[]);return["admin","superadmin"].includes(e.role)?r?(0,_a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,_a.jsxs)("div",{className:"text-center",children:[(0,_a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-biolab-blue mx-auto"}),(0,_a.jsx)("p",{className:"mt-4 text-gray-600",children:"Benutzer werden geladen..."})]})}):(0,_a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,_a.jsxs)("div",{className:"mb-8",children:[(0,_a.jsx)("h2",{className:"text-2xl font-bold text-biolab-dark mb-2",children:"Benutzerverwaltung"}),(0,_a.jsx)("p",{className:"text-gray-600",children:"Verwalte alle Benutzer des Systems"})]}),i&&(0,_a.jsx)("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:i}),l&&(0,_a.jsx)("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md",children:l}),(0,_a.jsx)("div",{className:"mb-6",children:(0,_a.jsx)("button",{onClick:()=>{p(null),m({name:"",email:"",role:"employee",password:"",confirmPassword:""}),s(""),c(""),d(!0)},className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Neuen Benutzer hinzuf\xfcgen"})}),u&&(0,_a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,_a.jsx)("h3",{className:"text-lg font-bold text-biolab-dark mb-4",children:f?"Benutzer bearbeiten":"Neuen Benutzer erstellen"}),(0,_a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.name.trim())if(h.email.trim())if(/\S+@\S+\.\S+/.test(h.email))if(f||h.password)if(h.password&&h.password.length<6)s("Password must be at least 6 characters");else if(h.password===h.confirmPassword)try{if(s(""),c(""),f){var t,n;const e={name:h.name,email:h.email,role:h.role,employment_type:h.employment_type};h.password&&(e.password=h.password);const r=await((e,t)=>Na.put("/admin/users/".concat(e),t))(f.id,e),a=(null===(t=r.data)||void 0===t?void 0:t.data)||r.data,i=(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.name)||h.name;c("Benutzer ".concat(i," wurde aktualisiert."))}else{var r,a;const e=await ja(h.name,h.email,h.password,h.role,h.employment_type),t=(null===(r=e.data)||void 0===r?void 0:r.data)||e.data,n=(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.name)||h.name;c("Benutzer ".concat(n," wurde erstellt."))}d(!1),p(null),m({name:"",email:"",role:"employee",employment_type:"Werkstudent",password:"",confirmPassword:""}),g()}catch(rm){var i,o;console.error("Error saving user:",rm);const t=null===(i=rm.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error,n="string"===typeof t?t:null===t||void 0===t?void 0:t.message;s(n||"Fehler beim Speichern des Benutzers.")}else s("Passwords do not match");else s("Password is required for new users");else s("Please enter a valid email");else s("Email is required");else s("Name is required")},className:"space-y-4",children:[(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,_a.jsx)("input",{type:"text",name:"name",value:h.name,onChange:e=>m(Fe(Fe({},h),{},{name:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail *"}),(0,_a.jsx)("input",{type:"email",name:"email",value:h.email,onChange:e=>m(Fe(Fe({},h),{},{email:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]})]}),(0,_a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rolle *"}),(0,_a.jsxs)("select",{name:"role",value:h.role,onChange:e=>m(Fe(Fe({},h),{},{role:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",children:[(0,_a.jsx)("option",{value:"employee",children:"Mitarbeiter"}),(0,_a.jsx)("option",{value:"admin",children:"Administrator"}),"superadmin"===e.role&&(0,_a.jsx)("option",{value:"superadmin",children:"Superadministrator"})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Besch\xe4ftigungsart *"}),(0,_a.jsxs)("select",{name:"employment_type",value:h.employment_type,onChange:e=>m(Fe(Fe({},h),{},{employment_type:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",children:[(0,_a.jsx)("option",{value:"Werkstudent",children:"Werkstudent"}),(0,_a.jsx)("option",{value:"Vollzeit",children:"Vollzeit"})]}),(0,_a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Vollzeit"===h.employment_type?"8:00-17:00 wird automatisch geplant":"Buchung von Arbeitszeiten erforderlich"})]})]}),(0,_a.jsxs)("div",{children:[(0,_a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Passwort ",f?"(optional)":"*"]}),(0,_a.jsx)("input",{type:"password",name:"password",value:h.password,onChange:e=>m(Fe(Fe({},h),{},{password:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:f?"Nur bei \xc4nderung ausf\xfcllen":"Mindestens 6 Zeichen"})]}),h.password&&(0,_a.jsxs)("div",{children:[(0,_a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passwort best\xe4tigen *"}),(0,_a.jsx)("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:e=>m(Fe(Fe({},h),{},{confirmPassword:e.target.value})),required:!!h.password,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]}),(0,_a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,_a.jsx)("button",{type:"button",onClick:x,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Abbrechen"}),(0,_a.jsx)("button",{type:"submit",className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:f?"Aktualisieren":"Erstellen"})]})]})]}),(0,_a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,_a.jsx)("div",{className:"overflow-x-auto",children:(0,_a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,_a.jsx)("thead",{className:"bg-gray-50",children:(0,_a.jsxs)("tr",{children:[(0,_a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,_a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-Mail"}),(0,_a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rolle"}),(0,_a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Besch\xe4ftigungsart"}),(0,_a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Erstellt am"}),(0,_a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktionen"})]})}),(0,_a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(t=>(0,_a.jsx)(Qh,{userItem:t,currentUserId:e.id,onEdit:b,onDelete:v},t.id))})]})})}),0===t.length&&!r&&(0,_a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center mt-6",children:[(0,_a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,_a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Benutzer vorhanden"}),(0,_a.jsx)("p",{className:"text-gray-500",children:"F\xfcge neue Benutzer hinzu, um das System zu konfigurieren"})]})]}):(0,_a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,_a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:"Du hast keine Berechtigung, diese Seite anzuzeigen."})})},Zh=e=>{let{children:t}=e;const{isAuthenticated:n}=Pa();return n?t:(0,_a.jsx)(be,{to:"/login",replace:!0})},em=e=>{let{children:t}=e;const{isAuthenticated:n,user:r}=Pa();return n?["admin","superadmin"].includes(null===r||void 0===r?void 0:r.role)?t:(0,_a.jsx)(be,{to:"/dashboard",replace:!0}):(0,_a.jsx)(be,{to:"/login",replace:!0})},tm=()=>{const{isAuthenticated:e,loading:t}=Pa();return t?(0,_a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-900 flex items-center justify-center",children:(0,_a.jsxs)("div",{className:"text-center",children:[(0,_a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,_a.jsx)("p",{className:"text-white text-lg",children:"System l\xe4dt..."})]})}):(0,_a.jsx)(Ia,{children:(0,_a.jsx)(_e,{children:(0,_a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,_a.jsx)(Zt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"10px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"},style:{background:"#10B981"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"},style:{background:"#EF4444"}},loading:{iconTheme:{primary:"#3B82F6",secondary:"#fff"}}}}),(0,_a.jsxs)(ye,{children:[(0,_a.jsx)(ve,{path:"/login",element:(0,_a.jsx)(To,{})}),(0,_a.jsx)(ve,{path:"/first-setup",element:(0,_a.jsx)(Jh,{})}),(0,_a.jsx)(ve,{path:"/dashboard",element:(0,_a.jsx)(Zh,{children:(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)(Do,{}),(0,_a.jsx)(zh,{})]})})}),(0,_a.jsx)(ve,{path:"/messages",element:(0,_a.jsx)(Zh,{children:(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)(Do,{}),(0,_a.jsx)(Kh,{})]})})}),(0,_a.jsx)(ve,{path:"/waste",element:(0,_a.jsx)(Zh,{children:(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)(Do,{}),(0,_a.jsx)(Yh,{})]})})}),(0,_a.jsx)(ve,{path:"/users",element:(0,_a.jsx)(em,{children:(0,_a.jsxs)(_a.Fragment,{children:[(0,_a.jsx)(Do,{}),(0,_a.jsx)(Xh,{})]})})}),(0,_a.jsx)(ve,{path:"/",element:(0,_a.jsx)(be,{to:"/dashboard",replace:!0})})]})]})})})};const nm=function(){return(0,_a.jsx)(Aa,{children:(0,_a.jsx)(tm,{})})};l.createRoot(document.getElementById("root")).render((0,_a.jsx)(o.StrictMode,{children:(0,_a.jsx)(nm,{})}))})();
//# sourceMappingURL=main.767133ac.js.map