/*! For license information please see main.484ea521.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},82:(e,t)=>{var n=60103,r=60106,a=60107,i=60108,s=60114,o=60109,l=60110,c=60112,d=60113,u=60120,p=60115,m=60116,f=60121,h=60122,g=60117,b=60129,x=60131;if("function"===typeof Symbol&&Symbol.for){var v=Symbol.for;n=v("react.element"),r=v("react.portal"),a=v("react.fragment"),i=v("react.strict_mode"),s=v("react.profiler"),o=v("react.provider"),l=v("react.context"),c=v("react.forward_ref"),d=v("react.suspense"),u=v("react.suspense_list"),p=v("react.memo"),m=v("react.lazy"),f=v("react.block"),h=v("react.server.block"),g=v("react.fundamental"),b=v("react.debug_trace_mode"),x=v("react.legacy_hidden")}function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case i:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case m:case p:case o:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return y(e)===l}},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=b.prototype;var y=v.prototype=new x;y.constructor=v,h(y,b.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),D(s,t,a,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+E(o=e[c],c);l+=D(o,t,a,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=D(o=o.value,t,a,d=i+E(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return D(e,r,"","",function(e){return t.call(n,e,a++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},P={transition:null},O={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:P,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=s,t.PureComponent=v,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?s:o[e.$$typeof]||a}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var a=m(n);a&&a!==f&&e(t,a,r)}var s=d(n);u&&(s=s.concat(u(n)));for(var o=l(t),h=l(n),g=0;g<s.length;++g){var b=s[g];if(!i[b]&&(!r||!r[b])&&(!h||!h[b])&&(!o||!o[b])){var x=p(n,b);try{c(t,b,x)}catch(qe){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<a&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,m=3,f=!1,h=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,y(e),!h)if(null!==r(c))h=!0,P(j);else{var t=r(d);null!==t&&O(w,t.startTime-e)}}function j(e,n){h=!1,g&&(g=!1,x(C),C=-1),f=!0;var i=m;try{for(y(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!D());){var s=p.callback;if("function"===typeof s){p.callback=null,m=p.priorityLevel;var o=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===r(c)&&a(c),y(n)}else a(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&O(w,u.startTime-n),l=!1}return l}finally{p=null,m=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,_=5,E=-1;function D(){return!(t.unstable_now()-E<_)}function A(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,M=T.port2;T.port1.onmessage=A,N=function(){M.postMessage(null)}}else N=function(){b(A,0)};function P(e){S=e,k||(k=!0,N())}function O(e,n){C=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,P(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(g?(x(C),C=-1):g=!0,O(w,i-s))):(e.sortIndex=o,n(c,e),h||f||(h=!0,P(j))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function h(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(f,e)||!u.call(m,e)&&(p.test(e)?f[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,x);g[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,x);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,x);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var I,L=Object.assign;function B(e){if(void 0===I)try{throw Error()}catch(Je){var t=Je.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ge){var r=Ge}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ge){r=Ge}e.call(t.prototype)}else{try{throw Error()}catch(Ge){r=Ge}e()}}catch(Ge){if(Ge&&r&&"string"===typeof Ge.stack){for(var a=Ge.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return W(e(t))}catch(Je){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,Ne=null;function ke(e){if(e=Ea(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=Aa(t),we(e.stateNode,e.type,t))}}function Se(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ce(){if(je){var e=je,t=Ne;if(Ne=je=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Ee(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return _e(e,t,n)}finally{De=!1,(null!==je||null!==Ne)&&(Ee(),Ce())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=Aa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(d)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(Ke){Me=!1}function Oe(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Re=!1,Ie=null,Le=!1,Be=null,ze={onError:function(e){Re=!0,Ie=e}};function Fe(e,t,n,r,a,i,s,o,l){Re=!1,Ie=null,Oe.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function $e(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return He(a),e;if(s===r)return He(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Qe=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ze=a.unstable_shouldYield,nt=a.unstable_requestPaint,at=a.unstable_now,it=a.unstable_getCurrentPriorityLevel,st=a.unstable_ImmediatePriority,ot=a.unstable_UserBlockingPriority,lt=a.unstable_NormalPriority,ct=a.unstable_LowPriority,dt=a.unstable_IdlePriority,ut=null,pt=null;var mt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ft(e)/ht|0)|0},ft=Math.log,ht=Math.LN2;var gt=64,bt=4194304;function xt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=xt(o):0!==(i&=s)&&(r=xt(i))}else 0!==(s=n&~a)?r=xt(s):0!==i&&(r=xt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-mt(t)),r|=e[n],t&=~a;return r}function yt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function wt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function Nt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-mt(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var _t=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Dt,At,Tt,Mt,Pt,Ot=!1,Rt=[],It=null,Lt=null,Bt=null,zt=new Map,Ft=new Map,Wt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Vt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Ea(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Gt(e){var t=_a(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Pt(e.priority,function(){Tt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=an(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ea(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function $t(e,t,n){Kt(e)&&n.delete(t)}function Yt(){Ot=!1,null!==It&&Kt(It)&&(It=null),null!==Lt&&Kt(Lt)&&(Lt=null),null!==Bt&&Kt(Bt)&&(Bt=null),zt.forEach($t),Ft.forEach($t)}function Jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Yt)))}function Qt(e){function t(t){return Jt(t,e)}if(0<Rt.length){Jt(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Jt(It,e),null!==Lt&&Jt(Lt,e),null!==Bt&&Jt(Bt,e),zt.forEach(t),Ft.forEach(t),n=0;n<Wt.length;n++)(r=Wt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&null===(n=Wt[0]).blockedOn;)Gt(n),null===n.blockedOn&&Wt.shift()}var Xt=y.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var a=_t,i=Xt.transition;Xt.transition=null;try{_t=1,nn(e,t,n,r)}finally{_t=a,Xt.transition=i}}function tn(e,t,n,r){var a=_t,i=Xt.transition;Xt.transition=null;try{_t=4,nn(e,t,n,r)}finally{_t=a,Xt.transition=i}}function nn(e,t,n,r){if(Zt){var a=an(e,t,n,r);if(null===a)Zr(e,t,r,rn,n),qt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Vt(It,e,t,n,r,a),!0;case"dragenter":return Lt=Vt(Lt,e,t,n,r,a),!0;case"mouseover":return Bt=Vt(Bt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return zt.set(i,Vt(zt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ft.set(i,Vt(Ft.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<Ht.indexOf(e)){for(;null!==a;){var i=Ea(a);if(null!==i&&Dt(i),null===(i=an(e,t,n,r))&&Zr(e,t,r,rn,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function an(e,t,n,r){if(rn=null,null!==(e=_a(e=ye(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function sn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(it()){case st:return 1;case ot:return 4;case lt:case ct:return 16;case dt:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,cn=null;function dn(){if(cn)return cn;var e,t,n=ln,r=n.length,a="value"in on?on.value:on.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return cn=a.slice(e,1<t?1-t:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function pn(){return!0}function mn(){return!1}function fn(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?pn:mn,this.isPropagationStopped=mn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=pn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=pn)},persist:function(){},isPersistent:pn}),t}var hn,gn,bn,xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=fn(xn),yn=L({},xn,{view:0,detail:0}),wn=fn(yn),jn=L({},yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&"mousemove"===e.type?(hn=e.screenX-bn.screenX,gn=e.screenY-bn.screenY):gn=hn=0,bn=e),hn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Nn=fn(jn),kn=fn(L({},jn,{dataTransfer:0})),Sn=fn(L({},yn,{relatedTarget:0})),Cn=fn(L({},xn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=L({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=fn(_n),Dn=fn(L({},xn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function On(){return Pn}var Rn=L({},yn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=fn(Rn),Ln=fn(L({},jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=fn(L({},yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),zn=fn(L({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=L({},jn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Un=fn(Fn),Wn=[9,13,27,32],Hn=d&&"CompositionEvent"in window,qn=null;d&&"documentMode"in document&&(qn=document.documentMode);var Vn=d&&"TextEvent"in window&&!qn,Gn=d&&(!Hn||qn&&8<qn&&11>=qn),Kn=String.fromCharCode(32),$n=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function er(e,t,n,r){Se(r),0<(t=ta(t,"onChange")).length&&(n=new vn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Kr(e,0)}function ar(e){if(K(Da(e)))return e}function ir(e,t){if("change"===e)return t}var sr=!1;if(d){var or;if(d){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}or=lr}else or=!1;sr=or&&(!document.documentMode||9<document.documentMode)}function dr(){tr&&(tr.detachEvent("onpropertychange",ur),nr=tr=null)}function ur(e){if("value"===e.propertyName&&ar(nr)){var t=[];er(t,nr,e,ye(e)),Ae(rr,t)}}function pr(e,t,n){"focusin"===e?(dr(),nr=n,(tr=t).attachEvent("onpropertychange",ur)):"focusout"===e&&dr()}function mr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ar(nr)}function fr(e,t){if("click"===e)return ar(t)}function hr(e,t){if("input"===e||"change"===e)return ar(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function br(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!gr(e[a],t[a]))return!1}return!0}function xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vr(e,t){var n,r=xr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function wr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(et){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Nr(e){var t=wr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yr(n.ownerDocument.documentElement,n)){if(null!==r&&jr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=vr(n,i);var s=vr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kr=d&&"documentMode"in document&&11>=document.documentMode,Sr=null,Cr=null,_r=null,Er=!1;function Dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==Sr||Sr!==$(r)||("selectionStart"in(r=Sr)&&jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&br(_r,r)||(_r=r,0<(r=ta(Cr,"onSelect")).length&&(t=new vn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Mr={},Pr={};function Or(e){if(Mr[e])return Mr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pr)return Mr[e]=n[t];return e}d&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Rr=Or("animationend"),Ir=Or("animationiteration"),Lr=Or("animationstart"),Br=Or("transitionend"),zr=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){zr.set(e,t),l(t,[e])}for(var Wr=0;Wr<Fr.length;Wr++){var Hr=Fr[Wr];Ur(Hr.toLowerCase(),"on"+(Hr[0].toUpperCase()+Hr.slice(1)))}Ur(Rr,"onAnimationEnd"),Ur(Ir,"onAnimationIteration"),Ur(Lr,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Br,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Gr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(Fe.apply(this,arguments),Re){if(!Re)throw Error(i(198));var d=Ie;Re=!1,Ie=null,Le||(Le=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Gr(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Gr(a,o,c),i=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function $r(e,t){var n=t[ka];void 0===n&&(n=t[ka]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Jr]){e[Jr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Vr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jr]||(t[Jr]=!0,Yr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(sn(t)){case 1:var a=en;break;case 4:a=tn;break;default:a=nn}n=a.bind(null,t,n,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=_a(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=i,a=ye(n),s=[];e:{var o=zr.get(e);if(void 0!==o){var l=vn,c=e;switch(e){case"keypress":if(0===un(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=Sn;break;case"focusout":c="blur",l=Sn;break;case"beforeblur":case"afterblur":l=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Bn;break;case Rr:case Ir:case Lr:l=Cn;break;case Br:l=zn;break;case"scroll":l=wn;break;case"wheel":l=Un;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var m,f=r;null!==f;){var h=(m=f).stateNode;if(5===m.tag&&null!==h&&(m=h,null!==p&&(null!=(h=Te(f,p))&&d.push(ea(f,h,m)))),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!_a(c)&&!c[Na])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?_a(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=Nn,h="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ln,h="onPointerLeave",p="onPointerEnter",f="pointer"),u=null==l?o:Da(l),m=null==c?o:Da(c),(o=new d(h,f+"leave",l,n,a)).target=u,o.relatedTarget=m,h=null,_a(a)===r&&((d=new d(p,f+"enter",c,n,a)).target=m,d.relatedTarget=u,h=d),u=h,l&&c)e:{for(p=c,f=0,m=d=l;m;m=na(m))f++;for(m=0,h=p;h;h=na(h))m++;for(;0<f-m;)d=na(d),f--;for(;0<m-f;)p=na(p),m--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=na(d),p=na(p)}d=null}else d=null;null!==l&&ra(s,o,l,d,!1),null!==c&&null!==u&&ra(s,u,c,d,!0)}if("select"===(l=(o=r?Da(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=ir;else if(Zn(o))if(sr)g=hr;else{g=mr;var b=pr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=fr);switch(g&&(g=g(e,r))?er(s,g,n,a):(b&&b(e,o,r),"focusout"===e&&(b=o._wrapperState)&&b.controlled&&"number"===o.type&&ee(o,"number",o.value)),b=r?Da(r):window,e){case"focusin":(Zn(b)||"true"===b.contentEditable)&&(Sr=b,Cr=r,_r=null);break;case"focusout":_r=Cr=Sr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Dr(s,n,a);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":Dr(s,n,a)}var x;if(Hn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Qn?Yn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Gn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Qn&&(x=dn()):(ln="value"in(on=a)?on.value:on.textContent,Qn=!0)),0<(b=ta(r,v)).length&&(v=new Dn(v,e,null,n,a),s.push({event:v,listeners:b}),x?v.data=x:null!==(x=Jn(n))&&(v.data=x))),(x=Vn?function(e,t){switch(e){case"compositionend":return Jn(t);case"keypress":return 32!==t.which?null:($n=!0,Kn);case"textInput":return(e=t.data)===Kn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Hn&&Yn(e,t)?(e=dn(),cn=ln=on=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ta(r,"onBeforeInput")).length&&(a=new Dn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=x))}Kr(s,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Te(e,n))&&r.unshift(ea(e,i,a)),null!=(i=Te(e,t))&&r.push(ea(e,i,a))),e=e.return}return r}function na(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ra(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Te(n,i))&&s.unshift(ea(n,l,o)):a||null!=(l=Te(n,i))&&s.push(ea(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var aa=/\r\n?/g,ia=/\u0000|\uFFFD/g;function sa(e){return("string"===typeof e?e:""+e).replace(aa,"\n").replace(ia,"")}function oa(e,t,n){if(t=sa(t),sa(e)!==t&&n)throw Error(i(425))}function la(){}var ca=null,da=null;function ua(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var pa="function"===typeof setTimeout?setTimeout:void 0,ma="function"===typeof clearTimeout?clearTimeout:void 0,fa="function"===typeof Promise?Promise:void 0,ha="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof fa?function(e){return fa.resolve(null).then(e).catch(ga)}:pa;function ga(e){setTimeout(function(){throw e})}function ba(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Qt(t)}function xa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function va(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),wa="__reactFiber$"+ya,ja="__reactProps$"+ya,Na="__reactContainer$"+ya,ka="__reactEvents$"+ya,Sa="__reactListeners$"+ya,Ca="__reactHandles$"+ya;function _a(e){var t=e[wa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Na]||n[wa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=va(e);null!==e;){if(n=e[wa])return n;e=va(e)}return t}n=(e=n).parentNode}return null}function Ea(e){return!(e=e[wa]||e[Na])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Da(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Aa(e){return e[ja]||null}var Ta=[],Ma=-1;function Pa(e){return{current:e}}function Oa(e){0>Ma||(e.current=Ta[Ma],Ta[Ma]=null,Ma--)}function Ra(e,t){Ma++,Ta[Ma]=e.current,e.current=t}var Ia={},La=Pa(Ia),Ba=Pa(!1),za=Ia;function Fa(e,t){var n=e.type.contextTypes;if(!n)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ua(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Wa(){Oa(Ba),Oa(La)}function Ha(e,t,n){if(La.current!==Ia)throw Error(i(168));Ra(La,t),Ra(Ba,n)}function qa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return L({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,za=La.current,Ra(La,e),Ra(Ba,Ba.current),!0}function Ga(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=qa(e,t,za),r.__reactInternalMemoizedMergedChildContext=e,Oa(Ba),Oa(La),Ra(La,e)):Oa(Ba),Ra(Ba,n)}var Ka=null,$a=!1,Ya=!1;function Ja(e){null===Ka?Ka=[e]:Ka.push(e)}function Qa(){if(!Ya&&null!==Ka){Ya=!0;var e=0,t=_t;try{var n=Ka;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ka=null,$a=!1}catch(qe){throw null!==Ka&&(Ka=Ka.slice(e+1)),Qe(st,Qa),qe}finally{_t=t,Ya=!1}}return null}var Xa=[],Za=0,ei=null,ti=0,ni=[],ri=0,ai=null,ii=1,si="";function oi(e,t){Xa[Za++]=ti,Xa[Za++]=ei,ei=e,ti=t}function li(e,t,n){ni[ri++]=ii,ni[ri++]=si,ni[ri++]=ai,ai=e;var r=ii;e=si;var a=32-mt(r)-1;r&=~(1<<a),n+=1;var i=32-mt(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,ii=1<<32-mt(t)+a|n<<a|r,si=i+e}else ii=1<<i|n<<a|r,si=e}function ci(e){null!==e.return&&(oi(e,1),li(e,1,0))}function di(e){for(;e===ei;)ei=Xa[--Za],Xa[Za]=null,ti=Xa[--Za],Xa[Za]=null;for(;e===ai;)ai=ni[--ri],ni[ri]=null,si=ni[--ri],ni[ri]=null,ii=ni[--ri],ni[ri]=null}var ui=null,pi=null,mi=!1,fi=null;function hi(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ui=e,pi=xa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ui=e,pi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ai?{id:ii,overflow:si}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ui=e,pi=null,!0);default:return!1}}function bi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function xi(e){if(mi){var t=pi;if(t){var n=t;if(!gi(e,t)){if(bi(e))throw Error(i(418));t=xa(n.nextSibling);var r=ui;t&&gi(e,t)?hi(r,n):(e.flags=-4097&e.flags|2,mi=!1,ui=e)}}else{if(bi(e))throw Error(i(418));e.flags=-4097&e.flags|2,mi=!1,ui=e}}}function vi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ui=e}function yi(e){if(e!==ui)return!1;if(!mi)return vi(e),mi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ua(e.type,e.memoizedProps)),t&&(t=pi)){if(bi(e))throw wi(),Error(i(418));for(;t;)hi(e,t),t=xa(t.nextSibling)}if(vi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){pi=xa(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}pi=null}}else pi=ui?xa(e.stateNode.nextSibling):null;return!0}function wi(){for(var e=pi;e;)e=xa(e.nextSibling)}function ji(){pi=ui=null,mi=!1}function Ni(e){null===fi?fi=[e]:fi.push(e)}var ki=y.ReactCurrentBatchConfig;function Si(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _i(e){return(0,e._init)(e._payload)}function Ei(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Wc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&_i(i)===t.type)?((r=a(t,n.props)).ref=Si(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=Si(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=qc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=Si(e,null,t),n.return=e,n;case j:return(t=Kc(t,e.mode,n)).return=e,t;case M:return p(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=qc(t,e.mode,n,null)).return=e,t;Ci(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?d(e,t,n,r):null;case M:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:u(e,t,n,r,null);Ci(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return u(t,e=e.get(n)||null,r,a,null);Ci(t,r)}return null}function h(a,i,o,l){for(var c=null,d=null,u=i,h=i=0,g=null;null!==u&&h<o.length;h++){u.index>h?(g=u,u=null):g=u.sibling;var b=m(a,u,o[h],l);if(null===b){null===u&&(u=g);break}e&&u&&null===b.alternate&&t(a,u),i=s(b,i,h),null===d?c=b:d.sibling=b,d=b,u=g}if(h===o.length)return n(a,u),mi&&oi(a,h),c;if(null===u){for(;h<o.length;h++)null!==(u=p(a,o[h],l))&&(i=s(u,i,h),null===d?c=u:d.sibling=u,d=u);return mi&&oi(a,h),c}for(u=r(a,u);h<o.length;h++)null!==(g=f(u,a,h,o[h],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?h:g.key),i=s(g,i,h),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),mi&&oi(a,h),c}function g(a,o,l,c){var d=R(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,h=o,g=o=0,b=null,x=l.next();null!==h&&!x.done;g++,x=l.next()){h.index>g?(b=h,h=null):b=h.sibling;var v=m(a,h,x.value,c);if(null===v){null===h&&(h=b);break}e&&h&&null===v.alternate&&t(a,h),o=s(v,o,g),null===u?d=v:u.sibling=v,u=v,h=b}if(x.done)return n(a,h),mi&&oi(a,g),d;if(null===h){for(;!x.done;g++,x=l.next())null!==(x=p(a,x.value,c))&&(o=s(x,o,g),null===u?d=x:u.sibling=x,u=x);return mi&&oi(a,g),d}for(h=r(a,h);!x.done;g++,x=l.next())null!==(x=f(h,a,g,x.value,c))&&(e&&null!==x.alternate&&h.delete(null===x.key?g:x.key),o=s(x,o,g),null===u?d=x:u.sibling=x,u=x);return e&&h.forEach(function(e){return t(a,e)}),mi&&oi(a,g),d}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===N&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===N){if(7===d.tag){n(r,d.sibling),(i=a(d,s.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&_i(c)===d.type){n(r,d.sibling),(i=a(d,s.props)).ref=Si(r,d,s),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===N?((i=qc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Hc(s.type,s.key,s.props,null,r.mode,l)).ref=Si(r,i,s),l.return=r,r=l)}return o(r);case j:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Kc(s,r.mode,l)).return=r,r=i}return o(r);case M:return e(r,i,(d=s._init)(s._payload),l)}if(te(s))return h(r,i,s,l);if(R(s))return g(r,i,s,l);Ci(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Gc(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var Di=Ei(!0),Ai=Ei(!1),Ti=Pa(null),Mi=null,Pi=null,Oi=null;function Ri(){Oi=Pi=Mi=null}function Ii(e){var t=Ti.current;Oa(Ti),e._currentValue=t}function Li(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bi(e,t){Mi=e,Oi=Pi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Eo=!0),e.firstContext=null)}function zi(e){var t=e._currentValue;if(Oi!==e)if(e={context:e,memoizedValue:t,next:null},null===Pi){if(null===Mi)throw Error(i(308));Pi=e,Mi.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return t}var Fi=null;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Wi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ui(t)):(n.next=a.next,a.next=n),t.interleaved=n,Hi(e,r)}function Hi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qi=!1;function Vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ki(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ll)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Hi(e,n)}return null===(a=r.interleaved)?(t.next=t,Ui(r)):(t.next=a.next,a.next=t),r.interleaved=t,Hi(e,n)}function Yi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Ji(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qi(e,t,n,r){var a=e.updateQueue;qi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=a.baseState;for(s=0,d=c=l=null,o=i;;){var p=o.lane,m=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,h=o;switch(p=t,m=n,h.tag){case 1:if("function"===typeof(f=h.payload)){u=f.call(m,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=h.payload)?f.call(m,u,p):f)||void 0===p)break e;u=L({},u,p);break e;case 2:qi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Vl|=s,e.lanes=s,e.memoizedState=u}}function Xi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Zi={},es=Pa(Zi),ts=Pa(Zi),ns=Pa(Zi);function rs(e){if(e===Zi)throw Error(i(174));return e}function as(e,t){switch(Ra(ns,t),Ra(ts,e),Ra(es,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oa(es),Ra(es,t)}function is(){Oa(es),Oa(ts),Oa(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ra(ts,e),Ra(es,n))}function os(e){ts.current===e&&(Oa(es),Oa(ts))}var ls=Pa(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ds=[];function us(){for(var e=0;e<ds.length;e++)ds[e]._workInProgressVersionPrimary=null;ds.length=0}var ps=y.ReactCurrentDispatcher,ms=y.ReactCurrentBatchConfig,fs=0,hs=null,gs=null,bs=null,xs=!1,vs=!1,ys=0,ws=0;function js(){throw Error(i(321))}function Ns(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function ks(e,t,n,r,a,s){if(fs=s,hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=null===e||null===e.memoizedState?oo:lo,e=n(r,a),vs){s=0;do{if(vs=!1,ys=0,25<=s)throw Error(i(301));s+=1,bs=gs=null,t.updateQueue=null,ps.current=co,e=n(r,a)}while(vs)}if(ps.current=so,t=null!==gs&&null!==gs.next,fs=0,bs=gs=hs=null,xs=!1,t)throw Error(i(300));return e}function Ss(){var e=0!==ys;return ys=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bs?hs.memoizedState=bs=e:bs=bs.next=e,bs}function _s(){if(null===gs){var e=hs.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===bs?hs.memoizedState:bs.next;if(null!==t)bs=t,gs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===bs?hs.memoizedState=bs=e:bs=bs.next=e}return bs}function Es(e,t){return"function"===typeof t?t(e):t}function Ds(e){var t=_s(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=gs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((fs&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=r):c=c.next=p,hs.lanes|=u,Vl|=u}d=d.next}while(null!==d&&d!==s);null===c?o=r:c.next=l,gr(r,t.memoizedState)||(Eo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,hs.lanes|=s,Vl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=_s(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);gr(s,t.memoizedState)||(Eo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ts(){}function Ms(e,t){var n=hs,r=_s(),a=t(),s=!gr(r.memoizedState,a);if(s&&(r.memoizedState=a,Eo=!0),r=r.queue,qs(Rs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==bs&&1&bs.memoizedState.tag){if(n.flags|=2048,zs(9,Os.bind(null,n,r,a,t),void 0,null),null===Bl)throw Error(i(349));0!==(30&fs)||Ps(n,t,a)}return a}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=hs.updateQueue)?(t={lastEffect:null,stores:null},hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Os(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&Ls(e)}function Rs(e,t,n){return n(function(){Is(t)&&Ls(e)})}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(et){return!0}}function Ls(e){var t=Hi(e,1);null!==t&&uc(t,e,1,-1)}function Bs(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=no.bind(null,hs,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=hs.updateQueue)?(t={lastEffect:null,stores:null},hs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return _s().memoizedState}function Us(e,t,n,r){var a=Cs();hs.flags|=e,a.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Ws(e,t,n,r){var a=_s();r=void 0===r?null:r;var i=void 0;if(null!==gs){var s=gs.memoizedState;if(i=s.destroy,null!==r&&Ns(r,s.deps))return void(a.memoizedState=zs(t,n,i,r))}hs.flags|=e,a.memoizedState=zs(1|t,n,i,r)}function Hs(e,t){return Us(8390656,8,e,t)}function qs(e,t){return Ws(2048,8,e,t)}function Vs(e,t){return Ws(4,2,e,t)}function Gs(e,t){return Ws(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4,4,Ks.bind(null,t,e),n)}function Ys(){}function Js(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ns(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qs(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ns(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=n):(gr(n,t)||(n=jt(),hs.lanes|=n,Vl|=n,e.baseState=!0),t)}function Zs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ms.transition;ms.transition={};try{e(!1),t()}finally{_t=n,ms.transition=r}}function eo(){return _s().memoizedState}function to(e,t,n){var r=dc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e))ao(t,n);else if(null!==(n=Wi(e,t,n,r))){uc(n,e,r,cc()),io(n,t,r)}}function no(e,t,n){var r=dc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))ao(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,gr(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ui(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(Ge){}null!==(n=Wi(e,t,a,r))&&(uc(n,e,r,a=cc()),io(n,t,r))}}function ro(e){var t=e.alternate;return e===hs||null!==t&&t===hs}function ao(e,t){vs=xs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var so={readContext:zi,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useInsertionEffect:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useSyncExternalStore:js,useId:js,unstable_isNewReconciler:!1},oo={readContext:zi,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:zi,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Bs,useDebugValue:Ys,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Zs.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hs,a=Cs();if(mi){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Bl)throw Error(i(349));0!==(30&fs)||Ps(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Hs(Rs.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Os.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=Bl.identifierPrefix;if(mi){var n=si;t=":"+t+"R"+(n=(ii&~(1<<32-mt(ii)-1)).toString(32)+n),0<(n=ys++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:zi,useCallback:Js,useContext:zi,useEffect:qs,useImperativeHandle:$s,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Qs,useReducer:Ds,useRef:Fs,useState:function(){return Ds(Es)},useDebugValue:Ys,useDeferredValue:function(e){return Xs(_s(),gs.memoizedState,e)},useTransition:function(){return[Ds(Es)[0],_s().memoizedState]},useMutableSource:Ts,useSyncExternalStore:Ms,useId:eo,unstable_isNewReconciler:!1},co={readContext:zi,useCallback:Js,useContext:zi,useEffect:qs,useImperativeHandle:$s,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Qs,useReducer:As,useRef:Fs,useState:function(){return As(Es)},useDebugValue:Ys,useDeferredValue:function(e){var t=_s();return null===gs?t.memoizedState=e:Xs(t,gs.memoizedState,e)},useTransition:function(){return[As(Es)[0],_s().memoizedState]},useMutableSource:Ts,useSyncExternalStore:Ms,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),a=dc(e),i=Ki(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,a))&&(uc(t,e,a,r),Yi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),a=dc(e),i=Ki(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,a))&&(uc(t,e,a,r),Yi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=dc(e),a=Ki(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=$i(e,a,r))&&(uc(t,e,r,n),Yi(t,e,r))}};function fo(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!br(n,r)||!br(a,i))}function ho(e,t,n){var r=!1,a=Ia,i=t.contextType;return"object"===typeof i&&null!==i?i=zi(i):(a=Ua(t)?za:La.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fa(e,a):Ia),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Vi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=zi(i):(i=Ua(t)?za:La.current,a.context=Fa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(po(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&mo.enqueueReplaceState(a,a.state,null),Qi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function xo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(tt){a="\nError generating stack: "+tt.message+"\n"+tt.stack}return{value:e,source:t,stack:a,digest:null}}function vo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function yo(e,t){try{console.error(t.value)}catch(Je){setTimeout(function(){throw Je})}}var wo="function"===typeof WeakMap?WeakMap:Map;function jo(e,t,n){(n=Ki(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ec=r),yo(0,t)},n}function No(e,t,n){(n=Ki(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){yo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){yo(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ko(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new wo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function So(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Co(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ki(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var _o=y.ReactCurrentOwner,Eo=!1;function Do(e,t,n,r){t.child=null===e?Ai(t,null,n,r):Di(t,e.child,n,r)}function Ao(e,t,n,r,a){n=n.render;var i=t.ref;return Bi(t,a),r=ks(e,t,n,r,i,a),n=Ss(),null===e||Eo?(mi&&n&&ci(t),t.flags|=1,Do(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zo(e,t,a))}function To(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Uc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Mo(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:br)(s,r)&&e.ref===t.ref)return Zo(e,t,a)}return t.flags|=1,(e=Wc(i,r)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(br(i,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Zo(e,t,a);0!==(131072&e.flags)&&(Eo=!0)}}return Ro(e,t,n,r,a)}function Po(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ra(Wl,Ul),Ul|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ra(Wl,Ul),Ul|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ra(Wl,Ul),Ul|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ra(Wl,Ul),Ul|=r;return Do(e,t,a,n),t.child}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,n,r,a){var i=Ua(n)?za:La.current;return i=Fa(t,i),Bi(t,a),n=ks(e,t,n,r,i,a),r=Ss(),null===e||Eo?(mi&&r&&ci(t),t.flags|=1,Do(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zo(e,t,a))}function Io(e,t,n,r,a){if(Ua(n)){var i=!0;Va(t)}else i=!1;if(Bi(t,a),null===t.stateNode)Xo(e,t),ho(t,n,r),bo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=zi(c):c=Fa(t,c=Ua(n)?za:La.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&go(t,s,r,c),qi=!1;var p=t.memoizedState;s.state=p,Qi(t,r,s,a),l=t.memoizedState,o!==r||p!==l||Ba.current||qi?("function"===typeof d&&(po(t,n,d,r),l=t.memoizedState),(o=qi||fo(t,n,o,r,p,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Gi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),s.props=c,u=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=zi(l):l=Fa(t,l=Ua(n)?za:La.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||p!==l)&&go(t,s,r,l),qi=!1,p=t.memoizedState,s.state=p,Qi(t,r,s,a);var f=t.memoizedState;o!==u||p!==f||Ba.current||qi?("function"===typeof m&&(po(t,n,m,r),f=t.memoizedState),(c=qi||fo(t,n,c,r,p,f,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lo(e,t,n,r,i,a)}function Lo(e,t,n,r,a,i){Oo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ga(t,n,!1),Zo(e,t,i);r=t.stateNode,_o.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Di(t,e.child,null,i),t.child=Di(t,null,o,i)):Do(e,t,o,i),t.memoizedState=r.state,a&&Ga(t,n,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?Ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(0,t.context,!1),as(e,t.containerInfo)}function zo(e,t,n,r,a){return ji(),Ni(a),t.flags|=256,Do(e,t,n,r),t.child}var Fo,Uo,Wo,Ho,qo={dehydrated:null,treeContext:null,retryLane:0};function Vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Go(e,t,n){var r,a=t.pendingProps,s=ls.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ra(ls,1&s),null===e)return xi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Vc(l,a,0,null),e=qc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vo(n),t.memoizedState=qo,e):Ko(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=vo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Vc({mode:"visible",children:r.children},a,0,null),(s=qc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Di(t,e.child,null,o),t.child.memoizedState=Vo(o),t.memoizedState=qo,s);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=vo(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),Eo||l){if(null!==(r=Bl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Hi(e,a),uc(r,e,a,-1))}return kc(),$o(e,t,o,r=vo(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,pi=xa(a.nextSibling),ui=t,mi=!0,fi=null,null!==e&&(ni[ri++]=ii,ni[ri++]=si,ni[ri++]=ai,ii=e.id,si=e.overflow,ai=t),t=Ko(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Wc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Wc(r,o):(o=qc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Vo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=qo,a}return e=(o=e.child).sibling,a=Wc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ko(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&Ni(r),Di(t,e.child,null,n),(e=Ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Li(e.return,t,n)}function Jo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n,t);else if(19===e.tag)Yo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ra(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===cs(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jo(t,!0,n,null,i);break;case"together":Jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Wc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!mi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(di(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Ua(t.type)&&Wa(),tl(t),null;case 3:return r=t.stateNode,is(),Oa(Ba),Oa(La),us(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(yi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==fi&&(hc(fi),fi=null))),Uo(e,t),tl(t),null;case 5:os(t);var a=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Wo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return tl(t),null}if(e=rs(es.current),yi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wa]=t,r[ja]=s,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(a=0;a<qr.length;a++)$r(qr[a],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":J(r,s),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$r("invalid",r);break;case"textarea":ae(r,s),$r("invalid",r)}for(var l in be(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&oa(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&oa(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$r("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=la)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[wa]=t,e[ja]=r,Fo(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":$r("cancel",e),$r("close",e),a=r;break;case"iframe":case"object":case"embed":$r("load",e),a=r;break;case"video":case"audio":for(a=0;a<qr.length;a++)$r(qr[a],e);a=r;break;case"source":$r("error",e),a=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=r;break;case"details":$r("toggle",e),a=r;break;case"input":J(e,r),a=Y(e,r),$r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),$r("invalid",e)}for(s in be(n,a),c=a)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?he(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&$r("scroll",e):null!=d&&v(e,s,d,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=la)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)Ho(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=rs(ns.current),rs(es.current),yi(t)){if(r=t.stateNode,n=t.memoizedProps,r[wa]=t,(s=r.nodeValue!==n)&&null!==(e=ui))switch(e.tag){case 3:oa(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oa(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wa]=t,t.stateNode=r}return tl(t),null;case 13:if(Oa(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(mi&&null!==pi&&0!==(1&t.mode)&&0===(128&t.flags))wi(),ji(),t.flags|=98560,s=!1;else if(s=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[wa]=t}else ji(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),s=!1}else null!==fi&&(hc(fi),fi=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Hl&&(Hl=3):kc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return is(),Uo(e,t),null===e&&Qr(t.stateNode.containerInfo),tl(t),null;case 10:return Ii(t.type._context),tl(t),null;case 19:if(Oa(ls),null===(s=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)el(s,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,el(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ra(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&at()>Ql&&(t.flags|=128,r=!0,el(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!mi)return tl(t),null}else 2*at()-s.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,el(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,n=ls.current,Ra(ls,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return yc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ul)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function rl(e,t){switch(di(t),t.tag){case 1:return Ua(t.type)&&Wa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Oa(Ba),Oa(La),us(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return os(t),null;case 13:if(Oa(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ji()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oa(ls),null;case 4:return is(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return yc(),null;default:return null}}Fo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uo=function(){},Wo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,rs(es.current);var i,s=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),s=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=la)}for(d in be(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$r("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ho=function(e,t,n,r){n!==r&&(t.flags|=4)};var al=!1,il=!1,sl="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(et){Pc(e,t,et)}else n.current=null}function cl(e,t,n){try{n()}catch(et){Pc(e,t,et)}}var dl=!1;function ul(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&cl(t,n,i)}a=a.next}while(a!==r)}}function pl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ml(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function fl(e){var t=e.alternate;null!==t&&(e.alternate=null,fl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[wa],delete t[ja],delete t[ka],delete t[Sa],delete t[Ca])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=la));else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}var vl=null,yl=!1;function wl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(pt&&"function"===typeof pt.onCommitFiberUnmount)try{pt.onCommitFiberUnmount(ut,n)}catch(rt){}switch(n.tag){case 5:il||ll(n,t);case 6:var r=vl,a=yl;vl=null,wl(e,t,n),yl=a,null!==(vl=r)&&(yl?(e=vl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):vl.removeChild(n.stateNode));break;case 18:null!==vl&&(yl?(e=vl,n=n.stateNode,8===e.nodeType?ba(e.parentNode,n):1===e.nodeType&&ba(e,n),Qt(e)):ba(vl,n.stateNode));break;case 4:r=vl,a=yl,vl=n.stateNode.containerInfo,yl=!0,wl(e,t,n),vl=r,yl=a;break;case 0:case 11:case 14:case 15:if(!il&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&cl(n,t,s),a=a.next}while(a!==r)}wl(e,t,n);break;case 1:if(!il&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(rt){Pc(n,t,rt)}wl(e,t,n);break;case 21:wl(e,t,n);break;case 22:1&n.mode?(il=(r=il)||null!==n.memoizedState,wl(e,t,n),il=r):wl(e,t,n);break;default:wl(e,t,n)}}function Nl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sl),t.forEach(function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:vl=l.stateNode,yl=!1;break e;case 3:case 4:vl=l.stateNode.containerInfo,yl=!0;break e}l=l.return}if(null===vl)throw Error(i(160));jl(s,o,a),vl=null,yl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(Ge){Pc(a,t,Ge)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Sl(t,e),t=t.sibling}function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Cl(e),4&r){try{ul(3,e,e.return),pl(3,e)}catch(Ve){Pc(e,e.return,Ve)}try{ul(5,e,e.return)}catch(Ve){Pc(e,e.return,Ve)}}break;case 1:kl(t,e),Cl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(kl(t,e),Cl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(Ve){Pc(e,e.return,Ve)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(a,s),xe(l,o);var d=xe(l,s);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?he(a,p):"dangerouslySetInnerHTML"===u?de(a,p):"children"===u?ue(a,p):v(a,u,p,d)}switch(l){case"input":X(a,s);break;case"textarea":ie(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(a,!!s.multiple,f,!1):m!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ja]=s}catch(Ve){Pc(e,e.return,Ve)}}break;case 6:if(kl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(Ve){Pc(e,e.return,Ve)}}break;case 3:if(kl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Qt(t.containerInfo)}catch(Ve){Pc(e,e.return,Ve)}break;case 4:default:kl(t,e),Cl(e);break;case 13:kl(t,e),Cl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Jl=at())),4&r&&Nl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(il=(d=il)||u,kl(t,e),il=d):kl(t,e),Cl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(ol=e,u=e.child;null!==u;){for(p=ol=u;null!==ol;){switch(f=(m=ol).child,m.tag){case 0:case 11:case 14:case 15:ul(4,m,m.return);break;case 1:ll(m,m.return);var h=m.stateNode;if("function"===typeof h.componentWillUnmount){r=m,n=m.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(Ve){Pc(r,n,Ve)}}break;case 5:ll(m,m.return);break;case 22:if(null!==m.memoizedState){Al(p);continue}}null!==f?(f.return=m,ol=f):Al(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(Ve){Pc(e,e.return,Ve)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(Ve){Pc(e,e.return,Ve)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:kl(t,e),Cl(e),4&r&&Nl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(ue(a,""),r.flags&=-33),xl(e,gl(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;bl(e,gl(e),s);break;default:throw Error(i(161))}}catch(kt){Pc(e,e.return,kt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){ol=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==ol;){var a=ol,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||al;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||il;o=al;var c=il;if(al=s,(il=l)&&!c)for(ol=a;null!==ol;)l=(s=ol).child,22===s.tag&&null!==s.memoizedState?Tl(a):null!==l?(l.return=s,ol=l):Tl(a);for(;null!==i;)ol=i,El(i,t,n),i=i.sibling;ol=a,al=o,il=c}Dl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,ol=i):Dl(e)}}function Dl(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:il||pl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!il)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Xi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Qt(p)}}}break;default:throw Error(i(163))}il||512&t.flags&&ml(t)}catch(m){Pc(t,t.return,m)}}if(t===e){ol=null;break}if(null!==(n=t.sibling)){n.return=t.return,ol=n;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ol=n;break}ol=t.return}}function Tl(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pl(4,t)}catch(kt){Pc(t,n,kt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(kt){Pc(t,a,kt)}}var i=t.return;try{ml(t)}catch(kt){Pc(t,i,kt)}break;case 5:var s=t.return;try{ml(t)}catch(kt){Pc(t,s,kt)}}}catch(kt){Pc(t,t.return,kt)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Ml,Pl=Math.ceil,Ol=y.ReactCurrentDispatcher,Rl=y.ReactCurrentOwner,Il=y.ReactCurrentBatchConfig,Ll=0,Bl=null,zl=null,Fl=0,Ul=0,Wl=Pa(0),Hl=0,ql=null,Vl=0,Gl=0,Kl=0,$l=null,Yl=null,Jl=0,Ql=1/0,Xl=null,Zl=!1,ec=null,tc=null,nc=!1,rc=null,ac=0,ic=0,sc=null,oc=-1,lc=0;function cc(){return 0!==(6&Ll)?at():-1!==oc?oc:oc=at()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==Fl?Fl&-Fl:null!==ki.transition?(0===lc&&(lc=jt()),lc):0!==(e=_t)?e:e=void 0===(e=window.event)?16:sn(e.type)}function uc(e,t,n,r){if(50<ic)throw ic=0,sc=null,Error(i(185));St(e,n,r),0!==(2&Ll)&&e===Bl||(e===Bl&&(0===(2&Ll)&&(Gl|=n),4===Hl&&gc(e,Fl)),pc(e,r),1===n&&0===Ll&&0===(1&t.mode)&&(Ql=at()+500,$a&&Qa()))}function pc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-mt(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=yt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=vt(e,e===Bl?Fl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){$a=!0,Ja(e)}(bc.bind(null,e)):Ja(bc.bind(null,e)),ha(function(){0===(6&Ll)&&Qa()}),n=null;else{switch(Et(r)){case 1:n=st;break;case 4:n=ot;break;case 16:default:n=lt;break;case 536870912:n=dt}n=Bc(n,mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mc(e,t){if(oc=-1,lc=0,0!==(6&Ll))throw Error(i(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=vt(e,e===Bl?Fl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Sc(e,r);else{t=r;var a=Ll;Ll|=2;var s=Nc();for(Bl===e&&Fl===t||(Xl=null,Ql=at()+500,wc(e,t));;)try{_c();break}catch(rt){jc(e,rt)}Ri(),Ol.current=s,Ll=a,null!==zl?t=0:(Bl=null,Fl=0,t=Hl)}if(0!==t){if(2===t&&(0!==(a=wt(e))&&(r=a,t=fc(e,a))),1===t)throw n=ql,wc(e,0),gc(e,r),pc(e,at()),n;if(6===t)gc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!gr(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Sc(e,r))&&(0!==(s=wt(e))&&(r=s,t=fc(e,s))),1===t))throw n=ql,wc(e,0),gc(e,r),pc(e,at()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ac(e,Yl,Xl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Jl+500-at())){if(0!==vt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pa(Ac.bind(null,e,Yl,Xl),t);break}Ac(e,Yl,Xl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-mt(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=at()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=pa(Ac.bind(null,e,Yl,Xl),r);break}Ac(e,Yl,Xl);break;default:throw Error(i(329))}}}return pc(e,at()),e.callbackNode===n?mc.bind(null,e):null}function fc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(wc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Yl,Yl=n,null!==t&&hc(t)),e}function hc(e){null===Yl?Yl=e:Yl.push.apply(Yl,e)}function gc(e,t){for(t&=~Kl,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(0!==(6&Ll))throw Error(i(327));Tc();var t=vt(e,0);if(0===(1&t))return pc(e,at()),null;var n=Sc(e,t);if(0!==e.tag&&2===n){var r=wt(e);0!==r&&(t=r,n=fc(e,r))}if(1===n)throw n=ql,wc(e,0),gc(e,t),pc(e,at()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Yl,Xl),pc(e,at()),null}function xc(e,t){var n=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=n)&&(Ql=at()+500,$a&&Qa())}}function vc(e){null!==rc&&0===rc.tag&&0===(6&Ll)&&Tc();var t=Ll;Ll|=1;var n=Il.transition,r=_t;try{if(Il.transition=null,_t=1,e)return e()}finally{_t=r,Il.transition=n,0===(6&(Ll=t))&&Qa()}}function yc(){Ul=Wl.current,Oa(Wl)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ma(n)),null!==zl)for(n=zl.return;null!==n;){var r=n;switch(di(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Wa();break;case 3:is(),Oa(Ba),Oa(La),us();break;case 5:os(r);break;case 4:is();break;case 13:case 19:Oa(ls);break;case 10:Ii(r.type._context);break;case 22:case 23:yc()}n=n.return}if(Bl=e,zl=e=Wc(e.current,null),Fl=Ul=t,Hl=0,ql=null,Kl=Gl=Vl=0,Yl=$l=null,null!==Fi){for(t=0;t<Fi.length;t++)if(null!==(r=(n=Fi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Fi=null}return e}function jc(e,t){for(;;){var n=zl;try{if(Ri(),ps.current=so,xs){for(var r=hs.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}xs=!1}if(fs=0,bs=gs=hs=null,vs=!1,ys=0,Rl.current=null,null===n||null===n.return){Hl=1,ql=t,zl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Fl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=So(o);if(null!==f){f.flags&=-257,Co(f,o,l,0,t),1&f.mode&&ko(s,d,t),c=d;var h=(t=f).updateQueue;if(null===h){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}if(0===(1&t)){ko(s,d,t),kc();break e}c=Error(i(426))}else if(mi&&1&l.mode){var b=So(o);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),Co(b,o,l,0,t),Ni(xo(c,l));break e}}s=c=xo(c,l),4!==Hl&&(Hl=2),null===$l?$l=[s]:$l.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ji(s,jo(0,c,t));break e;case 1:l=c;var x=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof x.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===tc||!tc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Ji(s,No(s,l,t));break e}}s=s.return}while(null!==s)}Dc(n)}catch(y){t=y,zl===n&&null!==n&&(zl=n=n.return);continue}break}}function Nc(){var e=Ol.current;return Ol.current=so,null===e?so:e}function kc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Bl||0===(268435455&Vl)&&0===(268435455&Gl)||gc(Bl,Fl)}function Sc(e,t){var n=Ll;Ll|=2;var r=Nc();for(Bl===e&&Fl===t||(Xl=null,wc(e,t));;)try{Cc();break}catch(qe){jc(e,qe)}if(Ri(),Ll=n,Ol.current=r,null!==zl)throw Error(i(261));return Bl=null,Fl=0,Hl}function Cc(){for(;null!==zl;)Ec(zl)}function _c(){for(;null!==zl&&!Ze();)Ec(zl)}function Ec(e){var t=Ml(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,null===t?Dc(e):zl=t,Rl.current=null}function Dc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Ul)))return void(zl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(zl=n);if(null===e)return Hl=6,void(zl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zl=t);zl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Ac(e,t,n){var r=_t,a=Il.transition;try{Il.transition=null,_t=1,function(e,t,n,r){do{Tc()}while(null!==rc);if(0!==(6&Ll))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-mt(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Bl&&(zl=Bl=null,Fl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Bc(lt,function(){return Tc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var o=_t;_t=1;var l=Ll;Ll|=4,Rl.current=null,function(e,t){if(ca=Zt,jr(e=wr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Ut){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var f;p!==n||0!==a&&3!==p.nodeType||(l=o+a),p!==s||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(f=p.firstChild);)m=p,p=f;for(;;){if(p===e)break t;if(m===n&&++d===a&&(l=o),m===s&&++u===r&&(c=o),null!==(f=p.nextSibling))break;m=(p=m).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:e,selectionRange:n},Zt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,b=h.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(i(163))}}catch(Ut){Pc(t,t.return,Ut)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}h=dl,dl=!1}(e,n),Sl(n,e),Nr(da),Zt=!!ca,da=ca=null,e.current=n,_l(n,e,a),nt(),Ll=l,_t=o,Il.transition=s}else e.current=n;if(nc&&(nc=!1,rc=e,ac=a),s=e.pendingLanes,0===s&&(tc=null),function(e){if(pt&&"function"===typeof pt.onCommitFiberRoot)try{pt.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),pc(e,at()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&ac)&&0!==e.tag&&Tc(),s=e.pendingLanes,0!==(1&s)?e===sc?ic++:(ic=0,sc=e):ic=0,Qa()}(e,t,n,r)}finally{Il.transition=a,_t=r}return null}function Tc(){if(null!==rc){var e=Et(ac),t=Il.transition,n=_t;try{if(Il.transition=null,_t=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ac=0,0!==(6&Ll))throw Error(i(331));var a=Ll;for(Ll|=4,ol=e.current;null!==ol;){var s=ol,o=s.child;if(0!==(16&ol.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(ol=d;null!==ol;){var u=ol;switch(u.tag){case 0:case 11:case 15:ul(8,u,s)}var p=u.child;if(null!==p)p.return=u,ol=p;else for(;null!==ol;){var m=(u=ol).sibling,f=u.return;if(fl(u),u===d){ol=null;break}if(null!==m){m.return=f,ol=m;break}ol=f}}}var h=s.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}ol=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,ol=o;else e:for(;null!==ol;){if(0!==(2048&(s=ol).flags))switch(s.tag){case 0:case 11:case 15:ul(9,s,s.return)}var x=s.sibling;if(null!==x){x.return=s.return,ol=x;break e}ol=s.return}}var v=e.current;for(ol=v;null!==ol;){var y=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,ol=y;else e:for(o=v;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:pl(9,l)}}catch(j){Pc(l,l.return,j)}if(l===o){ol=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ol=w;break e}ol=l.return}}if(Ll=a,Qa(),pt&&"function"===typeof pt.onPostCommitFiberRoot)try{pt.onPostCommitFiberRoot(ut,e)}catch(j){}r=!0}return r}finally{_t=n,Il.transition=t}}return!1}function Mc(e,t,n){e=$i(e,t=jo(0,t=xo(n,t),1),1),t=cc(),null!==e&&(St(e,1,t),pc(e,t))}function Pc(e,t,n){if(3===e.tag)Mc(e,e,n);else for(;null!==t;){if(3===t.tag){Mc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=$i(t,e=No(t,e=xo(n,e),1),1),e=cc(),null!==t&&(St(t,1,e),pc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Bl===e&&(Fl&n)===n&&(4===Hl||3===Hl&&(130023424&Fl)===Fl&&500>at()-Jl?wc(e,0):Kl|=n),pc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=bt,0===(130023424&(bt<<=1))&&(bt=4194304)));var n=cc();null!==(e=Hi(e,t))&&(St(e,t,n),pc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Rc(e,n)}function Bc(e,t){return Qe(e,t)}function zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new zc(e,t,n,r)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wc(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Uc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return qc(n.children,a,s,t);case k:o=8,a|=8;break;case S:return(e=Fc(12,n,t,2|a)).elementType=S,e.lanes=s,e;case D:return(e=Fc(13,n,t,a)).elementType=D,e.lanes=s,e;case A:return(e=Fc(19,n,t,a)).elementType=A,e.lanes=s,e;case P:return Vc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case _:o=9;break e;case E:o=11;break e;case T:o=14;break e;case M:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Fc(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function qc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Gc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Kc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nt(0),this.expirationTimes=Nt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,a,i,s,o,l){return e=new $c(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Fc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vi(i),e}function Jc(e){if(!e)return Ia;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ua(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ua(n))return qa(e,n,t)}return t}function Qc(e,t,n,r,a,i,s,o,l){return(e=Yc(n,r,!0,e,0,i,0,o,l)).context=Jc(null),n=e.current,(i=Ki(r=cc(),a=dc(n))).callback=void 0!==t&&null!==t?t:null,$i(n,i,a),e.current.lanes=a,St(e,a,r),pc(e,r),e}function Xc(e,t,n,r){var a=t.current,i=cc(),s=dc(a);return n=Jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ki(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(a,t,s))&&(uc(e,a,s,i),Yi(e,a,s)),s}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Ml=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ba.current)Eo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:Bo(t),ji();break;case 5:ss(t);break;case 1:Ua(t.type)&&Va(t);break;case 4:as(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ra(Ti,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ra(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Go(e,t,n):(Ra(ls,1&ls.current),null!==(e=Zo(e,t,n))?e.sibling:null);Ra(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ra(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n)}return Zo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,mi&&0!==(1048576&t.flags)&&li(t,ti,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var a=Fa(t,La.current);Bi(t,n),a=ks(null,t,r,e,a,n);var s=Ss();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ua(r)?(s=!0,Va(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Vi(t),a.updater=mo,t.stateNode=a,a._reactInternals=t,bo(t,r,e,n),t=Lo(null,t,r,!0,s,n)):(t.tag=0,mi&&s&&ci(t),Do(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Uc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(r),e=uo(r,e),a){case 0:t=Ro(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=Ao(null,t,r,e,n);break e;case 14:t=To(null,t,r,uo(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ro(e,t,r,a=t.elementType===r?a:uo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Io(e,t,r,a=t.elementType===r?a:uo(r,a),n);case 3:e:{if(Bo(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Gi(e,t),Qi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=zo(e,t,r,n,a=xo(Error(i(423)),t));break e}if(r!==a){t=zo(e,t,r,n,a=xo(Error(i(424)),t));break e}for(pi=xa(t.stateNode.containerInfo.firstChild),ui=t,mi=!0,fi=null,n=Ai(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ji(),r===a){t=Zo(e,t,n);break e}Do(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&xi(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,ua(r,a)?o=null:null!==s&&ua(r,s)&&(t.flags|=32),Oo(e,t),Do(e,t,o,n),t.child;case 6:return null===e&&xi(t),null;case 13:return Go(e,t,n);case 4:return as(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Di(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ao(e,t,r,a=t.elementType===r?a:uo(r,a),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ra(Ti,r._currentValue),r._currentValue=o,null!==s)if(gr(s.value,o)){if(s.children===a.children&&!Ba.current){t=Zo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ki(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Li(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Li(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Do(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Bi(t,n),r=r(a=zi(a)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return a=uo(r=t.type,t.pendingProps),To(e,t,r,a=uo(r.type,a),n);case 15:return Mo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:uo(r,a),Xo(e,t),t.tag=1,Ua(r)?(e=!0,Va(t)):e=!1,Bi(t,n),ho(t,r,a),bo(t,r,a,n),Lo(null,t,r,!0,e,n);case 19:return Qo(e,t,n);case 22:return Po(e,t,n)}throw Error(i(156,t.tag))};var nd="function"===typeof reportError?reportError:function(e){console.error(e)};function rd(e){this._internalRoot=e}function ad(e){this._internalRoot=e}function id(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function sd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function od(){}function ld(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Zc(s);o.call(e)}}Xc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Zc(s);i.call(e)}}var s=Qc(t,r,e,0,null,!1,0,"",od);return e._reactRootContainer=s,e[Na]=s.current,Qr(8===e.nodeType?e.parentNode:e),vc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Zc(l);o.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",od);return e._reactRootContainer=l,e[Na]=l.current,Qr(8===e.nodeType?e.parentNode:e),vc(function(){Xc(t,l,n,r)}),l}(n,t,e,a,r);return Zc(s)}ad.prototype.render=rd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Xc(e,t,null,null)},ad.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc(function(){Xc(null,e,null,null)}),t[Na]=null}},ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&0!==t&&t<Wt[n].priority;n++);Wt.splice(n,0,e),0===n&&Gt(e)}},Dt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xt(t.pendingLanes);0!==n&&(Ct(t,1|n),pc(t,at()),0===(6&Ll)&&(Ql=at()+500,Qa()))}break;case 13:vc(function(){var t=Hi(e,1);if(null!==t){var n=cc();uc(t,e,1,n)}}),td(e,1)}},At=function(e){if(13===e.tag){var t=Hi(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},Tt=function(e){if(13===e.tag){var t=dc(e),n=Hi(e,t);if(null!==n)uc(n,e,t,cc());td(e,t)}},Mt=function(){return _t},Pt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Aa(r);if(!a)throw Error(i(90));K(r),X(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=xc,Ee=vc;var cd={usingClientEntryPoint:!1,Events:[Ea,Da,Aa,Se,Ce,xc]},dd={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{ut=pd.inject(ud),pt=pd}catch(Ke){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!id(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!id(e))throw Error(i(299));var n=!1,r="",a=nd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,a),e[Na]=t.current,Qr(8===e.nodeType?e.parentNode:e),new rd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,n){if(!sd(t))throw Error(i(200));return ld(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!id(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=nd;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,a,0,s,o),e[Na]=t.current,Qr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ad(t)},t.render=function(e,t,n){if(!sd(t))throw Error(i(200));return ld(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!sd(e))throw Error(i(40));return!!e._reactRootContainer&&(vc(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[Na]=null})}),!0)},t.unstable_batchedUpdates=xc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sd(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ld(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case i:case o:case s:case m:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case h:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=o,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===o||e===s||e===m||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===x||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b)},t.typeOf=w}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>dr,hasStandardBrowserEnv:()=>pr,hasStandardBrowserWebWorkerEnv:()=>mr,navigator:()=>ur,origin:()=>fr});var a={};n.r(a),n.d(a,{Decoder:()=>Bh,Encoder:()=>Ih,PacketType:()=>Rh,protocol:()=>Oh});var i,s=n(43),o=n.t(s,2),l=n(391);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(qe){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l=i.Pop,p=null,g=b();function b(){return(o.state||{idx:null}).idx}function x(){l=i.Pop;let e=b(),t=null==e?null:e-g;g=e,p&&p({action:l,location:y.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let y={get action(){return l},get location(){return e(a,o)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(d,x),p=e,()=>{a.removeEventListener(d,x),p=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=f(y.location,e,t);n&&n(r,e),g=b()+1;let c=m(r,g),d=y.createHref(r);try{o.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;a.location.assign(d)}s&&p&&p({action:l,location:y.location,delta:1})},replace:function(e,t){l=i.Replace;let r=f(y.location,e,t);n&&n(r,e),g=b();let a=m(r,g),c=y.createHref(r);o.replaceState(a,"",c),s&&p&&p({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let a=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==a)return null;let i=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=P(a);s=T(i[o],e,r)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=z([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of j(e.path))a(e,t,r);else a(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=j(r.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,k=3,S=2,C=1,_=10,E=-2,D=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=E),t&&(r+=S),n.filter(e=>!D(e)).reduce((e,t)=>e+(N.test(t)?k:""===t?C:_),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:z([i,d.pathname]),pathnameBase:F(z([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=z([i,d.pathnameBase]))}return s}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function B(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=g(e):(a=c({},e),u(!a.pathname||!a.pathname.includes("?"),R("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),R("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),R("#","search","hash",a)));let i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:U(r),hash:W(a)}}(a,i),d=o&&"/"!==o&&o.endsWith("/"),p=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!p||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],V=(new Set(q),["get",...q]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const K=s.createContext(null);const $=s.createContext(null);const Y=s.createContext(null);const J=s.createContext(null);const Q=s.createContext({outlet:null,matches:[],isDataRoute:!1});const X=s.createContext(null);function Z(){return null!=s.useContext(J)}function ee(){return Z()||u(!1),s.useContext(J).location}function te(e){s.useContext(Y).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext(Q);return e?function(){let{router:e}=pe(de.UseNavigateStable),t=fe(ue.UseNavigateStable),n=s.useRef(!1);return te(()=>{n.current=!0}),s.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},a)))},[e,t])}():function(){Z()||u(!1);let e=s.useContext(K),{basename:t,future:n,navigator:r}=s.useContext(Y),{matches:a}=s.useContext(Q),{pathname:i}=ee(),o=JSON.stringify(L(a,n.v7_relativeSplatPath)),l=s.useRef(!1);return te(()=>{l.current=!0}),s.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=B(n,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:z([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,o,i,e])}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(Y),{matches:a}=s.useContext(Q),{pathname:i}=ee(),o=JSON.stringify(L(a,r.v7_relativeSplatPath));return s.useMemo(()=>B(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function ae(e,t,n,r){Z()||u(!1);let{navigator:a}=s.useContext(Y),{matches:o}=s.useContext(Q),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,m=ee();if(t){var f;let e="string"===typeof t?g(t):t;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||u(!1),p=e}else p=m;let h=p.pathname||"/",b=h;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=v(e,{pathname:b});let y=ce(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:z([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&y?s.createElement(J.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:i.Pop}},y):y}function ie(){let e=function(){var e;let t=s.useContext(X),n=me(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const se=s.createElement(ie,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Q.Provider,{value:this.props.routeContext},s.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(K);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Q.Provider,{value:t},r)}function ce(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,a)=>{let i,u=!1,p=null,m=null;var f;n&&(i=l&&r.route.id?l[r.route.id]:void 0,p=r.route.errorElement||se,c&&(d<0&&0===a?(f="route-fallback",!1||he[f]||(he[f]=!0),u=!0,m=null):d===a&&(u=!0,m=r.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=i?p:u?m:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(le,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(oe,{location:n.location,revalidation:n.revalidation,component:p,error:i,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function pe(e){let t=s.useContext(K);return t||u(!1),t}function me(e){let t=s.useContext($);return t||u(!1),t}function fe(e){let t=function(){let e=s.useContext(Q);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const he={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function be(e){let{to:t,replace:n,state:r,relative:a}=e;Z()||u(!1);let{future:i,static:o}=s.useContext(Y),{matches:l}=s.useContext(Q),{pathname:c}=ee(),d=ne(),p=B(t,L(l,i.v7_relativeSplatPath),c,"path"===a),m=JSON.stringify(p);return s.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:a}),[d,m,a,n,r]),null}function xe(e){u(!1)}function ve(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&u(!1);let d=t.replace(/^\/*/,"/"),p=s.useMemo(()=>({basename:d,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof r&&(r=g(r));let{pathname:m="/",search:f="",hash:h="",state:b=null,key:x="default"}=r,v=s.useMemo(()=>{let e=O(m,d);return null==e?null:{location:{pathname:e,search:f,hash:h,state:b,key:x},navigationType:a}},[d,m,f,h,b,x,a]);return null==v?null:s.createElement(Y.Provider,{value:p},s.createElement(J.Provider,{children:n,value:v}))}function ye(e){let{children:t,location:n}=e;return ae(we(t),n)}new Promise(()=>{});s.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,we(e.props.children,a));e.type!==xe&&u(!1),e.props.index&&e.props.children&&u(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=we(e.props.children,a)),n.push(i)}),n}var je=n(950),Ne=n.t(je,2);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_e=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(qe){}const Ee=s.createContext({isTransitioning:!1});new Map;const De=o.startTransition;Ne.flushSync,o.useId;function Ae(e){let{basename:t,children:n,future:r,window:a}=e,i=s.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),b(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return f("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,o)));let l=i.current,[c,d]=s.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},p=s.useCallback(e=>{u&&De?De(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>l.listen(p),[l,p]),s.useEffect(()=>ge(r),[r]),s.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=s.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:m}=e,f=Se(e,Ce),{basename:g}=s.useContext(Y),b=!1;if("string"===typeof d&&Me.test(d)&&(n=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:b=!0}catch(qe){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||u(!1);let{basename:r,navigator:a}=s.useContext(Y),{hash:i,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:z([r,o])),a.createHref({pathname:c,search:l,hash:i})}(d,{relative:a}),v=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),d=ee(),u=re(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:h(d)===h(u);c(e,{replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,a,n,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:a,viewTransition:m});return s.createElement("a",ke({},f,{href:n||x,onClick:b||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))});const Oe=s.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:d}=e,p=Se(e,_e),m=re(l,{relative:p.relative}),f=ee(),h=s.useContext($),{navigator:g,basename:b}=s.useContext(Y),x=null!=h&&function(e,t){void 0===t&&(t={});let n=s.useContext(Ee);null==n&&u(!1);let{basename:r}=Le(Re.useViewTransitionState),a=re(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=O(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=O(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=M(a.pathname,o)||null!=M(a.pathname,i)}(m)&&!0===c,v=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,y=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(y=y.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=O(w,b)||w);const j="/"!==v&&v.endsWith("/")?v.length-1:v.length;let N,k=y===v||!i&&y.startsWith(v)&&"/"===y.charAt(j),S=null!=w&&(w===v||!i&&w.startsWith(v)&&"/"===w.charAt(v.length)),C={isActive:k,isPending:S,isTransitioning:x},_=k?n:void 0;N="function"===typeof a?a(C):[a,k?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof o?o(C):o;return s.createElement(Pe,ke({},p,{"aria-current":_,className:N,ref:t,style:E,to:l,viewTransition:c}),"function"===typeof d?d(C):d)});var Re,Ie;function Le(e){let t=s.useContext(K);return t||u(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function Be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Fe(e){var t=function(e,t){if("object"!=ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ze(t)?t:t+""}function Ue(e,t,n){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let qe={data:""},Ve=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||qe},Ge=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ke=/\/\*[^]*?\*\/|  +/g,$e=/\n+/g,Ye=(e,t)=>{let n="",r="",a="";for(let i in e){let s=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+s+";":r+="f"==i[1]?Ye(s,i):i+"{"+Ye(s,"k"==i[1]?"":t)+"}":"object"==typeof s?r+=Ye(s,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ye.p?Ye.p(i,s):i+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Je={},Qe=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Qe(e[n]);return t}return e},Xe=(e,t,n,r,a)=>{let i=Qe(e),s=Je[i]||(Je[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!Je[s]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=Ge.exec(e.replace(Ke,""));)t[4]?r.shift():t[3]?(n=t[3].replace($e," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace($e," ").trim();return r[0]})(e);Je[s]=Ye(a?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&Je.g?Je.g:null;return n&&(Je.g=Je[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Je[s],t,r,o),s};function Ze(e){let t=this||{},n=e.call?e(t.p):e;return Xe(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let i=t[a];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":Ye(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Ve(t.target),t.g,t.o,t.k)}Ze.bind({g:1});let et,tt,nt,rt=Ze.bind({k:1});function at(e,t){let n=this||{};return function(){let r=arguments;function a(i,s){let o=Object.assign({},i),l=o.className||a.className;n.p=Object.assign({theme:tt&&tt()},o),n.o=/ *go\d+/.test(l),o.className=Ze.apply(n,r)+(l?" "+l:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),nt&&c[0]&&nt(o),et(c,o)}return t?t(a):a}}var it,st,ot,lt,ct,dt,ut,pt,mt,ft,ht,gt,bt,xt,vt,yt,wt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,jt=(()=>{let e=0;return()=>(++e).toString()})(),Nt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),kt="default",St=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return He(He({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return He(He({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?He(He({},e),t.toast):e)});case 2:let{toast:r}=t;return St(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return He(He({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?He(He({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?He(He({},e),{},{toasts:[]}):He(He({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return He(He({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return He(He({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>He(He({},e),{},{pauseDuration:e.pauseDuration+i}))})}},Ct=[],_t={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Et={},Dt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt;Et[t]=St(Et[t]||_t,e),Ct.forEach(e=>{let[n,r]=e;n===t&&r(Et[t])})},At=e=>Object.keys(Et).forEach(t=>Dt(e,t)),Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return t=>{Dt(t,e)}},Mt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Pt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return He(He({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||jt()})}(t,e,n);return Tt(r.toasterId||(e=>Object.keys(Et).find(t=>Et[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Ot=(e,t)=>Pt("blank")(e,t);Ot.error=Pt("error"),Ot.success=Pt("success"),Ot.loading=Pt("loading"),Ot.custom=Pt("custom"),Ot.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Tt(t)(n):At(n)},Ot.dismissAll=e=>Ot.dismiss(void 0,e),Ot.remove=(e,t)=>{let n={type:4,toastId:e};t?Tt(t)(n):At(n)},Ot.removeAll=e=>Ot.remove(void 0,e),Ot.promise=(e,t,n)=>{let r=Ot.loading(t.loading,He(He({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?wt(t.success,e):void 0;return a?Ot.success(a,He(He({id:r},n),null==n?void 0:n.success)):Ot.dismiss(r),e}).catch(e=>{let a=t.error?wt(t.error,e):void 0;a?Ot.error(a,He(He({id:r},n),null==n?void 0:n.error)):Ot.dismiss(r)}),e};var Rt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt,[n,r]=(0,s.useState)(Et[t]||_t),a=(0,s.useRef)(Et[t]);(0,s.useEffect)(()=>(a.current!==Et[t]&&r(Et[t]),Ct.push([t,r]),()=>{let e=Ct.findIndex(e=>{let[n]=e;return n===t});e>-1&&Ct.splice(e,1)}),[t]);let i=n.toasts.map(t=>{var n,r,a;return He(He(He(He({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Mt[t.type],style:He(He(He({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return He(He({},n),{},{toasts:i})}(e,t),a=(0,s.useRef)(new Map).current,i=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),o({type:4,toastId:e})},t);a.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),a=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Ot.dismiss(n.id,t),r);n.visible&&Ot.dismiss(n.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,s.useCallback)(Tt(t),[t]),l=(0,s.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,s.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),d=(0,s.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:i}=t||{},s=n.filter(t=>(t.position||i)===(e.position||i)&&t.height),o=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<o&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},It=rt(it||(it=Be(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Lt=rt(st||(st=Be(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Bt=rt(ot||(ot=Be(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),zt=at("div")(lt||(lt=Be(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",It,Lt,e=>e.secondary||"#fff",Bt),Ft=rt(ct||(ct=Be(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=at("div")(dt||(dt=Be(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ft),Wt=rt(ut||(ut=Be(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ht=rt(pt||(pt=Be(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),qt=at("div")(mt||(mt=Be(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Wt,Ht,e=>e.secondary||"#fff"),Vt=at("div")(ft||(ft=Be(["\n  position: absolute;\n"]))),Gt=at("div")(ht||(ht=Be(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Kt=rt(gt||(gt=Be(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$t=at("div")(bt||(bt=Be(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Kt),Yt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?s.createElement($t,null,n):n:"blank"===r?null:s.createElement(Gt,null,s.createElement(Ut,He({},a)),"loading"!==r&&s.createElement(Vt,null,"error"===r?s.createElement(zt,He({},a)):s.createElement(qt,He({},a))))},Jt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Qt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Xt=at("div")(xt||(xt=Be(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Zt=at("div")(vt||(vt=Be(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),en=s.memo(e=>{let{toast:t,position:n,style:r,children:a}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Nt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Jt(n),Qt(n)];return{animation:t?"".concat(rt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(rt(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=s.createElement(Yt,{toast:t}),l=s.createElement(Zt,He({},t.ariaProps),wt(t.message,t));return s.createElement(Xt,{className:t.className,style:He(He(He({},i),r),t.style)},"function"==typeof a?a({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))});!function(e,t,n,r){Ye.p=t,et=e,tt=n,nt=r}(s.createElement);var tn=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:i}=e,o=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return s.createElement("div",{ref:o,className:n,style:r},i)},nn=Ze(yt||(yt=Be(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),rn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:i,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:d,handlers:u}=Rt(r,o);return s.createElement("div",{"data-rht-toaster":o||"",style:He({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return He(He({left:0,right:0,display:"flex",position:"absolute",transition:Nt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return s.createElement(tn,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?nn:"",style:o},"custom"===e.type?wt(e.message,e):i?i(e):s.createElement(en,{toast:e,position:r}))}))},an=Ot;function sn(e,t){return function(){return e.apply(t,arguments)}}const{toString:on}=Object.prototype,{getPrototypeOf:ln}=Object,{iterator:cn,toStringTag:dn}=Symbol,un=(e=>t=>{const n=on.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pn=e=>(e=e.toLowerCase(),t=>un(t)===e),mn=e=>t=>typeof t===e,{isArray:fn}=Array,hn=mn("undefined");function gn(e){return null!==e&&!hn(e)&&null!==e.constructor&&!hn(e.constructor)&&vn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bn=pn("ArrayBuffer");const xn=mn("string"),vn=mn("function"),yn=mn("number"),wn=e=>null!==e&&"object"===typeof e,jn=e=>{if("object"!==un(e))return!1;const t=ln(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(dn in e)&&!(cn in e)},Nn=pn("Date"),kn=pn("File"),Sn=pn("Blob"),Cn=pn("FileList"),_n=pn("URLSearchParams"),[En,Dn,An,Tn]=["ReadableStream","Request","Response","Headers"].map(pn);function Mn(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),fn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(gn(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let s;for(n=0;n<i;n++)s=r[n],t.call(null,e[s],s,e)}}function Pn(e,t){if(gn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const On="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Rn=e=>!hn(e)&&e!==On;const In=(Ln="undefined"!==typeof Uint8Array&&ln(Uint8Array),e=>Ln&&e instanceof Ln);var Ln;const Bn=pn("HTMLFormElement"),zn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Fn=pn("RegExp"),Un=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Mn(n,(n,a)=>{let i;!1!==(i=t(n,a,e))&&(r[a]=i||n)}),Object.defineProperties(e,r)};const Wn=pn("AsyncFunction"),Hn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],On.addEventListener("message",e=>{let{source:t,data:a}=e;t===On&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),On.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,vn(On.postMessage)),qn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(On):"undefined"!==typeof process&&process.nextTick||Hn,Vn={isArray:fn,isArrayBuffer:bn,isBuffer:gn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||vn(e.append)&&("formdata"===(t=un(e))||"object"===t&&vn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&bn(e.buffer),t},isString:xn,isNumber:yn,isBoolean:e=>!0===e||!1===e,isObject:wn,isPlainObject:jn,isEmptyObject:e=>{if(!wn(e)||gn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(qe){return!1}},isReadableStream:En,isRequest:Dn,isResponse:An,isHeaders:Tn,isUndefined:hn,isDate:Nn,isFile:kn,isBlob:Sn,isRegExp:Fn,isFunction:vn,isStream:e=>wn(e)&&vn(e.pipe),isURLSearchParams:_n,isTypedArray:In,isFileList:Cn,forEach:Mn,merge:function e(){const{caseless:t,skipUndefined:n}=Rn(this)&&this||{},r={},a=(a,i)=>{const s=t&&Pn(r,i)||i;jn(r[s])&&jn(a)?r[s]=e(r[s],a):jn(a)?r[s]=e({},a):fn(a)?r[s]=a.slice():n&&hn(a)||(r[s]=a)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Mn(arguments[i],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Mn(t,(t,r)=>{n&&vn(t)?e[r]=sn(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,i,s;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&ln(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:un,kindOfTest:pn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(fn(e))return e;let t=e.length;if(!yn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[cn]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Bn,hasOwnProperty:zn,hasOwnProp:zn,reduceDescriptors:Un,freezeMethods:e=>{Un(e,(t,n)=>{if(vn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];vn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return fn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Pn,global:On,isContextDefined:Rn,isSpecCompliantForm:function(e){return!!(e&&vn(e.append)&&"FormData"===e[dn]&&e[cn])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(wn(e)){if(t.indexOf(e)>=0)return;if(gn(e))return e;if(!("toJSON"in e)){t[r]=e;const a=fn(e)?[]:{};return Mn(e,(e,t)=>{const i=n(e,r+1);!hn(i)&&(a[t]=i)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Wn,isThenable:e=>e&&(wn(e)||vn(e))&&vn(e.then)&&vn(e.catch),setImmediate:Hn,asap:qn,isIterable:e=>null!=e&&vn(e[cn])};function Gn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Vn.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vn.toJSONObject(this.config),code:this.code,status:this.status}}});const Kn=Gn.prototype,$n={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$n[e]={value:e}}),Object.defineProperties(Gn,$n),Object.defineProperty(Kn,"isAxiosError",{value:!0}),Gn.from=(e,t,n,r,a,i)=>{const s=Object.create(Kn);Vn.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Gn.call(s,o,l,n,r,a),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const Yn=Gn;function Jn(e){return Vn.isPlainObject(e)||Vn.isArray(e)}function Qn(e){return Vn.endsWith(e,"[]")?e.slice(0,-2):e}function Xn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Qn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Zn=Vn.toFlatObject(Vn,{},null,function(e){return/^is[A-Z]/.test(e)});const er=function(e,t,n){if(!Vn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Vn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Vn.isUndefined(t[e])})).metaTokens,a=n.visitor||c,i=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Vn.isSpecCompliantForm(t);if(!Vn.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Vn.isDate(e))return e.toISOString();if(Vn.isBoolean(e))return e.toString();if(!o&&Vn.isBlob(e))throw new Yn("Blob is not supported. Use a Buffer instead.");return Vn.isArrayBuffer(e)||Vn.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(Vn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Vn.isArray(e)&&function(e){return Vn.isArray(e)&&!e.some(Jn)}(e)||(Vn.isFileList(e)||Vn.endsWith(n,"[]"))&&(o=Vn.toArray(e)))return n=Qn(n),o.forEach(function(e,r){!Vn.isUndefined(e)&&null!==e&&t.append(!0===s?Xn([n],r,i):null===s?n:n+"[]",l(e))}),!1;return!!Jn(e)||(t.append(Xn(a,n,i),l(e)),!1)}const d=[],u=Object.assign(Zn,{defaultVisitor:c,convertValue:l,isVisitable:Jn});if(!Vn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Vn.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Vn.forEach(n,function(n,i){!0===(!(Vn.isUndefined(n)||null===n)&&a.call(t,n,Vn.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])}),d.pop()}}(e),t};function tr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function nr(e,t){this._pairs=[],e&&er(e,this,t)}const rr=nr.prototype;rr.append=function(e,t){this._pairs.push([e,t])},rr.toString=function(e){const t=e?function(t){return e.call(this,t,tr)}:tr;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ar=nr;function ir(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sr(e,t,n){if(!t)return e;const r=n&&n.encode||ir;Vn.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(i=a?a(t,n):Vn.isURLSearchParams(t)?t.toString():new ar(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const or=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Vn.forEach(this.handlers,function(t){null!==t&&e(t)})}},lr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ar,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},dr="undefined"!==typeof window&&"undefined"!==typeof document,ur="object"===typeof navigator&&navigator||void 0,pr=dr&&(!ur||["ReactNative","NativeScript","NS"].indexOf(ur.product)<0),mr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fr=dr&&window.location.href||"http://localhost",hr=He(He({},r),cr);const gr=function(e){function t(e,n,r,a){let i=e[a++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=a>=e.length;if(i=!i&&Vn.isArray(r)?r.length:i,o)return Vn.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&Vn.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],a)&&Vn.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s}if(Vn.isFormData(e)&&Vn.isFunction(e.entries)){const n={};return Vn.forEachEntry(e,(e,r)=>{t(function(e){return Vn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const br={transitional:lr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Vn.isObject(e);a&&Vn.isHTMLForm(e)&&(e=new FormData(e));if(Vn.isFormData(e))return r?JSON.stringify(gr(e)):e;if(Vn.isArrayBuffer(e)||Vn.isBuffer(e)||Vn.isStream(e)||Vn.isFile(e)||Vn.isBlob(e)||Vn.isReadableStream(e))return e;if(Vn.isArrayBufferView(e))return e.buffer;if(Vn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return er(e,new hr.classes.URLSearchParams,He({visitor:function(e,t,n,r){return hr.isNode&&Vn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Vn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return er(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Vn.isString(e))try{return(t||JSON.parse)(e),Vn.trim(e)}catch(qe){if("SyntaxError"!==qe.name)throw qe}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||br.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Vn.isResponse(e)||Vn.isReadableStream(e))return e;if(e&&Vn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(qe){if(n){if("SyntaxError"===qe.name)throw Yn.from(qe,Yn.ERR_BAD_RESPONSE,this,null,this.response);throw qe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hr.classes.FormData,Blob:hr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Vn.forEach(["delete","get","head","post","put","patch"],e=>{br.headers[e]={}});const xr=br,vr=Vn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yr=Symbol("internals");function wr(e){return e&&String(e).trim().toLowerCase()}function jr(e){return!1===e||null==e?e:Vn.isArray(e)?e.map(jr):String(e)}function Nr(e,t,n,r,a){return Vn.isFunction(r)?r.call(this,t,n):(a&&(t=n),Vn.isString(t)?Vn.isString(r)?-1!==t.indexOf(r):Vn.isRegExp(r)?r.test(t):void 0:void 0)}class kr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=wr(t);if(!a)throw new Error("header name must be a non-empty string");const i=Vn.findKey(r,a);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=jr(e))}const i=(e,t)=>Vn.forEach(e,(e,n)=>a(e,n,t));if(Vn.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Vn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&vr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Vn.isObject(e)&&Vn.isIterable(e)){let n,r,a={};for(const t of e){if(!Vn.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Vn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=wr(e)){const n=Vn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Vn.isFunction(t))return t.call(this,e,n);if(Vn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wr(e)){const n=Vn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=wr(e)){const a=Vn.findKey(n,e);!a||t&&!Nr(0,n[a],a,t)||(delete n[a],r=!0)}}return Vn.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Nr(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Vn.forEach(this,(r,a)=>{const i=Vn.findKey(n,a);if(i)return t[i]=jr(r),void delete t[a];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();s!==a&&delete t[a],t[s]=jr(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Vn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Vn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[yr]=this[yr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=wr(e);t[r]||(!function(e,t){const n=Vn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Vn.isArray(e)?e.forEach(r):r(e),this}}kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Vn.reduceDescriptors(kr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Vn.freezeMethods(kr);const Sr=kr;function Cr(e,t){const n=this||xr,r=t||n,a=Sr.from(r.headers);let i=r.data;return Vn.forEach(e,function(e){i=e.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function _r(e){return!(!e||!e.__CANCEL__)}function Er(e,t,n){Yn.call(this,null==e?"canceled":e,Yn.ERR_CANCELED,t,n),this.name="CanceledError"}Vn.inherits(Er,Yn,{__CANCEL__:!0});const Dr=Er;function Ar(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Yn("Request failed with status code "+n.status,[Yn.ERR_BAD_REQUEST,Yn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Tr=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];a||(a=l),n[i]=o,r[i]=l;let d=s,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-a<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const Mr=function(e,t){let n,r,a=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},i-t)))},()=>n&&s(n)]},Pr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Tr(50,250);return Mr(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,o=i-r,l=a(o);r=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},Or=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Rr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vn.asap(()=>e(...n))},Ir=hr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,hr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(hr.origin),hr.navigator&&/(msie|trident)/i.test(hr.navigator.userAgent)):()=>!0,Lr=hr.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const s=[e+"="+encodeURIComponent(t)];Vn.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Vn.isString(r)&&s.push("path="+r),Vn.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Br(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const zr=e=>e instanceof Sr?He({},e):e;function Fr(e,t){t=t||{};const n={};function r(e,t,n,r){return Vn.isPlainObject(e)&&Vn.isPlainObject(t)?Vn.merge.call({caseless:r},e,t):Vn.isPlainObject(t)?Vn.merge({},t):Vn.isArray(t)?t.slice():t}function a(e,t,n,a){return Vn.isUndefined(t)?Vn.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function i(e,t){if(!Vn.isUndefined(t))return r(void 0,t)}function s(e,t){return Vn.isUndefined(t)?Vn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,i){return i in t?r(n,a):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>a(zr(e),zr(t),0,!0)};return Vn.forEach(Object.keys(He(He({},e),t)),function(r){const i=l[r]||a,s=i(e[r],t[r],r);Vn.isUndefined(s)&&i!==o||(n[r]=s)}),n}const Ur=e=>{const t=Fr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=Sr.from(s),t.url=sr(Br(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Vn.isFormData(n))if(hr.hasStandardBrowserEnv||hr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(Vn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&s.set(n,r)})}if(hr.hasStandardBrowserEnv&&(r&&Vn.isFunction(r)&&(r=r(t)),r||!1!==r&&Ir(t.url))){const e=a&&i&&Lr.read(i);e&&s.set(a,e)}return t},Wr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Ur(e);let a=r.data;const i=Sr.from(r.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let h=new XMLHttpRequest;function g(){if(!h)return;const r=Sr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Ar(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new Yn("Request aborted",Yn.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Yn(r,Yn.ERR_NETWORK,e,h);a.event=t||null,n(a),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||lr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Yn(t,a.clarifyTimeoutError?Yn.ETIMEDOUT:Yn.ECONNABORTED,e,h)),h=null},void 0===a&&i.setContentType(null),"setRequestHeader"in h&&Vn.forEach(i.toJSON(),function(e,t){h.setRequestHeader(t,e)}),Vn.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),u&&"json"!==u&&(h.responseType=r.responseType),m&&([l,d]=Pr(m,!0),h.addEventListener("progress",l)),p&&h.upload&&([o,c]=Pr(p),h.upload.addEventListener("progress",o),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{h&&(n(!t||t.type?new Dr(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===hr.protocols.indexOf(b)?n(new Yn("Unsupported protocol "+b+":",Yn.ERR_BAD_REQUEST,e)):h.send(a||null)})},Hr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Yn?t:new Dr(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,a(new Yn("timeout ".concat(t," of ms exceeded"),Yn.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>Vn.asap(s),o}};function qr(e,t){this.v=e,this.k=t}function Vr(e){return function(){return new Gr(e.apply(this,arguments))}}function Gr(e){var t,n;function r(t,n){try{var i=e[t](n),s=i.value,o=s instanceof qr;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}a(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(i,s){var o={key:e,arg:a,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Kr(e){return new qr(e,0)}function $r(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new qr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Yr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Jr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Jr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Jr=function(e){this.s=e,this.n=e.next},Jr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Jr(e)}Gr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Gr.prototype.next=function(e){return this._invoke("next",e)},Gr.prototype.throw=function(e){return this._invoke("throw",e)},Gr.prototype.return=function(e){return this._invoke("return",e)};const Qr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Xr=function(){var e=Vr(function*(e,t){var n,r=!1,a=!1;try{for(var i,s=Yr(Zr(e));r=!(i=yield Kr(s.next())).done;r=!1){const e=i.value;yield*$r(Yr(Qr(e,t)))}}catch(o){a=!0,n=o}finally{try{r&&null!=s.return&&(yield Kr(s.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Zr=function(){var e=Vr(function*(e){if(e[Symbol.asyncIterator])return void(yield*$r(Yr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Kr(t.read());if(e)break;yield n}}finally{yield Kr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ea=(e,t,n,r)=>{const a=Xr(e,t);let i,s=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:ta}=Vn,na=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Vn.global),{ReadableStream:ra,TextEncoder:aa}=Vn.global,ia=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(qe){return!1}},sa=e=>{e=Vn.merge.call({skipUndefined:!0},na,e);const{fetch:t,Request:n,Response:r}=e,a=t?ta(t):"function"===typeof fetch,i=ta(n),s=ta(r);if(!a)return!1;const o=a&&ta(ra),l=a&&("function"===typeof aa?(c=new aa,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=i&&o&&ia(()=>{let e=!1;const t=new n(hr.origin,{body:new ra,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=s&&o&&ia(()=>Vn.isReadableStream(new r("").body)),p={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Yn("Response type '".concat(e,"' is not supported"),Yn.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=Vn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Vn.isBlob(e))return e.size;if(Vn.isSpecCompliantForm(e)){const t=new n(hr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Vn.isArrayBufferView(e)||Vn.isArrayBuffer(e)?e.byteLength:(Vn.isURLSearchParams(e)&&(e+=""),Vn.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:s,data:o,signal:l,cancelToken:c,timeout:f,onDownloadProgress:h,onUploadProgress:g,responseType:b,headers:x,withCredentials:v="same-origin",fetchOptions:y}=Ur(e),w=t||fetch;b=b?(b+"").toLowerCase():"text";let j=Hr([l,c&&c.toAbortSignal()],f),N=null;const k=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(g&&d&&"get"!==s&&"head"!==s&&0!==(S=await m(x,o))){let e,t=new n(a,{method:"POST",body:o,duplex:"half"});if(Vn.isFormData(o)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=Or(S,Pr(Rr(g)));o=ea(t.body,65536,e,n)}}Vn.isString(v)||(v=v?"include":"omit");const t=i&&"credentials"in n.prototype,l=He(He({},y),{},{signal:j,method:s.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:t?v:void 0});N=i&&new n(a,l);let c=await(i?w(N,y):w(a,l));const f=u&&("stream"===b||"response"===b);if(u&&(h||f&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Vn.toFiniteNumber(c.headers.get("content-length")),[n,a]=h&&Or(t,Pr(Rr(h),!0))||[];c=new r(ea(c.body,65536,n,()=>{a&&a(),k&&k()}),e)}b=b||"text";let C=await p[Vn.findKey(p,b)||"text"](c,e);return!f&&k&&k(),await new Promise((t,n)=>{Ar(t,n,{data:C,headers:Sr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Yn("Network Error",Yn.ERR_NETWORK,e,N),{cause:C.cause||C});throw Yn.from(C,C&&C.code,e,N)}}},oa=new Map,la=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,i=[r,a,n];let s,o,l=i.length,c=oa;for(;l--;)s=i[l],o=c.get(s),void 0===o&&c.set(s,o=l?new Map:sa(t)),c=o;return o},ca=(la(),{http:null,xhr:Wr,fetch:{get:la}});Vn.forEach(ca,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(qe){}Object.defineProperty(e,"adapterName",{value:t})}});const da=e=>"- ".concat(e),ua=e=>Vn.isFunction(e)||null===e||!1===e,pa=(e,t)=>{e=Vn.isArray(e)?e:[e];const{length:n}=e;let r,a;const i={};for(let s=0;s<n;s++){let n;if(r=e[s],a=r,!ua(r)&&(a=ca[(n=String(r)).toLowerCase()],void 0===a))throw new Yn("Unknown adapter '".concat(n,"'"));if(a&&(Vn.isFunction(a)||(a=a.get(t))))break;i[n||"#"+s]=a}if(!a){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(da).join("\n"):" "+da(e[0]):"as no adapter specified";throw new Yn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function ma(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dr(null,e)}function fa(e){ma(e),e.headers=Sr.from(e.headers),e.data=Cr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pa(e.adapter||xr.adapter,e)(e).then(function(t){return ma(e),t.data=Cr.call(e,e.transformResponse,t),t.headers=Sr.from(t.headers),t},function(t){return _r(t)||(ma(e),t&&t.response&&(t.response.data=Cr.call(e,e.transformResponse,t.response),t.response.headers=Sr.from(t.response.headers))),Promise.reject(t)})}const ha="1.12.2",ga={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ga[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ba={};ga.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ha+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,i)=>{if(!1===e)throw new Yn(r(a," has been removed"+(t?" in "+t:"")),Yn.ERR_DEPRECATED);return t&&!ba[a]&&(ba[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,i)}},ga.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const xa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Yn("options must be an object",Yn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new Yn("option "+i+" must be "+n,Yn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Yn("Unknown option "+i,Yn.ERR_BAD_OPTION)}},validators:ga},va=xa.validators;class ya{constructor(e){this.defaults=e||{},this.interceptors={request:new or,response:new or}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(qe){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Fr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&xa.assertOptions(n,{silentJSONParsing:va.transitional(va.boolean),forcedJSONParsing:va.transitional(va.boolean),clarifyTimeoutError:va.transitional(va.boolean)},!1),null!=r&&(Vn.isFunction(r)?t.paramsSerializer={serialize:r}:xa.assertOptions(r,{encode:va.function,serialize:va.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xa.assertOptions(t,{baseUrl:va.spelling("baseURL"),withXsrfToken:va.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&Vn.merge(a.common,a[t.method]);a&&Vn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Sr.concat(i,a);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[fa.bind(this),void 0];for(e.unshift(...s),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let p=t;for(;u<d;){const e=s[u++],t=s[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=fa.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return sr(Br((e=Fr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Vn.forEach(["delete","get","head","options"],function(e){ya.prototype[e]=function(t,n){return this.request(Fr(n||{},{method:e,url:t,data:(n||{}).data}))}}),Vn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Fr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ya.prototype[e]=t(),ya.prototype[e+"Form"]=t(!0)});const wa=ya;class ja{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Dr(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ja(function(t){e=t});return{token:t,cancel:e}}}const Na=ja;const ka={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ka).forEach(e=>{let[t,n]=e;ka[n]=t});const Sa=ka;const Ca=function e(t){const n=new wa(t),r=sn(wa.prototype.request,n);return Vn.extend(r,wa.prototype,n,{allOwnKeys:!0}),Vn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Fr(t,n))},r}(xr);Ca.Axios=wa,Ca.CanceledError=Dr,Ca.CancelToken=Na,Ca.isCancel=_r,Ca.VERSION=ha,Ca.toFormData=er,Ca.AxiosError=Yn,Ca.Cancel=Ca.CanceledError,Ca.all=function(e){return Promise.all(e)},Ca.spread=function(e){return function(t){return e.apply(null,t)}},Ca.isAxiosError=function(e){return Vn.isObject(e)&&!0===e.isAxiosError},Ca.mergeConfig=Fr,Ca.AxiosHeaders=Sr,Ca.formToJSON=e=>gr(Vn.isHTMLForm(e)?new FormData(e):e),Ca.getAdapter=pa,Ca.HttpStatusCode=Sa,Ca.default=Ca;const _a=Ca,Ea=_a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Ea.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),Ea.interceptors.response.use(e=>e,e=>{var t,n,r,a;return console.error("API Error:",{url:null===(t=e.config)||void 0===t?void 0:t.url,method:null===(n=e.config)||void 0===n?void 0:n.method,status:null===(r=e.response)||void 0===r?void 0:r.status,data:null===(a=e.response)||void 0===a?void 0:a.data,message:e.message}),Promise.reject(e)});const Da=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"employee";return Ea.post("/auth/register",{name:e,email:t,password:n,role:r})},Aa=(e,t,n,r)=>{const a=new URLSearchParams;return e&&a.append("startDate",e),t&&a.append("endDate",t),n&&a.append("type",n),r&&a.append("priority",r),Ea.get("/schedule/events".concat(a.toString()?"?".concat(a.toString()):""))},Ta=e=>Ea.post("/schedule/events",e),Ma=Ea;var Pa=n(579);const Oa=(0,s.createContext)(),Ra=(e,t)=>{switch(t.type){case"LOGIN":return He(He({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,loading:!1});case"LOGOUT":case"USER_ERROR":return He(He({},e),{},{user:null,token:null,isAuthenticated:!1,loading:!1});case"LOAD_USER":return He(He({},e),{},{user:t.payload,isAuthenticated:!0,loading:!1});case"SET_LOADING":return He(He({},e),{},{loading:t.payload});default:return e}},Ia=e=>{let{children:t}=e;const n=localStorage.getItem("token"),r={user:null,token:n,isAuthenticated:!!n,loading:!!n},[a,i]=(0,s.useReducer)(Ra,r);(0,s.useEffect)(()=>{(async()=>{if(a.token){i({type:"SET_LOADING",payload:!0});try{const e=await Ea.get("/auth/user");e&&e.data?i({type:"LOAD_USER",payload:e.data}):(console.error("Invalid response from getUser"),i({type:"USER_ERROR"}),localStorage.removeItem("token"))}catch(e){console.error("Error loading user:",e),console.log("Authentication error, logging out"),i({type:"USER_ERROR"}),localStorage.removeItem("token")}}else i({type:"SET_LOADING",payload:!1})})()},[a.token]);const o=e=>{var t;return!(null===(t=a.user)||void 0===t||!t.role)&&(Array.isArray(e)?e.includes(a.user.role):a.user.role===e)};return(0,Pa.jsx)(Oa.Provider,{value:{state:a,user:a.user,token:a.token,isAuthenticated:a.isAuthenticated,loading:a.loading,login:(e,t)=>{localStorage.setItem("token",e),i({type:"LOGIN",payload:{token:e,user:t}})},logout:()=>{localStorage.removeItem("token"),i({type:"LOGOUT"})},hasRole:o,canAssignTasks:()=>o(["admin","superadmin"]),canManageUsers:()=>o(["admin","superadmin"]),isEmployee:()=>o("employee")},children:t})},La=()=>(0,s.useContext)(Oa),Ba={de:{"app.loading":"System wird geladen\u2026","app.toast.default":"Aktion erfolgreich ausgef\xfchrt","app.toast.error":"Etwas ist schiefgelaufen","app.refresh":"Aktualisieren","app.date.today":"Heute","navigation.dashboard":"\xdcbersicht","navigation.messages":"Messenger","navigation.kanban":"Aufgabenboard","navigation.tasks":"Aufgaben","navigation.schedule":"Planung","navigation.waste":"Entsorgung","navigation.knowledge":"Wissensdatenbank","navigation.users":"Benutzer","navigation.admin":"Admin","navigation.logout":"Abmelden","roles.superadmin":"Superadmin","roles.admin":"Administrator","roles.employee":"Mitarbeiter","board.title":"Unified Task Board","board.subtitle.today":"Heute im Fokus: Was muss sofort passieren?","board.subtitle.date":"Planung f\xfcr {{date}}","board.metrics.backlog":"Backlog","board.metrics.pool":"Task Pool","board.metrics.active":"Aktiv","board.metrics.help":"Braucht Hilfe","board.metrics.completed":"Abgeschlossen","board.column.backlog":"Ideen & Backlog","board.column.backlog.desc":"Noch nicht im heutigen Task Pool, bereit zur Planung","board.column.pool":"Task Pool","board.column.pool.desc":"Offene Aufgaben, die sofort \xfcbernommen werden k\xf6nnen","board.column.progress":"In Arbeit","board.column.progress.desc":"Aktive Aufgaben, die einem Teammitglied geh\xf6ren","board.column.done":"Erledigt","board.column.done.desc":"Gratulation \u2013 sauber abgeschlossen","board.task.priority.urgent":"Dringend","board.task.priority.high":"Hoch","board.task.priority.medium":"Mittel","board.task.priority.low":"Niedrig","board.task.assign.muted":"Nur Administratoren k\xf6nnen Aufgaben in den Pool schieben.","board.task.assign":"In Pool aufnehmen","board.task.claim":"Ich \xfcbernehme das","board.task.complete":"Als erledigt markieren","board.task.mine":"Mir zugewiesen","board.task.help":"Hilfe angefragt \u2013 bitte unterst\xfctzen!","board.task.updated":"Aktualisiert {{date}}","board.task.assignedTo":"Zugewiesen an {{name}}","board.task.claimedBy":"In Arbeit von {{name}}","board.task.estimated":"{{hours}} Std","board.actions.publish.success":"Aufgabe in den heutigen Pool verschoben","board.actions.publish.error":"Aufgabe konnte nicht in den Pool verschoben werden.","board.actions.claim.success":"Aufgabe \xfcbernommen!","board.actions.claim.error":"Fehler beim \xdcbernehmen der Aufgabe.","board.actions.complete.success":"Aufgabe abgeschlossen \u2013 stark!","board.actions.complete.error":"Fehler beim Abschlie\xdfen der Aufgabe.","board.actions.missingPool":"Aufgabe kann nicht verarbeitet werden \u2013 keine Pool-ID gefunden.","board.actions.notAllowed":"Diese Umsortierung ist momentan nicht erlaubt.","board.empty":"Noch keine Aufgaben hier \u2013 schnapp dir etwas!","board.help.adminOnly":"Nur Administratoren k\xf6nnen Aufgaben in den Pool schieben.","board.error.load":"Fehler beim Laden des Task Boards","board.error.title":"Ladeproblem","messenger.title":"Team Messenger","messenger.search.placeholder":"Kontakte oder Konversationen durchsuchen\u2026","messenger.input.placeholder":"Nachricht schreiben\u2026","messenger.actions.send":"Senden","messenger.actions.record":"Audio aufnehmen","messenger.actions.recordStart":"Aufnahme starten","messenger.actions.recordStop":"Aufnahme stoppen","messenger.actions.recording":"Aufnahme l\xe4uft","messenger.actions.attach":"Datei anh\xe4ngen","messenger.actions.createGroup":"Neue Gruppe","messenger.actions.createTopic":"Neue Diskussion","messenger.group.name":"Name der Gruppe","messenger.group.topic":"Thema oder Zweck","messenger.group.placeholder":"z.\u202fB. Fr\xfchschicht Labor C","messenger.topic.placeholder":"z.\u202fB. Wochenplanung Logistik","messenger.group.members":"Teilnehmer ausw\xe4hlen","messenger.group.create":"Konversation erstellen","messenger.group.cancel":"Abbrechen","messenger.group.tempFlag":"Konversation nach Abschluss automatisch archivieren","messenger.group.expire.label":"Automatisch archivieren am","messenger.empty.select":"W\xe4hle eine Konversation aus, um Nachrichten zu sehen.","messenger.empty.noMessages":"Keine Nachrichten vorhanden. Schreibe die erste Nachricht!","messenger.mobile.back":"Zur\xfcck","messenger.mobile.openSidebar":"Konversationen","messenger.error.loadThreads":"Konversationen konnten nicht geladen werden.","messenger.error.loadMessages":"Nachrichten konnten nicht geladen werden.","messenger.error.send":"Nachricht konnte nicht gesendet werden.","messenger.success.threadCreated":"Konversation erstellt.","messenger.success.membersAdded":"Teilnehmer erfolgreich hinzugef\xfcgt.","messenger.thread.group":"Gruppe","messenger.thread.topic":"Thema","messenger.thread.direct":"Direkt","messenger.thread.members":"{{count}} Teilnehmer","messenger.thread.unread":"{{count}} ungelesen","messenger.thread.typing":"{{name}} schreibt\u2026","messenger.thread.online":"{{count}} online","mobile.nav.toggle":"Navigation ein-/ausblenden","mobile.nav.label":"Navigation","mobile.nav.open":"Men\xfc \xf6ffnen","mobile.nav.close":"Men\xfc schlie\xdfen","mobile.quickActions.title":"Schnellzugriffe","mobile.quickActions.tasks":"Aufgaben","mobile.quickActions.schedule":"Kalender","mobile.quickActions.messages":"Nachrichten","mobile.quickActions.profile":"Profil","common.close":"Schlie\xdfen","common.save":"Speichern","common.create":"Erstellen","common.cancel":"Abbrechen","common.delete":"L\xf6schen","common.edit":"Bearbeiten","common.confirm":"Best\xe4tigen","common.optional":"optional"}},za=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(Ba[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"de"]||Ba.de)[e]||Ba.de[e];return n&&"string"===typeof n?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/\{\{\s*(\w+)\s*\}\}/g,(e,n)=>Object.prototype.hasOwnProperty.call(t,n)?t[n]:"{{".concat(n,"}}"))}(n,t):e},Fa=Object.keys(Ba),Ua=(0,s.createContext)({locale:"de",setLocale:()=>{},t:e=>e}),Wa=e=>{let{children:t,defaultLocale:n="de"}=e;const[r,a]=(0,s.useState)(()=>{const e="undefined"!==typeof window?localStorage.getItem("locale"):null;return e&&Fa.includes(e)?e:n});(0,s.useEffect)(()=>{"undefined"!==typeof document&&(document.documentElement.lang=r),"undefined"!==typeof window&&localStorage.setItem("locale",r)},[r]);const i=(0,s.useCallback)(function(e){return za(e,r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},[r]),o=(0,s.useMemo)(()=>({locale:r,setLocale:a,t:i}),[r,i]);return(0,Pa.jsx)(Ua.Provider,{value:o,children:t})},Ha=()=>(0,s.useContext)(Ua);class qa extends s.Component{constructor(e){super(e),this.logErrorToService=(e,t)=>{console.error("Error logged:",{error:e.toString(),componentStack:t.componentStack,timestamp:(new Date).toISOString()})},this.handleReset=()=>{sessionStorage.removeItem("lastError"),localStorage.removeItem("errorCount"),this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/dashboard"},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState(n=>({error:e,errorInfo:t,errorCount:n.errorCount+1}));try{sessionStorage.setItem("lastError",JSON.stringify({message:(null===e||void 0===e?void 0:e.message)||"Unknown error",stack:(null===e||void 0===e?void 0:e.stack)||"",componentStack:(null===t||void 0===t?void 0:t.componentStack)||"",timestamp:(new Date).toISOString()}))}catch(qe){console.error("Failed to save error to sessionStorage",qe)}this.logErrorToService(e,t)}render(){return this.state.hasError?(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:(0,Pa.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsx)("div",{className:"mb-6",children:(0,Pa.jsx)("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center",children:(0,Pa.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),(0,Pa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Oops! Etwas ist schief gelaufen"}),(0,Pa.jsx)("p",{className:"text-gray-600 mb-6",children:"Die Anwendung ist auf einen unerwarteten Fehler gesto\xdfen."}),!1,(0,Pa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Pa.jsx)("button",{onClick:this.handleReset,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Nochmal versuchen"}),(0,Pa.jsx)("button",{onClick:this.handleReload,className:"px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Seite neu laden"})]}),!1]}),(0,Pa.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500",children:[(0,Pa.jsx)("p",{className:"mb-2",children:"Wenn das Problem weiterhin besteht:"}),(0,Pa.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-left max-w-md mx-auto",children:[(0,Pa.jsx)("li",{children:"Versuchen Sie, die Seite neu zu laden"}),(0,Pa.jsx)("li",{children:"L\xf6schen Sie Ihren Browser-Cache"}),(0,Pa.jsx)("li",{children:"Kontaktieren Sie den Administrator"})]})]})]})}):this.props.children}}const Va=qa,Ga="user",Ka="employee",$a="admin",Ya="superadmin",Ja={"schedule:read":[Ga,Ka,$a,Ya],"schedule:create":[Ka,$a,Ya],"schedule:update":[Ka,$a,Ya],"schedule:delete":[$a,Ya],"schedule:manage":[$a,Ya],"message:read":[Ga,Ka,$a,Ya],"message:send":[Ga,Ka,$a,Ya],"message:delete":[$a,Ya],"waste:read":[Ka,$a,Ya],"waste:create":[Ka,$a,Ya],"waste:update":[Ka,$a,Ya],"waste:delete":[$a,Ya],"task:read":[Ga,Ka,$a,Ya],"task:create":[Ka,$a,Ya],"task:update":[Ka,$a,Ya],"task:delete":[$a,Ya],"task:assign":[$a,Ya],"user:read":[$a,Ya],"user:create":[$a,Ya],"user:update":[$a,Ya],"user:delete":[Ya],"user:role":[Ya],"template:read":[Ka,$a,Ya],"template:create":[$a,Ya],"template:update":[$a,Ya],"template:delete":[Ya],"system:settings":[Ya],"system:logs":[$a,Ya]},Qa=()=>{const e=La(),t=null===e||void 0===e?void 0:e.user,n=e=>{if(!t||!t.role)return!1;const n=Ja[e];return n?n.includes(t.role):(console.warn("Unknown permission: ".concat(e)),!1)},r=function(){if(!t||!t.role)return!1;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.includes(t.role)},a=()=>r($a,Ya);return{hasPermission:n,hasAllPermissions:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>n(e))},hasAnyPermission:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.some(e=>n(e))},hasRole:r,isAdmin:a,isSuperAdmin:()=>r(Ya),isEmployee:()=>r(Ka,$a,Ya),ownsResource:e=>!!t&&(!!a()||t.id===e),userRole:null===t||void 0===t?void 0:t.role}},Xa=Qa;function Za(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function ei(e,t){if(null==e)return{};var n,r,a=Za(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ti=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ni=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var ri={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ai=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ii=(0,s.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c}=e,d=ei(e,ai);return(0,s.createElement)("svg",He(He(He({ref:t},ri),{},{width:r,height:r,stroke:n,strokeWidth:i?24*Number(a)/Number(r):a,className:ni("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),si=["className"],oi=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{className:a}=n,i=ei(n,si);return(0,s.createElement)(ii,He({ref:r,iconNode:t,className:ni("lucide-".concat((o=ti(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},i));var o});return n.displayName=ti(e),n},li=oi("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),ci=oi("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),di=oi("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),ui=oi("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),pi=oi("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),mi=oi("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),fi=oi("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),hi=oi("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),gi=oi("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var bi={};function xi(){return bi}function vi(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function yi(e){vi(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===ze(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function wi(e,t){vi(2,arguments);var n=yi(e),r=yi(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function ji(e){vi(1,arguments);var t=yi(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ni(e){vi(1,arguments);var t=yi(e);return function(e){vi(1,arguments);var t=yi(e);return t.setHours(23,59,59,999),t}(t).getTime()===ji(t).getTime()}function ki(e,t){vi(2,arguments);var n,r=yi(e),a=yi(t),i=wi(r,a),s=Math.abs(function(e,t){vi(2,arguments);var n=yi(e),r=yi(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,a));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);var o=wi(r,a)===-i;Ni(yi(e))&&1===s&&1===wi(e,a)&&(o=!1),n=i*(s-Number(o))}return 0===n?0:n}var Si={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Ci(e,t,n){vi(2,arguments);var r,a=function(e,t){return vi(2,arguments),yi(e).getTime()-yi(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?Si[r]:Si.trunc)(a)}var _i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Ei=function(e,t,n){var r,a=_i[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Di(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ai={date:Di({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Di({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Di({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Ti={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Mi=function(e,t,n,r){return Ti[e]};function Pi(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):a;r=e.formattingValues[i]||e.formattingValues[a]}else{var s=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Oi={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Pi({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Pi({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Pi({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Pi({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Pi({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Ri(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s,o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(o)});return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(o.length)}}}function Ii(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var Li={ordinalNumber:Ii({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Ri({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ri({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ri({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ri({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ri({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Bi={code:"en-US",formatDistance:Ei,formatLong:Ai,formatRelative:Mi,localize:Oi,match:Li,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zi(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Fi(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Ui=43200;function Wi(e,t,n){var r,a;vi(2,arguments);var i=xi(),s=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:i.locale)&&void 0!==r?r:Bi;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=wi(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l,c,d=zi(zi({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:o});o>0?(l=yi(t),c=yi(e)):(l=yi(e),c=yi(t));var u,p=Ci(c,l),m=(Fi(c)-Fi(l))/1e3,f=Math.round((p-m)/60);if(f<2)return null!==n&&void 0!==n&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,d):p<10?s.formatDistance("lessThanXSeconds",10,d):p<20?s.formatDistance("lessThanXSeconds",20,d):p<40?s.formatDistance("halfAMinute",0,d):p<60?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",1,d):0===f?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",f,d);if(f<45)return s.formatDistance("xMinutes",f,d);if(f<90)return s.formatDistance("aboutXHours",1,d);if(f<1440){var h=Math.round(f/60);return s.formatDistance("aboutXHours",h,d)}if(f<2520)return s.formatDistance("xDays",1,d);if(f<Ui){var g=Math.round(f/1440);return s.formatDistance("xDays",g,d)}if(f<86400)return u=Math.round(f/Ui),s.formatDistance("aboutXMonths",u,d);if((u=ki(c,l))<12){var b=Math.round(f/Ui);return s.formatDistance("xMonths",b,d)}var x=u%12,v=Math.floor(u/12);return x<3?s.formatDistance("aboutXYears",v,d):x<9?s.formatDistance("overXYears",v,d):s.formatDistance("almostXYears",v+1,d)}function Hi(e,t){return vi(1,arguments),Wi(e,Date.now(),t)}var qi={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"halbe Minute",withPreposition:"halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}};const Vi=function(e,t,n){var r,a=null!==n&&void 0!==n&&n.addSuffix?qi[e].withPreposition:qi[e].standalone;return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r};const Gi={date:Di({formats:{full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:Di({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Di({formats:{full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var Ki={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"};const $i=function(e,t,n,r){return Ki[e]};var Yi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},Ji={narrow:Yi.narrow,abbreviated:["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:Yi.wide};const Qi={ordinalNumber:function(e){return Number(e)+"."},era:Pi({values:{narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},defaultWidth:"wide"}),quarter:Pi({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Pi({values:Yi,formattingValues:Ji,defaultWidth:"wide"}),day:Pi({values:{narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},defaultWidth:"wide"}),dayPeriod:Pi({values:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},defaultWidth:"wide",formattingValues:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},defaultFormattingWidth:"wide"})};var Xi={ordinalNumber:Ii({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:Ri({matchPatterns:{narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^v/i,/^n/i]},defaultParseWidth:"any"}),quarter:Ri({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ri({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(j[a\xe4]n|feb|m\xe4r[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|m\xe4rz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a\xe4]/i,/^f/i,/^m\xe4r/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ri({matchPatterns:{narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ri({matchPatterns:{narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},defaultParseWidth:"any"})};const Zi={code:"de",formatDistance:Vi,formatLong:Gi,formatRelative:$i,localize:Qi,match:Xi,options:{weekStartsOn:1,firstWeekContainsDate:4}},es=_a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});es.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));const ts=(e,t)=>es.post("/kb/articles/".concat(e,"/media"),t,{headers:{"Content-Type":"multipart/form-data"}}),ns=(e,t)=>es.post("/messages/conversations/".concat(e,"/messages"),t),rs=e=>es.post("/messages/conversations/".concat(e,"/read")),as=e=>es.post("/uploads",e,{headers:{"Content-Type":"multipart/form-data"}}),is=e=>{let{socket:t}=e;const[n,r]=(0,s.useState)(!1),[a,i]=(0,s.useState)([]),[o,l]=(0,s.useState)(0),[c,d]=(0,s.useState)("all"),[u,p]=(0,s.useState)(!1),m=(0,s.useRef)(null),f=(0,s.useCallback)(async()=>{try{const e=await es.get("/notifications/unread-count");l(parseInt(e.data.total)||0)}catch(e){console.error("Error loading unread count:",e)}},[]),h=(0,s.useCallback)(async()=>{try{p(!0);const e="unread"===c?{is_read:!1}:"all"!==c?{type:c}:{},t=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es.get("/notifications",{params:e})}(e);i(t.data.notifications)}catch(e){console.error("Error loading notifications:",e)}finally{p(!1)}},[c]);(0,s.useEffect)(()=>{f(),h();const e=e=>{m.current&&!m.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[f,h]);const g=(0,s.useCallback)(e=>{const t=(e=>{if(!e)return null;const t=e.content||e.body||e.message||"",n=e.title||"Benachrichtigung";return He(He({},e),{},{id:e.id||e.notification_id||"temp_".concat(Date.now()),title:n,content:t,created_at:e.created_at||(new Date).toISOString(),icon:e.icon||"/logo192.png"})})(e);t&&(i(e=>{const n=e.some(e=>e.id===t.id);return n?e:[t,...e]}),f(),"undefined"!==typeof Notification&&"granted"===Notification.permission&&new Notification(t.title,{body:t.content,icon:t.icon}))},[f]);(0,s.useEffect)(()=>{if(t)return t.on("notification:new",g),t.on("notification",g),()=>{t.off("notification:new",g),t.off("notification",g)}},[t,g]),(0,s.useEffect)(()=>{n&&h()},[c,n,h]);const b=async e=>{try{await(e=>es.put("/notifications/".concat(e,"/read")))(e),i(t=>t.map(t=>t.id===e?He(He({},t),{},{is_read:!0}):t)),f()}catch(t){console.error("Error marking as read:",t)}},x=async e=>{try{await(e=>es.delete("/notifications/".concat(e)))(e),i(t=>t.filter(t=>t.id!==e)),f()}catch(t){console.error("Error deleting notification:",t)}};return(0,Pa.jsxs)("div",{className:"relative",ref:m,children:[(0,Pa.jsxs)("button",{onClick:()=>r(!n),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition",children:[(0,Pa.jsx)(mi,{className:"w-5 h-5 sm:w-6 sm:h-6"}),o>0&&(0,Pa.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:o>99?"99+":o})]}),n&&(0,Pa.jsxs)("div",{className:"absolute right-0 mt-2 w-screen max-w-md sm:w-96 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 max-h-[80vh] flex flex-col",children:[(0,Pa.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pa.jsx)("h3",{className:"text-lg font-semibold",children:"Benachrichtigungen"}),(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[o>0&&(0,Pa.jsx)("button",{onClick:async()=>{try{await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return es.put("/notifications/mark-all-read",{type:e})}(),i(e=>e.map(e=>He(He({},e),{},{is_read:!0}))),l(0)}catch(e){console.error("Error marking all as read:",e)}},className:"text-blue-600 hover:text-blue-700 transition",title:"Alle markieren",children:(0,Pa.jsx)(fi,{className:"w-5 h-5"})}),(0,Pa.jsx)("button",{onClick:async()=>{try{await es.delete("/notifications/clear-all"),i(e=>e.filter(e=>!e.is_read))}catch(e){console.error("Error clearing notifications:",e)}},className:"text-gray-600 hover:text-gray-700 transition",title:"L\xf6schen",children:(0,Pa.jsx)(hi,{className:"w-5 h-5"})})]})]}),(0,Pa.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"all",label:"Alle"},{value:"unread",label:"Ungelesen"},{value:"message",label:"Nachrichten"},{value:"mention",label:"Erw\xe4hnungen"},{value:"task_assigned",label:"Aufgaben"}].map(e=>(0,Pa.jsx)("button",{onClick:()=>d(e.value),className:"px-3 py-1 rounded-full text-xs sm:text-sm whitespace-nowrap transition ".concat(c===e.value?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.value))})]}),(0,Pa.jsx)("div",{className:"flex-1 overflow-y-auto",children:u?(0,Pa.jsxs)("div",{className:"p-8 text-center",children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,Pa.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Laden..."})]}):0===a.length?(0,Pa.jsxs)("div",{className:"p-8 text-center",children:[(0,Pa.jsx)(mi,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,Pa.jsx)("p",{className:"text-gray-500",children:"Keine Benachrichtigungen"})]}):(0,Pa.jsx)("div",{className:"divide-y divide-gray-100",children:a.map(e=>{return(0,Pa.jsx)("div",{onClick:()=>(async e=>{e.is_read||await b(e.id),e.action_url&&(window.location.href=e.action_url)})(e),className:"p-3 sm:p-4 hover:bg-gray-50 transition cursor-pointer relative ".concat(e.is_read?"":"bg-blue-50"),children:(0,Pa.jsxs)("div",{className:"flex gap-3",children:[(0,Pa.jsx)("div",{className:"flex-shrink-0 mt-1",children:(t=e.type,{message:(0,Pa.jsx)(li,{className:"w-4 h-4 text-blue-500"}),mention:(0,Pa.jsx)(ci,{className:"w-4 h-4 text-purple-500"}),reaction:(0,Pa.jsx)(di,{className:"w-4 h-4 text-pink-500"}),task_assigned:(0,Pa.jsx)(ui,{className:"w-4 h-4 text-green-500"}),calendar_event:(0,Pa.jsx)(pi,{className:"w-4 h-4 text-orange-500"})}[t]||(0,Pa.jsx)(mi,{className:"w-4 h-4 text-gray-500"}))}),(0,Pa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pa.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,Pa.jsx)("h4",{className:"text-sm font-medium ".concat(e.is_read?"text-gray-600":"text-gray-900"),children:e.title}),(0,Pa.jsx)("button",{onClick:t=>{t.stopPropagation(),x(e.id)},className:"text-gray-400 hover:text-red-500 transition",children:(0,Pa.jsx)(gi,{className:"w-4 h-4"})})]}),e.content&&(0,Pa.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.content}),(0,Pa.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Pa.jsx)("span",{className:"text-xs text-gray-500",children:Hi(new Date(e.created_at),{addSuffix:!0,locale:Zi})}),!e.is_read&&(0,Pa.jsx)("button",{onClick:t=>{t.stopPropagation(),b(e.id)},className:"text-xs text-blue-600 hover:text-blue-700 transition",children:"Markieren"})]})]}),!e.is_read&&(0,Pa.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-12 bg-blue-500 rounded-r"})]})},e.id);var t})})}),a.length>0&&(0,Pa.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:(0,Pa.jsx)("p",{className:"text-xs text-center text-gray-500",children:o>0?"".concat(o," ungelesen").concat(1===o?"e":""):"Alle Benachrichtigungen gelesen"})})]})]})},ss=[{to:"/dashboard",labelKey:"navigation.dashboard",icon:"\ud83d\udcca",permission:"schedule:read"},{to:"/messages",labelKey:"navigation.messages",icon:"\ud83d\udcac",permission:"message:read"},{to:"/task-pool",labelKey:"navigation.tasks",icon:"\u2713",permission:"task:read"},{to:"/waste",labelKey:"navigation.waste",icon:"\u267b\ufe0f",permission:"waste:read"},{to:"/schedule",labelKey:"navigation.schedule",icon:"\u23f0",permission:"schedule:read"},{to:"/knowledge-base",labelKey:"navigation.knowledge",icon:"\ud83d\udcda",permission:"schedule:read"},{to:"/users",labelKey:"navigation.users",icon:"\ud83d\udc65",permission:"user:read"},{to:"/admin",labelKey:"navigation.admin",icon:"\u2699\ufe0f",permission:"system:settings"}],os=e=>{let{socket:t}=e;const n=La(),r=ee(),a=ne(),{hasPermission:i}=Xa(),[o,l]=(0,s.useState)(!1),{t:c}=Ha();if(!n||!n.state)return null;const{state:d,logout:u}=n,{user:p}=d||{},m=e=>c("roles.".concat(e))||e,f=()=>{u(),a("/login")};if(!p)return null;const h=ss.filter(e=>i(e.permission));return(0,Pa.jsxs)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-md",children:[(0,Pa.jsx)("div",{className:"max-w-full mx-auto px-3 sm:px-4 lg:px-6",children:(0,Pa.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Pa.jsxs)(Pe,{to:"/dashboard",className:"flex items-center space-x-2 flex-shrink-0",children:[(0,Pa.jsx)("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg",children:(0,Pa.jsx)("span",{className:"text-white font-bold text-base",children:"BL"})}),(0,Pa.jsxs)("div",{className:"hidden md:block",children:[(0,Pa.jsx)("h1",{className:"text-base font-bold text-gray-900 leading-tight",children:"Biolab"}),(0,Pa.jsx)("p",{className:"text-xs text-gray-500 leading-tight",children:"Logistik Planner"})]})]}),(0,Pa.jsx)("nav",{className:"hidden lg:flex items-center flex-1 justify-center max-w-4xl mx-4",children:(0,Pa.jsx)("div",{className:"flex items-center gap-1 bg-gray-50 rounded-xl p-1",children:h.map(e=>{const t=r.pathname===e.to;return(0,Pa.jsxs)(Pe,{to:e.to,className:"\n                      px-3 py-2 rounded-lg text-xs xl:text-sm font-medium transition-all whitespace-nowrap\n                      ".concat(t?"bg-white text-blue-700 shadow-md":"text-gray-600 hover:bg-white/50 hover:text-gray-900","\n                    "),children:[(0,Pa.jsx)("span",{className:"mr-1.5",children:e.icon}),(0,Pa.jsx)("span",{className:"hidden xl:inline",children:c(e.labelKey)})]},e.to)})})}),(0,Pa.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[(0,Pa.jsx)(is,{socket:t}),(0,Pa.jsxs)("div",{className:"hidden md:flex items-center gap-3 pl-3 border-l border-gray-300",children:[(0,Pa.jsxs)("div",{className:"text-right max-w-[120px]",children:[(0,Pa.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:p.name}),(0,Pa.jsx)("p",{className:"text-xs text-gray-500 truncate",children:m(p.role)})]}),(0,Pa.jsx)("button",{onClick:f,className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 hover:shadow-md transition-all",title:c("navigation.logout"),children:"\ud83d\udeaa"})]}),(0,Pa.jsx)("button",{onClick:()=>l(!o),className:"lg:hidden p-2.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":c("mobile.nav.toggle"),children:(0,Pa.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o?(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"}):(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),o&&(0,Pa.jsx)("div",{className:"lg:hidden bg-gradient-to-b from-white to-gray-50 border-t border-gray-200 shadow-2xl",children:(0,Pa.jsxs)("div",{className:"px-4 py-4 space-y-2 max-h-[calc(100vh-4rem)] overflow-y-auto",children:[(0,Pa.jsxs)("div",{className:"md:hidden bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl p-4 mb-4 shadow-lg",children:[(0,Pa.jsx)("p",{className:"text-base font-bold",children:p.name}),(0,Pa.jsx)("p",{className:"text-sm text-blue-100",children:m(p.role)})]}),(0,Pa.jsx)("div",{className:"space-y-1",children:h.map(e=>{const t=r.pathname===e.to;return(0,Pa.jsxs)(Pe,{to:e.to,onClick:()=>l(!1),className:"\n                      flex items-center px-4 py-3.5 rounded-xl text-sm font-semibold transition-all\n                      ".concat(t?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:bg-white hover:shadow-md","\n                    "),children:[(0,Pa.jsx)("span",{className:"mr-3 text-xl",children:e.icon}),(0,Pa.jsx)("span",{children:c(e.labelKey)})]},e.to)})}),(0,Pa.jsxs)("button",{onClick:()=>{l(!1),f()},className:"w-full flex items-center px-4 py-3.5 mt-4 text-white bg-gradient-to-r from-red-500 to-rose-600 rounded-xl text-sm font-semibold hover:shadow-lg transition-all",children:[(0,Pa.jsx)("span",{className:"mr-3 text-xl",children:"\ud83d\udeaa"}),(0,Pa.jsx)("span",{children:c("navigation.logout")})]})]})})]})},ls=oi("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),cs=oi("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),ds=oi("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),us=[{to:"/dashboard",icon:ls,labelKey:"navigation.dashboard"},{to:"/task-pool",icon:cs,labelKey:"navigation.tasks"},{to:"/messages",icon:li,labelKey:"navigation.messages"},{to:"/schedule",icon:pi,labelKey:"navigation.schedule"},{to:"/profile/me",icon:ds,labelKey:"mobile.quickActions.profile"}],ps=()=>{const{pathname:e}=ee(),{t:t}=Ha();return["/login","/first-setup"].includes(e)?null:(0,Pa.jsx)("nav",{className:"lg:hidden fixed inset-x-0 bottom-0 z-40 border-t border-slate-200 bg-white/95 backdrop-blur shadow-lg",children:(0,Pa.jsx)("div",{className:"flex justify-around items-center py-2",children:us.map(n=>{let{to:r,icon:a,labelKey:i}=n;const s=e===r;return(0,Pa.jsxs)(Oe,{to:r,className:"flex flex-col items-center text-xs font-medium transition-colors ".concat(s?"text-blue-600":"text-slate-500 hover:text-slate-700"),children:[(0,Pa.jsx)(a,{className:"w-5 h-5 mb-1"}),(0,Pa.jsx)("span",{children:t(i)})]},r)})})})},ms=()=>{const[e,t]=(0,s.useState)({email:"",password:""}),[n,r]=(0,s.useState)(""),[a,i]=(0,s.useState)(!1),o=La(),l=null===o||void 0===o?void 0:o.login,c=ne(),d=n=>{t(He(He({},e),{},{[n.target.name]:n.target.value}))};return(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,Pa.jsx)("div",{className:"bg-white bg-opacity-95 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20",children:(0,Pa.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),r("");try{const t=await(n=e.email,a=e.password,Ea.post("/auth/login",{email:n,password:a})),{token:r,user:i}=t.data;l(r,i),c("/dashboard")}catch(s){r("Ung\xfcltige Anmeldeinformationen. Bitte versuche es erneut.")}finally{i(!1)}var n,a},className:"space-y-6",children:[n&&(0,Pa.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md text-sm",children:n}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail"}),(0,Pa.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"E-Mail eingeben"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort"}),(0,Pa.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Passwort eingeben"})]}),(0,Pa.jsx)("div",{className:"pt-4",children:(0,Pa.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-lg",children:a?"Wird angemeldet...":"Anmelden"})})]})})})},fs=oi("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),hs=oi("recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]),gs=oi("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function bs(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function xs(e,t){vi(2,arguments);var n=yi(e),r=bs(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function vs(e,t){var n,r,a,i,s,o,l,c;vi(1,arguments);var d=xi(),u=bs(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:d.weekStartsOn)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=yi(e),m=p.getDay(),f=(m<u?7:0)+m-u;return p.setDate(p.getDate()-f),p.setHours(0,0,0,0),p}function ys(e,t){var n,r,a,i,s,o,l,c;vi(1,arguments);var d=xi(),u=bs(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:d.weekStartsOn)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=yi(e),m=p.getDay(),f=6+(m<u?-7:0)-(m-u);return p.setDate(p.getDate()+f),p.setHours(23,59,59,999),p}function ws(e){vi(1,arguments);var t=yi(e);return t.setHours(0,0,0,0),t}function js(e,t){vi(2,arguments);var n=ws(e),r=ws(t);return n.getTime()===r.getTime()}function Ns(e){if(vi(1,arguments),!function(e){return vi(1,arguments),e instanceof Date||"object"===ze(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=yi(e);return!isNaN(Number(t))}function ks(e,t){vi(2,arguments);var n=yi(e).getTime(),r=bs(t);return new Date(n+r)}function Ss(e){vi(1,arguments);var t=yi(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Cs(e){vi(1,arguments);var t=yi(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Ss(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=Ss(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function _s(e){vi(1,arguments);var t=yi(e),n=Ss(t).getTime()-function(e){vi(1,arguments);var t=Cs(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Ss(n)}(t).getTime();return Math.round(n/6048e5)+1}function Es(e,t){var n,r,a,i,s,o,l,c;vi(1,arguments);var d=xi(),u=bs(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:d.weekStartsOn)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=yi(e),m=p.getUTCDay(),f=(m<u?7:0)+m-u;return p.setUTCDate(p.getUTCDate()-f),p.setUTCHours(0,0,0,0),p}function Ds(e,t){var n,r,a,i,s,o,l,c;vi(1,arguments);var d=yi(e),u=d.getUTCFullYear(),p=xi(),m=bs(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:p.firstWeekContainsDate)&&void 0!==r?r:null===(l=p.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(u+1,0,m),f.setUTCHours(0,0,0,0);var h=Es(f,t),g=new Date(0);g.setUTCFullYear(u,0,m),g.setUTCHours(0,0,0,0);var b=Es(g,t);return d.getTime()>=h.getTime()?u+1:d.getTime()>=b.getTime()?u:u-1}function As(e,t){vi(1,arguments);var n=yi(e),r=Es(n,t).getTime()-function(e,t){var n,r,a,i,s,o,l,c;vi(1,arguments);var d=xi(),u=bs(null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),p=Ds(e,t),m=new Date(0);return m.setUTCFullYear(p,0,u),m.setUTCHours(0,0,0,0),Es(m,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Ts(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const Ms={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ts("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ts(n+1,2)},d:function(e,t){return Ts(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Ts(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ts(e.getUTCHours(),t.length)},m:function(e,t){return Ts(e.getUTCMinutes(),t.length)},s:function(e,t){return Ts(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Ts(Math.floor(r*Math.pow(10,n-3)),t.length)}};var Ps="midnight",Os="noon",Rs="morning",Is="afternoon",Ls="evening",Bs="night",zs={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ms.y(e,t)},Y:function(e,t,n,r){var a=Ds(e,r),i=a>0?a:1-a;return"YY"===t?Ts(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Ts(i,t.length)},R:function(e,t){return Ts(Cs(e),t.length)},u:function(e,t){return Ts(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ts(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ts(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Ms.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ts(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=As(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Ts(a,t.length)},I:function(e,t,n){var r=_s(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ts(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ms.d(e,t)},D:function(e,t,n){var r=function(e){vi(1,arguments);var t=yi(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ts(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ts(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ts(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Ts(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?Os:0===a?Ps:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?Ls:a>=12?Is:a>=4?Rs:Bs,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ms.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ms.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ts(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ts(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ms.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ms.s(e,t)},S:function(e,t){return Ms.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Us(a);case"XXXX":case"XX":return Ws(a);default:return Ws(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Us(a);case"xxxx":case"xx":return Ws(a);default:return Ws(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Fs(a,":");default:return"GMT"+Ws(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Fs(a,":");default:return"GMT"+Ws(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return Ts(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return Ts((r._originalDate||e).getTime(),t.length)}};function Fs(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(0===i)return n+String(a);var s=t||"";return n+String(a)+s+Ts(i,2)}function Us(e,t){return e%60===0?(e>0?"-":"+")+Ts(Math.abs(e)/60,2):Ws(e,t)}function Ws(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+Ts(Math.floor(a/60),2)+n+Ts(a%60,2)}const Hs=zs;var qs=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Vs=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Gs={p:Vs,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return qs(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",qs(a,t)).replace("{{time}}",Vs(i,t))}};const Ks=Gs;var $s=["D","DD"],Ys=["YY","YYYY"];function Js(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Qs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zs=/^'([^]*?)'?$/,eo=/''/g,to=/[a-zA-Z]/;function no(e,t,n){var r,a,i,s,o,l,c,d,u,p,m,f,h,g,b,x,v,y;vi(2,arguments);var w=String(t),j=xi(),N=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:j.locale)&&void 0!==r?r:Bi,k=bs(null!==(i=null!==(s=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:j.firstWeekContainsDate)&&void 0!==s?s:null===(u=j.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==i?i:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=bs(null!==(m=null!==(f=null!==(h=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(b=n.locale)||void 0===b||null===(x=b.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==h?h:j.weekStartsOn)&&void 0!==f?f:null===(v=j.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var C=yi(e);if(!Ns(C))throw new RangeError("Invalid time value");var _=function(e,t){return vi(2,arguments),ks(e,-bs(t))}(C,Fi(C)),E={firstWeekContainsDate:k,weekStartsOn:S,locale:N,_originalDate:C};return w.match(Xs).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Ks[t])(e,N.formatLong):e}).join("").match(Qs).map(function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return function(e){var t=e.match(Zs);if(!t)return e;return t[1].replace(eo,"'")}(r);var i,s=Hs[a];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(i=r,-1===Ys.indexOf(i))||Js(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==$s.indexOf(e)}(r)||Js(r,t,String(e)),s(_,r,N.localize,E);if(a.match(to))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r}).join("")}function ro(e){return vi(1,arguments),js(e,Date.now())}const ao=e=>{let{events:t=[],onEventClick:n,onEventCreate:r,onDateSelect:a,selectedDate:i=new Date}=e;const[o,l]=(0,s.useState)(new Date),c=(()=>{const e=function(e){vi(1,arguments);var t=yi(e);return t.setDate(1),t.setHours(0,0,0,0),t}(o),t=ji(e),n=vs(e,{weekStartsOn:1}),r=ys(t,{weekStartsOn:1}),a=[];let i=n;for(;i<=r;)a.push(i),i=xs(i,1);return a})();return(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,Pa.jsx)("button",{onClick:()=>{l(xs(o,-32))},className:"p-2 hover:bg-gray-100 rounded-full",children:"\u2190"}),(0,Pa.jsx)("h2",{className:"text-xl font-semibold",children:no(o,"MMMM yyyy",{locale:Zi})}),(0,Pa.jsx)("button",{onClick:()=>{l(xs(o,32))},className:"p-2 hover:bg-gray-100 rounded-full",children:"\u2192"})]}),(0,Pa.jsx)("div",{className:"grid grid-cols-7 border-b",children:["Mo","Di","Mi","Do","Fr","Sa","So"].map(e=>(0,Pa.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:e},e))}),(0,Pa.jsx)("div",{className:"grid grid-cols-7",children:c.map((e,s)=>{const l=(e=>t.filter(t=>js(new Date(t.start_date||t.start),e)))(e),c=function(e,t){vi(2,arguments);var n=yi(e),r=yi(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,o),d=js(e,i),u=ro(e);return(0,Pa.jsxs)("div",{className:"min-h-[100px] p-2 border-r border-b cursor-pointer hover:bg-gray-50 ".concat(c?"":"bg-gray-50 text-gray-400"," ").concat(d?"bg-blue-50":""," ").concat(u?"bg-yellow-50":""),onClick:()=>(e=>{a&&a(e),r&&r({start:e})})(e),children:[(0,Pa.jsx)("div",{className:"text-sm font-medium ".concat(u?"text-blue-600":""),children:no(e,"d")}),(0,Pa.jsxs)("div",{className:"mt-1 space-y-1",children:[l.slice(0,3).map((e,t)=>(0,Pa.jsxs)("div",{className:"text-xs p-1 rounded truncate cursor-pointer ".concat("Meeting"===e.type?"bg-blue-100 text-blue-800":"Arbeit"===e.type?"bg-green-100 text-green-800":"Urlaub"===e.type?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),onClick:t=>{t.stopPropagation(),n&&n(e)},children:[e.start_time&&(0,Pa.jsx)("span",{className:"font-medium",children:e.start_time})," ",e.title]},t)),l.length>3&&(0,Pa.jsxs)("div",{className:"text-xs text-gray-500",children:["+",l.length-3," mehr"]})]})]},s)})})]})};Math.pow(10,8);var io=6e4,so=36e5;function oo(e,t){var n;vi(1,arguments);var r=bs(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,i=function(e){var t,n={},r=e.split(lo.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],lo.timeZoneDelimiter.test(n.date)&&(n.date=e.split(lo.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var a=lo.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e);if(i.date){var s=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,r);a=function(e,t){if(null===t)return new Date(NaN);var n=e.match(co);if(!n)return new Date(NaN);var r=!!n[4],a=mo(n[1]),i=mo(n[2])-1,s=mo(n[3]),o=mo(n[4]),l=mo(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,i=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}(t,o,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(ho[t]||(go(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(go(e)?366:365)}(t,a)?(c.setUTCFullYear(t,i,Math.max(a,s)),c):new Date(NaN)}(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o,l=a.getTime(),c=0;if(i.time&&(c=function(e){var t=e.match(uo);if(!t)return NaN;var n=fo(t[1]),r=fo(t[2]),a=fo(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*so+r*io+1e3*a}(i.time),isNaN(c)))return new Date(NaN);if(!i.timezone){var d=new Date(l+c),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return o=function(e){if("Z"===e)return 0;var t=e.match(po);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*so+a*io)}(i.timezone),isNaN(o)?new Date(NaN):new Date(l+c+o)}var lo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},co=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uo=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,po=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mo(e){return e?parseInt(e):1}function fo(e){return e&&parseFloat(e.replace(",","."))||0}var ho=[31,null,31,30,31,30,31,31,30,31,30,31];function go(e){return e%400===0||e%4===0&&e%100!==0}const bo=[{value:"Arbeit",label:"Arbeit",color:"#10b981"},{value:"Meeting",label:"Meeting",color:"#3b82f6"},{value:"Urlaub",label:"Urlaub",color:"#8b5cf6"},{value:"Krankheit",label:"Krankheit",color:"#ef4444"},{value:"Training",label:"Training",color:"#f59e0b"},{value:"Projekt",label:"Projekt",color:"#f97316"},{value:"Termin",label:"Termin",color:"#06b6d4"},{value:"Deadline",label:"Deadline",color:"#dc2626"},{value:"Personal",label:"Personal",color:"#84cc16"}],xo=[{value:"low",label:"Niedrig",color:"#10b981"},{value:"medium",label:"Mittel",color:"#f59e0b"},{value:"high",label:"Hoch",color:"#ef4444"},{value:"urgent",label:"Dringend",color:"#dc2626"}],vo=[{value:0,label:"Keine Erinnerung"},{value:5,label:"5 Minuten"},{value:15,label:"15 Minuten"},{value:30,label:"30 Minuten"},{value:60,label:"1 Stunde"},{value:120,label:"2 Stunden"},{value:1440,label:"1 Tag"},{value:2880,label:"2 Tage"}],yo=e=>{var t,n,r;let{event:a,isOpen:i,onClose:o,onSave:l,onDelete:c,onDuplicate:d,mode:u="view",users:p=[]}=e;const[m,f]=(0,s.useState)({title:"",description:"",start_date:"",start_time:"",end_date:"",end_time:"",type:"Termin",priority:"medium",location:"",attendees:[],all_day:!1,recurring:!1,recurring_pattern:"weekly",recurring_end:"",reminder:15,status:"confirmed",color:"#3b82f6",tags:[]}),[h,g]=(0,s.useState)({}),[b,x]=(0,s.useState)("edit"===u||"create"===u),[v,y]=(0,s.useState)(!1),w=(0,s.useCallback)(e=>{const t=bo.find(t=>t.value===e);return t?t.color:"#3b82f6"},[]);(0,s.useEffect)(()=>{if(a)f({title:a.title||"",description:a.description||"",start_date:a.start_date||a.date||"",start_time:a.start_time||"09:00",end_date:a.end_date||a.date||"",end_time:a.end_time||"10:00",type:a.type||"Termin",priority:a.priority||"medium",location:a.location||"",attendees:a.attendees||[],all_day:a.all_day||!1,recurring:a.recurring||!1,recurring_pattern:a.recurring_pattern||"weekly",recurring_end:a.recurring_end||"",reminder:a.reminder||15,status:a.status||"confirmed",color:a.color||w(a.type||"Termin"),tags:a.tags||[]});else if("create"===u){const e=new Date;f(t=>He(He({},t),{},{start_date:no(e,"yyyy-MM-dd"),end_date:no(e,"yyyy-MM-dd"),start_time:no(e,"HH:mm"),end_time:no(xs(e,0),"HH:mm")}))}},[a,u,w]);const j=(e,t)=>{if(f(n=>He(He({},n),{},{[e]:t})),h[e]&&g(t=>He(He({},t),{},{[e]:null})),"type"===e&&f(e=>He(He({},e),{},{color:w(t)})),"start_time"===e&&!m.all_day){const[e,n]=t.split(":").map(Number),r=new Date;r.setHours(e+1,n),f(e=>He(He({},e),{},{end_time:no(r,"HH:mm")}))}};return i?(0,Pa.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full m-4 max-h-screen overflow-y-auto",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Pa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"create"===u?"Neuer Termin":b?"Termin bearbeiten":"Termin-Details"}),(0,Pa.jsxs)("div",{className:"flex items-center space-x-2",children:[!b&&a&&(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("button",{onClick:()=>x(!0),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Bearbeiten",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Pa.jsx)("button",{onClick:()=>{const e=He(He({},m),{},{id:Date.now(),title:"".concat(m.title," (Kopie)"),start_date:no(xs(oo(m.start_date),1),"yyyy-MM-dd"),end_date:no(xs(oo(m.end_date),1),"yyyy-MM-dd")});null===d||void 0===d||d(e)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Duplizieren",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Pa.jsx)("button",{onClick:()=>y(!0),className:"p-2 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50",title:"L\xf6schen",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,Pa.jsx)("button",{onClick:o,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,Pa.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titel *"}),b?(0,Pa.jsx)("input",{type:"text",value:m.title,onChange:e=>j("title",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.title?"border-red-500":"border-gray-300"),placeholder:"Termintitel eingeben..."}):(0,Pa.jsx)("p",{className:"text-lg font-medium text-gray-900",children:m.title}),h.title&&(0,Pa.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.title})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Typ"}),b?(0,Pa.jsx)("select",{value:m.type,onChange:e=>j("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:bo.map(e=>(0,Pa.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,Pa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pa.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w(m.type)}}),(0,Pa.jsx)("span",{children:m.type})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorit\xe4t"}),b?(0,Pa.jsx)("select",{value:m.priority,onChange:e=>j("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:xo.map(e=>(0,Pa.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,Pa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pa.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:null===(t=xo.find(e=>e.value===m.priority))||void 0===t?void 0:t.color}}),(0,Pa.jsx)("span",{children:null===(n=xo.find(e=>e.value===m.priority))||void 0===n?void 0:n.label})]})]})]}),b&&(0,Pa.jsxs)("div",{className:"flex items-center",children:[(0,Pa.jsx)("input",{type:"checkbox",id:"all_day",checked:m.all_day,onChange:e=>j("all_day",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Pa.jsx)("label",{htmlFor:"all_day",className:"ml-2 text-sm text-gray-700",children:"Ganzt\xe4gig"})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Startdatum *"}),b?(0,Pa.jsx)("input",{type:"date",value:m.start_date,onChange:e=>j("start_date",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.start_date?"border-red-500":"border-gray-300")}):(0,Pa.jsx)("p",{children:no(oo(m.start_date),"dd.MM.yyyy",{locale:Zi})}),h.start_date&&(0,Pa.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.start_date})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enddatum"}),b?(0,Pa.jsx)("input",{type:"date",value:m.end_date,onChange:e=>j("end_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,Pa.jsx)("p",{children:no(oo(m.end_date),"dd.MM.yyyy",{locale:Zi})})]})]}),!m.all_day&&(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Startzeit *"}),b?(0,Pa.jsx)("input",{type:"time",value:m.start_time,onChange:e=>j("start_time",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.start_time?"border-red-500":"border-gray-300")}):(0,Pa.jsx)("p",{children:m.start_time}),h.start_time&&(0,Pa.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.start_time})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endzeit *"}),b?(0,Pa.jsx)("input",{type:"time",value:m.end_time,onChange:e=>j("end_time",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.end_time?"border-red-500":"border-gray-300")}):(0,Pa.jsx)("p",{children:m.end_time}),h.end_time&&(0,Pa.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.end_time})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschreibung"}),b?(0,Pa.jsx)("textarea",{value:m.description,onChange:e=>j("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Zus\xe4tzliche Details..."}):(0,Pa.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:m.description||"Keine Beschreibung vorhanden"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anh\xe4nge"}),(null===a||void 0===a||null===(r=a.attachments)||void 0===r?void 0:r.length)>0?(0,Pa.jsx)("div",{className:"flex flex-wrap gap-3",children:a.attachments.map(e=>(0,Pa.jsx)("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-2 text-xs text-gray-700",children:"image"===e.type?(0,Pa.jsx)("img",{src:e.url,alt:e.name||"Anhang",className:"h-20 w-20 rounded-lg object-cover"}):"audio"===e.type?(0,Pa.jsx)("audio",{controls:!0,src:e.url,className:"w-48"}):(0,Pa.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 underline",children:["\ud83d\udcce ",e.name||"Datei \xf6ffnen"]})},e.id||e.url))}):(0,Pa.jsx)("p",{className:"text-gray-500 text-sm",children:"Keine Anh\xe4nge"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ort"}),b?(0,Pa.jsx)("input",{type:"text",value:m.location,onChange:e=>j("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Veranstaltungsort..."}):(0,Pa.jsx)("p",{className:"text-gray-700",children:m.location||"Kein Ort angegeben"})]}),b&&(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Erinnerung"}),(0,Pa.jsx)("select",{value:m.reminder,onChange:e=>j("reminder",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:vo.map(e=>(0,Pa.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Pa.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,Pa.jsx)("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:b?"Abbrechen":"Schlie\xdfen"}),b&&(0,Pa.jsx)("button",{onClick:()=>{if(!(()=>{const e={};return m.title.trim()||(e.title="Titel ist erforderlich"),m.start_date||(e.start_date="Startdatum ist erforderlich"),m.all_day||(m.start_time||(e.start_time="Startzeit ist erforderlich"),m.end_time||(e.end_time="Endzeit ist erforderlich"),m.start_date===m.end_date&&m.start_time>=m.end_time&&(e.end_time="Endzeit muss nach Startzeit liegen")),m.recurring&&!m.recurring_end&&(e.recurring_end="Wiederholung-Enddatum ist erforderlich"),g(e),0===Object.keys(e).length})())return;const e=He(He(He({},a),m),{},{id:(null===a||void 0===a?void 0:a.id)||Date.now(),updated_at:(new Date).toISOString()});null===l||void 0===l||l(e),x(!1)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"create"===u?"Erstellen":"Speichern"})]})]}),v&&(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm mx-4",children:[(0,Pa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termin l\xf6schen?"}),(0,Pa.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Sind Sie sicher, dass Sie diesen Termin l\xf6schen m\xf6chten? Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden."}),(0,Pa.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Pa.jsx)("button",{onClick:()=>y(!1),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Abbrechen"}),(0,Pa.jsx)("button",{onClick:()=>{null!==a&&void 0!==a&&a.id&&(null===c||void 0===c||c(a.id),y(!1))},className:"px-3 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700",children:"L\xf6schen"})]})]})})]}):null},wo=oi("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),jo=oi("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),No=oi("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),ko=oi("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),So=e=>an.success(e,{duration:3e3,position:"top-right"}),Co=function(e){var t,n,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=(null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===a||void 0===a?void 0:a.message)||e;return an.error(i,{duration:5e3,position:"top-right"})},_o=e=>an(e,{icon:"\u2139\ufe0f",duration:3e3,position:"top-right",style:{background:"#3B82F6"}}),Eo=(0,s.memo)(e=>{let{isOpen:t,onClose:n,onSave:r,selectedDate:a,event:i=null,mode:o="create"}=e;const[l,c]=(0,s.useState)({title:"",description:"",start_date:"",end_date:"",start_time:"08:00",end_time:"17:00",all_day:!1,type:"Arbeit",priority:"medium",location:"",attendees:[],reminder:15,status:"confirmed",category:"work",notes:"",recurring:!1,recurring_pattern:"weekly",recurring_end:""}),[d,u]=(0,s.useState)({}),[p,m]=(0,s.useState)([]),[f,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[x,v]=(0,s.useState)(0),y=(0,s.useRef)(null),w=(0,s.useRef)(null),j=(0,s.useRef)(null),N=(0,s.useRef)([]),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(t){if("edit"===o&&i){var e;c({title:i.title||"",description:i.description||"",start_date:i.start_date||no(a||new Date,"yyyy-MM-dd"),end_date:i.end_date||no(a||new Date,"yyyy-MM-dd"),start_time:i.start_time||"08:00",end_time:i.end_time||"17:00",all_day:Boolean(i.all_day),type:i.type||"Arbeit",priority:i.priority||"medium",location:i.location||"",attendees:Array.isArray(i.attendees)?i.attendees:[],reminder:null!==(e=i.reminder)&&void 0!==e?e:15,status:i.status||"confirmed",category:i.category||"work",notes:i.notes||"",recurring:Boolean(i.recurring),recurring_pattern:i.recurring_pattern||"weekly",recurring_end:i.recurring_end||""})}else{const e=no(a||new Date,"yyyy-MM-dd");c({title:"",description:"",start_date:e,end_date:e,start_time:"08:00",end_time:"17:00",all_day:!1,type:"Arbeit",priority:"medium",location:"",attendees:[],reminder:15,status:"confirmed",category:"work",notes:"",recurring:!1,recurring_pattern:"weekly",recurring_end:""})}u({}),m("edit"===o?(e=>{if(!e)return[];if(Array.isArray(e))return e;if("string"===typeof e)try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(t){return[]}return[]})(null===i||void 0===i?void 0:i.attachments):[])}else m([]),u({})},[t,a,i,o]);const S=(0,s.useCallback)(e=>{const{name:t,value:n,type:r,checked:a}=e.target;c(e=>He(He({},e),{},{[t]:"checkbox"===r?a:n})),u(e=>{if(e[t]){const n=He({},e);return delete n[t],n}return e})},[]),C=(0,s.useCallback)(e=>{const t=e.target.value.split(",").map(e=>e.trim()).filter(Boolean);c(e=>He(He({},e),{},{attendees:t}))},[]),_=(0,s.useCallback)(async e=>{if(!e)return null;const t=new FormData;t.append("file",e),t.append("context","calendar"),null!==i&&void 0!==i&&i.id&&t.append("eventId",String(i.id));try{h(!0);return(await as(t)).data}catch(n){return console.error("Attachment upload failed",n),Co("Anhang konnte nicht hochgeladen werden."),null}finally{h(!1)}},[null===i||void 0===i?void 0:i.id]),E=(0,s.useCallback)(async e=>{const t=Array.from(e||[]);for(const n of t){const e=await _(n);e&&m(t=>[...t,e])}},[_]),D=(0,s.useCallback)(e=>{const t=e.target.files;t&&t.length&&E(t).catch(()=>{}),e.target.value=""},[E]),A=(0,s.useCallback)(e=>{m(t=>t.filter(t=>{var n;return(null!==(n=t.id)&&void 0!==n?n:t.url)!==e}))},[]),T=(0,s.useMemo)(()=>{const e=String(Math.floor(x/60)).padStart(2,"0"),t=String(x%60).padStart(2,"0");return"".concat(e,":").concat(t)},[x]),M=(0,s.useCallback)(()=>{k.current&&(clearInterval(k.current),k.current=null),j.current&&(j.current.getTracks().forEach(e=>e.stop()),j.current=null),N.current=[],w.current=null,b(!1),v(0)},[]),P=(0,s.useCallback)(()=>{w.current&&"inactive"!==w.current.state?w.current.stop():M()},[M]),O=(0,s.useCallback)(async()=>{var e;if(null!==(e=navigator.mediaDevices)&&void 0!==e&&e.getUserMedia)try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});j.current=e;const t=new MediaRecorder(e);N.current=[],t.ondataavailable=e=>{e.data.size>0&&N.current.push(e.data)},t.onstop=async()=>{try{const e=new Blob(N.current,{type:"audio/webm"}),t=new File([e],"event-voice-".concat(Date.now(),".webm"),{type:"audio/webm"}),n=await _(t);n&&m(e=>[...e,n])}catch(e){console.error("Voice note upload failed",e),Co("Sprachaufnahme konnte nicht gespeichert werden.")}finally{M()}},t.start(),w.current=t,b(!0),v(0),k.current=setInterval(()=>{v(e=>e+1)},1e3)}catch(t){console.error("Unable to start recording",t),Co("Aufnahme konnte nicht gestartet werden."),M()}else Co("Audio-Aufnahme wird von diesem Browser nicht unterst\xfctzt.")},[M,_]);(0,s.useEffect)(()=>()=>{M()},[M]);const R=(0,s.useCallback)(()=>{const e={};return l.title.trim()||(e.title="Titel ist erforderlich"),l.start_date||(e.start_date="Startdatum ist erforderlich"),l.end_date||(e.end_date="Enddatum ist erforderlich"),l.start_date&&l.end_date&&l.start_date>l.end_date&&(e.end_date="Enddatum muss nach Startdatum liegen"),l.all_day||(l.start_time||(e.start_time="Startzeit ist erforderlich"),l.end_time||(e.end_time="Endzeit ist erforderlich"),l.start_date===l.end_date&&l.start_time&&l.end_time&&l.start_time>=l.end_time&&(e.end_time="Endzeit muss nach Startzeit liegen")),u(e),0===Object.keys(e).length},[l]),I=(0,s.useCallback)(e=>{if(e.preventDefault(),R()){const e=He(He({},l),{},{id:null===i||void 0===i?void 0:i.id,attachments:p});r(e)}},[l,null===i||void 0===i?void 0:i.id,p,r,R]);return t?(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Pa.jsx)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Pa.jsxs)("div",{className:"p-6",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"edit"===o?"Termin bearbeiten":"Neuen Termin erstellen"}),(0,Pa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Pa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pa.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),(0,Pa.jsx)("input",{type:"text",name:"title",value:l.title,onChange:S,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.title?"border-red-500":"border-gray-300"),placeholder:"Termin Titel eingeben..."}),d.title&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.title})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung"}),(0,Pa.jsx)("textarea",{name:"description",value:l.description,onChange:S,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zus\xe4tzliche Details..."})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Anh\xe4nge"}),f&&(0,Pa.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs text-blue-600",children:[(0,Pa.jsx)(wo,{className:"w-3 h-3 animate-spin"}),"Wird hochgeladen..."]})]}),p.length>0&&(0,Pa.jsx)("div",{className:"mb-3 flex flex-wrap gap-3",children:p.map(e=>(0,Pa.jsxs)("div",{className:"relative",children:["image"===e.type?(0,Pa.jsx)("img",{src:e.url,alt:e.name||"Anhang",className:"h-24 w-24 rounded-xl object-cover border border-gray-200"}):"audio"===e.type?(0,Pa.jsxs)("div",{className:"flex w-60 flex-col gap-1 rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-xs text-gray-700",children:[(0,Pa.jsx)("span",{className:"font-semibold text-gray-600",children:e.name||"Audio"}),(0,Pa.jsx)("audio",{controls:!0,src:e.url,className:"w-full"})]}):(0,Pa.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-xs text-gray-700",children:[(0,Pa.jsx)(jo,{className:"w-3 h-3"}),(0,Pa.jsx)("span",{children:e.name||"Datei"})]}),(0,Pa.jsx)("button",{type:"button",onClick:()=>A(e.id||e.url),className:"absolute -top-2 -right-2 rounded-full bg-rose-600 p-1 text-white shadow hover:bg-rose-500","aria-label":"Anhang entfernen",children:(0,Pa.jsx)(hi,{className:"w-3 h-3"})})]},e.id||e.url))}),g&&(0,Pa.jsxs)("div",{className:"mb-2 flex items-center gap-2 text-sm text-rose-600",children:[(0,Pa.jsx)("span",{className:"inline-flex h-2 w-2 animate-pulse rounded-full bg-rose-500"}),(0,Pa.jsxs)("span",{children:["Aufnahme l\xe4uft \xb7 ",T]}),(0,Pa.jsxs)("button",{type:"button",onClick:P,className:"inline-flex items-center gap-1 rounded-lg bg-rose-100 px-3 py-1 text-sm font-semibold text-rose-700 hover:bg-rose-200",children:[(0,Pa.jsx)(No,{className:"w-4 h-4"}),"Aufnahme stoppen"]})]}),(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.click()},className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:[(0,Pa.jsx)(jo,{className:"w-4 h-4"}),"Datei anh\xe4ngen"]}),(0,Pa.jsxs)("button",{type:"button",onClick:g?P:O,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-2 text-sm font-medium transition-colors ".concat(g?"border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),children:[g?(0,Pa.jsx)(No,{className:"w-4 h-4"}):(0,Pa.jsx)(ko,{className:"w-4 h-4"}),g?"Aufnahme stoppen":"Sprachmemo aufnehmen"]})]}),(0,Pa.jsx)("input",{ref:y,type:"file",accept:"image/*,audio/*",multiple:!0,className:"hidden",onChange:D})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Startdatum *"}),(0,Pa.jsx)("input",{type:"date",name:"start_date",value:l.start_date,onChange:S,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.start_date?"border-red-500":"border-gray-300")}),d.start_date&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.start_date})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enddatum *"}),(0,Pa.jsx)("input",{type:"date",name:"end_date",value:l.end_date,onChange:S,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.end_date?"border-red-500":"border-gray-300")}),d.end_date&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.end_date})]})]}),(0,Pa.jsxs)("div",{className:"flex items-center",children:[(0,Pa.jsx)("input",{type:"checkbox",name:"all_day",id:"all_day",checked:l.all_day,onChange:S,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,Pa.jsx)("label",{htmlFor:"all_day",className:"ml-2 text-sm font-medium text-gray-700",children:"Ganzt\xe4gig"})]}),!l.all_day&&(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Startzeit *"}),(0,Pa.jsx)("input",{type:"time",name:"start_time",value:l.start_time,onChange:S,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.start_time?"border-red-500":"border-gray-300")}),d.start_time&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.start_time})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endzeit *"}),(0,Pa.jsx)("input",{type:"time",name:"end_time",value:l.end_time,onChange:S,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(d.end_time?"border-red-500":"border-gray-300")}),d.end_time&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.end_time})]})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Typ"}),(0,Pa.jsxs)("select",{name:"type",value:l.type,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Pa.jsx)("option",{value:"Arbeit",children:"Arbeit"}),(0,Pa.jsx)("option",{value:"Meeting",children:"Meeting"}),(0,Pa.jsx)("option",{value:"Urlaub",children:"Urlaub"}),(0,Pa.jsx)("option",{value:"Krankheit",children:"Krankheit"}),(0,Pa.jsx)("option",{value:"Training",children:"Training"}),(0,Pa.jsx)("option",{value:"Projekt",children:"Projekt"}),(0,Pa.jsx)("option",{value:"Termin",children:"Termin"}),(0,Pa.jsx)("option",{value:"Deadline",children:"Deadline"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorit\xe4t"}),(0,Pa.jsxs)("select",{name:"priority",value:l.priority,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Pa.jsx)("option",{value:"low",children:"Niedrig"}),(0,Pa.jsx)("option",{value:"medium",children:"Normal"}),(0,Pa.jsx)("option",{value:"high",children:"Hoch"})]})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ort"}),(0,Pa.jsx)("input",{type:"text",name:"location",value:l.location,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ort des Termins..."})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teilnehmer (E-Mail Adressen, durch Komma getrennt)"}),(0,Pa.jsx)("input",{type:"text",value:l.attendees.join(", "),onChange:C,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"beispiel@email.com, andere@email.com"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Erinnerung (Minuten vorher)"}),(0,Pa.jsxs)("select",{name:"reminder",value:l.reminder,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Pa.jsx)("option",{value:0,children:"Keine"}),(0,Pa.jsx)("option",{value:5,children:"5 Minuten"}),(0,Pa.jsx)("option",{value:15,children:"15 Minuten"}),(0,Pa.jsx)("option",{value:30,children:"30 Minuten"}),(0,Pa.jsx)("option",{value:60,children:"1 Stunde"}),(0,Pa.jsx)("option",{value:1440,children:"1 Tag"})]})]}),(0,Pa.jsxs)("div",{className:"border-t pt-6",children:[(0,Pa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pa.jsx)("input",{type:"checkbox",name:"recurring",id:"recurring",checked:l.recurring,onChange:S,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,Pa.jsx)("label",{htmlFor:"recurring",className:"ml-2 text-sm font-medium text-gray-700",children:"Wiederholender Termin"})]}),l.recurring&&(0,Pa.jsxs)("div",{className:"space-y-4 pl-6 border-l-2 border-blue-200",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wiederholungsmuster"}),(0,Pa.jsxs)("select",{name:"recurring_pattern",value:l.recurring_pattern,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Pa.jsx)("option",{value:"daily",children:"T\xe4glich"}),(0,Pa.jsx)("option",{value:"weekly",children:"W\xf6chentlich"}),(0,Pa.jsx)("option",{value:"biweekly",children:"Alle 2 Wochen"}),(0,Pa.jsx)("option",{value:"monthly",children:"Monatlich"}),(0,Pa.jsx)("option",{value:"yearly",children:"J\xe4hrlich"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wiederholung endet am (optional)"}),(0,Pa.jsx)("input",{type:"date",name:"recurring_end",value:l.recurring_end,onChange:S,min:l.start_date,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Pa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leer lassen f\xfcr unbegrenzte Wiederholung"})]})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notizen"}),(0,Pa.jsx)("textarea",{name:"notes",value:l.notes,onChange:S,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zus\xe4tzliche Notizen..."})]}),(0,Pa.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[(0,Pa.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Abbrechen"}),(0,Pa.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"edit"===o?"Aktualisieren":"Erstellen"})]})]})]})})}):null});Eo.displayName="EventModal";const Do=Eo,Ao=e=>{let{isOpen:t,onClose:n,onSave:r,selectedDate:a}=e;const[i,o]=(0,s.useState)({title:"",description:"",start_date:"",end_date:"",type:"Urlaub",is_all_day:!0}),[l,c]=(0,s.useState)({}),[d,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(t){const e=no(a||new Date,"yyyy-MM-dd");o({title:"",description:"",start_date:e,end_date:e,type:"Urlaub",is_all_day:!0}),c({})}},[t,a]);const p=e=>{const{name:t,value:n,type:r,checked:a}=e.target,i="checkbox"===r?a:n;if(o(e=>He(He({},e),{},{[t]:i})),"type"===t){const e={Urlaub:"Urlaub",Krankheit:"Krankschreibung","\xdcberstundenabbau":"\xdcberstundenabbau"};o(t=>He(He({},t),{},{title:e[n]||""}))}l[t]&&c(e=>He(He({},e),{},{[t]:""}))},m=()=>{if(i.start_date&&i.end_date){const e=new Date(i.start_date),t=new Date(i.end_date).getTime()-e.getTime();return Math.ceil(t/864e5)+1}return 1};if(!t)return null;const f=[{value:"Urlaub",label:"Urlaub",icon:"\ud83c\udfd6\ufe0f",color:"text-blue-600",description:"Geplanter Urlaub oder Freizeit"},{value:"Krankheit",label:"Krankschreibung",icon:"\ud83c\udfe5",color:"text-red-600",description:"Krankheitsbedingte Abwesenheit"},{value:"\xdcberstundenabbau",label:"\xdcberstundenabbau",icon:"\u23f0",color:"text-green-600",description:"Abbau von angesammelten \xdcberstunden"}],h=f.find(e=>e.value===i.type);return(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Pa.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,Pa.jsxs)("div",{className:"p-6",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Abwesenheit melden"}),(0,Pa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Pa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.title.trim()||(e.title="Titel ist erforderlich"),i.start_date||(e.start_date="Startdatum ist erforderlich"),i.end_date||(e.end_date="Enddatum ist erforderlich"),i.start_date&&i.end_date&&i.start_date>i.end_date&&(e.end_date="Enddatum muss nach oder gleich dem Startdatum sein"),c(e),0===Object.keys(e).length})()){u(!0);try{await r(i),n()}catch(t){console.error("Error saving absence:",t),c({submit:"Fehler beim Speichern der Abwesenheit"})}finally{u(!1)}}},className:"space-y-6",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Art der Abwesenheit"}),(0,Pa.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,Pa.jsxs)("label",{className:"flex items-center p-3 rounded-lg border-2 cursor-pointer transition-all ".concat(i.type===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,Pa.jsx)("input",{type:"radio",name:"type",value:e.value,checked:i.type===e.value,onChange:p,className:"sr-only"}),(0,Pa.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Pa.jsx)("span",{className:"text-2xl mr-3",children:e.icon}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("div",{className:"font-medium ".concat(e.color),children:e.label}),(0,Pa.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]}),i.type===e.value&&(0,Pa.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]},e.value))})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),(0,Pa.jsx)("input",{type:"text",name:"title",value:i.title,onChange:p,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.title?"border-red-500":"border-gray-300"),placeholder:"z.B. Sommerurlaub, Krankmeldung..."}),l.title&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.title})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Von *"}),(0,Pa.jsx)("input",{type:"date",name:"start_date",value:i.start_date,onChange:p,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.start_date?"border-red-500":"border-gray-300")}),l.start_date&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.start_date})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bis *"}),(0,Pa.jsx)("input",{type:"date",name:"end_date",value:i.end_date,onChange:p,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(l.end_date?"border-red-500":"border-gray-300")}),l.end_date&&(0,Pa.jsx)("p",{className:"text-red-500 text-sm mt-1",children:l.end_date})]})]}),i.start_date&&i.end_date&&(0,Pa.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Pa.jsxs)("div",{className:"flex items-center",children:[(0,Pa.jsx)("span",{className:"text-blue-600 mr-2",children:"\ud83d\udcc5"}),(0,Pa.jsxs)("span",{className:"text-blue-700 font-medium",children:["Dauer: ",m()," ",1===m()?"Tag":"Tage"]})]})}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung (optional)"}),(0,Pa.jsx)("textarea",{name:"description",value:i.description,onChange:p,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zus\xe4tzliche Informationen..."})]}),(0,Pa.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Pa.jsxs)("div",{className:"flex",children:[(0,Pa.jsx)("div",{className:"flex-shrink-0",children:(0,Pa.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,Pa.jsx)("div",{className:"ml-3",children:(0,Pa.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,Pa.jsx)("strong",{children:"Hinweis:"})," Diese Abwesenheit \xfcberschreibt automatisch generierte Arbeitszeiten f\xfcr den gew\xe4hlten Zeitraum."]})})]})}),l.submit&&(0,Pa.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,Pa.jsx)("p",{className:"text-red-700 text-sm",children:l.submit})}),(0,Pa.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[(0,Pa.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Abbrechen"}),(0,Pa.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-2 rounded-lg transition-colors ".concat(h?"bg-".concat(h.color.split("-")[1],"-600 hover:bg-").concat(h.color.split("-")[1],"-700"):"bg-blue-600 hover:bg-blue-700"," text-white disabled:opacity-50 disabled:cursor-not-allowed"),children:d?"Speichern...":"Abwesenheit melden"})]})]})]})})})};function To(e,t){return To=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},To(e,t)}function Mo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,To(e,t)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Po.apply(null,arguments)}function Oo(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ro="function"===typeof Symbol&&Symbol.observable||"@@observable",Io=function(){return Math.random().toString(36).substring(7).split("").join(".")},Lo={INIT:"@@redux/INIT"+Io(),REPLACE:"@@redux/REPLACE"+Io(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Io()}};function Bo(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zo(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Oo(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Oo(1));return n(zo)(e,t)}if("function"!==typeof e)throw new Error(Oo(2));var a=e,i=t,s=[],o=s,l=!1;function c(){o===s&&(o=s.slice())}function d(){if(l)throw new Error(Oo(3));return i}function u(e){if("function"!==typeof e)throw new Error(Oo(4));if(l)throw new Error(Oo(5));var t=!0;return c(),o.push(e),function(){if(t){if(l)throw new Error(Oo(6));t=!1,c();var n=o.indexOf(e);o.splice(n,1),s=null}}}function p(e){if(!Bo(e))throw new Error(Oo(7));if("undefined"===typeof e.type)throw new Error(Oo(8));if(l)throw new Error(Oo(9));try{l=!0,i=a(i,e)}finally{l=!1}for(var t=s=o,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:Lo.INIT}),(r={dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Oo(10));a=e,p({type:Lo.REPLACE})}})[Ro]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Oo(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[Ro]=function(){return this},e},r}function Fo(e,t){return function(){return t(e.apply(this,arguments))}}function Uo(e,t){if("function"===typeof e)return Fo(e,t);if("object"!==typeof e||null===e)throw new Error(Oo(16));var n={};for(var r in e){var a=e[r];"function"===typeof a&&(n[r]=Fo(a,t))}return n}function Wo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var Ho=s.createContext(null);var qo=function(e){e()},Vo=function(){return qo};var Go={notify:function(){},get:function(){return[]}};function Ko(e,t){var n,r=Go;function a(){s.onStateChange&&s.onStateChange()}function i(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=Vo(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var s={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Go)},getListeners:function(){return r}};return s}var $o="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?s.useLayoutEffect:s.useEffect;const Yo=function(e){var t=e.store,n=e.context,r=e.children,a=(0,s.useMemo)(function(){var e=Ko(t);return{store:t,subscription:e}},[t]),i=(0,s.useMemo)(function(){return t.getState()},[t]);$o(function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,i]);var o=n||Ho;return s.createElement(o.Provider,{value:a},r)};var Jo=n(219),Qo=n.n(Jo),Xo=n(86),Zo=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],el=["reactReduxForwardedRef"],tl=[],nl=[null,null];function rl(e,t){var n=e[1];return[t.payload,n+1]}function al(e,t,n){$o(function(){return e.apply(void 0,t)},n)}function il(e,t,n,r,a,i,s){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,s())}function sl(e,t,n,r,a,i,s,o,l,c){if(e){var d=!1,u=null,p=function(){if(!d){var e,n,p=t.getState();try{e=r(p,a.current)}catch(qe){n=qe,u=qe}n||(u=null),e===i.current?s.current||l():(i.current=e,o.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u}}}var ol=function(){return[null,0]};function ll(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,o=void 0===i?"connectAdvanced":i,l=n.renderCountProp,c=void 0===l?void 0:l,d=n.shouldHandleStateChanges,u=void 0===d||d,p=n.storeKey,m=void 0===p?"store":p,f=(n.withRef,n.forwardRef),h=void 0!==f&&f,g=n.context,b=void 0===g?Ho:g,x=Za(n,Zo),v=b;return function(t){var n=t.displayName||t.name||"Component",r=a(n),i=Po({},x,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:m,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=x.pure;var d=l?s.useMemo:function(e){return e()};function p(n){var r=(0,s.useMemo)(function(){var e=n.reactReduxForwardedRef,t=Za(n,el);return[n.context,e,t]},[n]),a=r[0],o=r[1],l=r[2],c=(0,s.useMemo)(function(){return a&&a.Consumer&&(0,Xo.isContextConsumer)(s.createElement(a.Consumer,null))?a:v},[a,v]),p=(0,s.useContext)(c),m=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(p)&&Boolean(p.store);var f=m?n.store:p.store,h=(0,s.useMemo)(function(){return function(t){return e(t.dispatch,i)}(f)},[f]),g=(0,s.useMemo)(function(){if(!u)return nl;var e=Ko(f,m?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[f,m,p]),b=g[0],x=g[1],y=(0,s.useMemo)(function(){return m?p:Po({},p,{subscription:b})},[m,p,b]),w=(0,s.useReducer)(rl,tl,ol),j=w[0][0],N=w[1];if(j&&j.error)throw j.error;var k=(0,s.useRef)(),S=(0,s.useRef)(l),C=(0,s.useRef)(),_=(0,s.useRef)(!1),E=d(function(){return C.current&&l===S.current?C.current:h(f.getState(),l)},[f,j,l]);al(il,[S,k,_,l,E,C,x]),al(sl,[u,f,b,h,S,k,_,C,x,N],[f,b,h]);var D=(0,s.useMemo)(function(){return s.createElement(t,Po({},E,{ref:o}))},[o,t,E]);return(0,s.useMemo)(function(){return u?s.createElement(c.Provider,{value:y},D):D},[c,D,y])}var f=l?s.memo(p):p;if(f.WrappedComponent=t,f.displayName=p.displayName=r,h){var g=s.forwardRef(function(e,t){return s.createElement(f,Po({},e,{reactReduxForwardedRef:t}))});return g.displayName=r,g.WrappedComponent=t,Qo()(g,t)}return Qo()(f,t)}}function cl(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function dl(e,t){if(cl(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!cl(e[n[a]],t[n[a]]))return!1;return!0}function ul(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function pl(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function ml(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=pl(e);var a=r(t,n);return"function"===typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=pl(a),a=r(t,n)),a},r}}const fl=[function(e){return"function"===typeof e?ml(e):void 0},function(e){return e?void 0:ul(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?ul(function(t){return function(e,t){var n={},r=function(r){var a=e[r];"function"===typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}(e,t)}):void 0}];const hl=[function(e){return"function"===typeof e?ml(e):void 0},function(e){return e?void 0:ul(function(){return{}})}];function gl(e,t,n){return Po({},n,e,t)}const bl=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,s=!1;return function(t,n,o){var l=e(t,n,o);return s?a&&i(l,r)||(r=l):(s=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return gl}}];var xl=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function vl(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}}function yl(e,t,n,r,a){var i,s,o,l,c,d=a.areStatesEqual,u=a.areOwnPropsEqual,p=a.areStatePropsEqual,m=!1;function f(a,m){var f=!u(m,s),h=!d(a,i,m,s);return i=a,s=m,f&&h?(o=e(i,s),t.dependsOnOwnProps&&(l=t(r,s)),c=n(o,l,s)):f?(e.dependsOnOwnProps&&(o=e(i,s)),t.dependsOnOwnProps&&(l=t(r,s)),c=n(o,l,s)):h?function(){var t=e(i,s),r=!p(t,o);return o=t,r&&(c=n(o,l,s)),c}():c}return function(a,d){return m?f(a,d):(o=e(i=a,s=d),l=t(r,s),c=n(o,l,s),m=!0,c)}}function wl(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=Za(t,xl),s=n(e,i),o=r(e,i),l=a(e,i);return(i.pure?yl:vl)(s,o,l,e,i)}var jl=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Nl(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function kl(e,t){return e===t}function Sl(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?ll:n,a=t.mapStateToPropsFactories,i=void 0===a?hl:a,s=t.mapDispatchToPropsFactories,o=void 0===s?fl:s,l=t.mergePropsFactories,c=void 0===l?bl:l,d=t.selectorFactory,u=void 0===d?wl:d;return function(e,t,n,a){void 0===a&&(a={});var s=a,l=s.pure,d=void 0===l||l,p=s.areStatesEqual,m=void 0===p?kl:p,f=s.areOwnPropsEqual,h=void 0===f?dl:f,g=s.areStatePropsEqual,b=void 0===g?dl:g,x=s.areMergedPropsEqual,v=void 0===x?dl:x,y=Za(s,jl),w=Nl(e,i,"mapStateToProps"),j=Nl(t,o,"mapDispatchToProps"),N=Nl(n,c,"mergeProps");return r(u,Po({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:j,initMergeProps:N,pure:d,areStatesEqual:m,areOwnPropsEqual:h,areStatePropsEqual:b,areMergedPropsEqual:v},y))}}const Cl=Sl();var _l;function El(e,t){var n=(0,s.useState)(function(){return{inputs:t,result:e()}})[0],r=(0,s.useRef)(!0),a=(0,s.useRef)(n),i=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return(0,s.useEffect)(function(){r.current=!1,a.current=o},[o]),o.result}_l=je.unstable_batchedUpdates,qo=_l;var Dl=El,Al=function(e,t){return El(function(){return e},t)},Tl="Invariant failed";var Ml=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},Pl=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Ol=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Rl={top:0,right:0,bottom:0,left:0},Il=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Rl:n,a=e.border,i=void 0===a?Rl:a,s=e.padding,o=void 0===s?Rl:s,l=Ml(Pl(t,r)),c=Ml(Ol(t,i)),d=Ml(Ol(c,o));return{marginBox:l,borderBox:Ml(t),paddingBox:c,contentBox:d,margin:r,border:i,padding:o}},Ll=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(Tl)}(!1),n},Bl=function(e,t){var n,r,a=e.borderBox,i=e.border,s=e.margin,o=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Il({borderBox:l,border:i,margin:s,padding:o})},zl=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Bl(e,t)},Fl=function(e,t){var n={top:Ll(t.marginTop),right:Ll(t.marginRight),bottom:Ll(t.marginBottom),left:Ll(t.marginLeft)},r={top:Ll(t.paddingTop),right:Ll(t.paddingRight),bottom:Ll(t.paddingBottom),left:Ll(t.paddingLeft)},a={top:Ll(t.borderTopWidth),right:Ll(t.borderRightWidth),bottom:Ll(t.borderBottomWidth),left:Ll(t.borderLeftWidth)};return Il({borderBox:e,margin:n,padding:r,border:a})},Ul=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Fl(t,n)},Wl=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Hl(e,t){return e===t||!(!Wl(e)||!Wl(t))}function ql(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Hl(e[n],t[n]))return!1;return!0}const Vl=function(e,t){var n;void 0===t&&(t=ql);var r,a=[],i=!1;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return i&&n===this&&t(s,a)||(r=e.apply(this,s),i=!0,n=this,a=s),r}};const Gl=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Kl(e,t){}Kl.bind(null,"warn"),Kl.bind(null,"error");function $l(){}function Yl(e,t,n){var r=t.map(function(t){var r=function(e,t){return Po({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}});return function(){r.forEach(function(e){e()})}}var Jl="Invariant failed";function Ql(e){this.message=e}function Xl(e,t){if(!e)throw new Ql(Jl)}Ql.prototype.toString=function(){return this.message};var Zl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=$l,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Ql&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Mo(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Yl(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Ql))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(s.Component),ec=function(e){return e+1},tc=function(e,t){var n=e.droppableId===t.droppableId,r=ec(e.index),a=ec(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},nc=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},rc=function(e){return"\n  The item has returned to its starting position\n  of "+ec(e.index)+"\n"},ac="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",ic=function(e){return"\n  You have lifted an item in position "+ec(e.source.index)+"\n"},sc=function(e){var t=e.destination;if(t)return tc(e.source,t);var n=e.combine;return n?nc(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},oc=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+rc(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+tc(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+nc(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+rc(e.source)+"\n  "},lc={x:0,y:0},cc=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},dc=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},uc=function(e,t){return e.x===t.x&&e.y===t.y},pc=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},mc=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},fc=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},hc=function(e,t){return Math.min.apply(Math,t.map(function(t){return fc(e,t)}))},gc=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},bc=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},xc=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},vc=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Ml({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Ml(e)},yc=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,i=function(e,t){return t?bc(e,t.scroll.diff.displacement):e}(t.marginBox,a),s=function(e,t,n){var r;return n&&n.increasedBy?Po({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:vc(s,a)}},wc=function(e,t){e.frame||Xl(!1);var n=e.frame,r=dc(t,n.scroll.initial),a=pc(r),i=Po({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}});return Po({},e,{frame:i,subject:yc({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function jc(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Nc(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function kc(e,t){if(e.find)return e.find(t);var n=Nc(e,t);return-1!==n?e[n]:void 0}function Sc(e){return Array.prototype.slice.call(e)}var Cc=Vl(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),_c=Vl(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),Ec=Vl(function(e){return jc(e)}),Dc=Vl(function(e){return jc(e)}),Ac=Vl(function(e,t){var n=Dc(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return n});function Tc(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Mc(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Pc=Vl(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),Oc=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Rc={point:lc,value:0},Ic={invisible:{},visible:{},all:[]},Lc={displaced:Ic,displacedBy:Rc,at:null},Bc=function(e,t){return function(n){return e<=n&&n<=t}},zc=function(e){var t=Bc(e.top,e.bottom),n=Bc(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;var s=r.top<e.top&&r.bottom>e.bottom,o=r.left<e.left&&r.right>e.right;return!(!s||!o)||(s&&i||o&&a)}},Fc=function(e){var t=Bc(e.top,e.bottom),n=Bc(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Uc={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Wc={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Hc=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,s=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:lc;return bc(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(s,n,i)&&function(e,t,n){return n(t)(e)}(s,r,i)},qc=function(e){return Hc(Po({},e,{isVisibleThroughFrameFn:zc}))},Vc=function(e){return Hc(Po({},e,{isVisibleThroughFrameFn:Fc}))};function Gc(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,s=e.last;return t.reduce(function(e,t){var o=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ml(Pl(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!qc({target:o,destination:n,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var i=a[e];return!i||i.shouldAnimate}(l,s,i),d={draggableId:l,shouldAnimate:c};return e.visible[l]=d,e},{all:[],visible:{},invisible:{}})}function Kc(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Ic,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function $c(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,s=e.last,o=e.index,l=e.forceShouldAnimate,c=Oc(t,r);if(null==o)return Kc({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=kc(n,function(e){return e.descriptor.index===o});if(!d)return Kc({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=Pc(t,n),p=n.indexOf(d);return{displaced:Gc({afterDragging:u.slice(p),destination:r,displacedBy:i,last:s,viewport:a.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Yc(e,t){return Boolean(t.effected[e])}var Jc=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,s=e.insideDestination,o=e.previousImpact,l=e.viewport,c=e.afterCritical,d=o.at;if(d||Xl(!1),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,s=t?i+1:i-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return s<o||s>(n?l:l+1)?null:s}({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:s});return null==u?null:$c({draggable:r,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}var p=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var s=a.draggableId,o=r[s].descriptor.index;return Yc(s,i)?t?o:o-1:t?o+1:o}({isMovingForward:t,destination:i,displaced:o.displaced,draggables:a,combine:d.combine,afterCritical:c});return null==p?null:$c({draggable:r,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})},Qc=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=Mc(n);a||Xl(!1);var i=a.draggableId,s=r[i].page.borderBox.center,o=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Yc(r,n)?i?lc:pc(a.point):i?a.point:lc}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return cc(s,o)},Xc=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Zc=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},ed=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return mc(t.line,n.marginBox[t.end]+Xc(t,r),Zc(t,n.marginBox,r))},td=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return mc(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Zc(t,n.marginBox,r))},nd=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,s=Ac(a.descriptor.id,r),o=n.page,l=a.axis;if(!s.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return mc(t.line,n.contentBox[t.start]+Xc(t,r),Zc(t,n.contentBox,r))}({axis:l,moveInto:a.page,isMoving:o});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var p=r[u];if(Yc(u,i))return td({axis:l,moveRelativeTo:p.page,isMoving:o});var m=Bl(p.page,d.point);return td({axis:l,moveRelativeTo:m,isMoving:o})}var f=s[s.length-1];if(f.descriptor.id===n.descriptor.id)return o.borderBox.center;if(Yc(f.descriptor.id,i)){var h=Bl(f.page,pc(i.displacedBy.point));return ed({axis:l,moveRelativeTo:h,isMoving:o})}return ed({axis:l,moveRelativeTo:f.page,isMoving:o})},rd=function(e,t){var n=e.frame;return n?cc(t,n.scroll.diff.displacement):t},ad=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.afterCritical,s=n.page.borderBox.center,o=t.at;return r&&o?"REORDER"===o.type?nd({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i}):Qc({impact:t,draggables:a,afterCritical:i}):s}(e),n=e.droppable;return n?rd(n,t):t},id=function(e,t){var n=dc(t,e.scroll.initial),r=pc(n);return{frame:Ml({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function sd(e,t){return e.map(function(e){return t[e]})}var od=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return cc(e.scroll.diff.displacement,t)}(e.viewport,t),a=dc(r,n.page.borderBox.center);return cc(n.client.borderBox.center,a)},ld=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,o=void 0!==s&&s,l=dc(r,t.page.borderBox.center),c={target:bc(t.page.borderBox,l),destination:n,withDroppableDisplacement:i,viewport:a};return o?function(e){return Hc(Po({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Bc(e.top,e.bottom),r=Bc(e.left,e.right);return function(e){return t===Uc?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):Vc(c)},cd=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,s=e.viewport,o=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var d=Ac(r.descriptor.id,a),u=Oc(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Tc(i))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return Po({},i,{at:t})}var o=i.displaced.all,l=o.length?o[0]:null;if(t)return l?s(l):null;var c=Pc(n,a);if(!l)return c.length?s(c[c.length-1].descriptor.id):null;var d=Nc(c,function(e){return e.descriptor.id===l});-1===d&&Xl(!1);var u=d-1;return u<0?null:s(c[u].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:i})||Jc({isMovingForward:t,isInHomeList:u,draggable:n,draggables:a,destination:r,insideDestination:d,previousImpact:i,viewport:s,afterCritical:c});if(!p)return null;var m=ad({impact:p,draggable:n,droppable:r,draggables:a,afterCritical:c});if(ld({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:od({pageBorderBoxCenter:m,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null};var f=dc(m,o),h=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,s=id(n,cc(n.scroll.current,i)),o=r.frame?wc(r,cc(r.frame.scroll.current,i)):r,l=t.displaced,c=Gc({afterDragging:sd(l.all,a),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=Gc({afterDragging:sd(l.all,a),destination:o,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),u={},p={},m=[l,c,d];return l.all.forEach(function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,m);t?p[e]=t:u[e]=!0}),Po({},t,{displaced:{all:l.all,invisible:u,visible:p}})}({impact:p,viewport:s,destination:r,draggables:a,maxScrollChange:f});return{clientSelection:l,impact:h,scrollJumpRequest:f}},dd=function(e){var t=e.subject.active;return t||Xl(!1),t},ud=function(e,t){var n=e.page.borderBox.center;return Yc(e.descriptor.id,t)?dc(n,t.displacedBy.point):n},pd=function(e,t){var n=e.page.borderBox;return Yc(e.descriptor.id,t)?bc(n,pc(t.displacedBy.point)):n},md=Vl(function(e,t){var n=t[e.line];return{value:n,point:mc(e.line,n)}}),fd=function(e,t){return Po({},e,{scroll:Po({},e.scroll,{max:t})})},hd=function(e,t,n){var r=e.frame;Oc(t,e)&&Xl(!1),e.subject.withPlaceholder&&Xl(!1);var a=md(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return mc(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],i=Ac(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-a;return i<=0?null:mc(r.line,i)}(e,a,n),s={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return Po({},e,{subject:yc({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame})});var o=i?cc(r.scroll.max,i):r.scroll.max,l=fd(r,o);return Po({},e,{subject:yc({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l}),frame:l})},gd=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,s=e.droppables,o=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,s=r.subject.active;if(!s)return null;var o=r.axis,l=Bc(s[o.start],s[o.end]),c=Ec(a).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return zc(i.frame)(dd(e))}).filter(function(e){var n=dd(e);return t?s[o.crossAxisEnd]<n[o.crossAxisEnd]:n[o.crossAxisStart]<s[o.crossAxisStart]}).filter(function(e){var t=dd(e),n=Bc(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||n(s[o.start])||n(s[o.end])}).sort(function(e,n){var r=dd(e)[o.crossAxisStart],a=dd(n)[o.crossAxisStart];return t?r-a:a-r}).filter(function(e,t,n){return dd(e)[o.crossAxisStart]===dd(n[0])[o.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter(function(e){return Bc(dd(e)[o.start],dd(e)[o.end])(n[o.line])});return 1===d.length?d[0]:d.length>1?d.sort(function(e,t){return dd(e)[o.start]-dd(t)[o.start]})[0]:c.sort(function(e,t){var r=hc(n,xc(dd(e))),a=hc(n,xc(dd(t)));return r!==a?r-a:dd(e)[o.start]-dd(t)[o.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:s,viewport:o});if(!c)return null;var d=Ac(c.descriptor.id,i),u=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical,s=a.filter(function(e){return Vc({target:pd(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var a=fc(t,rd(r,ud(e,i))),s=fc(t,rd(r,ud(n,i)));return a<s?-1:s<a?1:e.descriptor.index-n.descriptor.index});return s[0]||null}({pageBorderBoxCenter:n,viewport:o,destination:c,insideDestination:d,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,s=e.destination,o=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:Ic,displacedBy:Rc,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=ad({impact:c,draggable:a,droppable:s,draggables:i,afterCritical:l}),u=Oc(a,s)?s:hd(s,a,i);return ld({draggable:a,destination:u,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p=Boolean(t[s.axis.line]<=n.page.borderBox.center[s.axis.line]),m=function(){var e=n.descriptor.index;return n.descriptor.id===a.descriptor.id||p?e:e+1}(),f=md(s.axis,a.displaceBy);return $c({draggable:a,insideDestination:r,destination:s,viewport:o,displacedBy:f,last:Ic,index:m})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;var m=ad({impact:p,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:od({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:p,scrollJumpRequest:null}},bd=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},xd=function(e){var t=e.state,n=e.type,r=function(e,t){var n=bd(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],s=r||i,o=s.axis.direction,l="vertical"===o&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===o&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!a)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,p=t.dimensions,m=p.draggables,f=p.droppables;return l?cd({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:s,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):gd({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:s,draggables:m,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function vd(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function yd(e){var t=Bc(e.top,e.bottom),n=Bc(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function wd(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=Ec(r).filter(function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(yd(a)(t.center))return!0;var i=e.axis,s=a.center[i.crossAxisLine],o=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=Bc(a[i.crossAxisStart],a[i.crossAxisEnd]),d=c(o),u=c(l);return!d&&!u||(d?o<s:l>s)});return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,i=r.map(function(e){var n=e.axis,r=mc(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:fc(a,r)}}).sort(function(e,t){return t.distance-e.distance});return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}var jd=function(e,t){return Ml(bc(e,t))};function Nd(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var kd=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,s=e.viewport,o=e.afterCritical,l=jd(n.page.borderBox,t),c=wd({pageBorderBox:l,draggable:n,droppables:a});if(!c)return Lc;var d=a[c],u=Ac(d.descriptor.id,r),p=function(e,t){var n=e.frame;return n?jd(t,n.scroll.diff.value):t}(d,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,s=e.afterCritical;if(!a.isCombineEnabled)return null;var o=a.axis,l=md(a.axis,t.displaceBy),c=l.value,d=n[o.start],u=n[o.end],p=kc(Pc(t,i),function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[o.size]/4,i=Yc(t,s),l=Nd({displaced:r.displaced,id:t});return i?l?u>n[o.start]+a&&u<n[o.end]-a:d>n[o.start]-c+a&&d<n[o.end]-c-a:l?u>n[o.start]+c+a&&u<n[o.end]+c-a:d>n[o.start]+a&&d<n[o.end]-a});return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:d,insideDestination:u,afterCritical:o})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,s=e.viewport,o=e.afterCritical,l=r.axis,c=md(r.axis,n.displaceBy),d=c.value,u=t[l.start],p=t[l.end],m=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:kc(Pc(n,a),function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Yc(t,o),a=Nd({displaced:i,id:t});return r?a?p<=n:u<n-d:a?p<=n+d:u<n}),inHomeList:Oc(n,r)});return $c({draggable:n,insideDestination:a,destination:r,viewport:s,last:i,displacedBy:c,index:m})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:d,insideDestination:u,last:i.displaced,viewport:s,afterCritical:o})},Sd=function(e,t){var n;return Po({},e,((n={})[t.descriptor.id]=t,n))},Cd=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=bd(t),i=bd(n);if(!a)return r;if(a===i)return r;var s=r[a];if(!s.subject.withPlaceholder)return r;var o=function(e){var t=e.subject.withPlaceholder;t||Xl(!1);var n=e.frame;if(!n)return Po({},e,{subject:yc({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Xl(!1);var a=fd(n,r);return Po({},e,{subject:yc({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})}(s);return Sd(r,o)},_d=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,s=e.scrollJumpRequest,o=a||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,d=dc(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:cc(t.initial.client.borderBoxCenter,d)},p={selection:cc(u.selection,o.scroll.current),borderBoxCenter:cc(u.borderBoxCenter,o.scroll.current),offset:cc(u.offset,o.scroll.diff.value)},m={client:u,page:p};if("COLLECTING"===t.phase)return Po({phase:"COLLECTING"},t,{dimensions:l,viewport:o,current:m});var f=l.draggables[t.critical.draggable.id],h=i||kd({pageOffset:p.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,s=Cd({previousImpact:a,impact:i,droppables:r}),o=bd(i);if(!o)return s;var l=r[o];if(Oc(t,l))return s;if(l.subject.withPlaceholder)return s;var c=hd(l,t,n);return Sd(s,c)}({draggable:f,impact:h,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return Po({},t,{current:m,dimensions:{draggables:l.draggables,droppables:g},impact:h,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})};var Ed=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,s=t.displaced,o=function(e,t){return e.map(function(e){return t[e]})}(s.all,r);return Po({},t,{displaced:Gc({afterDragging:o,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:s})})},Dd=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,s=e.afterCritical,o=ad({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:s});return od({pageBorderBoxCenter:o,draggable:n,viewport:i})},Ad=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Xl(!1);var a=t.impact,i=r||t.viewport,s=n||t.dimensions,o=s.draggables,l=s.droppables,c=o[t.critical.draggable.id],d=bd(a);d||Xl(!1);var u=l[d],p=Ed({impact:a,viewport:i,destination:u,draggables:o}),m=Dd({impact:p,draggable:c,droppable:u,draggables:o,viewport:i,afterCritical:t.afterCritical});return _d({impact:p,clientSelection:m,state:t,dimensions:s,viewport:i})},Td=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=md(n.axis,t.displaceBy),s=Ac(n.descriptor.id,r),o=s.indexOf(t);-1===o&&Xl(!1);var l,c=s.slice(o+1),d=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:d};return{impact:{displaced:Gc({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:u}},Md=function(e){0},Pd=function(e){0},Od=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||Xl(!1),t}(n[t]),s=i.scroll.diff.value,o=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=Bl(t.client,n),i=zl(a,r);return Po({},t,{placeholder:Po({},t.placeholder,{client:a}),client:a,page:i})}({draggable:e,offset:cc(a,s),initialWindowScroll:r.scroll.initial});return o})},Rd=function(e){return"SNAP"===e.movementMode},Id=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Sd(e.droppables,t)}}(e.dimensions,t);return!Rd(e)||n?_d({state:e,dimensions:r}):Ad({state:e,dimensions:r})};function Ld(e){return e.isDragging&&"SNAP"===e.movementMode?Po({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Bd={phase:"IDLE",completed:null,shouldFlush:!1},zd=function(e,t){if(void 0===e&&(e=Bd),"FLUSH"===t.type)return Po({},Bd,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Xl(!1);var n=t.payload,r=n.critical,a=n.clientSelection,i=n.viewport,s=n.dimensions,o=n.movementMode,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],d={selection:a,borderBoxCenter:l.client.borderBox.center,offset:lc},u={client:d,page:{selection:cc(d.selection,i.scroll.initial),borderBoxCenter:cc(d.selection,i.scroll.initial),offset:cc(d.selection,i.scroll.diff.value)}},p=Ec(s.droppables).every(function(e){return!e.isFixedOnPage}),m=Td({draggable:l,home:c,draggables:s.draggables,viewport:i}),f=m.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:s,initial:u,current:u,isWindowScrollAllowed:p,impact:f,afterCritical:m.afterCritical,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Xl(!1),Po({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xl(!1),function(e){var t=e.state,n=e.published;Md();var r=n.modified.map(function(e){var n=t.dimensions.droppables[e.droppableId];return wc(n,e.scroll)}),a=Po({},t.dimensions.droppables,{},Cc(r)),i=_c(Od({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),s=Po({},t.dimensions.draggables,{},i);n.removals.forEach(function(e){delete s[e]});var o={droppables:a,draggables:s},l=bd(t.impact),c=l?o.droppables[l]:null,d=o.draggables[t.critical.draggable.id],u=o.droppables[t.critical.droppable.id],p=Td({draggable:d,home:u,draggables:s,viewport:t.viewport}),m=p.impact,f=p.afterCritical,h=c&&c.isCombineEnabled?t.impact:m,g=kd({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:t.viewport,afterCritical:f});Pd();var b=Po({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:m,dimensions:o,afterCritical:f,forceShouldAnimate:!1});return"COLLECTING"===t.phase?b:Po({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;vd(e)||Xl(!1);var h=t.payload.client;return uc(h,e.current.client.selection)?e:_d({state:e,clientSelection:h,impact:Rd(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Ld(e);if("COLLECTING"===e.phase)return Ld(e);vd(e)||Xl(!1);var g=t.payload,b=g.id,x=g.newScroll,v=e.dimensions.droppables[b];if(!v)return e;var y=wc(v,x);return Id(e,y,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;vd(e)||Xl(!1);var w=t.payload,j=w.id,N=w.isEnabled,k=e.dimensions.droppables[j];k||Xl(!1),k.isEnabled===N&&Xl(!1);var S=Po({},k,{isEnabled:N});return Id(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;vd(e)||Xl(!1);var C=t.payload,_=C.id,E=C.isCombineEnabled,D=e.dimensions.droppables[_];D||Xl(!1),D.isCombineEnabled===E&&Xl(!1);var A=Po({},D,{isCombineEnabled:E});return Id(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;vd(e)||Xl(!1),e.isWindowScrollAllowed||Xl(!1);var T=t.payload.newScroll;if(uc(e.viewport.scroll.current,T))return Ld(e);var M=id(e.viewport,T);return Rd(e)?Ad({state:e,viewport:M}):_d({state:e,viewport:M})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!vd(e))return e;var P=t.payload.maxScroll;if(uc(P,e.viewport.scroll.max))return e;var O=Po({},e.viewport,{scroll:Po({},e.viewport.scroll,{max:P})});return Po({phase:"DRAGGING"},e,{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Xl(!1);var R=xd({state:e,type:t.type});return R?_d({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var I=t.payload.reason;return"COLLECTING"!==e.phase&&Xl(!1),Po({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:I})}if("DROP_ANIMATE"===t.type){var L=t.payload,B=L.completed,z=L.dropDuration,F=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xl(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:z,newHomeClientOffset:F,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Fd=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Ud=function(){return{type:"COLLECTION_STARTING",payload:null}},Wd=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Hd=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},qd=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Vd=function(e){return{type:"MOVE",payload:e}},Gd=function(){return{type:"MOVE_UP",payload:null}},Kd=function(){return{type:"MOVE_DOWN",payload:null}},$d=function(){return{type:"MOVE_RIGHT",payload:null}},Yd=function(){return{type:"MOVE_LEFT",payload:null}},Jd=function(e){return{type:"DROP_COMPLETE",payload:e}},Qd=function(e){return{type:"DROP",payload:e}},Xd=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Zd="cubic-bezier(.2,1,.1,1)",eu={drop:0,combining:.7},tu={drop:.75},nu=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",ru={fluid:"opacity "+nu,snap:"transform "+nu+", opacity "+nu,drop:function(e){var t=e+"s "+Zd;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+nu,placeholder:"height "+nu+", width "+nu+", margin "+nu},au=function(e){return uc(e,lc)?null:"translate("+e.x+"px, "+e.y+"px)"},iu=au,su=function(e,t){var n=au(e);return n?t?n+" scale("+tu.drop+")":n:null},ou=.33,lu=.55,cu=lu-ou,du=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),i=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Xl(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Xl(!1);var s=a.critical,o=a.dimensions,l=o.draggables[a.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,s=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Po({},r,{displaced:Ic}),didDropInsideDroppable:!0}:{impact:Ed({draggables:t,impact:s,destination:a,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=c.impact,u=c.didDropInsideDroppable,p=u?Tc(d):null,m=u?Mc(d):null,f={index:s.draggable.index,droppableId:s.droppable.id},h={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:i,mode:a.movementMode,destination:p,combine:m},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,s=r.draggables,o=r.droppables,l=bd(t),c=l?o[l]:null,d=o[n.descriptor.droppableId],u=Dd({impact:t,draggable:n,draggables:s,afterCritical:i,droppable:c||d,viewport:a});return dc(u,n.client.borderBox.center)}({impact:d,draggable:l,dimensions:o,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:h,impact:d};if(!uc(a.current.client.offset,g)||Boolean(h.combine)){var x=function(e){var t=e.current,n=e.destination,r=e.reason,a=fc(t,n);if(a<=0)return ou;if(a>=1500)return lu;var i=ou+cu*(a/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:a.current.client.offset,destination:g,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:x,completed:b}))}else n(Jd({completed:b}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},uu=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function pu(e){var t=e.onWindowScroll;var n=Gl(function(){t(uu())}),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),a=$l;function i(){return a!==$l}return{start:function(){i()&&Xl(!1),a=Yl(window,[r])},stop:function(){i()||Xl(!1),n.cancel(),a(),a=$l},isActive:i}}var mu=function(e){var t=pu({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},fu=function(){var e=[];return{add:function(t){var n=setTimeout(function(){return function(t){var n=Nc(e,function(e){return e.timerId===t});-1===n&&Xl(!1),e.splice(n,1)[0].callback()}(n)}),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},hu=function(e,t){Md(),t(),Pd()},gu=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},bu=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},xu=function(e,t){var n=function(e,t){var n=fu(),r=null,a=function(n){r||Xl(!1),r=null,hu(0,function(){return bu(e().onDragEnd,n,t,oc)})};return{beforeCapture:function(t,n){r&&Xl(!1),hu(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:function(t,n){r&&Xl(!1),hu(0,function(){var r=e().onBeforeDragStart;r&&r(gu(t,n))})},start:function(a,i){r&&Xl(!1);var s=gu(a,i);r={mode:i,lastCritical:a,lastLocation:s.source,lastCombine:null},n.add(function(){hu(0,function(){return bu(e().onDragStart,s,t,ic)})})},update:function(a,i){var s=Tc(i),o=Mc(i);r||Xl(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);l&&(r.lastCritical=a);var c,d,u=(d=s,!(null==(c=r.lastLocation)&&null==d||null!=c&&null!=d&&c.droppableId===d.droppableId&&c.index===d.index));u&&(r.lastLocation=s);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,o);if(p&&(r.lastCombine=o),l||u||p){var m=Po({},gu(a,r.mode),{combine:o,destination:s});n.add(function(){hu(0,function(){return bu(e().onDragUpdate,m,t,sc)})})}},flush:function(){r||Xl(!1),n.flush()},drop:a,abort:function(){if(r){var e=Po({},gu(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var s=e.getState();"DRAGGING"===s.phase&&n.update(s.critical,s.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},vu=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Xl(!1),e.dispatch(Jd({completed:r.completed}))}else t(n)}}},yu=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(function(){n=null,t=Yl(window,[i])})}}}},wu=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Qd({reason:r.reason})))}}}},ju=Wo,Nu=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,i=e.getResponders,s=e.announce,o=e.autoScroller;return zo(zd,ju(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Oo(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(a)});return r=Wo.apply(void 0,i)(n.dispatch),He(He({},n),{},{dispatch:r})}}}((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var i=a.payload,s=i.id,o=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(Jd({completed:c.completed})),"IDLE"!==n().phase&&Xl(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:l}});var d={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},u=e.startPublishing(d),p=u.critical,m=u.dimensions,f=u.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:m,clientSelection:o,movementMode:l,viewport:f}})}else t(a)}}}}(n),du,vu,yu,wu,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&Xl(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(o),mu,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),xu(i,s))))};var ku=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=dc({x:n,y:t},{x:a,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Su=function(){var e=document.documentElement;return e||Xl(!1),e},Cu=function(){var e=Su();return ku({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},_u=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;Md();var a=function(){var e=uu(),t=Cu(),n=e.y,r=e.x,a=Su(),i=a.clientWidth,s=a.clientHeight;return{frame:Ml({top:n,left:r,right:r+i,bottom:n+s}),scroll:{initial:e,current:e,max:t,diff:{value:lc,displacement:lc}}}}(),i=a.scroll.current,s=t.droppable,o=r.droppable.getAllByType(s.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(e){return e.getDimension(i)}),c={draggables:_c(l),droppables:Cc(o)};return Pd(),{dimensions:c,critical:t,viewport:a}};function Eu(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Du=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null,Md();var e=r,i=e.additions,s=e.removals,o=e.modified,l=Object.keys(i).map(function(e){return t.draggable.getById(e).getDimension(lc)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(o).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),d={additions:l,removals:Object.keys(s),modified:c};r={additions:{},removals:{},modified:{}},Pd(),n.publish(d)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||Xl(!1);var a=n.critical.draggable;"ADDITION"===t.type&&Eu(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Eu(e,a,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||Xl(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||Xl(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||Xl(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&Xl(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),s={draggable:r.descriptor,droppable:i.descriptor},o=e.subscribe(a);return n={critical:s,unsubscribe:o},_u({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),n.unsubscribe(),n=null}}};return i},Au=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Tu=function(e){window.scrollBy(e.x,e.y)},Mu=Vl(function(e){return Ec(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),Pu=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var i=function(e,t){var n=kc(Mu(t),function(t){return t.frame||Xl(!1),yd(t.frame.pageMarginBox)(e)});return n}(t,r);return i},Ou=.25,Ru=.05,Iu=28,Lu=function(e){return Math.pow(e,2)},Bu={stopDampeningAt:1200,accelerateAt:360},zu=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},Fu=Bu.accelerateAt,Uu=Bu.stopDampeningAt,Wu=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Iu;if(e===t.startScrollingFrom)return 1;var n=zu({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=Iu*Lu(1-n);return Math.ceil(r)}(t,n);return 0===i?0:a?Math.max(function(e,t){var n=t,r=Uu,a=Date.now()-n;if(a>=Uu)return e;if(a<Fu)return 1;var i=zu({startOfRange:Fu,endOfRange:r,current:a}),s=e*Lu(i);return Math.ceil(s)}(i,r),1):i},Hu=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,s=function(e,t){return{startScrollingFrom:e[t.size]*Ou,maxScrollValueAt:e[t.size]*Ru}}(t,a);return n[a.end]<n[a.start]?Wu({distanceToEdge:n[a.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i}):-1*Wu({distanceToEdge:n[a.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i})},qu=gc(function(e){return 0===e?0:e}),Vu=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,s={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},o=Hu({container:n,distanceToEdges:s,dragStartTime:t,axis:Uc,shouldUseTimeDampening:i}),l=Hu({container:n,distanceToEdges:s,dragStartTime:t,axis:Wc,shouldUseTimeDampening:i}),c=qu({x:l,y:o});if(uc(c,lc))return null;var d=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return i||a?i&&a?null:{x:i?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return d?uc(d,lc)?null:d:null},Gu=gc(function(e){return 0===e?0:e>0?1:-1}),Ku=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,a=t.change,i=cc(n,a),s={x:e(i.x,r.x),y:e(i.y,r.y)};return uc(s,lc)?null:s}}(),$u=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=Gu(r),s=Ku({max:a,current:n,change:i});return!s||(0!==i.x&&0===s.x||0!==i.y&&0===s.y)},Yu=function(e,t){return $u({current:e.scroll.current,max:e.scroll.max,change:t})},Ju=function(e,t){var n=e.frame;return!!n&&$u({current:n.scroll.current,max:n.scroll.max,change:t})},Qu=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,s=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=Vu({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return s&&Yu(t,s)?s:null}({dragStartTime:n,viewport:t.viewport,subject:o,center:s,shouldUseTimeDampening:r});if(l)return void a(l)}var c=Pu({center:s,destination:bd(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var o=Vu({dragStartTime:a,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return o&&Ju(t,o)?o:null}({dragStartTime:n,droppable:c,subject:o,center:s,shouldUseTimeDampening:r});d&&i(c.descriptor.id,d)}},Xu=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!Ju(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Ju(e,t)?Ku({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=dc(t,r);return n(e.descriptor.id,a),dc(t,a)},i=function(e,t,n){if(!e)return n;if(!Yu(t,n))return n;var a=function(e,t){if(!Yu(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Ku({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var i=dc(n,a);return r(i),dc(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=bd(e.impact);r||Xl(!1);var s=a(e.dimensions.droppables[r],n);if(s){var o=e.viewport,l=i(e.isWindowScrollAllowed,o,s);l&&function(e,n){var r=cc(e.current.client.selection,n);t({client:r})}(e,l)}}}},Zu=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Gl(t),a=Gl(n),i=null,s=function(e){i||Xl(!1);var t=i,n=t.shouldUseTimeDampening,s=t.dragStartTime;Qu({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:s,shouldUseTimeDampening:n})};return{start:function(e){Md(),i&&Xl(!1);var t=Date.now(),n=!1,r=function(){n=!0};Qu({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},Pd(),n&&s(e)},stop:function(){i&&(r.cancel(),a.cancel(),i=null)},scroll:s}}({scrollWindow:n,scrollDroppable:t}),i=Xu({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):a.scroll(e))},start:a.start,stop:a.stop}},ep="data-rbd",tp=function(){var e=ep+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),np=function(){var e=ep+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),rp=function(){var e=ep+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ap={contextId:ep+"-scroll-container-context-id"},ip=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},sp="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?s.useLayoutEffect:s.useEffect,op=function(){var e=document.querySelector("head");return e||Xl(!1),e},lp=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function cp(e,t){var n=Dl(function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(tp.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),a=[function(){var e="\n      transition: "+ru.outOfTheWay+";\n    ";return{selector:n(np.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(rp.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:ip(a,"always"),resting:ip(a,"resting"),dragging:ip(a,"dragging"),dropAnimating:ip(a,"dropAnimating"),userCancel:ip(a,"userCancel")}}(e)},[e]),r=(0,s.useRef)(null),a=(0,s.useRef)(null),i=Al(Vl(function(e){var t=a.current;t||Xl(!1),t.textContent=e}),[]),o=Al(function(e){var t=r.current;t||Xl(!1),t.textContent=e},[]);sp(function(){(r.current||a.current)&&Xl(!1);var s=lp(t),l=lp(t);return r.current=s,a.current=l,s.setAttribute(ep+"-always",e),l.setAttribute(ep+"-dynamic",e),op().appendChild(s),op().appendChild(l),o(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||Xl(!1),op().removeChild(t),e.current=null};e(r),e(a)}},[t,o,i,n.always,n.resting,e]);var l=Al(function(){return i(n.dragging)},[i,n.dragging]),c=Al(function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)},[i,n.dropAnimating,n.userCancel]),d=Al(function(){a.current&&i(n.resting)},[i,n.resting]);return Dl(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d])}var dp=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function up(e){return e instanceof dp(e).HTMLElement}function pp(e,t){var n="["+tp.contextId+'="'+e+'"]',r=Sc(document.querySelectorAll(n));if(!r.length)return null;var a=kc(r,function(e){return e.getAttribute(tp.draggableId)===t});return a&&up(a)?a:null}function mp(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,i=r(a);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Xl(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return jc(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||Xl(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return jc(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var fp=s.createContext(null),hp=function(){var e=document.body;return e||Xl(!1),e},gp={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var bp=0,xp={separator:"::"};function vp(e,t){return void 0===t&&(t=xp),Dl(function(){return""+e+t.separator+bp++},[t.separator,e])}var yp=s.createContext(null);function wp(e){0}function jp(e,t){wp()}function Np(){jp()}function kp(e){var t=(0,s.useRef)(e);return(0,s.useEffect)(function(){t.current=e}),t}var Sp,Cp=((Sp={})[13]=!0,Sp[9]=!0,Sp),_p=function(e){Cp[e.keyCode]&&e.preventDefault()},Ep=function(){var e="visibilitychange";return"undefined"===typeof document?e:kc([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}();var Dp,Ap={type:"IDLE"};function Tp(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var s={x:n,y:i},o=r();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(s);"PENDING"!==o.type&&Xl(!1);var l=o.point;if(c=l,d=s,Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5){var c,d;e.preventDefault();var u=o.actions.fluidLift(s);a({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void _p(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Xl(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Ep,fn:t}]}function Mp(){}var Pp=((Dp={})[34]=!0,Dp[33]=!0,Dp[36]=!0,Dp[35]=!0,Dp);function Op(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Pp[r.keyCode]?r.preventDefault():_p(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ep,fn:n}]}var Rp={type:"IDLE"};var Ip={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Lp(e,t){if(null==t)return!1;if(Boolean(Ip[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Lp(e,t.parentElement)}function Bp(e,t){var n=t.target;return!!up(n)&&Lp(e,n)}var zp=function(e){return Ml(e.getBoundingClientRect()).center};var Fp=function(){var e="matches";return"undefined"===typeof document?e:kc([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function Up(e,t){return null==e?null:e[Fp](t)?e:Up(e.parentElement,t)}function Wp(e,t){return e.closest?e.closest(t):Up(e,t)}function Hp(e,t){var n,r=t.target;if(!((n=r)instanceof dp(n).Element))return null;var a=function(e){return"["+tp.contextId+'="'+e+'"]'}(e),i=Wp(r,a);return i&&up(i)?i:null}function qp(e){e.preventDefault()}function Vp(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function Gp(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!!i&&(!!i.options.isEnabled&&!!Au(n.getState(),a))}function Kp(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,i=e.draggableId,s=e.forceSensorStop,o=e.sourceEvent;if(!Gp({lockAPI:t,store:r,registry:a,draggableId:i}))return null;var l=a.draggable.getById(i),c=function(e,t){var n="["+np.contextId+'="'+e+'"]',r=kc(Sc(document.querySelectorAll(n)),function(e){return e.getAttribute(np.id)===t});return r&&up(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(o&&!l.options.canDragInteractiveElements&&Bp(c,o))return null;var d=t.claim(s||$l),u="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function m(){return t.isActive(d)}var f=function(e,t){Vp({expected:e,phase:u,isLockActive:m,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function h(e){function n(){t.release(),u="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var i=Yl(window,[{eventName:"click",fn:qp,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(Qd({reason:t}))}return"PRE_DRAG"!==u&&(n(),"PRE_DRAG"!==u&&Xl(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),u="DRAGGING",Po({isActive:function(){return Vp({expected:"DRAGGING",phase:u,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}var g={isActive:function(){return Vp({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=Gl(function(e){f(function(){return Vd({client:e})})});return Po({},h({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return f(Gd)},moveRight:function(){return f($d)},moveDown:function(){return f(Kd)},moveLeft:function(){return f(Yd)}};return h({liftActionArgs:{id:i,clientSelection:zp(c),movementMode:"SNAP"},cleanup:$l,actions:e})},abort:function(){Vp({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!0})&&t.release()}};return g}var $p=[function(e){var t=(0,s.useRef)(Ap),n=(0,s.useRef)($l),r=Dl(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,o,{sourceEvent:t});if(a){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),d(a,i)}}}}}},[e]),a=Dl(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}},[e]),i=Al(function(){n.current=Yl(window,[a,r],{passive:!1,capture:!0})},[a,r]),o=Al(function(){"IDLE"!==t.current.type&&(t.current=Ap,n.current(),i())},[i]),l=Al(function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[o]),c=Al(function(){var e=Tp({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Yl(window,e,{capture:!0,passive:!1})},[l,o]),d=Al(function(e,n){"IDLE"!==t.current.type&&Xl(!1),t.current={type:"PENDING",point:n,actions:e},c()},[c]);sp(function(){return i(),function(){n.current()}},[i])},function(e){var t=(0,s.useRef)(Mp),n=Dl(function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var a=e.findClosestDraggableId(n);if(a){var i=e.tryGetLock(a,l,{sourceEvent:n});if(i){n.preventDefault();var s=!0,o=i.snapLift();t.current(),t.current=Yl(window,Op(o,l),{capture:!0,passive:!1})}}}function l(){s||Xl(!1),s=!1,t.current(),r()}}}},[e]),r=Al(function(){t.current=Yl(window,[n],{passive:!1,capture:!0})},[n]);sp(function(){return r(),function(){t.current()}},[r])},function(e){var t=(0,s.useRef)(Rp),n=(0,s.useRef)($l),r=Al(function(){return t.current},[]),a=Al(function(e){t.current=e},[]),i=Dl(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,l,{sourceEvent:t});if(a){var i=t.touches[0],s={x:i.clientX,y:i.clientY};n.current(),p(a,s)}}}}}},[e]),o=Al(function(){n.current=Yl(window,[i],{capture:!0,passive:!1})},[i]),l=Al(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Rp),n.current(),o())},[o,a]),c=Al(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),d=Al(function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},a=Yl(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],i={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Xl(!1);var a=e.touches[0];if(a&&a.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Ep,fn:t}]}(t),e),i=Yl(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Ep,fn:t}]}(t),e);n.current=function(){a(),i()}},[c,r,l]),u=Al(function(){var e=r();"PENDING"!==e.type&&Xl(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})},[r,a]),p=Al(function(e,t){"IDLE"!==r().type&&Xl(!1);var n=setTimeout(u,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()},[d,r,a,u]);sp(function(){return o(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Rp))}},[r,o,a]),sp(function(){return Yl(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function Yp(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?$p:[],a||[]),l=(0,s.useState)(function(){return function(){var e=null;function t(){e||Xl(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Xl(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],c=Al(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);sp(function(){var e=n.getState();return n.subscribe(function(){var t=n.getState();c(e,t),e=t})},[l,n,c]),sp(function(){return l.tryAbandon},[l.tryAbandon]);var d=Al(function(e){return Gp({lockAPI:l,registry:r,store:n,draggableId:e})},[l,r,n]),u=Al(function(e,a,i){return Kp({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})},[t,l,r,n]),p=Al(function(e){return function(e,t){var n=Hp(e,t);return n?n.getAttribute(tp.draggableId):null}(t,e)},[t]),m=Al(function(e){var t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),f=Al(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),h=Al(l.isClaimed,[l]),g=Dl(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:p,findOptionsForDraggable:m,tryReleaseLock:f,isLockClaimed:h}},[d,u,p,m,f,h]);wp();for(var b=0;b<o.length;b++)o[b](g)}function Jp(e){return e.current||Xl(!1),e.current}function Qp(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=(0,s.useRef)(null);Np();var l=kp(e),c=Al(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)},[l]),d=function(e){var t=Dl(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),n=(0,s.useRef)(null);return(0,s.useEffect)(function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Po(e.style,gp),hp().appendChild(e),function(){setTimeout(function(){var t=hp();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),Al(function(e){var t=n.current;t&&(t.textContent=e)},[])}(t),u=function(e){var t=e.contextId,n=e.text,r=vp("hidden-text",{separator:"-"}),a=Dl(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e},[r,t]);return(0,s.useEffect)(function(){var e=document.createElement("div");return e.id=a,e.textContent=n,e.style.display="none",hp().appendChild(e),function(){var t=hp();t.contains(e)&&t.removeChild(e)}},[a,n]),a}({contextId:t,text:i}),p=cp(t,a),m=Al(function(e){Jp(o).dispatch(e)},[]),f=Dl(function(){return Uo({publishWhileDragging:Fd,updateDroppableScroll:Wd,updateDroppableIsEnabled:Hd,updateDroppableIsCombineEnabled:qd,collectionStarting:Ud},m)},[m]),h=function(){var e=Dl(mp,[]);return(0,s.useEffect)(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),g=Dl(function(){return Du(h,f)},[h,f]),b=Dl(function(){return Zu(Po({scrollWindow:Tu,scrollDroppable:g.scrollDroppable},Uo({move:Vd},m)))},[g.scrollDroppable,m]),x=function(e){var t=(0,s.useRef)({}),n=(0,s.useRef)(null),r=(0,s.useRef)(null),a=(0,s.useRef)(!1),i=Al(function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}},[]),o=Al(function(t){var n=pp(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=Al(function(e,t){n.current===e&&(n.current=t)},[]),c=Al(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var e=n.current;e&&o(e)}))},[o]),d=Al(function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(tp.draggableId)===e&&(n.current=e)},[]);return sp(function(){return a.current=!0,function(){a.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}},[]),Dl(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l])}(t),v=Dl(function(){return Nu({announce:d,autoScroller:b,dimensionMarshal:g,focusMarshal:x,getResponders:c,styleMarshal:p})},[d,b,g,x,c,p]);o.current=v;var y=Al(function(){var e=Jp(o);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),w=Al(function(){var e=Jp(o).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);n(Dl(function(){return{isDragging:w,tryAbort:y}},[w,y]));var j=Al(function(e){return Au(Jp(o).getState(),e)},[]),N=Al(function(){return vd(Jp(o).getState())},[]),k=Dl(function(){return{marshal:g,focus:x,contextId:t,canLift:j,isMovementAllowed:N,dragHandleUsageInstructionsId:u,registry:h}},[t,g,u,x,j,N,h]);return Yp({contextId:t,store:v,registry:h,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,s.useEffect)(function(){return y},[y]),s.createElement(yp.Provider,{value:k},s.createElement(Yo,{context:fp,store:v},e.children))}var Xp=0;function Zp(e){var t=Dl(function(){return""+Xp++},[]),n=e.dragHandleUsageInstructions||ac;return s.createElement(Zl,null,function(r){return s.createElement(Qp,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var em=function(e){return function(t){return e===t}},tm=em("scroll"),nm=em("auto"),rm=(em("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),am=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return rm(n,tm)||rm(n,nm)}(t)?t:e(t.parentElement)},im=function(e){return{x:e.scrollLeft,y:e.scrollTop}},sm=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},om=function(e){return{closestScrollable:am(e),isFixedOnPage:sm(e)}},lm=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,s=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,d=function(e,t){var n=Ul(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,s=a+t.scrollWidth,o=Pl({top:r,right:s,bottom:i,left:a},n.border);return Il({borderBox:o,margin:n.margin,border:n.border,padding:n.padding})}(t,c),u=zl(d,a),p=function(){if(!c)return null;var e=Ul(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:zl(e,a),scroll:im(c),scrollSize:t,shouldClipSubject:l}}(),m=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,s=e.client,o=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=ku({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:lc,displacement:lc}}}}(),d="vertical"===i?Uc:Wc;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:d,isEnabled:n,client:s,page:o,frame:c,subject:yc({page:o,withPlaceholder:null,axis:d,frame:c})}}({descriptor:n,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:i,client:d,page:u,closest:p});return m},cm={passive:!1},dm={passive:!0},um=function(e){return e.shouldPublishImmediately?cm:dm};function pm(e){var t=(0,s.useContext)(e);return t||Xl(!1),t}var mm=function(e){return e&&e.env.closestScrollable||null};function fm(){}var hm={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},gm=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?hm:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?ru.placeholder:null}};var bm=s.memo(function(e){var t=(0,s.useRef)(null),n=Al(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=(0,s.useState)("open"===e.animate),c=l[0],d=l[1];(0,s.useEffect)(function(){return c?"open"!==r?(n(),d(!1),fm):t.current?fm:(t.current=setTimeout(function(){t.current=null,d(!1)}),n):fm},[r,c,n]);var u=Al(function(e){"height"===e.propertyName&&(a(),"close"===r&&i())},[r,i,a]),p=gm({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return s.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}),xm=s.createContext(null);var vm=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Mo(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(s.PureComponent),ym=5e3,wm=4500,jm=function(e,t){return t?ru.drop(t.duration):e?ru.snap:ru.fluid},Nm=function(e,t){return e?t?eu.drop:eu.combining:null};function km(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,a=e.dropping,i=Boolean(r),s=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),o=Boolean(a),l=o?su(n,i):iu(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:jm(s,a),transform:l,opacity:Nm(i,o),zIndex:o?wm:ym,pointerEvents:"none"}}(e):{transform:iu((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function Sm(e){var t=vp("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Dl(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=Al(function(e){var t=a();return t||Xl(!1),function(e,t,n){void 0===n&&(n=lc);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=Fl(a,r),s=zl(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:s}}(n,t,e)},[n,a]),u=Dl(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}},[n,d,c,t]),p=(0,s.useRef)(u),m=(0,s.useRef)(!0);sp(function(){return r.draggable.register(p.current),function(){return r.draggable.unregister(p.current)}},[r.draggable]),sp(function(){if(m.current)m.current=!1;else{var e=p.current;p.current=u,r.draggable.update(u,e)}},[u,r.draggable])}function Cm(e,t,n){jp()}function _m(e){e.preventDefault()}var Em=function(e,t){return e===t},Dm=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Am(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Tm={mapped:{type:"SECONDARY",offset:lc,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Am(null)}};var Mm=Cl(function(){var e=function(){var e=Vl(function(e,t){return{x:e,y:t}}),t=Vl(function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=Vl(function(e,n,r,a,i,s,o){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:s,mode:n,offset:e,dimension:r,forceShouldAnimate:o,snapshot:t(n,a,i,s,null)}}});return function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var i=r.current.client.offset,s=r.dimensions.draggables[a.draggableId],o=bd(r.impact),l=(d=r.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,s,a.isClone,o,l,c)}var d;if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==a.draggableId)return null;var p=a.isClone,m=r.dimensions.draggables[a.draggableId],f=u.result,h=f.mode,g=Dm(f),b=function(e){return e.combine?e.combine.draggableId:null}(f),x={duration:r.dropDuration,curve:Zd,moveTo:r.newHomeClientOffset,opacity:b?eu.drop:null,scale:b?tu.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:m,dropping:x,draggingOver:g,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,p,g,b,x)}}}return null}}(),t=function(){var e=Vl(function(e,t){return{x:e,y:t}}),t=Vl(Am),n=Vl(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),r=function(e){return e?n(lc,e,!0):null},a=function(t,a,i,s){var o=i.displaced.visible[t],l=Boolean(s.inVirtualList&&s.effected[t]),c=Mc(i),d=c&&c.draggableId===t?a:null;if(!o){if(!l)return r(d);if(i.displaced.invisible[t])return null;var u=pc(s.displacedBy.point),p=e(u.x,u.y);return n(p,d,!0)}if(l)return r(d);var m=i.displacedBy.point,f=e(m.x,m.y);return n(f,d,o.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||Tm}},{dropAnimationFinished:Xd},null,{context:fp,pure:!0,areStatePropsEqual:Em})(function(e){var t=(0,s.useRef)(null),n=Al(function(e){t.current=e},[]),r=Al(function(){return t.current},[]),a=pm(yp),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=pm(xm),d=c.type,u=c.droppableId,p=Dl(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),m=e.children,f=e.draggableId,h=e.isEnabled,g=e.shouldRespectForcePress,b=e.canDragInteractiveElements,x=e.isClone,v=e.mapped,y=e.dropAnimationFinished;Cm(),wp(),x||Sm(Dl(function(){return{descriptor:p,registry:l,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:h}},[p,l,r,b,g,h]));var w=Dl(function(){return h?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:_m}:null},[i,o,f,h]),j=Al(function(e){"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&y()},[y,v]),N=Dl(function(){var e=km(v),t="DRAGGING"===v.type&&v.dropping?j:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}},[i,w,f,v,j,n]),k=Dl(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return m(N,v.snapshot,k)});function Pm(e){return pm(xm).isUsingCloneFor!==e.draggableId||e.isClone?s.createElement(Mm,e):null}function Om(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return s.createElement(Pm,Po({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var Rm=function(e,t){return e===t.droppable.type},Im=function(e,t){return t.draggables[e.draggable.id]};var Lm={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Xl(!1),document.body}},Bm=Cl(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Po({},e,{shouldAnimatePlaceholder:!1}),n=Vl(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=Vl(function(r,a,i,s,o,l){var c=o.descriptor.id;if(o.descriptor.droppableId===r){var d=l?{render:l,dragging:n(o.descriptor)}:null,u={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!a)return t;if(!s)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return function(n,a){var i=a.droppableId,s=a.type,o=!a.isDropDisabled,l=a.renderClone;if(n.isDragging){var c=n.critical;if(!Rm(s,c))return t;var d=Im(c,n.dimensions),u=bd(n.impact)===i;return r(i,o,u,u,d,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!Rm(s,p.critical))return t;var m=Im(p.critical,n.dimensions);return r(i,o,Dm(p.result)===i,bd(p.impact)===i,m,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var f=n.completed;if(!Rm(s,f.critical))return t;var h=bd(f.impact)===i,g=Boolean(f.impact.at&&"COMBINE"===f.impact.at.type),b=f.critical.droppable.id===i;return h?g?e:t:b?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:fp,pure:!0,areStatePropsEqual:Em})(function(e){var t=(0,s.useContext)(yp);t||Xl(!1);var n=t.contextId,r=t.isMovementAllowed,a=(0,s.useRef)(null),i=(0,s.useRef)(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,p=e.ignoreContainerClipping,m=e.isDropDisabled,f=e.isCombineEnabled,h=e.snapshot,g=e.useClone,b=e.updateViewportMaxScroll,x=e.getContainerForClone,v=Al(function(){return a.current},[]),y=Al(function(e){a.current=e},[]),w=(Al(function(){return i.current},[]),Al(function(e){i.current=e},[]));jp();var j=Al(function(){r()&&b({maxScroll:Cu()})},[r,b]);!function(e){var t=(0,s.useRef)(null),n=pm(yp),r=vp("droppable"),a=n.registry,i=n.marshal,o=kp(e),l=Dl(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=(0,s.useRef)(l),d=Dl(function(){return Vl(function(e,n){t.current||Xl(!1);var r={x:e,y:n};i.updateDroppableScroll(l.id,r)})},[l.id,i]),u=Al(function(){var e=t.current;return e&&e.env.closestScrollable?im(e.env.closestScrollable):lc},[]),p=Al(function(){var e=u();d(e.x,e.y)},[u,d]),m=Dl(function(){return Gl(p)},[p]),f=Al(function(){var e=t.current,n=mm(e);e&&n||Xl(!1),e.scrollOptions.shouldPublishImmediately?p():m()},[m,p]),h=Al(function(e,r){t.current&&Xl(!1);var a=o.current,i=a.getDroppableRef();i||Xl(!1);var s=om(i),c={ref:i,descriptor:l,env:s,scrollOptions:r};t.current=c;var d=lm({ref:i,descriptor:l,env:s,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),u=s.closestScrollable;return u&&(u.setAttribute(ap.contextId,n.contextId),u.addEventListener("scroll",f,um(c.scrollOptions))),d},[n.contextId,l,f,o]),g=Al(function(){var e=t.current,n=mm(e);return e&&n||Xl(!1),im(n)},[]),b=Al(function(){var e=t.current;e||Xl(!1);var n=mm(e);t.current=null,n&&(m.cancel(),n.removeAttribute(ap.contextId),n.removeEventListener("scroll",f,um(e.scrollOptions)))},[f,m]),x=Al(function(e){var n=t.current;n||Xl(!1);var r=mm(n);r||Xl(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),v=Dl(function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:g,dragStopped:b,scroll:x}},[b,h,g,x]),y=Dl(function(){return{uniqueId:r,descriptor:l,callbacks:v}},[v,l,r]);sp(function(){return c.current=y.descriptor,a.droppable.register(y),function(){t.current&&b(),a.droppable.unregister(y)}},[v,l,b,y,i,a.droppable]),sp(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),sp(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:p,getDroppableRef:v});var N=s.createElement(vm,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,r=e.data,a=e.animate;return s.createElement(bm,{placeholder:r,onClose:t,innerRef:w,animate:a,contextId:n,onTransitionEnd:j})}),k=Dl(function(){return{innerRef:y,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,N,y]),S=g?g.dragging.draggableId:null,C=Dl(function(){return{droppableId:l,type:c,isUsingCloneFor:S}},[l,S,c]);return s.createElement(xm.Provider,{value:C},o(k,h),function(){if(!g)return null;var e=g.dragging,t=g.render,n=s.createElement(Pm,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(n,r){return t(n,r,e)});return je.createPortal(n,x())}())});Bm.defaultProps=Lm;const zm=oi("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),Fm=oi("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Um=oi("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Wm=oi("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Hm=oi("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),qm=oi("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),Vm=oi("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Gm=oi("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Km=e=>{if(!e)return null;return no("string"===typeof e?oo(e):e,"dd.MM.yyyy HH:mm",{locale:Zi})},$m=e=>{const t={},n={backlog:[],pool:[],inProgress:[],completed:[]};return e.forEach(e=>{const r=(e=>{var t;const n=(null===(t=e.pool)||void 0===t?void 0:t.status)||null;return"completed"===n||"done"===e.status?"completed":"claimed"===n||"assigned"===n||"in_progress"===e.status?"inProgress":"available"===n?"pool":"backlog"})(e);t[e.id]=e,n[r].push(e.id)}),{taskMap:t,columns:n}},Ym=()=>{const e=La(),{t:t}=Ha(),n=null===e||void 0===e?void 0:e.user,[r,a]=(0,s.useState)(()=>(new Date).toISOString().split("T")[0]),[i,o]=(0,s.useState)({taskMap:{},columns:$m([]).columns}),[l,c]=(0,s.useState)({backlog:0,poolAvailable:0,inProgress:0,needsHelp:0,completed:0}),[d,u]=(0,s.useState)(!0),[p,m]=(0,s.useState)(!1),[f,h]=(0,s.useState)(null),[g,b]=(0,s.useState)({}),x=(0,s.useMemo)(()=>(e=>({backlog:{title:e("board.column.backlog"),description:e("board.column.backlog.desc"),icon:ui,accent:"bg-slate-100 border-slate-300"},pool:{title:e("board.column.pool"),description:e("board.column.pool.desc"),icon:zm,accent:"bg-indigo-50 border-indigo-200"},inProgress:{title:e("board.column.progress"),description:e("board.column.progress.desc"),icon:Fm,accent:"bg-emerald-50 border-emerald-200"},completed:{title:e("board.column.done"),description:e("board.column.done.desc"),icon:Um,accent:"bg-stone-50 border-stone-200"}}))(t),[t]),v=(0,s.useMemo)(()=>(e=>({urgent:{label:e("board.task.priority.urgent"),className:"bg-red-100 text-red-700 border-red-300"},high:{label:e("board.task.priority.high"),className:"bg-orange-100 text-orange-700 border-orange-300"},medium:{label:e("board.task.priority.medium"),className:"bg-amber-100 text-amber-700 border-amber-300"},low:{label:e("board.task.priority.low"),className:"bg-emerald-100 text-emerald-700 border-emerald-300"}}))(t),[t]),y=(0,s.useMemo)(()=>"admin"===(null===n||void 0===n?void 0:n.role)||"superadmin"===(null===n||void 0===n?void 0:n.role),[n]),w=(0,s.useMemo)(()=>{if(!r)return new Date;try{return oo(r)}catch(f){return new Date}},[r]),j=(0,s.useMemo)(()=>!w||Number.isNaN(w.getTime())||ro(w)?t("board.subtitle.today"):t("board.subtitle.date",{date:no(w,"dd.MM.yyyy",{locale:Zi})}),[w,t]),N=(0,s.useCallback)(async function(e){let{silent:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1};try{n?m(!0):u(!0);const t=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es.get("/tasks/board",{params:e})}({date:e}),r=t.data.tasks||[];o($m(r)),c(t.data.counts||{backlog:0,poolAvailable:0,inProgress:0,needsHelp:0,completed:0}),h(null)}catch(i){var r,a;console.error("Error loading unified task board",i),h((null===(r=i.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.error)||t("board.error.load"))}finally{u(!1),m(!1)}},[t]);(0,s.useEffect)(()=>{N(r)},[r,N]);const k=(0,s.useCallback)(()=>{N(r,{silent:!0})},[r,N]),S=e=>{o(t=>{const n=e(t);return{taskMap:He({},n.taskMap),columns:He({},n.columns)}})},C=async function(e){let{skipRefresh:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y){b(t=>He(He({},t),{},{[e]:!0}));try{var a,s,o;await(d={taskId:e,availableDate:r,priority:(null===(a=i.taskMap[e])||void 0===a?void 0:a.priority)||"medium",estimatedDuration:(null===(s=i.taskMap[e])||void 0===s||null===(o=s.pool)||void 0===o?void 0:o.estimatedDuration)||null,requiredSkills:null,isRecurring:!1,recurrencePattern:null},es.post("/task-pool/create",d)),So(t("board.actions.publish.success")),n||await k()}catch(u){var l,c;console.error("Error creating task pool entry",u),Co((null===(l=u.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.error)||t("board.actions.publish.error")),await k()}finally{b(t=>He(He({},t),{},{[e]:!1}))}var d}else _o(t("board.help.adminOnly"))},_=async function(e){var n,r;let{skipRefresh:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null===(n=i.taskMap[e])||void 0===n||null===(r=n.pool)||void 0===r?void 0:r.id;if(s){b(t=>He(He({},t),{},{[e]:!0}));try{await(c=s,es.post("/task-pool/".concat(c,"/claim"))),So(t("board.actions.claim.success")),a||await k()}catch(d){var o,l;console.error("Error claiming task",d),Co((null===(o=d.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.error)||t("board.actions.claim.error")),await k()}finally{b(t=>He(He({},t),{},{[e]:!1}))}var c}else Co(t("board.actions.missingPool"))},E=async function(e){var n,r;let{skipRefresh:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null===(n=i.taskMap[e])||void 0===n||null===(r=n.pool)||void 0===r?void 0:r.id;if(s){b(t=>He(He({},t),{},{[e]:!0}));try{await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return es.post("/task-pool/".concat(e,"/complete"),{notes:t})}(s,""),So(t("board.actions.complete.success")),a||await k()}catch(c){var o,l;console.error("Error completing task",c),Co((null===(o=c.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.error)||t("board.actions.complete.error")),await k()}finally{b(t=>He(He({},t),{},{[e]:!1}))}}else Co(t("board.actions.missingPool"))},D=e=>{const r=x[e];if(!r)return null;const a=r.icon,s=i.columns[e];return(0,Pa.jsxs)("div",{className:"flex-1 min-w-[280px] max-w-[380px]",children:[(0,Pa.jsx)("div",{className:"rounded-2xl border ".concat(r.accent," p-4 mb-3"),children:(0,Pa.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)(a,{className:"w-5 h-5 text-slate-600"}),(0,Pa.jsx)("h3",{className:"font-semibold text-slate-800",children:r.title})]}),(0,Pa.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:r.description})]}),(0,Pa.jsx)("div",{className:"text-xs font-semibold text-slate-500 bg-white rounded-full px-3 py-1 border border-slate-200",children:s.length})]})}),(0,Pa.jsx)(Bm,{droppableId:e,children:(r,a)=>{return(0,Pa.jsxs)("div",He(He({ref:r.innerRef},r.droppableProps),{},{className:"min-h-[200px] rounded-2xl border border-dashed border-slate-200 bg-white p-3 transition ".concat(a.isDraggingOver?"bg-slate-50 border-indigo-300":""),children:[0===s.length?(o=t("board.empty"),(0,Pa.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 px-4 text-center",children:[(0,Pa.jsx)(Wm,{className:"w-10 h-10 text-slate-300 mb-3"}),(0,Pa.jsx)("p",{className:"text-slate-500 text-sm",children:o})]})):s.map((r,a)=>((e,r,a)=>{var s,o,l,c,d,u;const p=i.taskMap[e];if(!p)return null;const m=v[p.priority]||v.medium,f=p.assigneeId===(null===n||void 0===n?void 0:n.id)||(null===(s=p.pool)||void 0===s?void 0:s.claimedBy)===(null===n||void 0===n?void 0:n.id)||(null===(o=p.pool)||void 0===o?void 0:o.assignedTo)===(null===n||void 0===n?void 0:n.id),h="pending"===(null===(l=p.pool)||void 0===l?void 0:l.helpStatus),b="pool"===a,x="inProgress"===a&&((null===(c=p.pool)||void 0===c?void 0:c.claimedBy)===(null===n||void 0===n?void 0:n.id)||(null===(d=p.pool)||void 0===d?void 0:d.assignedTo)===(null===n||void 0===n?void 0:n.id)),w="backlog"===a&&y,j=p.dueDate?Km(p.dueDate):null,N=null!==(u=p.pool)&&void 0!==u&&u.updatedAt?Km(p.pool.updatedAt):null;return(0,Pa.jsx)(Om,{draggableId:String(e),index:r,children:(n,r)=>{var a,i;return(0,Pa.jsxs)("div",He(He(He({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:"bg-white rounded-xl border p-4 mb-3 shadow-sm transition-all ".concat(r.isDragging?"ring-2 ring-indigo-200 shadow-lg rotate-1":""),children:[(0,Pa.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("p",{className:"text-sm font-semibold text-slate-800 mb-1",children:p.title}),p.description&&(0,Pa.jsx)("p",{className:"text-xs text-slate-500 line-clamp-3",children:p.description})]}),(0,Pa.jsx)("span",{className:"text-[11px] font-medium px-2 py-1 rounded-full border uppercase tracking-wide ".concat(m.className),children:m.label})]}),(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-500",children:[p.category&&(0,Pa.jsxs)("span",{className:"px-2 py-1 bg-slate-100 rounded-full border border-slate-200 text-slate-600",children:["#",p.category]}),p.tags&&p.tags.length>0&&(0,Pa.jsx)("span",{className:"px-2 py-1 bg-blue-50 rounded-full border border-blue-200 text-blue-600",children:Array.isArray(p.tags)?p.tags.join(", "):p.tags}),j&&(0,Pa.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-amber-50 rounded-full border border-amber-200 text-amber-700",children:[(0,Pa.jsx)(Hm,{className:"w-3 h-3"}),j]}),p.estimatedHours&&(0,Pa.jsxs)("span",{className:"px-2 py-1 bg-emerald-50 rounded-full border border-emerald-200 text-emerald-600",children:["\u23f1 ",t("board.task.estimated",{hours:p.estimatedHours})]}),f&&(0,Pa.jsx)("span",{className:"px-2 py-1 bg-emerald-100 rounded-full border border-emerald-300 text-emerald-700",children:t("board.task.mine")})]}),(0,Pa.jsxs)("div",{className:"mt-3 space-y-2 text-[12px] text-slate-500",children:[(null===(a=p.pool)||void 0===a?void 0:a.assignedToName)&&(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)(Wm,{className:"w-3 h-3"}),(0,Pa.jsx)("span",{children:t("board.task.assignedTo",{name:p.pool.assignedToName})})]}),(null===(i=p.pool)||void 0===i?void 0:i.claimedByName)&&(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)(qm,{className:"w-3 h-3 text-rose-500"}),(0,Pa.jsx)("span",{children:t("board.task.claimedBy",{name:p.pool.claimedByName})})]}),N&&(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)(Vm,{className:"w-3 h-3"}),(0,Pa.jsx)("span",{children:t("board.task.updated",{date:N})})]}),h&&(0,Pa.jsxs)("div",{className:"flex items-center gap-2 text-orange-600 bg-orange-50 border border-orange-200 rounded-lg p-2",children:[(0,Pa.jsx)(Gm,{className:"w-4 h-4"}),(0,Pa.jsx)("span",{children:t("board.task.help")})]})]}),(0,Pa.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[w&&(0,Pa.jsx)("button",{onClick:()=>C(e),disabled:g[e],className:"flex-1 px-3 py-2 text-[12px] font-semibold bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition disabled:opacity-60",children:t("board.task.assign")}),b&&(0,Pa.jsx)("button",{onClick:()=>_(e),disabled:g[e],className:"flex-1 px-3 py-2 text-[12px] font-semibold bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition disabled:opacity-60",children:t("board.task.claim")}),x&&(0,Pa.jsx)("button",{onClick:()=>E(e),disabled:g[e],className:"flex-1 px-3 py-2 text-[12px] font-semibold bg-slate-800 text-white rounded-lg hover:bg-slate-900 transition disabled:opacity-60",children:t("board.task.complete")})]})]}))}},e)})(r,a,e)),r.placeholder]}));var o}})]},e)};return d?(0,Pa.jsx)("div",{className:"p-6",children:(0,Pa.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,Pa.jsx)("div",{className:"h-12 bg-slate-100 rounded-xl"}),(0,Pa.jsx)("div",{className:"h-72 bg-slate-100 rounded-3xl"})]})}):(0,Pa.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center gap-4 justify-between",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:t("board.title")}),(0,Pa.jsx)("p",{className:"text-sm text-slate-500",children:j})]}),(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Pa.jsx)("input",{type:"date",value:r,onChange:e=>a(e.target.value),className:"px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,Pa.jsxs)("button",{onClick:async()=>{const e=prompt("Aufgabentitel:");if(!e||!e.trim())return;const t=prompt("Beschreibung (optional):");try{await(a={title:e.trim(),description:(null===t||void 0===t?void 0:t.trim())||"",priority:"medium",status:"todo"},es.post("/tasks",a)),So("Aufgabe erfolgreich erstellt"),await k()}catch(i){var n,r;console.error("Error creating task",i),Co((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Fehler beim Erstellen der Aufgabe")}var a},className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg hover:bg-indigo-700 transition",children:[(0,Pa.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Neue Aufgabe"]}),(0,Pa.jsxs)("button",{onClick:k,disabled:p,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white text-sm font-semibold rounded-lg hover:bg-slate-800 transition disabled:opacity-60",children:[(0,Pa.jsx)(Vm,{className:"w-4 h-4 ".concat(p?"animate-spin":"")}),t("app.refresh")]})]})]}),f&&(0,Pa.jsxs)("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 flex items-start gap-3",children:[(0,Pa.jsx)(Gm,{className:"w-4 h-4 mt-0.5"}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("p",{className:"font-semibold",children:t("board.error.title")}),(0,Pa.jsx)("p",{children:f})]})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-3",children:[(0,Pa.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,Pa.jsx)("p",{className:"text-xs text-slate-500 uppercase",children:t("board.metrics.backlog")}),(0,Pa.jsx)("p",{className:"text-2xl font-semibold text-slate-900",children:l.backlog})]}),(0,Pa.jsxs)("div",{className:"rounded-2xl border border-indigo-200 bg-indigo-50 p-4",children:[(0,Pa.jsx)("p",{className:"text-xs text-indigo-600 uppercase",children:t("board.metrics.pool")}),(0,Pa.jsx)("p",{className:"text-2xl font-semibold text-indigo-700",children:l.poolAvailable})]}),(0,Pa.jsxs)("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 p-4",children:[(0,Pa.jsx)("p",{className:"text-xs text-emerald-600 uppercase",children:t("board.metrics.active")}),(0,Pa.jsx)("p",{className:"text-2xl font-semibold text-emerald-700",children:l.inProgress})]}),(0,Pa.jsxs)("div",{className:"rounded-2xl border border-orange-200 bg-orange-50 p-4",children:[(0,Pa.jsx)("p",{className:"text-xs text-orange-600 uppercase",children:t("board.metrics.help")}),(0,Pa.jsx)("p",{className:"text-2xl font-semibold text-orange-600",children:l.needsHelp})]}),(0,Pa.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,Pa.jsx)("p",{className:"text-xs text-slate-500 uppercase",children:t("board.metrics.completed")}),(0,Pa.jsx)("p",{className:"text-2xl font-semibold text-slate-800",children:l.completed})]})]}),(0,Pa.jsx)(Zp,{onDragEnd:async e=>{const{destination:n,source:r}=e;if(!n)return;const a=i.columns[r.droppableId][r.index],s=(o=r.droppableId,l=n.droppableId,o===l?"reorder":"backlog"===o&&"pool"===l?"activate":"pool"===o&&"inProgress"===l?"claim":"inProgress"===o&&"completed"===l?"complete":null);var o,l;if(s){if("reorder"===s){if(n.index===r.index)return;return c=r.droppableId,d=r.index,u=n.index,void S(e=>{const t=Array.from(e.columns[c]),[n]=t.splice(d,1);return t.splice(u,0,n),He(He({},e),{},{columns:He(He({},e.columns),{},{[c]:t})})})}var c,d,u;((e,t,n,r)=>{S(a=>{const i=Array.from(a.columns[e]),s=Array.from(a.columns[t]),[o]=i.splice(n,1);return s.splice(r,0,o),He(He({},a),{},{columns:He(He({},a.columns),{},{[e]:i,[t]:s})})})})(r.droppableId,n.droppableId,r.index,n.index);try{"activate"===s?await C(a,{skipRefresh:!0}):"claim"===s?await _(a,{skipRefresh:!0}):"complete"===s&&await E(a,{skipRefresh:!0})}catch(p){console.error("Drag action failed",p)}finally{await k()}}else _o(t("board.actions.notAllowed"))},children:(0,Pa.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:Object.keys(x).map(e=>D(e))})})]})};function Jm(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Qm(e,t){vi(2,arguments);var n=yi(e),r=yi(t),a=Jm(n,r),i=Math.abs(function(e,t){vi(2,arguments);var n=ws(e),r=ws(t),a=n.getTime()-Fi(n),i=r.getTime()-Fi(r);return Math.round((a-i)/864e5)}(n,r));n.setDate(n.getDate()-a*i);var s=a*(i-Number(Jm(n,r)===-a));return 0===s?0:s}const Xm=(0,s.memo)(e=>{let{type:t,className:n="w-6 h-6"}=e;const r={chemical:(0,Pa.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M7,2V4H8V18A4,4 0 0,0 12,22A4,4 0 0,0 16,18V4H17V2H7M10,4H14V18A2,2 0 0,1 12,20A2,2 0 0,1 10,18V4Z"})}),glass:(0,Pa.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M12,2C13.1,7.4 18,9.9 18,15.5C18,19.1 15.1,22 11.5,22C7.9,22 5,19.1 5,15.5C5,9.9 9.9,7.4 11,2H12Z"})}),medical:(0,Pa.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M12,2L13.09,8.26L22,9L13.09,9.74L12,16L10.91,9.74L2,9L10.91,8.26L12,2M12,4.74L11.38,8.5L7.76,9L11.38,9.5L12,13.26L12.62,9.5L16.24,9L12.62,8.5L12,4.74Z"})}),bio:(0,Pa.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M2,17H22V19H2V17M3,2V4H5V6H3V8H5V10H3V12H5V14H21V4H19V2H3M7,8H9V10H11V8H13V10H15V8H17V10H19V12H5V10H7V8Z"})}),plastic:(0,Pa.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3H19M19,5H5V19H19V5Z"})}),trash:(0,Pa.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})})};return r[t]||r.trash});Xm.displayName="WasteIcon";const Zm=(0,s.memo)(e=>{let{level:t}=e;return(0,Pa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat({low:"bg-green-100 text-green-800 border-green-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",high:"bg-orange-100 text-orange-800 border-orange-200",critical:"bg-red-100 text-red-800 border-red-200"}[t]),children:{low:"Niedrig",medium:"Mittel",high:"Hoch",critical:"Kritisch"}[t]})});Zm.displayName="HazardBadge";const ef=(0,s.memo)(e=>{let{frequency:t}=e;return(0,Pa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({immediate:"bg-red-100 text-red-800",daily:"bg-blue-100 text-blue-800",weekly:"bg-green-100 text-green-800",biweekly:"bg-yellow-100 text-yellow-800",monthly:"bg-purple-100 text-purple-800",quarterly:"bg-indigo-100 text-indigo-800",yearly:"bg-gray-100 text-gray-800"}[t]),children:{immediate:"Sofort",daily:"T\xe4glich",weekly:"W\xf6chentlich",biweekly:"2-w\xf6chentlich",monthly:"Monatlich",quarterly:"Viertelj\xe4hrlich",yearly:"J\xe4hrlich"}[t]})});ef.displayName="FrequencyBadge";const tf=()=>{const{user:e}=La(),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),[f,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[x,v]=(0,s.useState)(!1),[y,w]=(0,s.useState)(null),[j,N]=(0,s.useState)("all"),[k,S]=(0,s.useState)("all"),[C,_]=(0,s.useState)("all"),[E,D]=(0,s.useState)(""),[A,T]=(0,s.useState)("items"),[M,P]=(0,s.useState)({template_id:"",next_disposal_date:"",assigned_to:"",notification_users:[],notes:""}),O={chemical:{label:"Chemikalien",icon:"chemical",color:"#FF6B6B"},heavy_metal:{label:"Schwermetalle",icon:"chemical",color:"#8E44AD"},aqueous:{label:"Wassrige Losungen",icon:"glass",color:"#3498DB"},hazardous:{label:"Gefahrstoffe",icon:"medical",color:"#6C757D"},construction:{label:"Bauschutt",icon:"bio",color:"#495057"},soil:{label:"Bodenproben",icon:"bio",color:"#8D6E63"},container:{label:"Behalter",icon:"plastic",color:"#FFC107"},general:{label:"Allgemein",icon:"trash",color:"#6C757D"}};(0,s.useEffect)(()=>{L()},[L]);const R=(0,s.useCallback)(e=>{u(e),setTimeout(()=>u(""),5e3)},[]),I=(0,s.useCallback)(e=>{m(e),setTimeout(()=>m(""),5e3)},[]),L=(0,s.useCallback)(async()=>{try{c(!0);const e=await fetch("/api/waste/templates",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Fehler beim Laden der Vorlagen");const t=await e.json();n(t);const r=await fetch("/api/waste/items",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!r.ok)throw new Error("Fehler beim Laden der Abfalle");const i=await r.json();a(i);const s=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!s.ok)throw new Error("Fehler beim Laden der Benutzer");const l=await s.json();o(l)}catch(e){R("Fehler beim Laden der Daten: "+e.message),console.error("Error loading data:",e)}finally{c(!1)}},[R]),B=t=>{const n={immediate:0,daily:1,weekly:7,biweekly:14,monthly:30,quarterly:90,yearly:365}[t.default_frequency]||7,r=no(xs(new Date,n),"yyyy-MM-dd");P({template_id:t.id,next_disposal_date:r,assigned_to:(null===e||void 0===e?void 0:e.id)||"",notification_users:[],notes:""}),h(!0)},z=async(e,t)=>{try{await fetch("/api/waste/notifications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({waste_id:e,user_ids:t,type:"assignment"})})}catch(n){console.error("Error sending notifications:",n)}},F=(0,s.useCallback)(e=>e?Qm(new Date(e),new Date):null,[]),U=(0,s.useMemo)(()=>r.filter(e=>{var t,n,r;if(!e.template_id)return!1;const a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(E.toLowerCase()))||(null===(n=e.waste_code)||void 0===n?void 0:n.toLowerCase().includes(E.toLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(E.toLowerCase())),i="all"===k||e.category===k,s="all"===C||e.hazard_level===C,o=F(e.next_disposal_date);return a&&i&&s&&("all"===j||"urgent"===j&&null!==o&&o<=3||"overdue"===j&&null!==o&&o<0||"upcoming"===j&&null!==o&&o>=0&&o<=7)}),[r,E,k,C,j,F]),W=(0,s.useMemo)(()=>[...new Set(t.map(e=>e.category))],[t]);return l?(0,Pa.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Pa.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,Pa.jsxs)("div",{className:"mb-6",children:[(0,Pa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Abfallmanagement"}),(0,Pa.jsx)("p",{className:"text-gray-600 mt-1",children:"Professionelle Entsorgung und \xdcberwachung"})]}),(0,Pa.jsxs)("div",{className:"mt-4 sm:mt-0 flex gap-2",children:[(0,Pa.jsxs)("button",{onClick:()=>b(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Schnellzugriff"]}),("admin"===(null===e||void 0===e?void 0:e.role)||"superadmin"===(null===e||void 0===e?void 0:e.role))&&(0,Pa.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Neue Entsorgung"]})]})]}),d&&(0,Pa.jsxs)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex justify-between items-center animate-fade-in",children:[(0,Pa.jsx)("span",{children:d}),(0,Pa.jsx)("button",{onClick:()=>u(""),className:"text-red-800 hover:text-red-900 font-bold",children:"\xd7"})]}),p&&(0,Pa.jsxs)("div",{className:"mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex justify-between items-center animate-fade-in",children:[(0,Pa.jsx)("span",{children:p}),(0,Pa.jsx)("button",{onClick:()=>m(""),className:"text-green-800 hover:text-green-900 font-bold",children:"\xd7"})]})]}),(0,Pa.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,Pa.jsxs)("nav",{className:"flex space-x-8",children:[(0,Pa.jsxs)("button",{onClick:()=>T("items"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("items"===A?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Abfall-Items (",r.length,")"]}),(0,Pa.jsxs)("button",{onClick:()=>T("templates"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("templates"===A?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Vorlagen (",t.length,")"]})]})}),"items"===A&&(0,Pa.jsx)("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Suche"}),(0,Pa.jsx)("input",{type:"text",value:E,onChange:e=>D(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Name oder Code..."})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Pa.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Pa.jsx)("option",{value:"all",children:"Alle"}),(0,Pa.jsx)("option",{value:"urgent",children:"Dringend (3 Tage)"}),(0,Pa.jsx)("option",{value:"overdue",children:"Uberf\xe4llig"}),(0,Pa.jsx)("option",{value:"upcoming",children:"Anstehend (7 Tage)"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategorie"}),(0,Pa.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Pa.jsx)("option",{value:"all",children:"Alle Kategorien"}),W.map(e=>{var t;return(0,Pa.jsx)("option",{value:e,children:(null===(t=O[e])||void 0===t?void 0:t.label)||e},e)})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gefahrenstufe"}),(0,Pa.jsxs)("select",{value:C,onChange:e=>_(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Pa.jsx)("option",{value:"all",children:"Alle Stufen"}),(0,Pa.jsx)("option",{value:"low",children:"Niedrig"}),(0,Pa.jsx)("option",{value:"medium",children:"Mittel"}),(0,Pa.jsx)("option",{value:"high",children:"Hoch"}),(0,Pa.jsx)("option",{value:"critical",children:"Kritisch"})]})]}),(0,Pa.jsx)("div",{className:"flex items-end",children:(0,Pa.jsx)("button",{onClick:()=>{D(""),N("all"),S("all"),_("all")},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Filter zurucksetzen"})})]})}),"items"===A&&(0,Pa.jsx)(Pa.Fragment,{children:0===U.length?(0,Pa.jsxs)("div",{className:"text-center py-12",children:[(0,Pa.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\uddd1"}),(0,Pa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Abfall-Items gefunden"}),(0,Pa.jsx)("p",{className:"text-gray-600",children:"Versuchen Sie, die Filter anzupassen oder erstellen Sie ein neues Item."})]}):(0,Pa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(n=>{const r=F(n.next_disposal_date),a=i.find(e=>e.id===n.assigned_to),s=O[n.category]||{label:n.category,icon:"trash",color:"#6B7280"};return(0,Pa.jsx)("div",{className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 border-l-4 group",style:{borderLeftColor:n.color||s.color},children:(0,Pa.jsxs)("div",{className:"p-6",children:[(0,Pa.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Pa.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Pa.jsx)("div",{className:"p-3 rounded-lg mr-3 flex-shrink-0",style:{backgroundColor:(n.color||s.color)+"20",color:n.color||s.color},children:(0,Pa.jsx)(Xm,{type:n.icon||s.icon})}),(0,Pa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pa.jsx)("h3",{className:"font-semibold text-gray-900 text-sm leading-tight truncate",children:n.name}),(0,Pa.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",n.waste_code||"N/A"]}),(0,Pa.jsx)("div",{className:"mt-1",children:(0,Pa.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:s.label})})]})]})}),(0,Pa.jsxs)("div",{className:"space-y-3",children:[(0,Pa.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pa.jsx)(Zm,{level:n.hazard_level}),(0,Pa.jsx)(ef,{frequency:n.default_frequency})]}),n.next_disposal_date&&(0,Pa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Pa.jsx)("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Nachste Entsorgung:"}),(0,Pa.jsx)("div",{className:"font-bold text-lg ".concat(null===r?"text-gray-600":r<0?"text-red-600":r<=3?"text-orange-600":r<=7?"text-yellow-600":"text-green-600"),children:null===r?"Nicht geplant":r<0?"".concat(Math.abs(r)," Tage uberf\xe4llig"):0===r?"Heute":1===r?"Morgen":"In ".concat(r," Tagen")}),(0,Pa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:no(new Date(n.next_disposal_date),"dd.MM.yyyy - EEEE",{locale:Zi})})]}),a&&(0,Pa.jsxs)("div",{className:"text-sm",children:[(0,Pa.jsx)("span",{className:"text-gray-600 font-medium",children:"Zugewiesen an:"}),(0,Pa.jsx)("div",{className:"text-gray-900 mt-1",children:a.name})]}),n.disposal_instructions&&(0,Pa.jsx)("div",{className:"text-xs bg-blue-50 border-l-2 border-blue-400 p-2 rounded",children:(0,Pa.jsx)("p",{className:"text-gray-700",children:n.disposal_instructions})})]}),(0,Pa.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex gap-2",children:[(0,Pa.jsx)("button",{onClick:()=>(async e=>{try{const n=t.find(t=>t.id===e.template_id),r={immediate:0,daily:1,weekly:7,biweekly:14,monthly:30,quarterly:90,yearly:365}[null===n||void 0===n?void 0:n.default_frequency]||7,a=no(xs(new Date,r),"yyyy-MM-dd");if(!(await fetch("/api/waste/items/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(He(He({},e),{},{next_disposal_date:a}))})).ok)throw new Error("Fehler beim Aktualisieren");I("Als entsorgt markiert. Nachster Termin geplant."),await L()}catch(n){R(n.message)}})(n),className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-md text-sm hover:bg-green-700 transition-colors font-medium",children:"\u2713 Entsorgt"}),("admin"===(null===e||void 0===e?void 0:e.role)||"superadmin"===(null===e||void 0===e?void 0:e.role))&&(0,Pa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Mochten Sie dieses Abfall-Element wirklich loschen?"))try{if(!(await fetch("/api/waste/items/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok)throw new Error("Fehler beim Loschen");I("Abfall-Element erfolgreich geloscht"),await L()}catch(t){R(t.message)}})(n.id),className:"px-3 py-2 bg-red-100 text-red-600 rounded-md text-sm hover:bg-red-200 transition-colors",children:(0,Pa.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})},n.id)})})}),"templates"===A&&(0,Pa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{const t=O[e.category]||{label:e.category,icon:"trash",color:"#6B7280"};return(0,Pa.jsx)("div",{className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 border-l-4",style:{borderLeftColor:e.color||t.color},children:(0,Pa.jsxs)("div",{className:"p-6",children:[(0,Pa.jsxs)("div",{className:"flex items-start mb-4",children:[(0,Pa.jsx)("div",{className:"p-3 rounded-lg mr-3 flex-shrink-0",style:{backgroundColor:(e.color||t.color)+"20",color:e.color||t.color},children:(0,Pa.jsx)(Xm,{type:e.icon||t.icon})}),(0,Pa.jsxs)("div",{className:"flex-1",children:[(0,Pa.jsx)("h3",{className:"font-bold text-gray-900 text-sm leading-tight mb-1",children:e.name}),(0,Pa.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,Pa.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:t.label}),e.waste_code&&(0,Pa.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-700",children:e.waste_code})]})]})]}),(0,Pa.jsxs)("div",{className:"space-y-3",children:[(0,Pa.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pa.jsx)(Zm,{level:e.hazard_level}),(0,Pa.jsx)(ef,{frequency:e.default_frequency})]}),e.description&&(0,Pa.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.disposal_instructions&&(0,Pa.jsxs)("div",{className:"text-xs bg-blue-50 border-l-2 border-blue-400 p-2 rounded",children:[(0,Pa.jsx)("span",{className:"font-medium text-gray-700",children:"Anweisungen:"}),(0,Pa.jsx)("p",{className:"text-gray-600 mt-1",children:e.disposal_instructions})]})]}),(0,Pa.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,Pa.jsx)("button",{onClick:()=>B(e),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700 transition-colors font-medium",children:"+ Schnell hinzufugen"})})]})},e.id)})}),g&&(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Pa.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pa.jsx)("h3",{className:"text-2xl font-bold",children:"Schnellzugriff - Vorlagen"}),(0,Pa.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,Pa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>{const t=O[e.category]||{label:e.category,icon:"trash",color:"#6B7280"};return(0,Pa.jsxs)("button",{onClick:()=>{B(e),b(!1)},className:"text-left p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:shadow-md transition-all",children:[(0,Pa.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Pa.jsx)("div",{className:"p-2 rounded-lg mr-2",style:{backgroundColor:(e.color||t.color)+"20",color:e.color||t.color},children:(0,Pa.jsx)(Xm,{type:e.icon||t.icon,className:"w-5 h-5"})}),(0,Pa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pa.jsx)("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:e.name}),(0,Pa.jsx)("p",{className:"text-xs text-gray-500",children:e.waste_code})]})]}),(0,Pa.jsx)("div",{className:"flex gap-1",children:(0,Pa.jsx)(Zm,{level:e.hazard_level})})]},e.id)})})]})}),f&&(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Pa.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pa.jsx)("h3",{className:"text-xl font-bold",children:"Neue Entsorgung erstellen"}),(0,Pa.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,Pa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{if(!(await fetch("/api/waste/items",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(M)})).ok)throw new Error("Fehler beim Erstellen des Abfall-Elements");{const e=t.find(e=>e.id===parseInt(M.template_id));I('Entsorgung "'.concat(null===e||void 0===e?void 0:e.name,'" erfolgreich erstellt!')),h(!1),P({template_id:"",next_disposal_date:"",assigned_to:"",notification_users:[],notes:""}),await L()}}catch(n){R(n.message)}finally{c(!1)}},className:"space-y-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abfall-Typ *"}),(0,Pa.jsxs)("select",{value:M.template_id,onChange:e=>P(He(He({},M),{},{template_id:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Pa.jsx)("option",{value:"",children:"Typ wahlen..."}),t.map(e=>{var t;return(0,Pa.jsxs)("option",{value:e.id,children:[e.name," (",e.waste_code,") - ",null===(t=O[e.category])||void 0===t?void 0:t.label]},e.id)})]})]}),M.template_id&&(()=>{const e=t.find(e=>e.id===parseInt(M.template_id));if(!e)return null;const n=O[e.category]||{};return(0,Pa.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:(0,Pa.jsxs)("div",{className:"flex items-start",children:[(0,Pa.jsx)("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:(e.color||n.color)+"40",color:e.color||n.color},children:(0,Pa.jsx)(Xm,{type:e.icon||n.icon})}),(0,Pa.jsxs)("div",{className:"flex-1",children:[(0,Pa.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Pa.jsx)(Zm,{level:e.hazard_level}),(0,Pa.jsx)(ef,{frequency:e.default_frequency})]}),(0,Pa.jsx)("p",{className:"text-sm text-gray-700",children:e.disposal_instructions})]})]})})})(),(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nachste Entsorgung *"}),(0,Pa.jsx)("input",{type:"date",value:M.next_disposal_date,onChange:e=>P(He(He({},M),{},{next_disposal_date:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zuweisen an"}),(0,Pa.jsxs)("select",{value:M.assigned_to,onChange:e=>P(He(He({},M),{},{assigned_to:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Pa.jsx)("option",{value:"",children:"Niemand zugewiesen"}),i.map(e=>(0,Pa.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benachrichtigungen senden an"}),(0,Pa.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 space-y-2 max-h-40 overflow-y-auto bg-gray-50",children:i.map(e=>(0,Pa.jsxs)("label",{className:"flex items-center hover:bg-white px-2 py-1 rounded cursor-pointer",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:M.notification_users.includes(e.id),onChange:t=>{t.target.checked?P(He(He({},M),{},{notification_users:[...M.notification_users,e.id]})):P(He(He({},M),{},{notification_users:M.notification_users.filter(t=>t!==e.id)}))},className:"mr-2 text-blue-600 focus:ring-blue-500"}),(0,Pa.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,Pa.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.role,")"]})]},e.id))})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notizen"}),(0,Pa.jsx)("textarea",{value:M.notes,onChange:e=>P(He(He({},M),{},{notes:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Zusatzliche Informationen oder besondere Hinweise..."})]}),(0,Pa.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Pa.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",disabled:l,children:"Abbrechen"}),(0,Pa.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors disabled:bg-gray-400",disabled:l,children:l?"Erstelle...":"Erstellen"})]})]})]})}),x&&y&&(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Pa.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Abfall zuweisen"}),(0,Pa.jsxs)("div",{className:"space-y-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zuweisen an"}),(0,Pa.jsxs)("select",{value:y.assigned_to||"",onChange:e=>w(He(He({},y),{},{assigned_to:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,Pa.jsx)("option",{value:"",children:"Niemand zugewiesen"}),i.map(e=>(0,Pa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Benachrichtigungen senden an"}),(0,Pa.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:i.map(e=>(0,Pa.jsxs)("label",{className:"flex items-center",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:(y.notification_users||[]).includes(e.id),onChange:t=>{const n=y.notification_users||[];t.target.checked?w(He(He({},y),{},{notification_users:[...n,e.id]})):w(He(He({},y),{},{notification_users:n.filter(t=>t!==e.id)}))},className:"mr-2"}),(0,Pa.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})]}),(0,Pa.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Pa.jsx)("button",{onClick:()=>{v(!1),w(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Abbrechen"}),(0,Pa.jsx)("button",{onClick:()=>(async(e,t,n)=>{try{if(!(await fetch("/api/waste/items/".concat(e,"/assign"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({assigned_to:t,notification_users:n})})).ok)throw new Error("Fehler beim Zuweisen des Abfalls");v(!1),w(null),L(),n.length>0&&await z(e,n)}catch(r){u(r.message)}})(y.id,y.assigned_to,y.notification_users||[]),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Zuweisen"})]})]})]})})]})};function nf(e,t){return vi(2,arguments),ks(e,6e4*bs(t))}function rf(e,t){var n,r;vi(1,arguments);var a=yi(e);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var i=String(null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"extended"),s=String(null!==(r=null===t||void 0===t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==s&&"time"!==s&&"complete"!==s)throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",l="",c="extended"===i?"-":"",d="extended"===i?":":"";if("time"!==s){var u=Ts(a.getDate(),2),p=Ts(a.getMonth()+1,2),m=Ts(a.getFullYear(),4);o="".concat(m).concat(c).concat(p).concat(c).concat(u)}if("date"!==s){var f=a.getTimezoneOffset();if(0!==f){var h=Math.abs(f),g=Ts(Math.floor(h/60),2),b=Ts(h%60,2);l="".concat(f<0?"+":"-").concat(g,":").concat(b)}else l="Z";var x=""===o?"":"T",v=[Ts(a.getHours(),2),Ts(a.getMinutes(),2),Ts(a.getSeconds(),2)].join(d);o="".concat(o).concat(x).concat(v).concat(l)}return o}const af={Arbeit:"#0EA5E9",Meeting:"#6366F1",Urlaub:"#F97316",Krankheit:"#EF4444",Training:"#10B981",Projekt:"#8B5CF6",Termin:"#06B6D4",Deadline:"#DC2626",Personal:"#84CC16",default:"#475569"},sf=function(){return af[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Arbeit"]||af.default},of=e=>{if(!e)return null;if(e instanceof Date)return e;if("string"===typeof e){const t=e.includes("T")?e:e.replace(" ","T"),n=new Date(t);if(!Number.isNaN(n.getTime()))return n}return null},lf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;if(Array.isArray(e))return e;if("string"===typeof e){try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(n){const t=e.split(/[;,]/).map(e=>e.trim()).filter(Boolean);if(t.length>0)return t}return t}return t},cf=e=>{var t,n,r;const a=null!==(t=of(e.start_time))&&void 0!==t?t:new Date,i=null!==(n=of(e.end_time))&&void 0!==n?n:nf(a,60),s=Boolean(e.all_day),o=e.event_type||e.type||"Termin",l=(e=>{if(!e)return[];if(Array.isArray(e))return e;if("string"===typeof e)try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(t){return[]}return[]})(e.attachments),c=Array.isArray(e.attendees)?e.attendees:lf(e.attendees),d=Array.isArray(e.tags)?e.tags:lf(e.tags),u=Boolean(e.is_recurring),p=u&&e.recurrence_end_date?no(of(e.recurrence_end_date),"yyyy-MM-dd"):"";return{id:e.id,title:e.title,description:e.description||"",start:a,end:i,start_date:no(a,"yyyy-MM-dd"),end_date:no(i,"yyyy-MM-dd"),start_time:s?"":no(a,"HH:mm"),end_time:s?"":no(i,"HH:mm"),all_day:s,type:o,priority:e.priority||"medium",location:e.location||"",attendees:c,reminder:null!==(r=e.reminder)&&void 0!==r?r:15,status:e.status||"confirmed",color:e.color||sf(o),notes:e.notes||"",category:e.category||"work",recurring:u,recurring_pattern:u?e.recurrence_pattern||"weekly":null,recurring_end:p,tags:d,attachments:l,cover_image:e.cover_image||null,raw:e}},df=function(e,t){return e?arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!t?new Date("".concat(e,"T00:00:00")):new Date("".concat(e,"T").concat(t)):null},uf=e=>{var t;const n=df(e.start_date,e.start_time,e.all_day),r=df(e.end_date||e.start_date,e.end_time||e.start_time,e.all_day),a=Boolean(e.recurring),i=e.type||e.event_type||"Termin",s=a&&(e.recurring_pattern||e.recurrence_pattern)||null,o=a&&(e.recurring_end||e.recurrence_end)?new Date(e.recurring_end||e.recurrence_end).toISOString():null,l=Array.isArray(e.attendees)?e.attendees:[],c=Array.isArray(e.tags)?e.tags:[],d=Array.isArray(e.attachments)?e.attachments:[];return{title:e.title,description:e.description||"",startDate:null===n||void 0===n?void 0:n.toISOString(),endDate:null===r||void 0===r?void 0:r.toISOString(),startTime:e.all_day?null:e.start_time||(n?no(n,"HH:mm"):null),endTime:e.all_day?null:e.end_time||(r?no(r,"HH:mm"):null),event_type:i,type:i,all_day:Boolean(e.all_day),isAllDay:Boolean(e.all_day),is_recurring:a,isRecurring:a,recurrence_pattern:s,recurrencePattern:s,recurrence_end_date:o,recurrenceEndDate:o,priority:e.priority||"medium",status:e.status||"confirmed",category:e.category||"work",location:e.location||"",attendees:l,reminder:null!==(t=e.reminder)&&void 0!==t?t:15,notes:e.notes||"",color:e.color||null,tags:c,attachments:d,cover_image:e.cover_image||null}},pf=[{value:null,label:"Alle",chipClass:"bg-slate-100 text-slate-600 hover:bg-slate-200"},{value:"Arbeit",label:"Arbeit",chipClass:"bg-sky-100 text-sky-700 hover:bg-sky-200"},{value:"Meeting",label:"Meetings",chipClass:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"},{value:"Urlaub",label:"Urlaub",chipClass:"bg-amber-100 text-amber-700 hover:bg-amber-200"},{value:"Krankheit",label:"Ausf\xe4lle",chipClass:"bg-rose-100 text-rose-700 hover:bg-rose-200"},{value:"Projekt",label:"Projekt",chipClass:"bg-violet-100 text-violet-700 hover:bg-violet-200"}],mf=[{value:null,label:"Alle",badgeClass:"bg-slate-200 text-slate-700"},{value:"low",label:"\u23f1\ufe0f Locker",badgeClass:"bg-emerald-100 text-emerald-700"},{value:"medium",label:"\u26a1 Normal",badgeClass:"bg-amber-100 text-amber-700"},{value:"high",label:"\ud83d\udd25 Hoch",badgeClass:"bg-rose-100 text-rose-700"}],ff=[{id:"calendar",label:"Kalender",icon:fs},{id:"kanban",label:"Kanban",icon:ls},{id:"waste-manager",label:"Abfall",icon:hs}],hf=(0,s.memo)(e=>{let{toast:t,onClose:n}=e;return t?(0,Pa.jsx)("div",{className:"fixed right-4 top-24 z-[1200] max-w-sm rounded-2xl border border-slate-200 bg-white/95 px-4 py-3 shadow-xl backdrop-blur",role:"status",children:(0,Pa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Pa.jsx)("div",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ".concat("error"===t.type?"bg-rose-100 text-rose-600":"success"===t.type?"bg-emerald-100 text-emerald-600":"bg-sky-100 text-sky-600"),children:"error"===t.type?"!":"success"===t.type?"\u2713":"\u2139\ufe0f"}),(0,Pa.jsxs)("div",{className:"flex-1 text-sm text-slate-700",children:[(0,Pa.jsx)("p",{className:"font-semibold text-slate-900",children:t.title}),t.message&&(0,Pa.jsx)("p",{className:"mt-1 leading-relaxed",children:t.message})]}),(0,Pa.jsx)("button",{onClick:n,className:"text-slate-400 transition hover:text-slate-600","aria-label":"Hinweis schlie\xdfen",children:"\xd7"})]})}):null}),gf=()=>{const e=La(),t=null===e||void 0===e?void 0:e.user,[n,r]=(0,s.useState)(new Date),[a,i]=(0,s.useState)("calendar"),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)("view"),[u,p]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[b,x]=(0,s.useState)([]),[v,y]=(0,s.useState)(!1),[w,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(()=>"undefined"!==typeof window&&window.matchMedia("(max-width: 767px)").matches),[S,C]=(0,s.useState)(pf[0].value),[_,E]=(0,s.useState)(mf[0].value),[D,A]=(0,s.useState)(()=>{const e=new Date;return{start:vs(e,{weekStartsOn:1}),end:ys(e,{weekStartsOn:1}),view:"week"}}),T=(0,s.useCallback)(e=>{j(He({id:Date.now()},e))},[]);(0,s.useEffect)(()=>{if(!w)return;const e=setTimeout(()=>j(null),4200);return()=>clearTimeout(e)},[w]),(0,s.useEffect)(()=>{if("undefined"===typeof window||"function"!==typeof window.matchMedia)return;const e=window.matchMedia("(max-width: 767px)"),t=e=>k(e.matches);return"function"===typeof e.addEventListener?e.addEventListener("change",t):"function"===typeof e.addListener&&e.addListener(t),k(e.matches),()=>{"function"===typeof e.removeEventListener?e.removeEventListener("change",t):"function"===typeof e.removeListener&&e.removeListener(t)}},[]),(0,s.useEffect)(()=>{(async()=>{try{var e;y(!0);const t=null!==D&&void 0!==D&&D.start?rf(D.start):null,n=null!==D&&void 0!==D&&D.end?rf(D.end):null,r=await Aa(t,n,S||void 0,_||void 0);if(304===(null===r||void 0===r?void 0:r.status))return;const a=Array.isArray(null===r||void 0===r?void 0:r.data)?r.data:Array.isArray(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.data)?r.data.data:[];x(a.map(cf))}catch(t){console.error("Error loading events:",t),T({type:"error",title:"Termine konnten nicht geladen werden",message:"Bitte \xfcberpr\xfcfe deine Verbindung und versuche es erneut."})}finally{y(!1)}})()},[null===D||void 0===D?void 0:D.start,null===D||void 0===D?void 0:D.end,S,_,T]);const M=(0,s.useCallback)(e=>{r(e),A(t=>({start:vs(e,{weekStartsOn:1}),end:ys(e,{weekStartsOn:1}),view:(null===t||void 0===t?void 0:t.view)||"week"}))},[A]),P=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view";l(e),d(t),p(!0)},[]),O=(0,s.useCallback)(async e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.title)&&void 0!==t&&t.trim())try{if("create"===c){const t=await Ta(uf(e));x(e=>[...e,cf(t.data)]),T({type:"success",title:"Termin erstellt",message:"".concat(e.title," wurde hinzugef\xfcgt.")})}else{const t=await((e,t)=>Ea.put("/schedule/events/".concat(e),t))(e.id,uf(e));x(n=>n.map(n=>n.id===e.id?cf(t.data):n)),T({type:"success",title:"Termin aktualisiert"})}p(!1),f(!1)}catch(n){console.error("Error saving event:",n),T({type:"error",title:"Speichern fehlgeschlagen",message:"Der Termin konnte nicht gespeichert werden."})}else T({type:"error",title:"Titel fehlt",message:"Bitte gib einen aussagekr\xe4ftigen Titel f\xfcr den Termin an."})},[c,T]),R=(0,s.useCallback)(()=>{f(!1),l(null)},[]),I=(0,s.useCallback)(async e=>{try{await(t=e,Ea.delete("/schedule/events/".concat(t))),x(t=>t.filter(t=>t.id!==e)),T({type:"success",title:"Termin gel\xf6scht"}),p(!1)}catch(n){console.error("Error deleting event:",n),T({type:"error",title:"L\xf6schen fehlgeschlagen",message:"Bitte versuche es in ein paar Sekunden erneut."})}var t},[T]),L=(0,s.useCallback)(async e=>{try{var t,n;const r=null!==(t=df(e.start_date,e.start_time,e.all_day))&&void 0!==t?t:new Date,a=null!==(n=df(e.end_date||e.start_date,e.end_time||e.start_time,e.all_day))&&void 0!==n?n:nf(r,60),i=xs(r,1),s=xs(a,1),o=uf(He(He({},e),{},{title:"".concat(e.title||"Termin"," (Kopie)"),start_date:no(i,"yyyy-MM-dd"),end_date:no(s,"yyyy-MM-dd"),start_time:e.all_day?"":no(i,"HH:mm"),end_time:e.all_day?"":no(s,"HH:mm")})),l=await Ta(o);x(e=>[...e,cf(l.data)]),T({type:"success",title:"Termin dupliziert",message:"".concat(e.title," wurde auf den Folgetag kopiert.")}),p(!1)}catch(r){console.error("Error duplicating event:",r),T({type:"error",title:"Duplizieren fehlgeschlagen"})}},[T]),B=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.start?new Date(t.start):n||new Date,a=t.end?new Date(t.end):nf(r,60);l({title:t.title||"",description:t.description||"",start_date:no(r,"yyyy-MM-dd"),end_date:no(a,"yyyy-MM-dd"),start_time:t.all_day?"":no(r,"HH:mm"),end_time:t.all_day?"":no(a,"HH:mm"),all_day:Boolean(t.all_day),type:t.type||"Arbeit",priority:t.priority||"medium",location:t.location||"",attendees:t.attendees||[],reminder:null!==(e=t.reminder)&&void 0!==e?e:15,status:"confirmed",category:t.category||"work",notes:t.notes||""}),d("create"),f(!0)},z=(0,s.useCallback)(e=>{C(e)},[]),F=(0,s.useCallback)(e=>{E(e)},[]),U=(0,s.useMemo)(()=>pf.find(e=>e.value===S),[S]),W=(0,s.useMemo)(()=>mf.find(e=>e.value===_),[_]);return(0,Pa.jsxs)("div",{className:"mx-auto max-w-7xl px-3 sm:px-6 lg:px-8 ".concat(N?"pt-5 pb-24":"py-6"),children:[(0,Pa.jsxs)("div",{className:"mb-6",children:[(0,Pa.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Dashboard"}),(0,Pa.jsxs)("p",{className:"text-gray-600",children:["Willkommen zur\xfcck, ",t.name,"! Hier ist dein \xdcberblick f\xfcr heute."]})]}),(0,Pa.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,Pa.jsxs)("nav",{className:"flex ".concat(N?"flex-nowrap gap-2 overflow-x-auto pb-2 -mx-1 px-1":"space-x-8"),children:[(0,Pa.jsx)("button",{onClick:()=>i("calendar"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("calendar"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," ").concat(N?"flex-shrink-0 px-3":""),children:"Kalender"}),(0,Pa.jsx)("button",{onClick:()=>i("kanban"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("kanban"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," ").concat(N?"flex-shrink-0 px-3":""),children:"Kanban Board"}),(0,Pa.jsx)("button",{onClick:()=>i("waste-manager"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("waste-manager"===a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," ").concat(N?"flex-shrink-0 px-3":""),children:"Abfallmanagement"})]})}),"calendar"===a&&(0,Pa.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-white/90 shadow-lg ".concat(N?"p-4":"p-6"),children:[(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Fortgeschrittener Kalender"}),(0,Pa.jsx)("p",{className:"text-sm text-slate-500",children:"Plane Schichten, Termine und Eins\xe4tze mit einer Ansicht, die sich wie eine mobile App anf\xfchlt."})]}),(0,Pa.jsxs)("div",{className:"".concat(N?"hidden":"flex items-center gap-2"),children:[(0,Pa.jsx)("button",{onClick:()=>{B({start:n})},className:"rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-500",children:"+ Neuer Termin"}),"Vollzeit"===(null===t||void 0===t?void 0:t.employment_type)&&(0,Pa.jsx)("button",{onClick:()=>g(!0),className:"rounded-full bg-orange-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-orange-500",children:"\ud83c\udfd6\ufe0f Abwesenheit melden"})]})]}),(0,Pa.jsxs)("div",{className:"mt-5 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,Pa.jsx)("div",{className:"".concat(N?"flex flex-nowrap gap-2 overflow-x-auto pb-1 -mx-1 px-1":"flex flex-wrap gap-2"),children:pf.map(e=>(0,Pa.jsx)("button",{onClick:()=>z(e.value),className:"rounded-full px-3 py-1 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-blue-400 ".concat(S===e.value?"".concat(e.chipClass," ring-2 ring-blue-200"):"".concat(e.chipClass," opacity-70")),children:e.label},e.label))}),(0,Pa.jsx)("div",{className:"".concat(N?"flex flex-nowrap gap-2 overflow-x-auto pb-1 -mx-1 px-1":"flex items-center gap-2 overflow-x-auto"),children:mf.map(e=>(0,Pa.jsx)("button",{onClick:()=>F(e.value),className:"rounded-full px-3 py-1 text-xs font-semibold transition ".concat(_===e.value?"".concat(e.badgeClass," ring-2 ring-offset-1 ring-offset-white"):"".concat(e.badgeClass," opacity-60")),children:e.label},e.label))})]}),N&&"Vollzeit"===(null===t||void 0===t?void 0:t.employment_type)&&(0,Pa.jsx)("button",{onClick:()=>g(!0),className:"mt-1 w-full rounded-2xl border border-orange-200 bg-orange-50 px-4 py-2 text-sm font-semibold text-orange-700 shadow-sm",children:"\ud83c\udfd6\ufe0f Abwesenheit melden"}),((null===U||void 0===U?void 0:U.value)||(null===W||void 0===W?void 0:W.value))&&(0,Pa.jsx)("div",{className:"mt-4 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:(0,Pa.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1",children:[(0,Pa.jsx)("span",{className:"font-semibold text-slate-700",children:"Filter aktiv:"}),(0,Pa.jsx)("span",{children:null===U||void 0===U?void 0:U.label}),(0,Pa.jsx)("span",{children:"\u2022"}),(0,Pa.jsx)("span",{children:null===W||void 0===W?void 0:W.label}),(0,Pa.jsx)("button",{onClick:()=>{C(pf[0].value),E(mf[0].value)},className:"ml-2 text-slate-400 hover:text-slate-600","aria-label":"Filter zur\xfccksetzen",children:"\xd7"})]})}),(0,Pa.jsxs)("div",{className:"relative mt-6 ".concat(N?"h-[520px]":"h-[720px]"),children:[v&&(0,Pa.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-white/70 backdrop-blur-sm",children:(0,Pa.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-200 border-t-blue-500"})}),(0,Pa.jsx)(ao,{events:b,selectedDate:n,onDateSelect:M,onEventClick:P,onEventCreate:B})]})]}),"kanban"===a&&(0,Pa.jsx)(Ym,{}),"waste-manager"===a&&(0,Pa.jsx)(tf,{}),(0,Pa.jsx)(yo,{event:o,isOpen:u,onClose:()=>p(!1),onSave:O,onDelete:I,onDuplicate:L,mode:c}),(0,Pa.jsx)(Do,{isOpen:m,onClose:R,onSave:O,selectedDate:n,event:o,mode:c}),(0,Pa.jsx)(Ao,{isOpen:h,onClose:()=>{g(!1)},onSave:async e=>{try{var t;await(e=>Ea.post("/schedule/absence",e))(e),T({type:"success",title:"Abwesenheit gemeldet",message:"".concat(e.title," wurde erfolgreich f\xfcr ").concat(e.start_date," bis ").concat(e.end_date," gemeldet.")});const n=null!==D&&void 0!==D&&D.start?rf(D.start):null,r=null!==D&&void 0!==D&&D.end?rf(D.end):null,a=await Aa(n,r,S||void 0,_||void 0),i=Array.isArray(null===a||void 0===a?void 0:a.data)?a.data:Array.isArray(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data)?a.data.data:[];x(i.map(cf)),g(!1)}catch(n){console.error("Error creating absence:",n),T({type:"error",title:"Fehler beim Speichern",message:"Die Abwesenheit konnte nicht gespeichert werden. Bitte versuche es erneut."})}},selectedDate:n}),N&&(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("button",{type:"button",onClick:()=>{i("calendar"),B({start:n})},className:"fixed bottom-20 right-5 z-[1200] flex h-14 w-14 items-center justify-center rounded-full bg-blue-600 text-white shadow-xl shadow-blue-500/30 transition hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200","aria-label":"Neuen Termin erstellen",children:(0,Pa.jsx)(gs,{className:"h-6 w-6"})}),(0,Pa.jsx)("nav",{className:"fixed bottom-4 left-1/2 z-[1190] flex w-[calc(100%-2.5rem)] max-w-md -translate-x-1/2 items-center justify-around rounded-2xl border border-slate-200 bg-white/95 px-4 py-3 shadow-xl backdrop-blur",children:ff.map(e=>{let{id:t,label:n,icon:r}=e;return(0,Pa.jsxs)("button",{onClick:()=>i(t),className:"flex flex-col items-center gap-1 text-xs font-medium transition ".concat(a===t?"text-blue-600":"text-slate-500"),"aria-label":n,children:[(0,Pa.jsx)(r,{className:"h-5 w-5 ".concat(a===t?"text-blue-600":"text-slate-400")}),(0,Pa.jsx)("span",{children:n})]},t)})})]}),(0,Pa.jsx)(hf,{toast:w,onClose:()=>j(null)})]})},bf=oi("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),xf=oi("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),vf=oi("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),yf=oi("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),wf=oi("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),jf=oi("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Nf=oi("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),kf=Object.create(null);kf.open="0",kf.close="1",kf.ping="2",kf.pong="3",kf.message="4",kf.upgrade="5",kf.noop="6";const Sf=Object.create(null);Object.keys(kf).forEach(e=>{Sf[kf[e]]=e});const Cf={type:"error",data:"parser error"},_f="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ef="function"===typeof ArrayBuffer,Df=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Af=(e,t,n)=>{let{type:r,data:a}=e;return _f&&a instanceof Blob?t?n(a):Tf(a,n):Ef&&(a instanceof ArrayBuffer||Df(a))?t?n(a):Tf(new Blob([a]),n):n(kf[r]+(a||""))},Tf=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Mf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Pf;const Of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rf="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Gg=0;Gg<64;Gg++)Rf[Of.charCodeAt(Gg)]=Gg;const If="function"===typeof ArrayBuffer,Lf=(e,t)=>{if("string"!==typeof e)return{type:"message",data:zf(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Bf(e.substring(1),t)};return Sf[n]?e.length>1?{type:Sf[n],data:e.substring(1)}:{type:Sf[n]}:Cf},Bf=(e,t)=>{if(If){const n=(e=>{let t,n,r,a,i,s=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<o;t+=4)n=Rf[e.charCodeAt(t)],r=Rf[e.charCodeAt(t+1)],a=Rf[e.charCodeAt(t+2)],i=Rf[e.charCodeAt(t+3)],d[l++]=n<<2|r>>4,d[l++]=(15&r)<<4|a>>2,d[l++]=(3&a)<<6|63&i;return c})(e);return zf(n,t)}return{base64:!0,data:e}},zf=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Ff=String.fromCharCode(30);function Uf(){return new TransformStream({transform(e,t){!function(e,t){_f&&e.data instanceof Blob?e.data.arrayBuffer().then(Mf).then(t):Ef&&(e.data instanceof ArrayBuffer||Df(e.data))?t(Mf(e.data)):Af(e,!1,e=>{Pf||(Pf=new TextEncoder),t(Pf.encode(e))})}(e,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Wf;function Hf(e){return e.reduce((e,t)=>e+t.length,0)}function qf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Vf(e){if(e)return function(e){for(var t in Vf.prototype)e[t]=Vf.prototype[t];return e}(e)}Vf.prototype.on=Vf.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Vf.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Vf.prototype.off=Vf.prototype.removeListener=Vf.prototype.removeAllListeners=Vf.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Vf.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},Vf.prototype.emitReserved=Vf.prototype.emit,Vf.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Vf.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Gf="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Kf="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function $f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const Yf=Kf.setTimeout,Jf=Kf.clearTimeout;function Qf(e,t){t.useNativeTimers?(e.setTimeoutFn=Yf.bind(Kf),e.clearTimeoutFn=Jf.bind(Kf)):(e.setTimeoutFn=Kf.setTimeout.bind(Kf),e.clearTimeoutFn=Kf.clearTimeout.bind(Kf))}function Xf(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Zf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class eh extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class th extends Vf{constructor(e){super(),this.writable=!1,Qf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new eh(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Lf(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class nh extends th{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Ff),r=[];for(let a=0;a<n.length;a++){const e=Lf(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach((e,i)=>{Af(e,!1,e=>{r[i]=e,++a===n&&t(r.join(Ff))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Zf()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let rh=!1;try{rh="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Vg){}const ah=rh;function ih(){}class sh extends nh{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class oh extends Vf{constructor(e,t,n){super(),this.createRequest=e,Qf(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=$f(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(qe){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(qe){}try{n.setRequestHeader("Accept","*/*")}catch(qe){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(qe){return void this.setTimeoutFn(()=>{this._onError(qe)},0)}"undefined"!==typeof document&&(this._index=oh.requestsCount++,oh.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ih,e)try{this._xhr.abort()}catch(qe){}"undefined"!==typeof document&&delete oh.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(oh.requestsCount=0,oh.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",lh);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Kf?"pagehide":"unload",lh,!1)}function lh(){for(let e in oh.requests)oh.requests.hasOwnProperty(e)&&oh.requests[e].abort()}const ch=function(){const e=dh({xdomain:!1});return e&&null!==e.responseType}();function dh(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||ah))return new XMLHttpRequest}catch(qe){}if(!t)try{return new(Kf[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(qe){}}const uh="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ph extends th{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=uh?{}:$f(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Vg){return this.emitReserved("error",Vg)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Af(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(qe){}r&&Gf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Zf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const mh=Kf.WebSocket||Kf.MozWebSocket;const fh={websocket:class extends ph{createSocket(e,t,n){return uh?new mh(e,t,n):t?new mh(e,t):new mh(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends th{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Vg){return this.emitReserved("error",Vg)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Wf||(Wf=new TextDecoder);const n=[];let r=0,a=-1,i=!1;return new TransformStream({transform(s,o){for(n.push(s);;){if(0===r){if(Hf(n)<1)break;const e=qf(n,1);i=128===(128&e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(Hf(n)<2)break;const e=qf(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Hf(n)<8)break;const e=qf(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){o.enqueue(Cf);break}a=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Hf(n)<a)break;const e=qf(n,a);o.enqueue(Lf(i?e:Wf.decode(e),t)),r=0}if(0===a||a>e){o.enqueue(Cf);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Uf();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),a())}).catch(e=>{})};a();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(i).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&Gf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends sh{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ch&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new oh(dh,this.uri(),e)}}},hh=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,gh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bh(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=hh.exec(e||""),i={},s=14;for(;s--;)i[gh[s]]=a[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,i.query),i}const xh="function"===typeof addEventListener&&"function"===typeof removeEventListener,vh=[];xh&&addEventListener("offline",()=>{vh.forEach(e=>e())},!1);class yh extends Vf{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=bh(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=bh(t.host).host);Qf(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),xh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&yh.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",yh.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=Xf(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Gf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(yh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),xh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=vh.indexOf(this._offlineEventListener);-1!==e&&vh.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}yh.protocol=4;class wh extends yh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;yh.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;yh.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function a(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function o(){i("socket closed")}function l(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class jh extends wh{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>fh[e]).filter(e=>!!e)),super(e,t)}}const Nh="function"===typeof ArrayBuffer,kh=Object.prototype.toString,Sh="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===kh.call(Blob),Ch="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===kh.call(File);function _h(e){return Nh&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Sh&&e instanceof Blob||Ch&&e instanceof File}function Eh(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Eh(e[t]))return!0;return!1}if(_h(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Eh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Eh(e[n]))return!0;return!1}function Dh(e){const t=[],n=e.data,r=e;return r.data=Ah(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ah(e,t){if(!e)return e;if(_h(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ah(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ah(e[r],t));return n}return e}function Th(e,t){return e.data=Mh(e.data,t),delete e.attachments,e}function Mh(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Mh(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Mh(e[n],t));return e}const Ph=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Oh=5;var Rh;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Rh||(Rh={}));class Ih{constructor(e){this.replacer=e}encode(e){return e.type!==Rh.EVENT&&e.type!==Rh.ACK||!Eh(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Rh.EVENT?Rh.BINARY_EVENT:Rh.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Rh.BINARY_EVENT&&e.type!==Rh.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Dh(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Lh(e){return"[object Object]"===Object.prototype.toString.call(e)}class Bh extends Vf{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Rh.BINARY_EVENT;n||t.type===Rh.BINARY_ACK?(t.type=n?Rh.EVENT:Rh.ACK,this.reconstructor=new zh(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!_h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Rh[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Rh.BINARY_EVENT||n.type===Rh.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Bh.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(qe){return!1}}static isPayloadValid(e,t){switch(e){case Rh.CONNECT:return Lh(t);case Rh.DISCONNECT:return void 0===t;case Rh.CONNECT_ERROR:return"string"===typeof t||Lh(t);case Rh.EVENT:case Rh.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ph.indexOf(t[0]));case Rh.ACK:case Rh.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class zh{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Th(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Fh(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Uh=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Wh extends Vf{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Fh(e,"open",this.onopen.bind(this)),Fh(e,"packet",this.onpacket.bind(this)),Fh(e,"error",this.onerror.bind(this)),Fh(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Uh.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const o={type:Rh.EVENT,data:i,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},a),s=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const a=(e,n)=>e?r(e):t(n);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];n(null,...i)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Rh.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Rh.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Rh.EVENT:case Rh.BINARY_EVENT:this.onevent(e);break;case Rh.ACK:case Rh.BINARY_ACK:this.onack(e);break;case Rh.DISCONNECT:this.ondisconnect();break;case Rh.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:Rh.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Rh.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Hh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Hh.prototype.reset=function(){this.attempts=0},Hh.prototype.setMin=function(e){this.ms=e},Hh.prototype.setMax=function(e){this.max=e},Hh.prototype.setJitter=function(e){this.jitter=e};class qh extends Vf{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Qf(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Hh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||a;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new jh(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Fh(t,"open",function(){n.onopen(),e&&e()}),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=Fh(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Fh(e,"ping",this.onping.bind(this)),Fh(e,"data",this.ondata.bind(this)),Fh(e,"error",this.onerror.bind(this)),Fh(e,"close",this.onclose.bind(this)),Fh(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(qe){this.onclose("parse error",qe)}}ondecoded(e){Gf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Wh(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Vh={};function Gh(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=bh(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,i=n.path,s=Vh[a]&&i in Vh[a].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?o=new qh(r,t):(Vh[a]||(Vh[a]=new qh(r,t)),o=Vh[a]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Gh,{Manager:qh,Socket:Wh,io:Gh,connect:Gh});const Kh=()=>{const e=La(),t=null===e||void 0===e?void 0:e.token,n=null===e||void 0===e?void 0:e.isAuthenticated,r=(0,s.useRef)(null),a=(0,s.useRef)(0),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[p,m]=(0,s.useState)([]),[f,h]=(0,s.useState)([]),g=(0,s.useRef)(new Map),b=(0,s.useRef)(new Map);(0,s.useEffect)(()=>{if(!n||!t)return;return(()=>{try{const e=Gh(window.location.origin,{auth:{token:t},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4});e.on("connect",()=>{console.log("WebSocket connected successfully"),o(!0),a.current=0;const t=setInterval(()=>{e.connected&&e.emit("heartbeat")},3e4);e.heartbeatInterval=t}),e.on("connect_error",e=>{console.error("WebSocket connection error:",e),o(!1),a.current++;const t=Math.min(1e3*Math.pow(2,a.current),3e4);console.log("Reconnecting in ".concat(t,"ms (attempt ").concat(a.current,")"))}),e.on("disconnect",t=>{console.log("WebSocket disconnected:",t),o(!1),e.heartbeatInterval&&clearInterval(e.heartbeatInterval)}),e.on("online_users",e=>{u(e)}),e.on("user_online",e=>{u(t=>[...t.filter(t=>t.userId!==e.userId),e])}),e.on("user_offline",e=>{u(t=>t.filter(t=>t.userId!==e.userId))}),e.on("new_message",e=>{c(t=>t.find(t=>t.id===e.id)?t:[...t,e])}),e.on("message_sent",e=>{c(t=>t.find(t=>t.id===e.id)?t:[...t,e])}),e.on("message_read",e=>{let{messageId:t,readBy:n}=e;c(e=>e.map(e=>e.id===t?He(He({},e),{},{read_status:1}):e))}),e.on("notification",e=>{m(t=>[...t,He(He({},e),{},{timestamp:Date.now()})])}),e.on("user_typing",e=>{console.log("".concat(e.userName," is typing..."))}),e.on("user_stopped_typing",e=>{console.log("User ".concat(e.userId," stopped typing"))}),e.on("task:created",e=>{h(t=>[...t,He(He({type:"created"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:created");t&&t.forEach(t=>t(e))}),e.on("task:updated",e=>{h(t=>[...t,He(He({type:"updated"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:updated");t&&t.forEach(t=>t(e))}),e.on("task:moved",e=>{h(t=>[...t,He(He({type:"moved"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:moved");t&&t.forEach(t=>t(e))}),e.on("task:deleted",e=>{h(t=>[...t,He(He({type:"deleted"},e),{},{timestamp:Date.now()})]);const t=g.current.get("task:deleted");t&&t.forEach(t=>t(e))}),e.on("task:user_editing",e=>{const t=g.current.get("task:user_editing");t&&t.forEach(t=>t(e))}),e.on("task:user_stopped_editing",e=>{const t=g.current.get("task:user_stopped_editing");t&&t.forEach(t=>t(e))});const n=(e,t)=>{const n=b.current.get(e);n&&n.forEach(e=>e(t))};e.on("conversation:new_message",e=>{n("conversation:new_message",e)}),e.on("conversation:message_confirmed",e=>{n("conversation:message_confirmed",e)}),e.on("conversation:members_updated",e=>{n("conversation:members_updated",e)}),e.on("conversation:created",e=>{n("conversation:created",e)}),e.on("conversation:removed",e=>{n("conversation:removed",e)}),e.on("message:reaction",e=>{n("message:reaction",e)}),e.on("message:mentioned",e=>{n("message:mentioned",e)}),r.current=e}catch(e){console.error("WebSocket setup error:",e),o(!1)}})(),()=>{r.current&&(r.current.heartbeatInterval&&clearInterval(r.current.heartbeatInterval),r.current.disconnect(),r.current=null),o(!1)}},[n,t]);const x=(0,s.useCallback)(async(e,n)=>{try{const r=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({receiverId:e,message:n,isGroup:!1})});if(r.ok){const e=await r.json();return c(t=>[...t,e]),!0}return!1}catch(r){return console.error("HTTP message send error:",r),!1}},[t]),v=(0,s.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return r.current&&r.current.connected?(r.current.emit("send_message",{receiverId:e,message:t,messageType:n}),!0):(console.warn("WebSocket not connected, falling back to HTTP"),x(e,t))},[x]),y=(0,s.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("mark_as_read",{messageId:e})},[]),w=(0,s.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("typing_start",{receiverId:e})},[]),j=(0,s.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("typing_stop",{receiverId:e})},[]),N=(0,s.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("Notification"in window))return console.warn("This browser does not support notifications"),!1;let r=Notification.permission;if("default"===r&&(r=await Notification.requestPermission()),"granted"===r){const r=new Notification(e,He({body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:n.tag||"biolab-notification",renotify:!0,requireInteraction:n.requireInteraction||!1,silent:n.silent||!1,vibrate:[200,100,200],data:n.data||{}},n));r.onclick=e=>{var t;e.preventDefault(),window.focus(),r.close(),null!==(t=n.data)&&void 0!==t&&t.url&&(window.location.href=n.data.url)};const a=!1!==n.autoClose?n.autoCloseDelay||7e3:null;return a&&setTimeout(()=>{r.close()},a),!0}return!1},[]),k=(0,s.useCallback)(async()=>{if(!("Notification"in window))return!1;return"granted"===await Notification.requestPermission()},[]),S=(0,s.useCallback)((e,t)=>(g.current.has(e)||g.current.set(e,new Set),g.current.get(e).add(t),()=>{const n=g.current.get(e);n&&n.delete(t)}),[]),C=(0,s.useCallback)((e,t)=>(b.current.has(e)||b.current.set(e,new Set),b.current.get(e).add(t),()=>{const n=b.current.get(e);n&&n.delete(t)}),[]),_=(0,s.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("conversation:join",{conversationId:e})},[]),E=(0,s.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("conversation:leave",{conversationId:e})},[]),D=(0,s.useCallback)(e=>!(!r.current||!r.current.connected)&&(r.current.emit("send_message",e),!0),[]);return{isConnected:i,messages:l,onlineUsers:d,notifications:p,taskEvents:f,sendMessage:v,markAsRead:y,startTyping:w,stopTyping:j,showNotification:N,requestNotificationPermission:k,onTaskEvent:S,onConversationEvent:C,emitTaskEditing:(0,s.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("task:editing",{taskId:e})},[]),emitTaskStopEditing:(0,s.useCallback)(e=>{r.current&&r.current.connected&&r.current.emit("task:stop_editing",{taskId:e})},[]),joinConversationRoom:_,leaveConversationRoom:E,sendConversationMessage:D}},$h=e=>{let{variant:t="spinner",size:n="md",color:r="blue-600",fullScreen:a=!1,text:i="",className:s=""}=e;const o={spinner:{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-16 h-16 border-4",xl:"w-24 h-24 border-4"},dots:{sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4",xl:"w-6 h-6"},pulse:{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"}},l={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},c=()=>(0,Pa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Pa.jsx)("div",{className:"".concat(o.spinner[n]," border-gray-200 border-t-").concat(r," rounded-full animate-spin transition-all duration-300")}),i&&(0,Pa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium animate-pulse"),children:i})]}),d=()=>(0,Pa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Pa.jsxs)("div",{className:"flex space-x-2",children:[(0,Pa.jsx)("div",{className:"".concat(o.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"0ms"}}),(0,Pa.jsx)("div",{className:"".concat(o.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"150ms"}}),(0,Pa.jsx)("div",{className:"".concat(o.dots[n]," bg-").concat(r," rounded-full animate-bounce"),style:{animationDelay:"300ms"}})]}),i&&(0,Pa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium"),children:i})]}),u=()=>(0,Pa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Pa.jsxs)("div",{className:"relative",children:[(0,Pa.jsx)("div",{className:"".concat(o.pulse[n]," bg-").concat(r," rounded-full animate-ping absolute opacity-75")}),(0,Pa.jsx)("div",{className:"".concat(o.pulse[n]," bg-").concat(r," rounded-full relative")})]}),i&&(0,Pa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium animate-pulse"),children:i})]}),p=()=>{const e={sm:"w-1",md:"w-1.5",lg:"w-2",xl:"w-3"};return(0,Pa.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,Pa.jsx)("div",{className:"flex items-end space-x-1",children:{sm:["h-4","h-6","h-8","h-6","h-4"],md:["h-6","h-8","h-10","h-8","h-6"],lg:["h-8","h-12","h-16","h-12","h-8"],xl:["h-12","h-16","h-24","h-16","h-12"]}[n].map((t,a)=>(0,Pa.jsx)("div",{className:"".concat(e[n]," ").concat(t," bg-").concat(r," rounded-full animate-pulse"),style:{animationDelay:"".concat(100*a,"ms")}},a))}),i&&(0,Pa.jsx)("p",{className:"text-".concat(r," ").concat(l[n]," font-medium"),children:i})]})},m=()=>{switch(t){case"dots":return(0,Pa.jsx)(d,{});case"pulse":return(0,Pa.jsx)(u,{});case"bars":return(0,Pa.jsx)(p,{});default:return(0,Pa.jsx)(c,{})}};return a?(0,Pa.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity duration-300 ".concat(s),children:m()}):(0,Pa.jsx)("div",{className:"flex items-center justify-center p-4 ".concat(s),children:m()})},Yh={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GIPHY_API_KEY||"sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh",Jh="https://api.giphy.com/v1/gifs",Qh=[{name:"Happy",emoji:"\ud83d\ude0a"},{name:"Sad",emoji:"\ud83d\ude22"},{name:"Love",emoji:"\u2764\ufe0f"},{name:"Funny",emoji:"\ud83d\ude02"},{name:"Celebrate",emoji:"\ud83c\udf89"},{name:"Thumbs Up",emoji:"\ud83d\udc4d"},{name:"Dance",emoji:"\ud83d\udc83"},{name:"Wow",emoji:"\ud83d\ude2e"}],Xh=e=>{let{onSelectGif:t,onClose:n}=e;const[r,a]=(0,s.useState)(""),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(null),f=(0,s.useCallback)(async()=>{try{c(!0);const e=await fetch("".concat(Jh,"/trending?api_key=").concat(Yh,"&limit=20&rating=g"));if(!e.ok)throw new Error("Failed to load trending GIFs");const t=await e.json();o(t.data||[])}catch(e){console.error("Error loading trending GIFs:",e),Co("Fehler beim Laden der Trending GIFs"),o([])}finally{c(!1)}},[]),h=(0,s.useCallback)(async e=>{try{c(!0);const t=await fetch("".concat(Jh,"/search?api_key=").concat(Yh,"&q=").concat(encodeURIComponent(e),"&limit=20&rating=g"));if(!t.ok)throw new Error("Failed to search GIFs");const n=await t.json();o(n.data||[])}catch(t){console.error("Error searching GIFs:",t),Co("Fehler beim Suchen der GIFs"),o([])}finally{c(!1)}},[]);(0,s.useEffect)(()=>{const e=setTimeout(()=>{r.trim()?h(r):d||f()},500);return()=>clearTimeout(e)},[r,d,h,f]),(0,s.useEffect)(()=>{f()},[f]);return(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm animate-fadeIn",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[80vh] overflow-hidden shadow-2xl transform transition-all",children:[(0,Pa.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-purple-500 to-pink-500",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pa.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center",children:[(0,Pa.jsx)("span",{className:"mr-2",children:"GIF Picker"}),(0,Pa.jsx)("span",{className:"text-sm font-normal opacity-90",children:"powered by Giphy"})]}),(0,Pa.jsx)("button",{onClick:n,className:"text-white hover:bg-white hover:bg-opacity-20 p-1.5 rounded-full transition-colors",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pa.jsxs)("div",{className:"relative",children:[(0,Pa.jsx)("input",{type:"text",value:r,onChange:e=>{a(e.target.value),u(null)},placeholder:"Suche nach GIFs...",className:"w-full border-0 rounded-lg px-4 py-2 pl-10 focus:ring-2 focus:ring-purple-300 text-gray-900",autoFocus:!0}),(0,Pa.jsx)("svg",{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r&&(0,Pa.jsx)("button",{onClick:()=>{a(""),u(null),f()},className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pa.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:Qh.map(e=>(0,Pa.jsxs)("button",{onClick:()=>(e=>{u(e),a(e.name),h(e.name)})(e),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-all ".concat((null===d||void 0===d?void 0:d.name)===e.name?"bg-white text-purple-600 shadow-md":"bg-white bg-opacity-20 text-white hover:bg-opacity-30"),children:[(0,Pa.jsx)("span",{className:"mr-1",children:e.emoji}),e.name]},e.name))})]}),(0,Pa.jsx)("div",{className:"overflow-y-auto p-4",style:{maxHeight:"calc(80vh - 180px)"},children:l?(0,Pa.jsx)($h,{variant:"dots",size:"md",text:"Lade GIFs..."}):0===i.length?(0,Pa.jsxs)("div",{className:"text-center p-8 text-gray-500",children:[(0,Pa.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pa.jsx)("p",{className:"text-lg font-medium",children:"Keine GIFs gefunden"}),(0,Pa.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Versuche eine andere Suche"})]}):(0,Pa.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:i.map(e=>{var r,a,i,s,o,l,c,d;const u=(null===(r=e.images)||void 0===r||null===(a=r.fixed_width_small)||void 0===a?void 0:a.url)||(null===(i=e.images)||void 0===i||null===(s=i.fixed_width)||void 0===s?void 0:s.url),f=(null===(o=e.images)||void 0===o||null===(l=o.original)||void 0===l?void 0:l.url)||(null===(c=e.images)||void 0===c||null===(d=c.downsized)||void 0===d?void 0:d.url);return(0,Pa.jsxs)("div",{onClick:()=>(e=>{var r,a,i,s,o,l,c,d;const u=(null===(r=e.images)||void 0===r||null===(a=r.original)||void 0===a?void 0:a.url)||(null===(i=e.images)||void 0===i||null===(s=i.downsized)||void 0===s?void 0:s.url),p=(null===(o=e.images)||void 0===o||null===(l=o.fixed_width_small)||void 0===l?void 0:l.url)||(null===(c=e.images)||void 0===c||null===(d=c.fixed_width)||void 0===d?void 0:d.url);u?(t({url:u,preview:p||u,title:e.title||"GIF"}),n()):Co("GIF URL nicht gefunden")})(e),onMouseEnter:()=>m(e.id),onMouseLeave:()=>m(null),className:"relative aspect-square rounded-lg overflow-hidden cursor-pointer group bg-gray-100",children:[(0,Pa.jsx)("img",{src:p===e.id?f:u,alt:e.title||"GIF",className:"w-full h-full object-cover transition-all group-hover:scale-105",loading:"lazy"}),(0,Pa.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:(0,Pa.jsx)("svg",{className:"w-10 h-10 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})})]},e.id)})})}),(0,Pa.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50 text-center",children:(0,Pa.jsxs)("p",{className:"text-xs text-gray-500",children:["Powered by"," ",(0,Pa.jsx)("a",{href:"https://tenor.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Tenor"})]})})]})})},Zh=e=>{let{type:t}=e;const n={direct:{label:"Direkt",className:"bg-blue-100 text-blue-700"},group:{label:"Gruppe",className:"bg-emerald-100 text-emerald-700"},topic:{label:"Thema",className:"bg-purple-100 text-purple-700"}},r=n[t]||n.direct;return(0,Pa.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full ".concat(r.className),children:r.label})},eg=["\ud83d\udc4d","\u2764\ufe0f","\ud83d\ude02","\ud83c\udf89","\ud83d\ude2e","\ud83d\ude4f"],tg=["\ud83d\ude00","\ud83d\ude01","\ud83d\ude02","\ud83e\udd23","\ud83d\ude0a","\ud83d\ude0d","\ud83d\ude18","\ud83d\ude0e","\ud83e\udd14","\ud83d\ude22","\ud83d\udc4f","\ud83d\udd25","\ud83e\udd73","\ud83e\udd29","\ud83d\ude4c","\ud83d\udc4c","\ud83e\udd1d","\ud83d\udca1"],ng=e=>{let{message:t,currentUserId:n,onReact:r,onToggleReactionPicker:a,onQuote:i,onDelete:s,showReactionPicker:o}=e;const l=t.sender_id===n,c=t.created_at?no(oo(t.created_at),"dd.MM.yyyy HH:mm",{locale:Zi}):"",d=Array.isArray(t.attachments)?t.attachments:[],u=Array.isArray(t.reactions)?t.reactions:[],p=t.quote||null,m=t.message&&!(d.length>0&&"[attachment]"===t.message);return(0,Pa.jsx)("div",{className:"flex ".concat(l?"justify-end":"justify-start"," py-1"),children:(0,Pa.jsxs)("div",{className:"group relative max-w-full md:max-w-xl rounded-2xl px-4 py-3 shadow-sm border ".concat(l?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200"),children:[!l&&(0,Pa.jsx)("p",{className:"text-xs font-semibold text-blue-600 mb-1",children:t.sender_name||t.sender_id}),p&&(0,Pa.jsxs)("div",{className:"mb-2 rounded-xl border px-3 py-2 text-xs ".concat(l?"border-blue-400 bg-white/10 text-blue-100":"border-slate-200 bg-slate-100 text-slate-600"),children:[(0,Pa.jsx)("p",{className:"font-semibold",children:p.quoted_sender_name||"Antwort"}),(0,Pa.jsx)("p",{className:"truncate",children:p.snippet||p.quoted_message||"Nachricht"})]}),m&&("gif"===t.message_type?(0,Pa.jsx)("img",{src:t.message,alt:"GIF",className:"rounded-lg max-h-60"}):(0,Pa.jsx)("p",{className:"text-sm whitespace-pre-line break-words",children:t.message})),d.length>0&&(0,Pa.jsx)("div",{className:"mt-3 space-y-2",children:d.map(e=>"image"===e.type?(0,Pa.jsx)("img",{src:e.url,alt:e.name||"Anhang",className:"rounded-lg max-h-64 border border-slate-200"},e.id||e.url):"audio"===e.type?(0,Pa.jsx)("audio",{className:"w-full",controls:!0,src:e.url,children:"Ihr Browser unterst\xfctzt das Audio-Element nicht."},e.id||e.url):(0,Pa.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm underline ".concat(l?"text-blue-100":"text-blue-600"),children:["\ud83d\udcce ",e.name||"Datei herunterladen"]},e.id||e.url))}),(0,Pa.jsxs)("div",{className:"mt-3 flex items-center gap-3 text-xs",children:[(0,Pa.jsxs)("button",{type:"button",className:"inline-flex items-center gap-1 rounded-full px-3 py-1 ".concat(l?"bg-blue-500/40 text-white hover:bg-blue-500/60":"bg-slate-100 text-slate-600 hover:bg-slate-200"),onClick:()=>a(t.id),"aria-label":"Reaktion hinzuf\xfcgen",children:[(0,Pa.jsx)(bf,{className:"h-4 w-4"}),"Reagieren"]}),(0,Pa.jsxs)("button",{type:"button",className:"inline-flex items-center gap-1 rounded-full px-3 py-1 ".concat(l?"bg-blue-500/40 text-white hover:bg-blue-500/60":"bg-slate-100 text-slate-600 hover:bg-slate-200"),onClick:()=>i(t),"aria-label":"Nachricht zitieren",children:[(0,Pa.jsx)(xf,{className:"h-4 w-4"}),"Antworten"]}),l&&(0,Pa.jsxs)("button",{type:"button",className:"inline-flex items-center gap-1 rounded-full px-3 py-1 bg-red-500/40 text-white hover:bg-red-500/60",onClick:()=>s(t.id),"aria-label":"Nachricht l\xf6schen",children:[(0,Pa.jsx)(hi,{className:"h-4 w-4"}),"L\xf6schen"]})]}),o&&(0,Pa.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[eg.map(e=>(0,Pa.jsx)("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-1 text-sm ".concat(l?"border-blue-400 bg-blue-500/40 text-white hover:bg-blue-500/60":"border-slate-200 bg-slate-100 text-slate-600 hover:bg-slate-200"),onClick:()=>r(t,e),children:(0,Pa.jsx)("span",{children:e})},e)),(0,Pa.jsxs)("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-1 text-sm ".concat(l?"border-blue-400 bg-blue-500/30 text-white hover:bg-blue-500/60":"border-slate-200 bg-slate-100 text-slate-600 hover:bg-slate-200"),onClick:()=>r(t,"\ud83d\udc4d"),children:[(0,Pa.jsx)(di,{className:"h-4 w-4"}),"Like"]})]}),u.length>0&&(0,Pa.jsx)("div",{className:"mt-3 flex flex-wrap gap-2 ".concat(l?"justify-end":"justify-start"),children:u.map(e=>{const a=(Array.isArray(e.users)?e.users:[]).some(e=>(null===e||void 0===e?void 0:e.user_id)===n);return(0,Pa.jsxs)("button",{type:"button",onClick:()=>r(t,e.emoji),className:"inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs ".concat(a?"border-blue-300 bg-blue-500/40 text-white":l?"border-blue-300 bg-blue-500/20 text-white":"border-slate-200 bg-slate-100 text-slate-600"),children:[(0,Pa.jsx)("span",{children:e.emoji}),(0,Pa.jsx)("span",{children:e.count})]},"".concat(e.emoji,"-").concat(t.id))})}),(0,Pa.jsx)("p",{className:"mt-2 text-[11px] ".concat(l?"text-blue-100":"text-slate-400"),children:c})]})})},rg=e=>[...e].sort((e,t)=>{var n,r;const a=(null===(n=e.lastMessage)||void 0===n?void 0:n.createdAt)||e.updatedAt||e.createdAt,i=(null===(r=t.lastMessage)||void 0===r?void 0:r.createdAt)||t.updatedAt||t.createdAt;return new Date(i||0)-new Date(a||0)}),ag=(e,t)=>{if(e.name&&e.name.trim().length>0)return e.name;if("direct"===e.type&&Array.isArray(e.members)&&e.members.length>0){const n=e.members.find(e=>e.user_id!==t);if(n)return n.name||"Kontakt ".concat(n.user_id)}if(Array.isArray(e.members)&&e.members.length>0){const n=e.members.filter(e=>e.user_id!==t).map(e=>e.name).filter(Boolean);if(n.length>0)return n.join(", ")}return"Konversation"},ig=()=>{var e,t,n;const{user:r}=La(),{t:a}=Ha(),{isConnected:i,onConversationEvent:o,joinConversationRoom:l,leaveConversationRoom:c}=Kh(),[d,u]=(0,s.useState)([]),[p,m]=(0,s.useState)(!0),[f,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(null),[x,v]=(0,s.useState)({}),[y,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),[k,S]=(0,s.useState)(""),[C,_]=(0,s.useState)(!1),[E,D]=(0,s.useState)(!1),[A,T]=(0,s.useState)({name:"",description:"",type:"group",memberIds:[],isTemporary:!1,expiresAt:""}),[M,P]=(0,s.useState)([]),[O,R]=(0,s.useState)(!1),[I,L]=(0,s.useState)(!1),[B,z]=(0,s.useState)(!1),[F,U]=(0,s.useState)([]),[W,H]=(0,s.useState)(!1),[q,V]=(0,s.useState)(!1),[G,K]=(0,s.useState)(0),[$,Y]=(0,s.useState)(null),[J,Q]=(0,s.useState)(null),[X,Z]=(0,s.useState)(!1),ee=(0,s.useRef)(null),te=(0,s.useRef)(null),ne=(0,s.useRef)([]),re=(0,s.useRef)(null),ae=(0,s.useRef)(null),ie=(0,s.useCallback)(async()=>{try{m(!0);const e=(await es.get("/messages/threads")).data.map(e=>He(He({},e),{},{displayName:ag(e,null===r||void 0===r?void 0:r.id)}));u(rg(e)),h(null)}catch(e){console.error("Failed to load threads",e),h(a("messenger.error.loadThreads"))}finally{m(!1)}},[a,null===r||void 0===r?void 0:r.id]),se=(0,s.useCallback)(async()=>{try{R(!0);const e=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es.get("/profile/contacts/all",{params:e})}();P(e.data||[])}catch(e){console.error("Failed to load contacts",e)}finally{R(!1)}},[]),oe=(0,s.useCallback)(async e=>{if(e)try{w(!0);const t=await(e=>es.get("/messages/conversations/".concat(e,"/messages")))(e),n=Array.isArray(t.data)?t.data.map(e=>He(He({},e),{},{attachments:Array.isArray(e.attachments)?e.attachments:"string"===typeof e.attachments?JSON.parse(e.attachments||"[]"):[]})):[];v(t=>He(He({},t),{},{[e]:n})),rs(e).catch(()=>{})}catch(t){console.error("Failed to load messages",t),Co(a("messenger.error.loadMessages"))}finally{w(!1)}},[a]),le=(0,s.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const n=new FormData;n.append("file",e),n.append("context",t.context||"message"),t.conversationId&&n.append("conversationId",String(t.conversationId)),t.eventId&&n.append("eventId",String(t.eventId));try{H(!0);return(await as(n)).data}catch(r){return console.error("Attachment upload failed",r),Co(a("messenger.error.send")),null}finally{H(!1)}},[a]),ce=(0,s.useCallback)(async e=>{if(!g)return void Co(a("messenger.empty.select"));const t=Array.from(e||[]);for(const n of t){const e=await le(n,{context:"message",conversationId:g});e&&U(t=>[...t,e])}},[g,a,le]),de=(0,s.useCallback)(e=>{const t=e.target.files;t&&t.length&&ce(t).catch(()=>{}),e.target.value=""},[ce]),ue=(0,s.useCallback)(e=>{U(t=>t.filter(t=>t.id!==e))},[]),pe=(0,s.useCallback)(e=>{Y(t=>t===e?null:e)},[]),me=(0,s.useCallback)((e,t,n)=>{v(r=>{if(e){const a=r[e]||[];return a.length?He(He({},r),{},{[e]:a.map(e=>e.id===t?He(He({},e),{},{reactions:n}):e)}):r}const a=Object.entries(r).map(e=>{let[r,a]=e;return[r,a.map(e=>e.id===t?He(He({},e),{},{reactions:n}):e)]});return Object.fromEntries(a)})},[]),fe=(0,s.useCallback)(async(e,t)=>{if(null!==e&&void 0!==e&&e.id)try{var n;const r=await((e,t)=>es.post("/messages/".concat(e,"/react"),{emoji:t}))(e.id,t),a=Array.isArray(null===(n=r.data)||void 0===n?void 0:n.reactions)?r.data.reactions:[];me(e.conversation_id||g,e.id,a)}catch(r){console.error("Failed to toggle reaction",r),Co(a("messenger.error.send"))}finally{Y(null)}},[g,a,me,Co]),he=(0,s.useCallback)(e=>{var t;e&&Q({id:e.id,sender_name:e.sender_name||e.sender_id,snippet:e.message||(null!==(t=e.attachments)&&void 0!==t&&t.length?"Anhang":"")})},[]),ge=(0,s.useCallback)(async e=>{if(e&&window.confirm("M\xf6chten Sie diese Nachricht wirklich l\xf6schen?"))try{await(e=>es.delete("/messages/".concat(e)))(e),v(t=>{const n=g;return n&&t[n]?He(He({},t),{},{[n]:t[n].filter(t=>t.id!==e)}):t}),So("Nachricht erfolgreich gel\xf6scht")}catch(t){console.error("Failed to delete message",t),Co("Fehler beim L\xf6schen der Nachricht")}},[g]),be=(0,s.useCallback)(()=>{Q(null)},[]),xe=(0,s.useCallback)(e=>{N(t=>"".concat(t).concat(e))},[]),ve=(0,s.useCallback)(()=>{re.current&&(clearInterval(re.current),re.current=null),ae.current&&(ae.current.getTracks().forEach(e=>e.stop()),ae.current=null),ne.current=[],te.current=null,V(!1),K(0)},[]),ye=(0,s.useCallback)(()=>{te.current&&"inactive"!==te.current.state?te.current.stop():ve()},[ve]),we=(0,s.useCallback)(async()=>{var e;if(g)if(null!==(e=navigator.mediaDevices)&&void 0!==e&&e.getUserMedia)try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});ae.current=e;const t=new MediaRecorder(e);ne.current=[],t.ondataavailable=e=>{e.data.size>0&&ne.current.push(e.data)},t.onstop=async()=>{try{const e=new Blob(ne.current,{type:"audio/webm"}),t=new File([e],"voice-".concat(Date.now(),".webm"),{type:"audio/webm"}),n=await le(t,{context:"message",conversationId:g});n&&U(e=>[...e,n])}catch(e){console.error("Voice upload failed",e),Co(a("messenger.error.send"))}finally{ve()}},t.start(),te.current=t,V(!0),K(0),re.current=setInterval(()=>{K(e=>e+1)},1e3)}catch(t){console.error("Unable to start recording",t),Co("Audio-Aufnahme konnte nicht gestartet werden."),ve()}else Co("Audio-Aufnahme wird von diesem Browser nicht unterst\xfctzt.");else Co(a("messenger.empty.select"))},[g,a,le,ve]);(0,s.useEffect)(()=>()=>{ve()},[ve]),(0,s.useEffect)(()=>{ie(),se()},[ie,se]),(0,s.useEffect)(()=>{if(!i||!o)return;o("user:created",e=>{console.log("New user created:",e),se()})},[i,o,se]),(0,s.useEffect)(()=>{!g&&d.length>0&&b(d[0].id)},[d,g]),(0,s.useEffect)(()=>{if(g)return oe(g),l(g),rs(g).catch(()=>{}),u(e=>e.map(e=>e.id===g?He(He({},e),{},{unreadCount:0}):e)),U([]),N(""),()=>{c(g)}},[g,oe,l,c]);const je=(0,s.useCallback)((e,t)=>{if(!t||!t.conversationId)return;const n=t.conversationId,a=t.message,i=a?He(He({},a),{},{attachments:Array.isArray(a.attachments)?a.attachments:"string"===typeof a.attachments?JSON.parse(a.attachments||"[]"):[],reactions:Array.isArray(a.reactions)?a.reactions:"string"===typeof a.reactions?JSON.parse(a.reactions||"[]"):[],mentions:Array.isArray(a.mentions)?a.mentions:"string"===typeof a.mentions?JSON.parse(a.mentions||"[]"):[],calendar_refs:Array.isArray(a.calendar_refs)?a.calendar_refs:"string"===typeof a.calendar_refs?JSON.parse(a.calendar_refs||"[]"):[],task_refs:Array.isArray(a.task_refs)?a.task_refs:"string"===typeof a.task_refs?JSON.parse(a.task_refs||"[]"):[],quote:a.quote||null}):null;u(e=>{const t=e.map(e=>{if(e.id!==n)return e;const t=(null===i||void 0===i?void 0:i.sender_id)===(null===r||void 0===r?void 0:r.id),a=n===g||t?0:(Number(e.unreadCount)||0)+1;return He(He({},e),{},{unreadCount:a,lastMessage:i?{id:i.id,content:i.message,senderId:i.sender_id,messageType:i.message_type,createdAt:i.created_at}:e.lastMessage,updatedAt:(null===i||void 0===i?void 0:i.created_at)||e.updatedAt,displayName:e.displayName||ag(e,null===r||void 0===r?void 0:r.id)})});return rg(t)}),v(e=>{const t=e[n]||[];if(i&&t.find(e=>e.id===i.id))return e;const r=i?[...t,i]:t;return He(He({},e),{},{[n]:r})}),n===g&&rs(n).catch(()=>{})},[g,null===r||void 0===r?void 0:r.id]),Ne=(0,s.useCallback)(e=>{let{conversationId:t,messageId:n,reactions:r}=e;n&&v(e=>{if(!t){const t=Object.entries(e).map(e=>{let[t,a]=e;return[t,a.map(e=>e.id===n?He(He({},e),{},{reactions:r||[]}):e)]});return Object.fromEntries(t)}const a=e[t]||[];return 0===a.length?e:He(He({},e),{},{[t]:a.map(e=>e.id===n?He(He({},e),{},{reactions:r||[]}):e)})})},[]),ke=(0,s.useCallback)(e=>{var t,n,a;if(!e||(null===e||void 0===e||null===(t=e.mentionedBy)||void 0===t?void 0:t.id)===(null===r||void 0===r?void 0:r.id))return;const i=(null===(n=e.mentionedBy)||void 0===n?void 0:n.name)||(null===(a=e.mentionedBy)||void 0===a?void 0:a.id)||"Ein Teammitglied";So("".concat(i," hat dich erw\xe4hnt."))},[So,null===r||void 0===r?void 0:r.id]);(0,s.useEffect)(()=>{const e=o("conversation:new_message",e=>je("conversation:new_message",e)),t=o("conversation:message_confirmed",e=>je("conversation:message_confirmed",e)),n=o("message:reaction",Ne),a=o("message:mentioned",ke),i=o("conversation:created",e=>{let{conversation:t}=e;t&&u(e=>rg([He(He({},t),{},{displayName:ag(t,null===r||void 0===r?void 0:r.id),unreadCount:0,members:t.members||[]}),...e]))}),s=o("conversation:members_updated",async e=>{let{conversationId:t}=e;if(t)try{const e=await(e=>es.get("/messages/conversations/".concat(e)))(t);u(n=>n.map(n=>n.id===t?He(He(He({},n),e.data),{},{displayName:ag(e.data,null===r||void 0===r?void 0:r.id),members:e.data.members}):n))}catch(n){console.error("Failed to refresh conversation members",n)}});return()=>{e(),t(),i(),s(),n(),a()}},[o,je,Ne,ke,null===r||void 0===r?void 0:r.id]);const Se=(0,s.useMemo)(()=>{const e=String(Math.floor(G/60)).padStart(2,"0"),t=String(G%60).padStart(2,"0");return"".concat(e,":").concat(t)},[G]),Ce=(0,s.useMemo)(()=>{if(!k)return d;const e=k.toLowerCase();return d.filter(t=>{var n,r;return(null===(n=t.displayName)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e))})},[d,k]),_e=g&&x[g]||[];(0,s.useEffect)(()=>{Y(null),Z(!1)},[g]);const Ee=async e=>{e.preventDefault();try{const e={name:A.name,description:A.description,type:A.type,memberIds:A.memberIds,isTemporary:A.isTemporary,expiresAt:A.expiresAt||null},t=await(e=>es.post("/messages/conversations",e))(e),n=t.data;u(e=>rg([He(He({},n),{},{displayName:ag(n,null===r||void 0===r?void 0:r.id)}),...e])),So(a("messenger.success.threadCreated")),D(!1),T({name:"",description:"",type:"group",memberIds:[],isTemporary:!1,expiresAt:""})}catch(t){console.error("Failed to create conversation",t),Co(a("messenger.error.loadThreads"))}};return(0,Pa.jsxs)("div",{className:"h-full w-full bg-slate-100 flex flex-col",children:[(0,Pa.jsxs)("header",{className:"border-b border-slate-200 bg-white px-4 py-3 flex items-center justify-between shadow-sm",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)("button",{className:"lg:hidden p-2 rounded-lg bg-slate-100 text-slate-600",onClick:()=>_(!C),children:C?(0,Pa.jsx)(gi,{className:"w-5 h-5"}):(0,Pa.jsx)(vf,{className:"w-5 h-5"})}),(0,Pa.jsxs)("h1",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Pa.jsx)(yf,{className:"w-5 h-5 text-blue-600"}),a("messenger.title")]})]}),(0,Pa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pa.jsx)("span",{className:"text-xs font-medium text-slate-500",children:i?"Online":"Offline"}),(0,Pa.jsxs)("button",{onClick:()=>D(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white text-sm font-semibold px-3 py-2 rounded-lg hover:bg-blue-500",children:[(0,Pa.jsx)(gs,{className:"w-4 h-4"}),a("messenger.actions.createGroup")]})]})]}),(0,Pa.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,Pa.jsxs)("aside",{className:"bg-slate-50 border-r border-slate-200 w-80 flex-shrink-0 flex flex-col transition-transform duration-200 ".concat(C?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,Pa.jsx)("div",{className:"p-4",children:(0,Pa.jsxs)("div",{className:"relative",children:[(0,Pa.jsx)(wf,{className:"w-4 h-4 absolute left-3 top-3 text-slate-400"}),(0,Pa.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),className:"w-full bg-white border border-slate-200 rounded-lg pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:a("messenger.search.placeholder")})]})}),(0,Pa.jsxs)("div",{className:"flex-1 overflow-y-auto px-3 pb-4 space-y-2",children:[p&&(0,Pa.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500 px-4 py-3",children:[(0,Pa.jsx)(wo,{className:"w-4 h-4 animate-spin"}),a("messenger.error.loadThreads")]}),f&&(0,Pa.jsx)("div",{className:"text-sm text-red-500 px-4 py-3 bg-red-50 rounded-lg border border-red-100",children:f}),!p&&0===Ce.length&&(0,Pa.jsx)("div",{className:"text-sm text-slate-500 px-4 py-3",children:a("messenger.empty.select")}),!p&&Ce.map(e=>{var t,n;const r=e.id===g,i=(null===(t=e.lastMessage)||void 0===t?void 0:t.content)||a("messenger.empty.noMessages"),s=null!==(n=e.lastMessage)&&void 0!==n&&n.createdAt?Hi(new Date(e.lastMessage.createdAt),{addSuffix:!0,locale:Zi}):"";return(0,Pa.jsxs)("button",{onClick:()=>{return t=e.id,b(t),void _(!1);var t},className:"w-full text-left px-4 py-3 rounded-xl transition-all border ".concat(r?"bg-white border-blue-300 shadow-sm":"bg-white/60 border-transparent hover:bg-white"," flex flex-col gap-1"),children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pa.jsx)("p",{className:"font-semibold text-sm text-slate-900 truncate flex-1 pr-2",children:e.displayName}),(0,Pa.jsx)(Zh,{type:e.type})]}),(0,Pa.jsx)("p",{className:"text-xs text-slate-500 truncate",children:i}),(0,Pa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pa.jsx)("span",{className:"text-[11px] text-slate-400",children:s}),e.unreadCount>0&&(0,Pa.jsx)("span",{className:"inline-flex items-center justify-center bg-blue-600 text-white text-[11px] font-semibold rounded-full min-w-[24px] h-6 px-2",children:e.unreadCount})]})]},e.id)})]})]}),(0,Pa.jsx)("main",{className:"flex-1 flex flex-col",children:g?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsxs)("div",{className:"border-b border-slate-200 bg-white px-4 py-3 flex items-center justify-between",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h2",{className:"text-sm font-semibold text-slate-900",children:(null===(e=d.find(e=>e.id===g))||void 0===e?void 0:e.displayName)||a("messenger.mobile.openSidebar")}),(0,Pa.jsx)("p",{className:"text-xs text-slate-400",children:(null===(t=d.find(e=>e.id===g))||void 0===t?void 0:t.description)||a("messenger.thread.members",{count:(null===(n=d.find(e=>e.id===g))||void 0===n?void 0:n.participantCount)||0})})]}),(0,Pa.jsx)("button",{className:"lg:hidden p-2 rounded-lg bg-slate-100 text-slate-600",onClick:()=>_(!0),children:(0,Pa.jsx)(jf,{className:"w-5 h-5"})})]}),(0,Pa.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-2 bg-slate-100",children:[y&&(0,Pa.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[(0,Pa.jsx)(wo,{className:"w-4 h-4 animate-spin"}),a("messenger.error.loadMessages")]}),!y&&0===_e.length&&(0,Pa.jsx)("div",{className:"text-sm text-slate-500 text-center py-10",children:a("messenger.empty.noMessages")}),_e.map(e=>(0,Pa.jsx)(ng,{message:e,currentUserId:null===r||void 0===r?void 0:r.id,onReact:fe,onToggleReactionPicker:pe,onQuote:he,onDelete:ge,showReactionPicker:$===e.id},e.id))]}),(0,Pa.jsxs)("div",{className:"border-t border-slate-200 bg-white px-4 py-3",children:[J&&(0,Pa.jsxs)("div",{className:"mb-2 flex items-center justify-between rounded-xl border border-blue-200 bg-blue-50 px-3 py-2 text-xs text-blue-700",children:[(0,Pa.jsxs)("div",{className:"flex flex-col max-w-[80%]",children:[(0,Pa.jsx)("span",{className:"font-semibold",children:J.sender_name||"Antwort"}),(0,Pa.jsx)("span",{className:"truncate text-blue-600/90",children:J.snippet||"Zitierte Nachricht"})]}),(0,Pa.jsx)("button",{type:"button",onClick:be,className:"rounded-full p-1 text-blue-500 hover:bg-blue-100","aria-label":a("common.cancel"),children:(0,Pa.jsx)(gi,{className:"h-4 w-4"})})]}),F.length>0&&(0,Pa.jsx)("div",{className:"mb-3 flex flex-wrap gap-3",children:F.map(e=>(0,Pa.jsxs)("div",{className:"relative",children:["image"===e.type?(0,Pa.jsx)("img",{src:e.url,alt:e.name||"Anhang",className:"h-20 w-20 rounded-xl object-cover border border-slate-200"}):"audio"===e.type?(0,Pa.jsxs)("div",{className:"flex w-56 flex-col gap-1 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:[(0,Pa.jsx)("span",{className:"font-semibold text-slate-600",children:e.name||"Audio"}),(0,Pa.jsx)("audio",{controls:!0,src:e.url,className:"w-full"})]}):(0,Pa.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:[(0,Pa.jsx)(jo,{className:"w-3 h-3"}),(0,Pa.jsx)("span",{children:e.name||"Datei"})]}),(0,Pa.jsx)("button",{type:"button",onClick:()=>ue(e.id),className:"absolute -top-2 -right-2 rounded-full bg-rose-600 p-1 text-white shadow-lg hover:bg-rose-500","aria-label":"Anhang entfernen",children:(0,Pa.jsx)(hi,{className:"w-3 h-3"})})]},e.id||e.url))}),q&&(0,Pa.jsxs)("div",{className:"mb-2 flex items-center gap-3 text-sm text-rose-600",children:[(0,Pa.jsx)("span",{className:"inline-flex h-2 w-2 animate-pulse rounded-full bg-rose-500"}),(0,Pa.jsxs)("span",{children:[a("messenger.actions.recording")," \xb7 ",Se]}),(0,Pa.jsxs)("button",{type:"button",onClick:ye,className:"inline-flex items-center gap-1 rounded-lg bg-rose-100 px-3 py-1 text-sm font-semibold text-rose-700 hover:bg-rose-200",children:[(0,Pa.jsx)(No,{className:"w-4 h-4"}),a("messenger.actions.recordStop")]})]}),(0,Pa.jsxs)("div",{className:"flex items-end gap-2",children:[(0,Pa.jsx)("button",{className:"p-2 rounded-lg bg-slate-100 text-slate-600 hover:bg-slate-200",onClick:()=>L(!0),type:"button","aria-label":"GIF ausw\xe4hlen",children:(0,Pa.jsx)("img",{src:"https://static.thenounproject.com/png/781035-200.png",alt:"GIF",className:"w-5 h-5"})}),(0,Pa.jsx)("button",{className:"p-2 rounded-lg bg-slate-100 text-slate-600 hover:bg-slate-200",type:"button",onClick:()=>{var e;return null===(e=ee.current)||void 0===e?void 0:e.click()},"aria-label":a("messenger.actions.attach"),children:(0,Pa.jsx)(jo,{className:"w-5 h-5"})}),(0,Pa.jsx)("button",{className:"p-2 rounded-lg ".concat(X?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"," hover:bg-slate-200"),type:"button",onClick:()=>Z(e=>!e),"aria-label":"Emoji ausw\xe4hlen",children:(0,Pa.jsx)(bf,{className:"w-5 h-5"})}),(0,Pa.jsx)("button",{className:"p-2 rounded-lg transition-colors ".concat(q?"bg-rose-100 text-rose-600 hover:bg-rose-200":"bg-slate-100 text-slate-600 hover:bg-slate-200"),type:"button",onClick:q?ye:we,"aria-label":a(q?"messenger.actions.recordStop":"messenger.actions.recordStart"),children:q?(0,Pa.jsx)(No,{className:"w-5 h-5"}):(0,Pa.jsx)(ko,{className:"w-5 h-5"})}),(0,Pa.jsx)("textarea",{className:"flex-1 border border-slate-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:2,value:j,onChange:e=>N(e.target.value),placeholder:a("messenger.input.placeholder"),disabled:q}),(0,Pa.jsxs)("button",{onClick:async()=>{if(!g||W)return;const e=j.trim(),t=e.length>0,n=F.length>0;if(!t&&!n)return;const r={message:t?e:null,attachments:F,quotedMessageId:(null===J||void 0===J?void 0:J.id)||null,metadata:J?{quoted_message_id:J.id}:{},mentionedUserIds:[]};try{var i;z(!0);const e=await ns(g,r),t=(null===(i=e.data)||void 0===i?void 0:i.message)||e.data,n=He(He({},t),{},{conversation_id:t.conversation_id||g,attachments:Array.isArray(t.attachments)?t.attachments:"string"===typeof t.attachments?JSON.parse(t.attachments||"[]"):[],reactions:Array.isArray(t.reactions)?t.reactions:"string"===typeof t.reactions?JSON.parse(t.reactions||"[]"):[],quote:t.quote||null});N(""),U([]),Q(null),Z(!1),v(e=>{const t=e[g]||[];return t.find(e=>e.id===n.id)?e:He(He({},e),{},{[g]:[...t,n]})}),rs(g).catch(()=>{})}catch(s){console.error("Failed to send message",s),Co(a("messenger.error.send"))}finally{z(!1)}},disabled:B||W||!j.trim()&&0===F.length,className:"inline-flex items-center gap-2 bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-500 disabled:opacity-60",children:[B||W?(0,Pa.jsx)(wo,{className:"w-4 h-4 animate-spin"}):(0,Pa.jsx)(Nf,{className:"w-4 h-4"}),a("messenger.actions.send")]})]}),(0,Pa.jsx)("input",{ref:ee,type:"file",accept:"image/*,audio/*",multiple:!0,className:"hidden",onChange:de}),X&&(0,Pa.jsx)("div",{className:"mt-3 flex flex-wrap gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-lg shadow-sm",children:tg.map(e=>(0,Pa.jsx)("button",{type:"button",className:"hover:scale-110 transition-transform",onClick:()=>xe(e),children:e},e))})]})]}):(0,Pa.jsx)("div",{className:"flex-1 flex items-center justify-center text-slate-500 text-sm",children:a("messenger.empty.select")})})]}),E&&(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:(0,Pa.jsxs)("form",{onSubmit:Ee,className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 space-y-4",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pa.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Pa.jsx)(zm,{className:"w-5 h-5 text-blue-600"}),a("messenger.actions.createGroup")]}),(0,Pa.jsx)("button",{type:"button",onClick:()=>D(!1),className:"text-slate-500 hover:text-slate-700",children:(0,Pa.jsx)(gi,{className:"w-5 h-5"})})]}),(0,Pa.jsxs)("div",{className:"space-y-2",children:[(0,Pa.jsx)("label",{className:"text-sm font-medium text-slate-700",children:a("messenger.group.name")}),(0,Pa.jsx)("input",{type:"text",value:A.name,onChange:e=>T(t=>He(He({},t),{},{name:e.target.value})),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:a("messenger.group.placeholder"),required:!0})]}),(0,Pa.jsxs)("div",{className:"space-y-2",children:[(0,Pa.jsx)("label",{className:"text-sm font-medium text-slate-700",children:a("messenger.group.topic")}),(0,Pa.jsx)("input",{type:"text",value:A.description,onChange:e=>T(t=>He(He({},t),{},{description:e.target.value})),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:a("messenger.topic.placeholder")})]}),(0,Pa.jsxs)("div",{className:"space-y-2",children:[(0,Pa.jsx)("label",{className:"text-sm font-medium text-slate-700",children:a("messenger.group.members")}),(0,Pa.jsxs)("div",{className:"border border-slate-200 rounded-lg max-h-40 overflow-y-auto divide-y divide-slate-100",children:[O&&(0,Pa.jsxs)("div",{className:"p-3 text-sm text-slate-500 flex items-center gap-2",children:[(0,Pa.jsx)(wo,{className:"w-4 h-4 animate-spin"}),a("messenger.error.loadThreads")]}),!O&&0===M.length&&(0,Pa.jsx)("div",{className:"p-3 text-sm text-slate-500",children:a("messenger.empty.noMessages")}),!O&&M.map(e=>{const t=A.memberIds.includes(e.id);return(0,Pa.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:t,onChange:t=>{const n=t.target.checked?[...A.memberIds,e.id]:A.memberIds.filter(t=>t!==e.id);T(e=>He(He({},e),{},{memberIds:n}))}}),(0,Pa.jsx)("span",{children:e.name||e.email})]},e.id)})]})]}),(0,Pa.jsxs)("div",{className:"space-y-2",children:[(0,Pa.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:A.isTemporary,onChange:e=>T(t=>He(He({},t),{},{isTemporary:e.target.checked}))}),a("messenger.group.tempFlag")]}),A.isTemporary&&(0,Pa.jsx)("input",{type:"date",value:A.expiresAt,onChange:e=>T(t=>He(He({},t),{},{expiresAt:e.target.value})),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Pa.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pa.jsx)("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:a("common.cancel")}),(0,Pa.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-semibold bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:a("messenger.group.create")})]})]})}),I&&(0,Pa.jsx)(Xh,{onSelectGif:async e=>{let{url:t}=e;if(g&&t)try{var n;z(!0);const e=await ns(g,{gif:t,quotedMessageId:(null===J||void 0===J?void 0:J.id)||null,metadata:J?{quoted_message_id:J.id}:{},mentionedUserIds:[]}),r=(null===(n=e.data)||void 0===n?void 0:n.message)||e.data,a=He(He({},r),{},{conversation_id:r.conversation_id||g,attachments:Array.isArray(r.attachments)?r.attachments:"string"===typeof r.attachments?JSON.parse(r.attachments||"[]"):[],reactions:Array.isArray(r.reactions)?r.reactions:"string"===typeof r.reactions?JSON.parse(r.reactions||"[]"):[],quote:r.quote||null});v(e=>He(He({},e),{},{[g]:[...e[g]||[],a]}))}catch(r){console.error("Failed to send GIF",r),Co(a("messenger.error.send"))}finally{z(!1),L(!1),Q(null)}},onClose:()=>L(!1)})]})},sg=()=>(0,Pa.jsx)("div",{className:"h-screen",children:(0,Pa.jsx)(ig,{})}),og=e=>{let{templates:t=[],onTemplateCreate:n,onTemplateUpdate:r,onTemplateDelete:a,onTemplateApply:i}=e;const[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,p]=(0,s.useState)({name:"",description:"",disposalInstructions:"",color:"#5D8AA8",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""}),m=[{value:"daily",label:"T\xe4glich"},{value:"weekly",label:"W\xf6chentlich"},{value:"biweekly",label:"Alle 2 Wochen"},{value:"monthly",label:"Monatlich"},{value:"quarterly",label:"Viertelj\xe4hrlich"},{value:"yearly",label:"J\xe4hrlich"}],f=(e,t)=>{const n=e=>Math.min(255,Math.max(0,e)),r=e.replace("#",""),a=parseInt(r,16),i=n((a>>16)+t),s=n((a>>8&255)+t),o=n((255&a)+t);return"#".concat((o|s<<8|i<<16).toString(16).padStart(6,"0"))},h=e=>{try{return"linear-gradient(135deg, ".concat(f(e,-20)," 0%, ").concat(f(e,20)," 100%)")}catch(t){return"linear-gradient(135deg, ".concat(e,", ").concat(e,")")}},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(d(e),p({name:e.name,description:e.description||"",disposalInstructions:e.disposalInstructions||e.disposal_instructions||"",color:e.color||"#5D8AA8",icon:e.icon||"trash",defaultFrequency:e.defaultFrequency||e.default_frequency||"weekly",defaultNextDate:e.defaultNextDate||e.default_next_date||""})):(d(null),p({name:"",description:"",disposalInstructions:"",color:"#5D8AA8",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""})),l(!0)},b=e=>{switch(e){case"bio":return"\ud83c\udf3f";case"paper":return"\ud83d\udcc4";case"plastic":return"\u267b\ufe0f";case"glass":return"\ud83c\udf7e";case"electronics":return"\ud83d\udcbb";case"chemical":return"\ud83e\uddea";case"medical":return"\ud83c\udfe5";default:return"\ud83d\uddd1\ufe0f"}};return(0,Pa.jsxs)("div",{className:"space-y-6",children:[(0,Pa.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Abfall-Vorlagen"}),(0,Pa.jsx)("p",{className:"text-sm text-slate-500",children:"Speichere Routinen f\xfcr dein Team \u2013 farblich codiert, selbsterkl\xe4rend und bereit zur Anwendung."})]}),(0,Pa.jsxs)("button",{onClick:()=>g(),className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-500",children:[(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Neue Vorlage"})]})]}),(0,Pa.jsx)("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:t.map(e=>{var t,n,r;return(0,Pa.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-1.5 hover:shadow-xl",children:[(0,Pa.jsx)("div",{className:"absolute inset-0 h-32",style:{background:h(e.color||"#5D8AA8")}}),(0,Pa.jsxs)("div",{className:"relative p-5 text-white",children:[(0,Pa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pa.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 text-2xl shadow-inner",children:b(e.icon)}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h3",{className:"text-lg font-semibold leading-tight drop-shadow-sm",children:e.name}),(0,Pa.jsx)("p",{className:"text-xs uppercase tracking-wide text-white/80",children:(null===(t=m.find(t=>t.value===(e.defaultFrequency||e.default_frequency)))||void 0===t?void 0:t.label)||"W\xf6chentlich"})]})]}),(0,Pa.jsxs)("div",{className:"flex gap-1",children:[(0,Pa.jsx)("button",{onClick:()=>g(e),className:"rounded-full bg-white/20 p-2 text-white transition hover:bg-white/40",title:"Bearbeiten",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,Pa.jsx)("button",{onClick:()=>a(e.id),className:"rounded-full bg-white/20 p-2 text-white transition hover:bg-white/40",title:"L\xf6schen",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.description&&(0,Pa.jsx)("p",{className:"mt-4 text-sm text-white/90",children:e.description})]}),(0,Pa.jsxs)("div",{className:"relative mt-2 space-y-4 rounded-t-3xl bg-white p-5 text-sm text-slate-600",children:[(0,Pa.jsxs)("div",{className:"space-y-2",children:[(0,Pa.jsx)("h4",{className:"font-medium text-slate-700",children:"Entsorgungsanleitung"}),(0,Pa.jsx)("p",{className:"rounded-2xl bg-slate-50/80 p-3 leading-relaxed",children:e.disposalInstructions||e.disposal_instructions})]}),(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[(0,Pa.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-600",children:["\u23f1\ufe0f ",(null===(n=m.find(t=>t.value===(e.defaultFrequency||e.default_frequency)))||void 0===n?void 0:n.label)||"W\xf6chentlich"]}),(e.defaultNextDate||e.default_next_date)&&(0,Pa.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-50 px-3 py-1 font-medium text-blue-600",children:["\ud83d\udcc5 N\xe4chster Termin: ",(r=e.defaultNextDate||e.default_next_date,r?new Date(r).toLocaleDateString("de-DE",{day:"numeric",month:"long",year:"numeric"}):"Nicht festgelegt")]})]}),(0,Pa.jsxs)("button",{onClick:()=>i(e),className:"flex w-full items-center justify-center gap-2 rounded-full bg-emerald-500 py-2 text-sm font-semibold text-white shadow transition hover:bg-emerald-400",children:[(0,Pa.jsx)("span",{children:"Vorlage anwenden"}),(0,Pa.jsx)("span",{"aria-hidden":!0,children:"\u2192"})]})]})]},e.id)})}),0===t.length&&(0,Pa.jsxs)("div",{className:"rounded-3xl border-2 border-dashed border-slate-300 bg-white/80 p-10 text-center shadow-sm",children:[(0,Pa.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-2xl",children:"\u267b\ufe0f"}),(0,Pa.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Noch keine Vorlagen"}),(0,Pa.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Erstelle Vorlagen f\xfcr Bioabfall, Papier, Restm\xfcll & Co. und halte dein Team mit einem Tipp auf Kurs."}),(0,Pa.jsx)("button",{onClick:()=>g(),className:"mt-4 inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-500",children:(0,Pa.jsx)("span",{children:"Erste Vorlage erstellen"})})]}),o&&(0,Pa.jsx)("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/50 p-4",children:(0,Pa.jsxs)("div",{className:"w-full max-w-lg rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-100",children:[(0,Pa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pa.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:c?"Vorlage bearbeiten":"Neue Vorlage erstellen"}),(0,Pa.jsx)("button",{onClick:()=>l(!1),className:"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pa.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!u.name.trim())return;const t=He(He({},u),{},{id:(null===c||void 0===c?void 0:c.id)||Date.now()});c?r(t):n(t),l(!1),d(null),p({name:"",description:"",disposalInstructions:"",color:"#5D8AA8",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""})},children:[(0,Pa.jsxs)("div",{className:"space-y-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name *"}),(0,Pa.jsx)("input",{type:"text",value:u.name,onChange:e=>p(He(He({},u),{},{name:e.target.value})),required:!0,className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"z.B. Bioabfall"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beschreibung"}),(0,Pa.jsx)("input",{type:"text",value:u.description,onChange:e=>p(He(He({},u),{},{description:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Optionale Beschreibung"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Symbol"}),(0,Pa.jsx)("select",{value:u.icon,onChange:e=>p(He(He({},u),{},{icon:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",children:[{value:"trash",label:"\ud83d\uddd1\ufe0f Allgemein"},{value:"bio",label:"\ud83c\udf3f Bioabfall"},{value:"paper",label:"\ud83d\udcc4 Papier"},{value:"plastic",label:"\u267b\ufe0f Plastik"},{value:"glass",label:"\ud83c\udf7e Glas"},{value:"electronics",label:"\ud83d\udcbb Elektronik"},{value:"chemical",label:"\ud83e\uddea Chemikalien"},{value:"medical",label:"\ud83c\udfe5 Medizinisch"}].map(e=>(0,Pa.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Farbe"}),(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,Pa.jsx)("input",{type:"color",value:u.color,onChange:e=>p(He(He({},u),{},{color:e.target.value})),className:"h-10 w-10 rounded border border-slate-200"}),(0,Pa.jsx)("input",{type:"text",value:u.color,onChange:e=>p(He(He({},u),{},{color:e.target.value})),className:"flex-1 rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"#A9D08E"})]}),(0,Pa.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:["#5D8AA8","#A9D08E","#F4B084","#D9E1F2","#7DD3FC","#FECACA","#C4B5FD"].map(e=>(0,Pa.jsx)("button",{type:"button",onClick:()=>p(He(He({},u),{},{color:e})),className:"h-8 w-8 rounded-full border border-white shadow-sm transition hover:-translate-y-0.5 hover:shadow ".concat(u.color===e?"ring-2 ring-blue-400":""),style:{background:h(e)},"aria-label":"Farbe ".concat(e," w\xe4hlen")},e))})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Entsorgungsanleitung *"}),(0,Pa.jsx)("textarea",{value:u.disposalInstructions,onChange:e=>p(He(He({},u),{},{disposalInstructions:e.target.value})),required:!0,rows:"4",className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"Wie muss dieser Abfall entsorgt werden?"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Standardfrequenz"}),(0,Pa.jsx)("select",{value:u.defaultFrequency,onChange:e=>p(He(He({},u),{},{defaultFrequency:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",children:m.map(e=>(0,Pa.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Standard N\xe4chster Termin"}),(0,Pa.jsx)("input",{type:"date",value:u.defaultNextDate,onChange:e=>p(He(He({},u),{},{defaultNextDate:e.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100"})]})]}),(0,Pa.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,Pa.jsx)("button",{type:"button",onClick:()=>l(!1),className:"flex-1 rounded-full border border-slate-200 px-4 py-2 text-slate-600 transition hover:bg-slate-50",children:"Abbrechen"}),(0,Pa.jsx)("button",{type:"submit",className:"flex-1 rounded-full bg-blue-600 px-4 py-2 text-white shadow hover:bg-blue-500",children:c?"Aktualisieren":"Erstellen"})]})]})]})})]})},lg=()=>{const e=La(),t=null===e||void 0===e?void 0:e.user,[n,r]=(0,s.useState)([]),[a,i]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)("items");(0,s.useEffect)(()=>{m()},[]);const m=async()=>{try{l(!0),d("");const e=await Ea.get("/waste/items");r(e.data),i([{id:1,name:"Bioabfall",description:"Organische Abf\xe4lle aus K\xfcche und Garten",disposalInstructions:"Bioabfallbeh\xe4lter alle 2 Wochen am Dienstag rausstellen.\nNicht erlaubt: Plastik, Metall, Glas.",color:"#A9D08E",icon:"bio",defaultFrequency:"biweekly",defaultNextDate:""},{id:2,name:"Papiertonne",description:"Altpapier und Kartonagen",disposalInstructions:"Papiertonnen monatlich am Freitag rausstellen.\nNicht erlaubt: verschmutztes Papier, Tapeten, Foto- und Faxpapier.",color:"#D9E1F2",icon:"paper",defaultFrequency:"monthly",defaultNextDate:""},{id:3,name:"Restm\xfcll",description:"Nicht-recyclebare Abf\xe4lle",disposalInstructions:"Restm\xfclltonnen w\xf6chentlich am Montag rausstellen.\nNicht erlaubt: Wertstoffe, Elektroschrott, Sonderm\xfcll.",color:"#F4B084",icon:"trash",defaultFrequency:"weekly",defaultNextDate:""},{id:4,name:"Gelber Sack",description:"Verpackungen aus Plastik, Metall und Verbundstoffen",disposalInstructions:"Gelbe S\xe4cke alle 2 Wochen am Mittwoch rausstellen.\nNicht erlaubt: Elektroschrott, Batterien, Glas.",color:"#FFD700",icon:"plastic",defaultFrequency:"biweekly",defaultNextDate:""}])}catch(Vg){console.error("Error loading waste items:",Vg),d("Fehler beim Laden der Abfallarten. Bitte versuche es sp\xe4ter erneut.")}finally{l(!1)}},f=async(e,t,n,r,a)=>{try{await((e,t,n,r,a)=>Ea.put("/waste/items/".concat(e),{name:t,description:n,disposalInstructions:r,nextDisposalDate:a}))(e,t,n,r,a),m()}catch(Vg){console.error("Error updating waste item:",Vg),d("Fehler beim Aktualisieren der Abfallart. Bitte versuche es erneut.")}},h=async e=>{if(window.confirm("Bist du sicher, dass du diese Abfallart l\xf6schen m\xf6chtest?"))try{await(e=>Ea.delete("/waste/items/".concat(e)))(e),m()}catch(Vg){console.error("Error deleting waste item:",Vg),d("Fehler beim L\xf6schen der Abfallart. Bitte versuche es erneut.")}};return o?(0,Pa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Pa.jsx)("p",{className:"mt-4 text-gray-600",children:"Abfallarten werden geladen..."})]})}):c?(0,Pa.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Pa.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:c})}):(0,Pa.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Pa.jsxs)("div",{className:"mb-6",children:[(0,Pa.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Abfallmanagement"}),(0,Pa.jsx)("p",{className:"text-gray-600",children:"Verwalte Abfallarten, Vorlagen und Entsorgungstermine"})]}),(0,Pa.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,Pa.jsxs)("nav",{className:"flex space-x-8",children:[(0,Pa.jsx)("button",{onClick:()=>p("items"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("items"===u?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Abfallarten"}),(0,Pa.jsx)("button",{onClick:()=>p("templates"),className:"py-4 px-1 font-medium text-sm border-b-2 transition-colors ".concat("templates"===u?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Vorlagen"})]})}),"items"===u&&(0,Pa.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.map(e=>(0,Pa.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200 hover:shadow-md transition-shadow",children:(0,Pa.jsxs)("div",{className:"p-6",children:[(0,Pa.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Pa.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:e.name}),["admin","superadmin"].includes(t.role)&&(0,Pa.jsxs)("div",{className:"flex space-x-1",children:[(0,Pa.jsx)("button",{onClick:()=>f(e.id,e.name,e.description,e.disposal_instructions,e.next_disposal_date),className:"p-1.5 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Bearbeiten",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pa.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,Pa.jsx)("button",{onClick:()=>h(e.id),className:"p-1.5 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"L\xf6schen",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.description&&(0,Pa.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:e.description}),(0,Pa.jsxs)("div",{className:"space-y-3",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h4",{className:"font-medium text-gray-700 text-sm mb-1",children:"Entsorgungsanleitung"}),(0,Pa.jsx)("p",{className:"text-gray-600 text-sm whitespace-pre-line",children:e.disposal_instructions})]}),e.next_disposal_date&&(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h4",{className:"font-medium text-gray-700 text-sm mb-1",children:"N\xe4chster Termin"}),(0,Pa.jsx)("p",{className:"text-gray-600 text-sm",children:new Date(e.next_disposal_date).toLocaleDateString("de-DE",{day:"numeric",month:"long",year:"numeric"})})]})]})]})},e.id)),0===n.length&&(0,Pa.jsxs)("div",{className:"col-span-full bg-white rounded-xl shadow-sm p-8 text-center border-2 border-dashed border-gray-300",children:[(0,Pa.jsx)("div",{className:"inline-block p-4 bg-gray-100 rounded-full mb-4",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Pa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Abfallarten vorhanden"}),(0,Pa.jsx)("p",{className:"text-gray-500 mb-4",children:["admin","superadmin"].includes(t.role)?"Erstelle neue Abfallarten oder wende Vorlagen an":"Derzeit sind keine Abfallarten definiert"}),["admin","superadmin"].includes(t.role)&&(0,Pa.jsx)("button",{onClick:()=>p("templates"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Vorlagen anzeigen"})]})]}),"templates"===u&&(0,Pa.jsx)(og,{templates:a,onTemplateCreate:e=>{i(t=>[...t,e])},onTemplateUpdate:e=>{i(t=>t.map(t=>t.id===e.id?e:t))},onTemplateDelete:e=>{i(t=>t.filter(t=>t.id!==e))},onTemplateApply:async e=>{try{const i=new Date,s=e.defaultNextDate||new Date(i.setDate(i.getDate()+7));await(t=e.name,n=e.description,r=e.disposalInstructions,a="string"===typeof s?s:s.toISOString().split("T")[0],Ea.post("/waste/items",{name:t,description:n,disposalInstructions:r,nextDisposalDate:a})),m(),alert('Vorlage "'.concat(e.name,'" erfolgreich angewendet!'))}catch(Vg){console.error("Error applying template:",Vg),d("Fehler beim Anwenden der Vorlage.")}var t,n,r,a}})]})},cg=()=>{const[e,t]=(0,s.useState)(p(new Date)),[n,r]=(0,s.useState)([]),[a,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1),u=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];function p(e){const t=(e=new Date(e)).getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n))}function m(e){return e.toLocaleDateString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit"})}function f(e){return e.toISOString().split("T")[0]}const h=(0,s.useCallback)(async()=>{try{l(!0);const t=f(e),[n,a]=await Promise.all([Ma.get("/schedule/week/".concat(t)),Ma.get("/schedule/hours-summary/".concat(t))]);r(n.data),i(a.data)}catch(t){console.error("Error loading schedule:",t),an.error("Fehler beim Laden des Stundenplans")}finally{l(!1)}},[e]);(0,s.useEffect)(()=>{h()},[h]);const g=async(t,a)=>{try{const s=n[t];if(!s||!s.id)return void an.error("Invalid day");d(!0);const o=await Ma.put("/schedule/day/".concat(s.id),{isWorking:a.is_working,startTime:a.start_time,endTime:a.end_time}),l=[...n];l[t]=o.data,r(l);const c=f(e),u=await Ma.get("/schedule/hours-summary/".concat(c));i(u.data),an.success("Stundenplan aktualisiert")}catch(l){var s,o;console.error("Error updating day:",l),an.error((null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.error)||"Fehler beim Aktualisieren des Stundenplans")}finally{d(!1)}},[b,x]=(0,s.useState)({}),v=(e,t,a)=>{const i=n[e],s=[...n];s[e]=He(He({},i),{},{[t]:a}),r(s);const o="".concat(e,"-").concat(t);b[o]&&clearTimeout(b[o]);const l=setTimeout(()=>{g(e,{is_working:i.is_working,start_time:"start_time"===t?a:i.start_time,end_time:"end_time"===t?a:i.end_time})},1e3);x(He(He({},b),{},{[o]:l}))};if(o)return(0,Pa.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const y=t=>{const n=new Date(e);return n.setDate(n.getDate()+t),n};return(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Pa.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:(0,Pa.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold mb-1",children:"Arbeitsstunden Kalender"}),(0,Pa.jsx)("p",{className:"text-blue-100 text-sm",children:"Planen Sie Ihren w\xf6chentlichen Arbeitsplan"})]}),a&&(0,Pa.jsxs)("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-lg px-4 py-3 min-w-[200px]",children:[(0,Pa.jsx)("div",{className:"text-xs text-blue-100 mb-1",children:"Diese Woche"}),(0,Pa.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,Pa.jsxs)("span",{className:"text-3xl font-bold",children:[a.totalBooked.toFixed(1),"h"]}),(0,Pa.jsxs)("span",{className:"text-sm",children:["/ ",a.weeklyQuota,"h"]})]}),"exact"!==a.status&&(0,Pa.jsxs)("div",{className:"text-xs mt-1 ".concat("over"===a.status?"text-red-200":"text-yellow-200"),children:["over"===a.status?"+":"",a.difference.toFixed(1),"h","over"===a.status?" \xfcber":" verbleibend"]})]})]})}),(0,Pa.jsx)("div",{className:"border-b border-gray-200 px-6 py-4 bg-gray-50",children:(0,Pa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pa.jsx)("button",{onClick:()=>{const n=new Date(e);n.setDate(n.getDate()-7),t(n)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",disabled:c,children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[m(e)," - ",m(y(6))]}),(0,Pa.jsx)("button",{onClick:()=>{t(p(new Date))},className:"text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"Zur aktuellen Woche"})]}),(0,Pa.jsx)("button",{onClick:()=>{const n=new Date(e);n.setDate(n.getDate()+7),t(n)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",disabled:c,children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,Pa.jsxs)("div",{className:"p-6",children:[(0,Pa.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>{const r=y(t),a=f(r)===f(new Date),i=e.is_working?((e,t)=>{if(!e||!t)return 0;const[n,r]=e.split(":").map(Number),[a,i]=t.split(":").map(Number);return((60*a+i-(60*n+r))/60).toFixed(1)})(e.start_time,e.end_time):0;return(0,Pa.jsx)("div",{className:"border-2 rounded-lg p-4 transition-all ".concat(a?"border-blue-500 bg-blue-50":e.is_working?"border-green-300 bg-green-50":"border-gray-200 bg-gray-50"," ").concat(c?"opacity-50 pointer-events-none":""),children:(0,Pa.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-3 min-w-[180px]",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:e.is_working,onChange:()=>(e=>{const t=n[e];g(e,{is_working:!t.is_working,start_time:t.is_working?null:"09:00",end_time:t.is_working?null:"17:00"})})(t),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500",disabled:c}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("div",{className:"font-semibold text-gray-800",children:u[t]}),(0,Pa.jsx)("div",{className:"text-xs text-gray-500",children:m(r)})]}),a&&(0,Pa.jsx)("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-full",children:"Today"})]}),e.is_working&&(0,Pa.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,Pa.jsxs)("div",{className:"flex-1",children:[(0,Pa.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Startzeit"}),(0,Pa.jsx)("input",{type:"time",value:e.start_time||"09:00",onChange:e=>v(t,"start_time",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none",disabled:c})]}),(0,Pa.jsxs)("div",{className:"flex-1",children:[(0,Pa.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Endzeit"}),(0,Pa.jsx)("input",{type:"time",value:e.end_time||"17:00",onChange:e=>v(t,"end_time",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none",disabled:c})]}),(0,Pa.jsx)("div",{className:"min-w-[80px] pt-5",children:(0,Pa.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:[i,"h"]})})]}),!e.is_working&&(0,Pa.jsx)("div",{className:"text-gray-400 italic flex-1",children:"Nicht arbeitend"})]})},t)})}),a&&(0,Pa.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded-lg",children:[(0,Pa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"W\xf6chentliches Kontingent"}),(0,Pa.jsxs)("div",{className:"text-2xl font-bold text-gray-800",children:[a.weeklyQuota,"h"]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Insgesamt gebucht"}),(0,Pa.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[a.totalBooked.toFixed(1),"h"]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Differenz"}),(0,Pa.jsxs)("div",{className:"text-2xl font-bold ".concat("over"===a.status?"text-red-600":"under"===a.status?"text-yellow-600":"text-green-600"),children:[a.difference>=0?"+":"",a.difference.toFixed(1),"h"]})]})]}),(0,Pa.jsxs)("div",{className:"mt-4 text-center",children:["exact"===a.status&&(0,Pa.jsx)("div",{className:"text-green-700 font-semibold",children:"\u2713 Perfekt! Ihr Stundenplan entspricht Ihrem w\xf6chentlichen Kontingent."}),"under"===a.status&&(0,Pa.jsxs)("div",{className:"text-yellow-700",children:["Sie haben noch ",Math.abs(a.difference).toFixed(1)," Stunden diese Woche zu planen."]}),"over"===a.status&&(0,Pa.jsxs)("div",{className:"text-red-700 font-semibold",children:["\u26a0 Sie sind um ",a.difference.toFixed(1)," Stunden \xfcberbucht!"]})]})]})]})]})},dg=()=>{const[e,t]=(0,s.useState)(new Date),[n,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{i(!0);const t=e.getFullYear(),n=e.getMonth()+1,a=await Ma.get("/schedule/hours-summary/month/".concat(t,"/").concat(n));r(a.data)}catch(t){console.error("Error loading monthly summary:",t),an.error("Fehler beim Laden der Monats\xfcbersicht")}finally{i(!1)}})()},[e]);if(a)return(0,Pa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,Pa.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(!n)return null;const o=n.totalQuota>0?n.totalBooked/n.totalQuota*100:0;return(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Pa.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6",children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold mb-1",children:"Monthly Hours Calculator"}),(0,Pa.jsx)("p",{className:"text-purple-100 text-sm",children:"Track your monthly work hours balance"})]}),(0,Pa.jsx)("div",{className:"border-b border-gray-200 px-6 py-4 bg-gray-50",children:(0,Pa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pa.jsx)("button",{onClick:()=>{const n=new Date(e);n.setMonth(n.getMonth()-1),t(n)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ",e.getFullYear()]}),(0,Pa.jsx)("button",{onClick:()=>{t(new Date)},className:"text-sm text-purple-600 hover:text-purple-700 transition-colors",children:"Go to current month"})]}),(0,Pa.jsx)("button",{onClick:()=>{const n=new Date(e);n.setMonth(n.getMonth()+1),t(n)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,Pa.jsxs)("div",{className:"p-6",children:[(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,Pa.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pa.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"Total Weeks"}),(0,Pa.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})]}),(0,Pa.jsx)("div",{className:"text-3xl font-bold text-blue-900",children:n.totalWeeks})]}),(0,Pa.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pa.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"Weekly Quota"}),(0,Pa.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),(0,Pa.jsxs)("div",{className:"text-3xl font-bold text-purple-900",children:[n.weeklyQuota,"h"]})]}),(0,Pa.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-4 border border-indigo-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pa.jsx)("div",{className:"text-sm font-medium text-indigo-800",children:"Monthly Target"}),(0,Pa.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})]}),(0,Pa.jsxs)("div",{className:"text-3xl font-bold text-indigo-900",children:[n.totalQuota.toFixed(1),"h"]})]}),(0,Pa.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pa.jsx)("div",{className:"text-sm font-medium text-green-800",children:"Total Booked"}),(0,Pa.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,Pa.jsxs)("div",{className:"text-3xl font-bold text-green-900",children:[n.totalBooked.toFixed(1),"h"]})]})]}),(0,Pa.jsxs)("div",{className:"mb-6",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Monthly Progress"}),(0,Pa.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[o.toFixed(1),"%"]})]}),(0,Pa.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,Pa.jsx)("div",{className:"h-4 rounded-full transition-all duration-500 ".concat(o>100?"bg-gradient-to-r from-red-500 to-red-600":o>=90?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-purple-600"),style:{width:"".concat(Math.min(o,100),"%")}})})]}),(0,Pa.jsx)("div",{className:"rounded-lg p-6 mb-6 ".concat("over"===n.status?"bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-300":"under"===n.status?"bg-gradient-to-r from-yellow-50 to-yellow-100 border-2 border-yellow-300":"bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300"),children:(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsxs)("div",{className:"text-6xl font-bold mb-2 ${ summary.status === 'over' ? 'text-red-700' : summary.status === 'under' ? 'text-yellow-700' : 'text-green-700' }",children:[n.difference>=0?"+":"",n.difference.toFixed(1),"h"]}),(0,Pa.jsxs)("div",{className:"text-lg font-semibold ${ summary.status === 'over' ? 'text-red-800' : summary.status === 'under' ? 'text-yellow-800' : 'text-green-800' }",children:["over"===n.status&&"\u26a0 Over-Scheduled","under"===n.status&&"Under-Scheduled","exact"===n.status&&"\u2713 Perfect Balance"]}),(0,Pa.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["over"===n.status&&"You have scheduled ".concat(Math.abs(n.difference).toFixed(1)," hours more than your monthly quota."),"under"===n.status&&"You have ".concat(Math.abs(n.difference).toFixed(1)," hours remaining to reach your monthly quota."),"exact"===n.status&&"Your scheduled hours perfectly match your monthly quota!"]})]})}),n.weeks&&n.weeks.length>0&&(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Weekly Breakdown"}),(0,Pa.jsx)("div",{className:"space-y-2",children:n.weeks.map((e,t)=>{const r=n.weeklyQuota>0?e.totalBooked/n.weeklyQuota*100:0;return(0,Pa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pa.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Week starting ",new Date(e.weekStart).toLocaleDateString("de-DE")]}),(0,Pa.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[e.totalBooked.toFixed(1),"h / ",n.weeklyQuota,"h"]})]}),(0,Pa.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,Pa.jsx)("div",{className:"h-2 rounded-full ".concat(r>100?"bg-red-500":r>=90?"bg-green-500":"bg-blue-500"),style:{width:"".concat(Math.min(r,100),"%")}})})]},t)})})]})]})]})},ug=()=>{const e=La(),t=null===e||void 0===e?void 0:e.user,[n,r]=(0,s.useState)("calendar");return(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:(0,Pa.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Pa.jsxs)("div",{className:"mb-8",children:[(0,Pa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Arbeitsstunden Planung"}),(0,Pa.jsx)("p",{className:"text-gray-600",children:"Verwalten Sie Ihren Wochenplan und verfolgen Sie Ihr monatliches Stundenkonto"}),(0,Pa.jsx)("div",{className:"mt-4 bg-white rounded-lg shadow-sm p-4 inline-block",children:(0,Pa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),(0,Pa.jsx)("span",{className:"text-sm text-gray-700",children:(null===t||void 0===t?void 0:t.name)||"User"})]}),(0,Pa.jsx)("div",{className:"h-4 w-px bg-gray-300"}),(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),(0,Pa.jsx)("span",{className:"text-sm text-gray-700",children:(null===t||void 0===t?void 0:t.employment_type)||"Werkstudent"})]}),(0,Pa.jsx)("div",{className:"h-4 w-px bg-gray-300"}),(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),(0,Pa.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(null===t||void 0===t?void 0:t.weekly_hours_quota)||20,"h/week"]})]})]})})]}),(0,Pa.jsx)("div",{className:"mb-6",children:(0,Pa.jsx)("div",{className:"border-b border-gray-200",children:(0,Pa.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Pa.jsx)("button",{onClick:()=>r("calendar"),className:"".concat("calendar"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Wochenkalender"]})}),(0,Pa.jsx)("button",{onClick:()=>r("monthly"),className:"".concat("monthly"===n?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Monatsrechner"]})})]})})}),(0,Pa.jsxs)("div",{children:["calendar"===n&&(0,Pa.jsx)(cg,{}),"monthly"===n&&(0,Pa.jsx)(dg,{})]}),(0,Pa.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,Pa.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"So funktioniert es"]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Wochenkalender"}),(0,Pa.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Markieren Sie die Tage, an denen Sie arbeiten"})]}),(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Legen Sie Start- und Endzeiten f\xfcr jeden Tag fest"})]}),(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Sehen Sie die Stundenberechnung in Echtzeit"})]}),(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Verfolgen Sie, ob Sie unter- oder \xfcberplant sind"})]})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Monatsrechner"}),(0,Pa.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Sehen Sie das monatliche Stundenkonto"})]}),(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Sehen Sie die w\xf6chentliche Aufschl\xfcsselung"})]}),(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Verfolgen Sie die Einhaltung Ihres Vertrags"})]}),(0,Pa.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Pa.jsx)("svg",{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Pa.jsx)("span",{children:"Vermeiden Sie \xdcberplanung und Burnout"})]})]})]})]})]})]})})},pg=()=>{const[e,t]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:""}),[n,r]=(0,s.useState)(""),[a,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)("checking"),u=ne(),p=La(),m=null===p||void 0===p?void 0:p.login;(0,s.useEffect)(()=>{(async()=>{try{(await Ea.get("/auth/first-setup")).data.isFirstSetup?d("ready"):u("/login")}catch(Vg){console.error("Error checking first setup:",Vg),r("Verbindung zum Server konnte nicht hergestellt werden. Bitte versuchen Sie es sp\xe4ter erneut."),d("error")}})()},[u]);const f=n=>{t(He(He({},e),{},{[n.target.name]:n.target.value}))};return"checking"===c?(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center",children:(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,Pa.jsx)("p",{className:"text-white text-lg",children:"\xdcberpr\xfcfe Systemstatus..."})]})}):"error"===c?(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,Pa.jsxs)("div",{className:"bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20 text-center",children:[(0,Pa.jsx)("div",{className:"mb-4 p-3 bg-red-100 rounded-full inline-block",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Pa.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Fehler"}),(0,Pa.jsx)("p",{className:"text-gray-600 mb-4",children:n}),(0,Pa.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Seite neu laden"})]})}):(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-biolab-blue to-blue-900 flex items-center justify-center p-4",children:(0,Pa.jsxs)("div",{className:"bg-white bg-opacity-90 backdrop-blur-lg rounded-2xl shadow-xl p-8 w-full max-w-md border border-white border-opacity-20",children:[(0,Pa.jsxs)("div",{className:"text-center mb-8",children:[(0,Pa.jsx)("div",{className:"mb-4 p-3 bg-blue-100 rounded-full inline-block",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Pa.jsx)("h1",{className:"text-3xl font-bold text-biolab-dark mb-2",children:"Biolab Logistik Planner"}),(0,Pa.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Ersteinrichtung"}),(0,Pa.jsx)("p",{className:"text-gray-600",children:"Erstelle deinen Admin-Account, um das System zu konfigurieren"})]}),a?(0,Pa.jsxs)("div",{className:"text-center py-8",children:[(0,Pa.jsx)("div",{className:"inline-block p-4 bg-green-100 rounded-full mb-4",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Pa.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erfolgreich eingerichtet!"}),(0,Pa.jsx)("p",{className:"text-gray-600 mb-4",children:"Du wirst automatisch weitergeleitet..."}),(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-biolab-blue mx-auto"})]}):(0,Pa.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r(""),l(!0),!e.name.trim())return r("Name ist erforderlich"),void l(!1);if(!e.email.trim())return r("E-Mail ist erforderlich"),void l(!1);if(!/\S+@\S+\.\S+/.test(e.email))return r("Bitte geben Sie eine g\xfcltige E-Mail-Adresse ein"),void l(!1);if(e.password.length<6)return r("Passwort muss mindestens 6 Zeichen lang sein"),void l(!1);if(e.password!==e.confirmPassword)return r("Passw\xf6rter stimmen nicht \xfcberein"),void l(!1);try{var n;const t=await Da(e.name,e.email,e.password),r=(null===(n=t.data)||void 0===n?void 0:n.data)||t.data,a=null===r||void 0===r?void 0:r.token,s=null===r||void 0===r?void 0:r.user;a&&s&&(localStorage.setItem("token",a),m(a,s)),i(!0),setTimeout(()=>{u("/dashboard")},2e3)}catch(Vg){var a,s;if(console.error("Registration error:",Vg),null!==(a=Vg.response)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.firstSetupRequired)d("ready");else{var o,c;const t=null===(o=Vg.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.error,n="string"===typeof t?t:null===t||void 0===t?void 0:t.message;r(n||"Registrierung fehlgeschlagen. Bitte versuchen Sie es erneut.")}}finally{l(!1)}},className:"space-y-6",children:[n&&(0,Pa.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md text-sm",children:n}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,Pa.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Dein Name"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail-Adresse *"}),(0,Pa.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"dein@email.de"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort *"}),(0,Pa.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Mindestens 6 Zeichen"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort best\xe4tigen *"}),(0,Pa.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:"Passwort wiederholen"})]}),(0,Pa.jsx)("div",{children:(0,Pa.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-biolab-blue hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-2 px-4 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-biolab-blue",children:o?"Erstelle Admin-Account...":"Admin-Account erstellen"})})]}),(0,Pa.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hinweis"}),(0,Pa.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,Pa.jsx)("li",{children:"\u2022 Dieser Account erh\xe4lt automatisch Admin-Rechte"}),(0,Pa.jsx)("li",{children:"\u2022 Du kannst sp\xe4ter weitere Benutzer hinzuf\xfcgen"}),(0,Pa.jsx)("li",{children:"\u2022 Das Passwort muss mindestens 6 Zeichen lang sein"})]})]})})]})})},mg=(0,s.memo)(e=>{let{userItem:t,currentUserId:n,onEdit:r,onDelete:a}=e;return(0,Pa.jsxs)("tr",{className:t.id===n?"bg-blue-50":"",children:[(0,Pa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[t.name,t.id===n&&(0,Pa.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Du"})]}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.email}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pa.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat((e=>{switch(e){case"superadmin":return"bg-indigo-100 text-indigo-700";case"admin":return"bg-purple-100 text-purple-800";default:return"bg-green-100 text-green-800"}})(t.role)),children:(e=>{switch(e){case"superadmin":return"Superadministrator";case"admin":return"Administrator";default:return"Mitarbeiter"}})(t.role)})}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pa.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Vollzeit"===t.employment_type?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:t.employment_type||"Werkstudent"})}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString("de-DE",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Pa.jsxs)("div",{className:"flex space-x-2",children:[(0,Pa.jsx)("button",{onClick:()=>r(t),className:"text-blue-600 hover:text-blue-900",children:"Bearbeiten"}),t.id!==n&&(0,Pa.jsx)("button",{onClick:()=>a(t.id,t.name),className:"text-red-600 hover:text-red-900",children:"L\xf6schen"})]})})]})});mg.displayName="UserRow";const fg=()=>{const e=La(),t=null===e||void 0===e?void 0:e.user,[n,r]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,p]=(0,s.useState)(!1),[m,f]=(0,s.useState)(null),[h,g]=(0,s.useState)({name:"",email:"",role:"employee",employment_type:"Werkstudent",password:"",confirmPassword:""}),b=(0,s.useCallback)(async()=>{try{i(!0),l("");const e=await Ea.get("/admin/users");r(e.data)}catch(Vg){console.error("Error loading users:",Vg),l("Fehler beim Laden der Benutzer. Bitte versuche es sp\xe4ter erneut.")}finally{i(!1)}},[]);(0,s.useEffect)(()=>{["admin","superadmin"].includes(t.role)&&b()},[t.role,b]);const x=(0,s.useCallback)(e=>{l(""),d(""),f(e),g({name:e.name,email:e.email,role:e.role,employment_type:e.employment_type||"Werkstudent",password:"",confirmPassword:""}),p(!0)},[]),v=(0,s.useCallback)(async(e,t)=>{var n;if(window.confirm('Bist du sicher, dass du den Benutzer "'.concat(t,'" l\xf6schen m\xf6chtest?')))try{d(""),await(n=e,Ea.delete("/admin/users/".concat(n))),d("Benutzer ".concat(t," wurde gel\xf6scht.")),b()}catch(Vg){console.error("Error deleting user:",Vg),l("Fehler beim L\xf6schen des Benutzers.")}},[b]),y=(0,s.useCallback)(()=>{p(!1),f(null),g({name:"",email:"",role:"employee",password:"",confirmPassword:""}),l(""),d("")},[]);return["admin","superadmin"].includes(t.role)?a?(0,Pa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-biolab-blue mx-auto"}),(0,Pa.jsx)("p",{className:"mt-4 text-gray-600",children:"Benutzer werden geladen..."})]})}):(0,Pa.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Pa.jsxs)("div",{className:"mb-8",children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold text-biolab-dark mb-2",children:"Benutzerverwaltung"}),(0,Pa.jsx)("p",{className:"text-gray-600",children:"Verwalte alle Benutzer des Systems"})]}),o&&(0,Pa.jsx)("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:o}),c&&(0,Pa.jsx)("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md",children:c}),(0,Pa.jsx)("div",{className:"mb-6",children:(0,Pa.jsx)("button",{onClick:()=>{f(null),g({name:"",email:"",role:"employee",password:"",confirmPassword:""}),l(""),d(""),p(!0)},className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Neuen Benutzer hinzuf\xfcgen"})}),u&&(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,Pa.jsx)("h3",{className:"text-lg font-bold text-biolab-dark mb-4",children:m?"Benutzer bearbeiten":"Neuen Benutzer erstellen"}),(0,Pa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.name.trim())if(h.email.trim())if(/\S+@\S+\.\S+/.test(h.email))if(m||h.password)if(h.password&&h.password.length<6)l("Passwort muss mindestens 6 Zeichen lang sein");else if(h.password===h.confirmPassword)try{if(l(""),d(""),m){var t,n;const e={name:h.name,email:h.email,role:h.role,employment_type:h.employment_type};h.password&&(e.password=h.password);const r=await((e,t)=>Ea.put("/admin/users/".concat(e),t))(m.id,e),a=(null===(t=r.data)||void 0===t?void 0:t.data)||r.data,i=(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.name)||h.name;d("Benutzer ".concat(i," wurde aktualisiert."))}else{var r,a;const e=await Da(h.name,h.email,h.password,h.role,h.employment_type),t=(null===(r=e.data)||void 0===r?void 0:r.data)||e.data,n=(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.name)||h.name;d("Benutzer ".concat(n," wurde erstellt."))}p(!1),f(null),g({name:"",email:"",role:"employee",employment_type:"Werkstudent",password:"",confirmPassword:""}),b()}catch(Vg){var i,s;console.error("Error saving user:",Vg);const t=null===(i=Vg.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.error,n="string"===typeof t?t:null===t||void 0===t?void 0:t.message;l(n||"Fehler beim Speichern des Benutzers.")}else l("Passw\xf6rter stimmen nicht \xfcberein");else l("Passwort ist f\xfcr neue Benutzer erforderlich");else l("Bitte geben Sie eine g\xfcltige E-Mail-Adresse ein");else l("E-Mail ist erforderlich");else l("Name ist erforderlich")},className:"space-y-4",children:[(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Pa.jsx)("input",{type:"text",name:"name",value:h.name,onChange:e=>g(He(He({},h),{},{name:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail *"}),(0,Pa.jsx)("input",{type:"email",name:"email",value:h.email,onChange:e=>g(He(He({},h),{},{email:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rolle *"}),(0,Pa.jsxs)("select",{name:"role",value:h.role,onChange:e=>g(He(He({},h),{},{role:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",children:[(0,Pa.jsx)("option",{value:"employee",children:"Mitarbeiter"}),(0,Pa.jsx)("option",{value:"admin",children:"Administrator"}),"superadmin"===t.role&&(0,Pa.jsx)("option",{value:"superadmin",children:"Superadministrator"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Besch\xe4ftigungsart *"}),(0,Pa.jsxs)("select",{name:"employment_type",value:h.employment_type,onChange:e=>g(He(He({},h),{},{employment_type:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",children:[(0,Pa.jsx)("option",{value:"Werkstudent",children:"Werkstudent"}),(0,Pa.jsx)("option",{value:"Vollzeit",children:"Vollzeit"})]}),(0,Pa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Vollzeit"===h.employment_type?"8:00-17:00 wird automatisch geplant":"Buchung von Arbeitszeiten erforderlich"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Passwort ",m?"(optional)":"*"]}),(0,Pa.jsx)("input",{type:"password",name:"password",value:h.password,onChange:e=>g(He(He({},h),{},{password:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent",placeholder:m?"Nur bei \xc4nderung ausf\xfcllen":"Mindestens 6 Zeichen"})]}),h.password&&(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passwort best\xe4tigen *"}),(0,Pa.jsx)("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:e=>g(He(He({},h),{},{confirmPassword:e.target.value})),required:!!h.password,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-biolab-blue focus:border-transparent"})]}),(0,Pa.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Pa.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Abbrechen"}),(0,Pa.jsx)("button",{type:"submit",className:"bg-biolab-blue hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:m?"Aktualisieren":"Erstellen"})]})]})]}),(0,Pa.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,Pa.jsx)("div",{className:"overflow-x-auto",children:(0,Pa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pa.jsx)("thead",{className:"bg-gray-50",children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Pa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-Mail"}),(0,Pa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rolle"}),(0,Pa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Besch\xe4ftigungsart"}),(0,Pa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Erstellt am"}),(0,Pa.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktionen"})]})}),(0,Pa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>(0,Pa.jsx)(mg,{userItem:e,currentUserId:t.id,onEdit:x,onDelete:v},e.id))})]})})}),0===n.length&&!a&&(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center mt-6",children:[(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,Pa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Benutzer vorhanden"}),(0,Pa.jsx)("p",{className:"text-gray-500",children:"F\xfcge neue Benutzer hinzu, um das System zu konfigurieren"})]})]}):(0,Pa.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Pa.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:"Du hast keine Berechtigung, diese Seite anzuzeigen."})})},hg=oi("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),gg=oi("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),bg=oi("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),xg=oi("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),vg=oi("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),yg=oi("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),wg=oi("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),jg=oi("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Ng={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",kg=()=>{var e,t,n;const[r,a]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!0),[p,m]=(0,s.useState)({category:"all",severity:"all",days:7}),f=localStorage.getItem("token"),h={headers:{Authorization:"Bearer ".concat(f)}};(0,s.useEffect)(()=>{g();const e=setInterval(g,3e4);return()=>clearInterval(e)},[p]);const g=async()=>{try{u(!0);const e=await _a.get("".concat(Ng,"/admin/audit/stats?days=").concat(p.days),h);a(e.data);const t=await _a.get("".concat(Ng,"/admin/audit/logs?limit=50&category=").concat(p.category,"&severity=").concat(p.severity),h);o(t.data.logs||[]);const n=await _a.get("".concat(Ng,"/admin/users/online"),h);c(n.data.users||[]),u(!1)}catch(e){console.error("Fehler beim Laden der Admin-Daten:",e),an.error("Fehler beim Laden der Administrator-Daten"),u(!1)}},b=e=>{switch(e){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},x=e=>{switch(e){case"critical":return(0,Pa.jsx)(hg,{className:"w-4 h-4"});case"high":return(0,Pa.jsx)(gg,{className:"w-4 h-4"});case"medium":return(0,Pa.jsx)(Gm,{className:"w-4 h-4"});case"low":return(0,Pa.jsx)(bg,{className:"w-4 h-4"});default:return(0,Pa.jsx)(Um,{className:"w-4 h-4"})}},v=e=>{switch(e){case"authentication":return"bg-blue-100 text-blue-800";case"authorization":return"bg-purple-100 text-purple-800";case"data_modification":return"bg-green-100 text-green-800";case"security":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d&&!r?(0,Pa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Pa.jsxs)("div",{className:"space-y-6",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pa.jsx)(xg,{className:"w-8 h-8 text-blue-600"}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Administrator-Panel"}),(0,Pa.jsx)("p",{className:"text-sm text-gray-600",children:"System\xfcberwachung und Aktionsaudit"})]})]}),(0,Pa.jsxs)("div",{className:"flex gap-2",children:[(0,Pa.jsxs)("button",{onClick:g,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,Pa.jsx)(Vm,{className:"w-4 h-4"}),"Aktualisieren"]}),(0,Pa.jsxs)("button",{onClick:()=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";try{const t=await _a.get("".concat(Ng,"/admin/audit/export?format=").concat(e,"&days=").concat(p.days),He(He({},h),{},{responseType:"blob"})),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","audit-logs-".concat((new Date).toISOString().split("T")[0],".").concat(e)),document.body.appendChild(r),r.click(),r.remove(),an.success("Logs erfolgreich exportiert")}catch(t){console.error("Export failed:",t),an.error("Fehler beim Exportieren der Logs")}}("json"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[(0,Pa.jsx)(vg,{className:"w-4 h-4"}),"Export"]})]})]}),r&&(0,Pa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Pa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pa.jsx)(yg,{className:"w-8 h-8 text-blue-600"}),(0,Pa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:r.total||0})]}),(0,Pa.jsx)("p",{className:"text-sm text-gray-600",children:"Ereignisse Gesamt"}),(0,Pa.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["In den letzten ",p.days," Tagen"]})]}),(0,Pa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pa.jsx)(Wm,{className:"w-8 h-8 text-green-600"}),(0,Pa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:l.length})]}),(0,Pa.jsx)("p",{className:"text-sm text-gray-600",children:"Jetzt Online"}),(0,Pa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Aktive Benutzer"})]}),(0,Pa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pa.jsx)(gg,{className:"w-8 h-8 text-orange-600"}),(0,Pa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:((null===(e=r.bySeverity)||void 0===e?void 0:e.high)||0)+((null===(t=r.bySeverity)||void 0===t?void 0:t.critical)||0)})]}),(0,Pa.jsx)("p",{className:"text-sm text-gray-600",children:"Kritische Ereignisse"}),(0,Pa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Ben\xf6tigen Aufmerksamkeit"})]}),(0,Pa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Pa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pa.jsx)(Fm,{className:"w-8 h-8 text-purple-600"}),(0,Pa.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:(null===(n=r.byCategory)||void 0===n?void 0:n.data_modification)||0})]}),(0,Pa.jsx)("p",{className:"text-sm text-gray-600",children:"Daten\xe4nderungen"}),(0,Pa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Modifikationen"})]})]}),l.length>0&&(0,Pa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Pa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Pa.jsx)(Wm,{className:"w-5 h-5 text-green-600"}),"Online Benutzer"]}),(0,Pa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.map(e=>(0,Pa.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[(0,Pa.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,Pa.jsxs)("div",{className:"flex-1",children:[(0,Pa.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Pa.jsx)("p",{className:"text-xs text-gray-600",children:e.role})]}),e.currentPage&&(0,Pa.jsx)("span",{className:"text-xs text-gray-500 px-2 py-1 bg-white rounded",children:e.currentPage})]},e.id))})]}),(0,Pa.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:(0,Pa.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pa.jsx)(wg,{className:"w-4 h-4 text-gray-600"}),(0,Pa.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),(0,Pa.jsxs)("select",{value:p.category,onChange:e=>m(He(He({},p),{},{category:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,Pa.jsx)("option",{value:"all",children:"Alle Kategorien"}),(0,Pa.jsx)("option",{value:"authentication",children:"Authentifizierung"}),(0,Pa.jsx)("option",{value:"authorization",children:"Autorisierung"}),(0,Pa.jsx)("option",{value:"data_modification",children:"Daten\xe4nderungen"}),(0,Pa.jsx)("option",{value:"security",children:"Sicherheit"}),(0,Pa.jsx)("option",{value:"system",children:"System"})]}),(0,Pa.jsxs)("select",{value:p.severity,onChange:e=>m(He(He({},p),{},{severity:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,Pa.jsx)("option",{value:"all",children:"Alle Stufen"}),(0,Pa.jsx)("option",{value:"critical",children:"Kritisch"}),(0,Pa.jsx)("option",{value:"high",children:"Hoch"}),(0,Pa.jsx)("option",{value:"medium",children:"Mittel"}),(0,Pa.jsx)("option",{value:"low",children:"Niedrig"})]}),(0,Pa.jsxs)("select",{value:p.days,onChange:e=>m(He(He({},p),{},{days:Number(e.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,Pa.jsx)("option",{value:1,children:"Heute"}),(0,Pa.jsx)("option",{value:7,children:"7 Tage"}),(0,Pa.jsx)("option",{value:30,children:"30 Tage"}),(0,Pa.jsx)("option",{value:90,children:"90 Tage"})]})]})}),(0,Pa.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,Pa.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Pa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,Pa.jsx)(Hm,{className:"w-5 h-5 text-blue-600"}),"Letzte Audit-Ereignisse"]})}),(0,Pa.jsx)("div",{className:"overflow-x-auto",children:(0,Pa.jsxs)("table",{className:"w-full",children:[(0,Pa.jsx)("thead",{className:"bg-gray-50",children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zeit"}),(0,Pa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategorie"}),(0,Pa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktion"}),(0,Pa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benutzer"}),(0,Pa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stufe"}),(0,Pa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),(0,Pa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===i.length?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"Keine Ereignisse zum Anzeigen"})}):i.map((e,t)=>(0,Pa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.timestamp).toLocaleString("uk-UA")}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pa.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(v(e.category)),children:e.category})}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.action}),(0,Pa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[e.userId||"System",e.email&&(0,Pa.jsx)("div",{className:"text-xs text-gray-400",children:e.email})]}),(0,Pa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pa.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(b(e.severity)),children:[x(e.severity),e.severity]})}),(0,Pa.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.ip&&(0,Pa.jsxs)("div",{className:"text-xs",children:["IP: ",e.ip]}),e.reason&&(0,Pa.jsxs)("div",{className:"text-xs",children:["Grund: ",e.reason]}),e.changes&&(0,Pa.jsxs)("details",{className:"text-xs cursor-pointer",children:[(0,Pa.jsx)("summary",{children:"\xc4nderungen"}),(0,Pa.jsx)("pre",{className:"mt-1 text-xs bg-gray-50 p-2 rounded",children:JSON.stringify(e.changes,null,2)})]})]})]},t))})]})})]}),r&&r.byCategory&&(0,Pa.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,Pa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Pa.jsx)(jg,{className:"w-5 h-5 text-blue-600"}),"Statistik nach Kategorien"]}),(0,Pa.jsx)("div",{className:"space-y-3",children:Object.entries(r.byCategory).map(e=>{let[t,n]=e;return(0,Pa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pa.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat(v(t)),children:t}),(0,Pa.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:n})]},t)})})]})]})},Sg=()=>(0,Pa.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Pa.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Pa.jsx)(kg,{})})}),Cg=e=>{let{onComplete:t}=e;const n=La(),r=null===n||void 0===n?void 0:n.user,[a,i]=(0,s.useState)("Vollzeit"===(null===r||void 0===r?void 0:r.employment_type)?40:20),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null);if(!n||!r)return null;return(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full overflow-hidden",children:[(0,Pa.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8",children:[(0,Pa.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Willkommen beim Biolab Logistik Planner! \ud83d\udc4b"}),(0,Pa.jsx)("p",{className:"text-blue-100",children:"Lassen Sie uns Ihren w\xf6chentlichen Arbeitsplan einrichten"})]}),(0,Pa.jsxs)("div",{className:"p-8",children:[(0,Pa.jsxs)("div",{className:"mb-8",children:[(0,Pa.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Setzen Sie Ihre w\xf6chentliche Stundenkontingent"}),(0,Pa.jsx)("p",{className:"text-gray-600 mb-6",children:"Dies hilft uns, Ihre Arbeitsstunden zu verfolgen und sicherzustellen, dass Sie Ihren geplanten Zeitplan nicht \xfcberschreiten. Sie k\xf6nnen dies sp\xe4ter jederzeit in Ihren Profileinstellungen \xe4ndern."}),(0,Pa.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:(0,Pa.jsxs)("div",{className:"flex items-center",children:[(0,Pa.jsx)("div",{className:"flex-shrink-0",children:(0,Pa.jsx)("svg",{className:"h-5 w-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Pa.jsx)("div",{className:"ml-3",children:(0,Pa.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Pa.jsx)("span",{className:"font-semibold",children:"Besch\xe4ftigungsart:"})," ",(null===r||void 0===r?void 0:r.employment_type)||"Nicht gesetzt"]})})]})}),(0,Pa.jsxs)("div",{className:"mb-6",children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Schnellvorlagen:"}),(0,Pa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Werkstudent (20h)",value:20},{label:"Teilzeit (30h)",value:30},{label:"Vollzeit (40h)",value:40}].map(e=>(0,Pa.jsxs)("button",{type:"button",onClick:()=>i(e.value),className:"p-4 border-2 rounded-lg transition-all ".concat(a===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,Pa.jsxs)("div",{className:"font-semibold",children:[e.value,"h"]}),(0,Pa.jsx)("div",{className:"text-xs text-gray-600",children:e.label.split("(")[0].trim()})]},e.value))})]}),(0,Pa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(null),l(!0);try{if(a<1||a>80)return d("Bitte geben Sie Stunden zwischen 1 und 80 ein"),void l(!1);const e=await Ma.post("/auth/complete-first-login",{weekly_hours_quota:a});null!==e&&void 0!==e&&e.data&&window.location.reload()}catch(Vg){var t,n;console.error("Error completing first login:",Vg),d((null===(t=Vg.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim Speichern der Einstellungen")}finally{l(!1)}},children:[(0,Pa.jsxs)("div",{className:"mb-6",children:[(0,Pa.jsx)("label",{htmlFor:"weeklyHours",className:"block text-sm font-medium text-gray-700 mb-2",children:"Oder geben Sie individuelle Stunden pro Woche ein:"}),(0,Pa.jsxs)("div",{className:"relative",children:[(0,Pa.jsx)("input",{type:"number",id:"weeklyHours",min:"1",max:"80",step:"0.5",value:a,onChange:e=>i(parseFloat(e.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-lg",required:!0}),(0,Pa.jsx)("span",{className:"absolute right-4 top-3 text-gray-500 text-lg",children:"Stunden/Woche"})]}),(0,Pa.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Erlaubter Bereich: 1-80 Stunden pro Woche"})]}),c&&(0,Pa.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4",children:(0,Pa.jsxs)("div",{className:"flex",children:[(0,Pa.jsx)("div",{className:"flex-shrink-0",children:(0,Pa.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Pa.jsx)("div",{className:"ml-3",children:(0,Pa.jsx)("p",{className:"text-sm text-red-700",children:c})})]})}),(0,Pa.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg text-lg",children:o?(0,Pa.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Pa.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Pa.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pa.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Speichert..."]}):"Weiter zum Dashboard"})]})]}),(0,Pa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mt-6",children:[(0,Pa.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Warum ben\xf6tigen wir das?"}),(0,Pa.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[(0,Pa.jsx)("li",{children:"Verfolgen Sie Ihre geplanten vs. geleisteten Stunden"}),(0,Pa.jsx)("li",{children:"\xdcberbuchung und \xdcberlastung vermeiden"}),(0,Pa.jsx)("li",{children:"Administratoren bei der Teamkapazit\xe4tsplanung unterst\xfctzen"}),(0,Pa.jsx)("li",{children:"Einhaltung Ihres Arbeitsvertrags sicherstellen"})]})]})]})]})})},_g=oi("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Eg=oi("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Dg=oi("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ag=oi("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Tg=e=>{var t,n;let{userId:r,onClose:a}=e;const[i,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)("profile"),[f,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(null),[x,v]=(0,s.useState)({}),[y,w]=(0,s.useState)({}),[j,N]=(0,s.useState)(!1),k=(0,s.useCallback)(async()=>{try{var e,t,n,a,i,s,l,d,u,p,m,f,h;c(!0);const g=await(e=>es.get("/profile/".concat(e)))(r);o(g.data),v({name:g.data.name||"",status:g.data.status||"available",status_message:g.data.status_message||"",bio:g.data.bio||"",position_description:g.data.position_description||"",phone:g.data.phone||"",phone_mobile:g.data.phone_mobile||"",emergency_contact:g.data.emergency_contact||"",emergency_phone:g.data.emergency_phone||"",address:g.data.address||"",timezone:g.data.timezone||"Europe/Berlin",language:g.data.language||"de",theme:g.data.theme||"light"}),w({email_notifications:null===(e=g.data.email_notifications)||void 0===e||e,push_notifications:null===(t=g.data.push_notifications)||void 0===t||t,desktop_notifications:null===(n=g.data.desktop_notifications)||void 0===n||n,sound_enabled:null===(a=g.data.sound_enabled)||void 0===a||a,notify_messages:null===(i=g.data.notify_messages)||void 0===i||i,notify_tasks:null===(s=g.data.notify_tasks)||void 0===s||s,notify_mentions:null===(l=g.data.notify_mentions)||void 0===l||l,notify_reactions:null===(d=g.data.notify_reactions)||void 0===d||d,notify_calendar:null===(u=g.data.notify_calendar)||void 0===u||u,compact_view:null!==(p=g.data.compact_view)&&void 0!==p&&p,show_avatars:null===(m=g.data.show_avatars)||void 0===m||m,message_preview:null===(f=g.data.message_preview)||void 0===f||f,quiet_hours_enabled:null!==(h=g.data.quiet_hours_enabled)&&void 0!==h&&h,quiet_hours_start:g.data.quiet_hours_start||"22:00",quiet_hours_end:g.data.quiet_hours_end||"08:00"})}catch(g){console.error("Error loading profile:",g)}finally{c(!1)}},[r]);(0,s.useEffect)(()=>{k()},[k]);const S=async()=>{try{N(!0),await((e,t)=>es.put("/profile/".concat(e),t))(r,x),o(He(He({},i),x)),u(!1),alert("Profil aktualisiert!")}catch(e){console.error("Error saving profile:",e),alert("Fehler beim Speichern des Profils")}finally{N(!1)}};if(l)return(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg p-8",children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,Pa.jsx)("p",{className:"mt-4 text-gray-600",children:"Profil wird geladen..."})]})});return(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-screen overflow-hidden flex flex-col",children:[(0,Pa.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 relative",children:[(0,Pa.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition",children:(0,Pa.jsx)(gi,{className:"w-6 h-6"})}),(0,Pa.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Pa.jsxs)("div",{className:"relative",children:[(0,Pa.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-white overflow-hidden border-4 border-white shadow-lg",children:g||null!==i&&void 0!==i&&i.profile_photo?(0,Pa.jsx)("img",{src:g||i.profile_photo,alt:null===i||void 0===i?void 0:i.name,className:"w-full h-full object-cover"}):(0,Pa.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl text-gray-400 bg-gray-200",children:null===i||void 0===i||null===(t=i.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase()})}),(0,Pa.jsxs)("label",{className:"absolute bottom-0 right-0 bg-blue-500 hover:bg-blue-600 rounded-full p-2 cursor-pointer shadow-lg transition",children:[(0,Pa.jsx)(_g,{className:"w-5 h-5 text-white"}),(0,Pa.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(h(t),b(URL.createObjectURL(t)))},className:"hidden"})]})]}),(0,Pa.jsxs)("div",{className:"flex-1",children:[(0,Pa.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold",children:null===i||void 0===i?void 0:i.name}),(0,Pa.jsx)("p",{className:"text-blue-100 mt-1",children:(null===i||void 0===i?void 0:i.position_description)||(null===i||void 0===i?void 0:i.role)}),(0,Pa.jsxs)("div",{className:"flex items-center mt-2 space-x-2",children:[(0,Pa.jsx)("div",{className:"w-3 h-3 rounded-full ".concat({available:"bg-green-500",busy:"bg-yellow-500",away:"bg-orange-500",offline:"bg-gray-500"}[(null===i||void 0===i?void 0:i.status)||"offline"])}),(0,Pa.jsx)("span",{className:"text-sm",children:(null===i||void 0===i?void 0:i.status_message)||(null===i||void 0===i?void 0:i.status)})]})]})]}),f&&(0,Pa.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Pa.jsx)("button",{onClick:async()=>{if(f)try{N(!0);const e=new FormData;e.append("photo",f);const t=await((e,t)=>es.post("/profile/".concat(e,"/photo"),t,{headers:{"Content-Type":"multipart/form-data"}}))(r,e);o(He(He({},i),{},{profile_photo:t.data.photo_url})),h(null),b(null),alert("Foto erfolgreich hochgeladen!")}catch(e){console.error("Error uploading photo:",e),alert("Fehler beim Hochladen des Fotos")}finally{N(!1)}},disabled:j,className:"px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 disabled:opacity-50 transition text-sm",children:"Foto speichern"}),(0,Pa.jsx)("button",{onClick:()=>{h(null),b(null)},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition text-sm",children:"Abbrechen"})]})]}),(0,Pa.jsx)("div",{className:"border-b border-gray-200 bg-gray-50",children:(0,Pa.jsx)("div",{className:"flex overflow-x-auto",children:[{id:"profile",label:"Profil",icon:(0,Pa.jsx)(Eg,{className:"w-4 h-4"})},{id:"preferences",label:"Einstellungen",icon:(0,Pa.jsx)(mi,{className:"w-4 h-4"})},{id:"contact",label:"Kontakte",icon:(0,Pa.jsx)(Dg,{className:"w-4 h-4"})}].map(e=>(0,Pa.jsxs)("button",{onClick:()=>m(e.id),className:"flex items-center space-x-2 px-4 sm:px-6 py-3 border-b-2 transition whitespace-nowrap ".concat(p===e.id?"border-blue-500 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.icon,(0,Pa.jsx)("span",{className:"text-sm sm:text-base",children:e.label})]},e.id))})}),(0,Pa.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["profile"===p&&(0,Pa.jsxs)("div",{className:"space-y-6",children:[(0,Pa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pa.jsx)("h3",{className:"text-xl font-semibold",children:"Profilinformationen"}),(0,Pa.jsx)("button",{onClick:()=>d?S():u(!0),disabled:j,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition",children:d?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Ag,{className:"w-4 h-4"}),(0,Pa.jsx)("span",{children:"Speichern"})]}):(0,Pa.jsx)("span",{children:"Bearbeiten"})})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,Pa.jsx)("input",{type:"text",value:x.name,onChange:e=>v(He(He({},x),{},{name:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Pa.jsxs)("select",{value:x.status,onChange:e=>v(He(He({},x),{},{status:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Pa.jsx)("option",{value:"available",children:"Verf\xfcgbar"}),(0,Pa.jsx)("option",{value:"busy",children:"Besch\xe4ftigt"}),(0,Pa.jsx)("option",{value:"away",children:"Abwesend"}),(0,Pa.jsx)("option",{value:"offline",children:"Offline"})]})]}),(0,Pa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statusnachricht"}),(0,Pa.jsx)("input",{type:"text",value:x.status_message,onChange:e=>v(He(He({},x),{},{status_message:e.target.value})),disabled:!d,placeholder:"Zum Beispiel: In Besprechung bis 14:00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografie"}),(0,Pa.jsx)("textarea",{value:x.bio,onChange:e=>v(He(He({},x),{},{bio:e.target.value})),disabled:!d,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Positionsbeschreibung"}),(0,Pa.jsx)("textarea",{value:x.position_description,onChange:e=>v(He(He({},x),{},{position_description:e.target.value})),disabled:!d,rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),(0,Pa.jsx)("input",{type:"tel",value:x.phone,onChange:e=>v(He(He({},x),{},{phone:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobiltelefon"}),(0,Pa.jsx)("input",{type:"tel",value:x.phone_mobile,onChange:e=>v(He(He({},x),{},{phone_mobile:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notfallkontakt"}),(0,Pa.jsx)("input",{type:"text",value:x.emergency_contact,onChange:e=>v(He(He({},x),{},{emergency_contact:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notfalltelefon"}),(0,Pa.jsx)("input",{type:"tel",value:x.emergency_phone,onChange:e=>v(He(He({},x),{},{emergency_phone:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),(0,Pa.jsx)("input",{type:"text",value:x.address,onChange:e=>v(He(He({},x),{},{address:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zeitzone"}),(0,Pa.jsxs)("select",{value:x.timezone,onChange:e=>v(He(He({},x),{},{timezone:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Pa.jsx)("option",{value:"Europe/Berlin",children:"Europe/Berlin"}),(0,Pa.jsx)("option",{value:"Europe/Kiev",children:"Europe/Kiev"}),(0,Pa.jsx)("option",{value:"Europe/London",children:"Europe/London"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sprache"}),(0,Pa.jsxs)("select",{value:x.language,onChange:e=>v(He(He({},x),{},{language:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Pa.jsx)("option",{value:"de",children:"Deutsch"}),(0,Pa.jsx)("option",{value:"uk",children:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"}),(0,Pa.jsx)("option",{value:"en",children:"English"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,Pa.jsxs)("select",{value:x.theme,onChange:e=>v(He(He({},x),{},{theme:e.target.value})),disabled:!d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[(0,Pa.jsx)("option",{value:"light",children:"Hell"}),(0,Pa.jsx)("option",{value:"dark",children:"Dunkel"}),(0,Pa.jsx)("option",{value:"auto",children:"Automatisch"})]})]})]})]}),"preferences"===p&&(0,Pa.jsxs)("div",{className:"space-y-6",children:[(0,Pa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pa.jsx)("h3",{className:"text-xl font-semibold",children:"Benachrichtigungseinstellungen"}),(0,Pa.jsxs)("button",{onClick:async()=>{try{N(!0),await((e,t)=>es.put("/profile/".concat(e,"/preferences"),t))(r,y),alert("Einstellungen gespeichert!")}catch(e){console.error("Error saving preferences:",e),alert("Fehler beim Speichern der Einstellungen")}finally{N(!1)}},disabled:j,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition",children:[(0,Pa.jsx)(Ag,{className:"w-4 h-4"}),(0,Pa.jsx)("span",{children:"Speichern"})]})]}),(0,Pa.jsxs)("div",{className:"space-y-4",children:[(0,Pa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pa.jsx)("h4",{className:"font-medium mb-3",children:"Benachrichtigungstypen"}),(0,Pa.jsx)("div",{className:"space-y-2",children:[{key:"email_notifications",label:"E-Mail-Benachrichtigungen"},{key:"push_notifications",label:"Push-Benachrichtigungen"},{key:"desktop_notifications",label:"Desktop-Benachrichtigungen"},{key:"sound_enabled",label:"Audiobenachrichtigungen"}].map(e=>(0,Pa.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:y[e.key],onChange:t=>w(He(He({},y),{},{[e.key]:t.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Pa.jsx)("span",{children:e.label})]},e.key))})]}),(0,Pa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pa.jsx)("h4",{className:"font-medium mb-3",children:"Benachrichtigen \xfcber"}),(0,Pa.jsx)("div",{className:"space-y-2",children:[{key:"notify_messages",label:"Neue Nachrichten"},{key:"notify_tasks",label:"Aufgaben"},{key:"notify_mentions",label:"Erw\xe4hnungen (@)"},{key:"notify_reactions",label:"Reaktionen"},{key:"notify_calendar",label:"Kalendertermine"}].map(e=>(0,Pa.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:y[e.key],onChange:t=>w(He(He({},y),{},{[e.key]:t.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Pa.jsx)("span",{children:e.label})]},e.key))})]}),(0,Pa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pa.jsx)("h4",{className:"font-medium mb-3",children:"Anzeige"}),(0,Pa.jsx)("div",{className:"space-y-2",children:[{key:"compact_view",label:"Kompakte Ansicht"},{key:"show_avatars",label:"Avatare anzeigen"},{key:"message_preview",label:"Nachrichtenvorschau"}].map(e=>(0,Pa.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:y[e.key],onChange:t=>w(He(He({},y),{},{[e.key]:t.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Pa.jsx)("span",{children:e.label})]},e.key))})]}),(0,Pa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pa.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Pa.jsx)("input",{type:"checkbox",checked:y.quiet_hours_enabled,onChange:e=>w(He(He({},y),{},{quiet_hours_enabled:e.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,Pa.jsx)("h4",{className:"font-medium",children:"Ruhezeiten (Nicht st\xf6ren)"})]}),y.quiet_hours_enabled&&(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Beginn"}),(0,Pa.jsx)("input",{type:"time",value:y.quiet_hours_start,onChange:e=>w(He(He({},y),{},{quiet_hours_start:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Ende"}),(0,Pa.jsx)("input",{type:"time",value:y.quiet_hours_end,onChange:e=>w(He(He({},y),{},{quiet_hours_end:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),"contact"===p&&(0,Pa.jsxs)("div",{className:"space-y-4",children:[(0,Pa.jsx)("h3",{className:"text-xl font-semibold",children:"Kontaktinformationen"}),(0,Pa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("span",{className:"text-sm text-gray-600",children:"E-Mail:"}),(0,Pa.jsx)("p",{className:"font-medium",children:null===i||void 0===i?void 0:i.email})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("span",{className:"text-sm text-gray-600",children:"Telefon:"}),(0,Pa.jsx)("p",{className:"font-medium",children:(null===i||void 0===i?void 0:i.phone)||"Nicht angegeben"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("span",{className:"text-sm text-gray-600",children:"Mobiltelefon:"}),(0,Pa.jsx)("p",{className:"font-medium",children:(null===i||void 0===i?void 0:i.phone_mobile)||"Nicht angegeben"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("span",{className:"text-sm text-gray-600",children:"Adresse:"}),(0,Pa.jsx)("p",{className:"font-medium",children:(null===i||void 0===i?void 0:i.address)||"Nicht angegeben"})]})]})]})]})]})})},Mg=()=>{const e=La(),t=null===e||void 0===e?void 0:e.user,{userId:n}=function(){let{matches:e}=s.useContext(Q),t=e[e.length-1];return t?t.params:{}}(),r=ne(),a=(0,s.useMemo)(()=>{if(n&&"me"!==n){const e=parseInt(n,10);return Number.isNaN(e)?null===t||void 0===t?void 0:t.id:e}return null===t||void 0===t?void 0:t.id},[n,t]);return a?(0,Pa.jsx)("div",{className:"flex-1 relative",children:(0,Pa.jsx)(Tg,{userId:a,onClose:()=>r(-1)})}):(0,Pa.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,Pa.jsx)("p",{className:"text-gray-600 text-center",children:"Kein Benutzer ausgew\xe4hlt oder keine Berechtigung."})})},Pg=()=>(0,Pa.jsx)("div",{className:"min-h-screen bg-slate-100",children:(0,Pa.jsx)(Ym,{})}),Og=oi("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Rg=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)({name:"",category:"",hazard_level:"medium",disposal_frequency_days:"",disposal_instructions:"",default_frequency:"weekly",waste_code:"",color:"#3B82F6",icon:"\ud83d\uddd1\ufe0f",description:"",safety_instructions:""});(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{r(!0);const e=await Ma.get("/waste/templates");t(e.data)}catch(e){console.error("Fehler beim Laden der Vorlagen:",e),an.error("Fehler beim Laden der Abfallvorlagen")}finally{r(!1)}},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(l(e),d(e)):(l(null),d({name:"",category:"",hazard_level:"medium",disposal_frequency_days:"",disposal_instructions:"",default_frequency:"weekly",waste_code:"",color:"#3B82F6",icon:"\ud83d\uddd1\ufe0f",description:"",safety_instructions:""})),i(!0)},m=()=>{i(!1),l(null)},f=e=>{const t={low:"bg-green-100 text-green-800 border-green-300",medium:"bg-yellow-100 text-yellow-800 border-yellow-300",high:"bg-orange-100 text-orange-800 border-orange-300",critical:"bg-red-100 text-red-800 border-red-300"};return t[e]||t.medium};return n?(0,Pa.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Pa.jsx)("div",{className:"min-h-screen bg-gray-100 py-6",children:(0,Pa.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,Pa.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Abfallvorlagen verwalten"}),(0,Pa.jsx)("p",{className:"text-gray-600",children:"Erstellen und bearbeiten Sie Vorlagen f\xfcr verschiedene Abfalltypen"})]}),(0,Pa.jsxs)("button",{onClick:()=>p(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition shadow-md",children:[(0,Pa.jsx)(gs,{className:"w-5 h-5"}),"Neue Vorlage"]})]}),0===e.length?(0,Pa.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[(0,Pa.jsx)(gg,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Pa.jsx)("p",{className:"text-gray-500 text-lg",children:"Keine Vorlagen vorhanden"}),(0,Pa.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Erstellen Sie Ihre erste Abfallvorlage"})]}):(0,Pa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{return(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition p-6",style:{borderLeft:"4px solid ".concat(e.color||"#3B82F6")},children:[(0,Pa.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pa.jsx)("span",{className:"text-3xl",children:e.icon||"\ud83d\uddd1\ufe0f"}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,Pa.jsx)("p",{className:"text-sm text-gray-600",children:e.category})]})]}),(0,Pa.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(f(e.hazard_level)),children:(t=e.hazard_level,{low:"Niedrig",medium:"Mittel",high:"Hoch",critical:"Kritisch"}[t]||t)})]}),e.description&&(0,Pa.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),e.waste_code&&(0,Pa.jsxs)("div",{className:"mb-3 flex items-center gap-2 text-sm",children:[(0,Pa.jsx)(bg,{className:"w-4 h-4 text-blue-500"}),(0,Pa.jsxs)("span",{className:"text-gray-700",children:["Code: ",e.waste_code]})]}),e.disposal_frequency_days&&(0,Pa.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Entsorgung alle ",e.disposal_frequency_days," Tage"]}),(0,Pa.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-gray-200",children:[(0,Pa.jsxs)("button",{onClick:()=>p(e),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm",children:[(0,Pa.jsx)(Og,{className:"w-4 h-4"}),"Bearbeiten"]}),(0,Pa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Sind Sie sicher, dass Sie diese Vorlage l\xf6schen m\xf6chten?"))try{await Ma.delete("/waste/templates/".concat(e)),an.success("Vorlage erfolgreich gel\xf6scht"),u()}catch(r){var t,n;console.error("Fehler beim L\xf6schen:",r),an.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim L\xf6schen der Vorlage")}})(e.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition text-sm",children:(0,Pa.jsx)(hi,{className:"w-4 h-4"})})]}),e.usage_count>0&&(0,Pa.jsxs)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Verwendet in ",e.usage_count," Eintr\xe4gen"]})]},e.id);var t})}),a&&(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold mb-6",children:o?"Vorlage bearbeiten":"Neue Vorlage erstellen"}),(0,Pa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.name&&c.category&&c.hazard_level)try{o?(await Ma.put("/waste/templates/".concat(o.id),c),an.success("Vorlage erfolgreich aktualisiert")):(await Ma.post("/waste/templates",c),an.success("Vorlage erfolgreich erstellt")),u(),m()}catch(r){var t,n;console.error("Fehler beim Speichern:",r),an.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Fehler beim Speichern der Vorlage")}else an.error("Bitte f\xfcllen Sie alle Pflichtfelder aus")},className:"space-y-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",(0,Pa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pa.jsx)("input",{type:"text",value:c.name,onChange:e=>d(He(He({},c),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kategorie ",(0,Pa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pa.jsx)("input",{type:"text",value:c.category,onChange:e=>d(He(He({},c),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Gefahrenstufe ",(0,Pa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pa.jsxs)("select",{value:c.hazard_level,onChange:e=>d(He(He({},c),{},{hazard_level:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Pa.jsx)("option",{value:"low",children:"Niedrig"}),(0,Pa.jsx)("option",{value:"medium",children:"Mittel"}),(0,Pa.jsx)("option",{value:"high",children:"Hoch"}),(0,Pa.jsx)("option",{value:"critical",children:"Kritisch"})]})]})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (Emoji)"}),(0,Pa.jsx)("input",{type:"text",value:c.icon,onChange:e=>d(He(He({},c),{},{icon:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\ud83d\uddd1\ufe0f"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farbe"}),(0,Pa.jsx)("input",{type:"color",value:c.color,onChange:e=>d(He(He({},c),{},{color:e.target.value})),className:"w-full h-10 px-1 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,Pa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Abfallcode (AVV)"}),(0,Pa.jsx)("input",{type:"text",value:c.waste_code,onChange:e=>d(He(He({},c),{},{waste_code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"z.B. 18 01 01"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entsorgungsintervall (Tage)"}),(0,Pa.jsx)("input",{type:"number",value:c.disposal_frequency_days,onChange:e=>d(He(He({},c),{},{disposal_frequency_days:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"z.B. 7"})]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschreibung"}),(0,Pa.jsx)("textarea",{value:c.description,onChange:e=>d(He(He({},c),{},{description:e.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Allgemeine Informationen \xfcber diesen Abfalltyp..."})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entsorgungsprotokoll"}),(0,Pa.jsx)("textarea",{value:c.disposal_instructions,onChange:e=>d(He(He({},c),{},{disposal_instructions:e.target.value})),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Schritt-f\xfcr-Schritt Anleitung zur Entsorgung..."})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sicherheitshinweise"}),(0,Pa.jsx)("textarea",{value:c.safety_instructions,onChange:e=>d(He(He({},c),{},{safety_instructions:e.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Wichtige Sicherheitshinweise beim Umgang mit diesem Abfall..."})]}),(0,Pa.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Pa.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition font-medium",children:o?"Aktualisieren":"Erstellen"}),(0,Pa.jsx)("button",{type:"button",onClick:m,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Abbrechen"})]})]})]})})]})})},Ig=oi("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Lg=oi("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]),Bg=oi("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),zg=oi("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Fg=()=>{const{user:e}=La(),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)([]),[i,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(!0),[f,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)({title:"",content:"",category_id:null}),[x,v]=(0,s.useState)([]),[y,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)("recent"),[k,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{C(),_()},[i]);const C=async()=>{try{const e=await es.get("/kb/categories");n(e.data)}catch(e){console.error("Error loading categories:",e)}},_=(0,s.useCallback)(async()=>{try{m(!0);const e={};i&&(e.category_id=i),j&&(e.sort=j);const t=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return es.get("/kb/articles",{params:e})}(e);a(t.data)}catch(e){console.error("Error loading articles:",e)}finally{m(!1)}},[i,j]),E=async e=>{try{const t=await(e=>es.get("/kb/articles/".concat(e)))(e);u(t.data)}catch(t){an.error("Fehler beim Laden des Artikels")}},D=async(e,t)=>{try{await((e,t)=>es.post("/kb/articles/".concat(e,"/vote"),{is_helpful:t}))(e,t),an.success(t?"Als hilfreich markiert":"Feedback gespeichert"),E(e)}catch(n){an.error("Fehler")}};return d?(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 pb-20 lg:pb-6",children:(0,Pa.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[(0,Pa.jsxs)("button",{onClick:()=>u(null),className:"flex items-center gap-2 mb-6 text-blue-600 hover:text-blue-700 font-medium transition-colors group",children:[(0,Pa.jsx)(Ig,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),(0,Pa.jsx)("span",{children:"Zur\xfcck zur \xdcbersicht"})]}),(0,Pa.jsxs)("article",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,Pa.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 sm:p-8",children:[(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[(0,Pa.jsx)("span",{className:"px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-sm text-sm font-medium",children:d.category_name||"Allgemein"}),(0,Pa.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/90",children:[(0,Pa.jsx)(Eg,{className:"w-4 h-4"}),(0,Pa.jsxs)("span",{children:[d.views_count||0," Aufrufe"]})]})]}),(0,Pa.jsx)("h1",{className:"text-2xl sm:text-4xl font-bold leading-tight",children:d.title})]}),(0,Pa.jsxs)("div",{className:"p-6 sm:p-8",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-3 pb-6 border-b border-gray-200",children:[(0,Pa.jsx)("img",{src:d.author_photo||"/default-avatar.png",alt:d.author_name,className:"w-12 h-12 rounded-full border-2 border-blue-500"}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("p",{className:"font-semibold text-gray-900",children:d.author_name}),(0,Pa.jsx)("p",{className:"text-sm text-gray-500",children:new Date(d.created_at).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,Pa.jsx)("div",{className:"prose prose-lg max-w-none mt-8 text-gray-700 leading-relaxed",children:d.content.split("\n").map((e,t)=>(0,Pa.jsx)("p",{className:"mb-4",children:e},t))}),d.media&&d.media.length>0&&(0,Pa.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,Pa.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[(0,Pa.jsx)(zm,{className:"w-5 h-5 text-blue-600"}),"Medieninhalte"]}),(0,Pa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.media.map(e=>(0,Pa.jsxs)("div",{className:"rounded-xl overflow-hidden shadow-md",children:["image"===e.media_type&&(0,Pa.jsx)("img",{src:e.file_url,alt:e.caption||"",className:"w-full h-auto"}),"audio"===e.media_type&&(0,Pa.jsxs)("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 p-6",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Pa.jsx)(ko,{className:"w-6 h-6 text-purple-600"}),(0,Pa.jsx)("span",{className:"font-medium text-gray-900",children:"Audio-Notiz"})]}),(0,Pa.jsx)("audio",{src:e.file_url,controls:!0,className:"w-full"})]})]},e.id))})]}),(0,Pa.jsxs)("div",{className:"mt-10 pt-8 border-t border-gray-200",children:[(0,Pa.jsx)("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:"War dieser Artikel hilfreich?"}),(0,Pa.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Pa.jsxs)("button",{onClick:()=>D(d.id,!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:shadow-lg hover:scale-105 transition-all font-medium",children:[(0,Pa.jsx)(di,{className:"w-5 h-5"}),"Ja, hilfreich (",d.helpful_count||0,")"]}),(0,Pa.jsxs)("button",{onClick:()=>D(d.id,!1),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-xl hover:shadow-lg hover:scale-105 transition-all font-medium",children:[(0,Pa.jsx)(Lg,{className:"w-5 h-5"}),"Nicht hilfreich (",d.not_helpful_count||0,")"]})]})]})]})]})]})}):(0,Pa.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 pb-20 lg:pb-6",children:[(0,Pa.jsx)("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white px-4 sm:px-6 lg:px-8 py-6 sm:py-10 shadow-xl",children:(0,Pa.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Pa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,Pa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pa.jsx)("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:(0,Pa.jsx)(Bg,{className:"w-8 h-8 sm:w-10 sm:h-10"})}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("h1",{className:"text-2xl sm:text-4xl font-bold",children:"Wissensdatenbank"}),(0,Pa.jsx)("p",{className:"text-sm sm:text-base text-white/80 mt-1",children:"Gemeinsam lernen und wachsen"})]})]}),(0,Pa.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white text-blue-600 rounded-xl hover:bg-blue-50 hover:shadow-lg transition-all font-semibold",children:[(0,Pa.jsx)(gs,{className:"w-5 h-5"}),(0,Pa.jsx)("span",{className:"hidden sm:inline",children:"Neuer Artikel"}),(0,Pa.jsx)("span",{className:"sm:hidden",children:"Erstellen"})]})]}),(0,Pa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!l.trim())return _();try{m(!0);const e=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return es.get("/kb/search",{params:He({q:e},t)})}(l);a(e.data)}catch(t){an.error("Suchfehler")}finally{m(!1)}},className:"flex gap-2 sm:gap-3",children:[(0,Pa.jsxs)("div",{className:"flex-1 relative",children:[(0,Pa.jsx)(wf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Pa.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Artikel durchsuchen...",className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-gray-900 shadow-lg focus:ring-4 focus:ring-blue-300 transition-all"})]}),(0,Pa.jsx)("button",{type:"submit",className:"px-6 sm:px-8 py-3.5 bg-blue-700 hover:bg-blue-800 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all",children:"Suchen"})]})]})}),(0,Pa.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,Pa.jsx)("div",{className:"lg:hidden mb-4",children:(0,Pa.jsxs)("button",{onClick:()=>S(!k),className:"flex items-center gap-2 w-full px-4 py-3 bg-white rounded-xl shadow-md hover:shadow-lg transition-all",children:[(0,Pa.jsx)(wg,{className:"w-5 h-5 text-blue-600"}),(0,Pa.jsx)("span",{className:"font-medium",children:"Filter & Kategorien"})]})}),(0,Pa.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,Pa.jsx)("aside",{className:"\n            lg:block lg:w-72 lg:flex-shrink-0\n            ".concat(k?"block":"hidden","\n          "),children:(0,Pa.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-5 lg:sticky lg:top-6",children:[(0,Pa.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[(0,Pa.jsxs)("h2",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,Pa.jsx)(jg,{className:"w-5 h-5 text-blue-600"}),"Sortierung"]}),(0,Pa.jsxs)("div",{className:"space-y-2",children:[(0,Pa.jsxs)("button",{onClick:()=>N("recent"),className:"w-full text-left px-4 py-2.5 rounded-lg transition-all ".concat("recent"===j?"bg-blue-100 text-blue-700 font-medium":"hover:bg-gray-100"),children:[(0,Pa.jsx)(Hm,{className:"w-4 h-4 inline mr-2"}),"Neueste zuerst"]}),(0,Pa.jsxs)("button",{onClick:()=>N("popular"),className:"w-full text-left px-4 py-2.5 rounded-lg transition-all ".concat("popular"===j?"bg-blue-100 text-blue-700 font-medium":"hover:bg-gray-100"),children:[(0,Pa.jsx)(jg,{className:"w-4 h-4 inline mr-2"}),"Beliebteste"]})]})]}),(0,Pa.jsx)("h2",{className:"font-bold text-gray-900 mb-3",children:"Kategorien"}),(0,Pa.jsxs)("div",{className:"space-y-1",children:[(0,Pa.jsx)("button",{onClick:()=>{o(null),S(!1)},className:"w-full text-left px-4 py-2.5 rounded-lg transition-all ".concat(i?"hover:bg-gray-100":"bg-blue-100 text-blue-700 font-medium"),children:"Alle Artikel"}),t.map(e=>(0,Pa.jsxs)("button",{onClick:()=>{o(e.id),S(!1)},className:"w-full text-left px-4 py-2.5 rounded-lg flex items-center justify-between transition-all ".concat(i===e.id?"bg-blue-100 text-blue-700 font-medium":"hover:bg-gray-100"),children:[(0,Pa.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Pa.jsx)("span",{children:e.icon}),(0,Pa.jsx)("span",{className:"truncate",children:e.name})]}),(0,Pa.jsx)("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:e.articles_count||0})]},e.id))]})]})}),(0,Pa.jsx)("main",{className:"flex-1",children:p?(0,Pa.jsxs)("div",{className:"text-center py-20",children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,Pa.jsx)("p",{className:"text-gray-600",children:"Artikel werden geladen..."})]}):(0,Pa.jsxs)("div",{className:"grid gap-5",children:[r.map(e=>(0,Pa.jsxs)("div",{onClick:()=>E(e.id),className:"bg-white rounded-2xl shadow-md hover:shadow-2xl p-5 sm:p-6 cursor-pointer transition-all hover:scale-[1.02] border border-gray-100",children:[(0,Pa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-3",children:[(0,Pa.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight flex-1",children:e.title}),e.category_name&&(0,Pa.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium w-fit",style:{backgroundColor:(e.category_color||"#3B82F6")+"20",color:e.category_color||"#3B82F6"},children:e.category_name})]}),e.excerpt&&(0,Pa.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.excerpt}),(0,Pa.jsxs)("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-sm text-gray-500",children:[(0,Pa.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,Pa.jsx)(Eg,{className:"w-4 h-4"}),e.views_count||0]}),(0,Pa.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,Pa.jsx)(di,{className:"w-4 h-4"}),e.helpful_count||0]}),(0,Pa.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,Pa.jsx)(yf,{className:"w-4 h-4"}),e.comments_count||0]}),(0,Pa.jsx)("span",{className:"hidden sm:inline",children:"\u2022"}),(0,Pa.jsx)("span",{className:"font-medium text-gray-700",children:e.author_name})]})]},e.id)),0===r.length&&(0,Pa.jsxs)("div",{className:"text-center py-20",children:[(0,Pa.jsx)(Bg,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Pa.jsx)("p",{className:"text-gray-500 text-lg",children:"Keine Artikel gefunden"})]})]})})]})]}),f&&(0,Pa.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:(0,Pa.jsxs)("div",{className:"bg-white rounded-2xl max-w-3xl w-full my-8 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,Pa.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-t-2xl flex items-center justify-between",children:[(0,Pa.jsx)("h2",{className:"text-2xl font-bold",children:"Neuen Artikel erstellen"}),(0,Pa.jsx)("button",{onClick:()=>{h(!1),v([])},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,Pa.jsx)(gi,{className:"w-6 h-6"})})]}),(0,Pa.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Titel ",(0,Pa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pa.jsx)("input",{type:"text",value:g.title,onChange:e=>b(He(He({},g),{},{title:e.target.value})),placeholder:"Geben Sie einen aussagekr\xe4ftigen Titel ein...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-200 transition-all"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Kategorie"}),(0,Pa.jsxs)("select",{value:g.category_id||"",onChange:e=>b(He(He({},g),{},{category_id:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-200 transition-all",children:[(0,Pa.jsx)("option",{value:"",children:"W\xe4hlen Sie eine Kategorie..."}),t.map(e=>(0,Pa.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Inhalt ",(0,Pa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pa.jsx)("textarea",{value:g.content,onChange:e=>b(He(He({},g),{},{content:e.target.value})),rows:"8",placeholder:"Beschreiben Sie das Thema detailliert...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-200 transition-all resize-none"})]}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,Pa.jsx)(zg,{className:"w-5 h-5 text-blue-600"}),"Medien hinzuf\xfcgen (optional)"]}),(0,Pa.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:border-blue-500 transition-all",children:[(0,Pa.jsx)("input",{type:"file",id:"media-upload",multiple:!0,accept:"image/*,audio/*",onChange:async e=>{const t=Array.from(e.target.files);0!==t.length&&v(e=>[...e,...t.map(e=>({file:e,preview:URL.createObjectURL(e)}))])},className:"hidden"}),(0,Pa.jsxs)("label",{htmlFor:"media-upload",className:"flex flex-col items-center gap-3 cursor-pointer",children:[(0,Pa.jsx)("div",{className:"p-4 bg-blue-100 rounded-full",children:(0,Pa.jsx)(zg,{className:"w-8 h-8 text-blue-600"})}),(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsx)("p",{className:"font-medium text-gray-900",children:"Bilder oder Audio hochladen"}),(0,Pa.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG, MP3, WAV bis zu 10MB"})]})]})]}),x.length>0&&(0,Pa.jsx)("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-3",children:x.map((e,t)=>(0,Pa.jsxs)("div",{className:"relative group",children:[(0,Pa.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 border-2 border-gray-200",children:e.file.type.startsWith("image/")?(0,Pa.jsx)("img",{src:e.preview,alt:"",className:"w-full h-full object-cover"}):(0,Pa.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-purple-100 to-pink-100",children:[(0,Pa.jsx)(ko,{className:"w-12 h-12 text-purple-600 mb-2"}),(0,Pa.jsx)("p",{className:"text-xs text-gray-700 font-medium px-2 text-center truncate w-full",children:e.file.name})]})}),(0,Pa.jsx)("button",{onClick:()=>{return e=t,void v(t=>t.filter((t,n)=>n!==e));var e},className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Pa.jsx)(gi,{className:"w-4 h-4"})})]},t))})]}),(0,Pa.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[(0,Pa.jsx)("button",{onClick:()=>{h(!1),v([])},className:"px-6 py-3 border-2 border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-all",children:"Abbrechen"}),(0,Pa.jsx)("button",{onClick:async()=>{if(!g.title||!g.content)return an.error("Titel und Inhalt erforderlich");try{w(!0);const t=(await(e=g,es.post("/kb/articles",e))).data.id;for(const e of x){const n=new FormData;n.append("file",e.file),n.append("media_type",e.file.type.startsWith("image/")?"image":"audio"),await ts(t,n)}an.success("Artikel erfolgreich erstellt!"),h(!1),b({title:"",content:"",category_id:null}),v([]),_()}catch(t){an.error("Fehler beim Erstellen")}finally{w(!1)}var e},disabled:y,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:y?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Wird hochgeladen..."]}):(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(gs,{className:"w-5 h-5"}),"Artikel erstellen"]})})]})]})]})})]})},Ug=e=>{let{children:t}=e;const n=La(),r=null===n||void 0===n?void 0:n.isAuthenticated,a=null===n||void 0===n?void 0:n.user,[i,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{r&&a&&!a.first_login_completed?o(!0):o(!1)},[r,a]),r?i?(0,Pa.jsxs)(Pa.Fragment,{children:[t,(0,Pa.jsx)(Cg,{onComplete:()=>o(!1)})]}):t:(0,Pa.jsx)(be,{to:"/login",replace:!0})},Wg=e=>{let{children:t}=e;const n=La(),r=null===n||void 0===n?void 0:n.isAuthenticated,a=null===n||void 0===n?void 0:n.user;return r?["admin","superadmin"].includes(null===a||void 0===a?void 0:a.role)?t:(0,Pa.jsx)(be,{to:"/dashboard",replace:!0}):(0,Pa.jsx)(be,{to:"/login",replace:!0})},Hg=()=>{const e=La(),{t:t}=Ha();return(null===e||void 0===e?void 0:e.loading)?(0,Pa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-900 flex items-center justify-center",children:(0,Pa.jsxs)("div",{className:"text-center",children:[(0,Pa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,Pa.jsx)("p",{className:"text-white text-lg",children:t("app.loading")})]})}):(0,Pa.jsx)(Va,{children:(0,Pa.jsx)(Ae,{children:(0,Pa.jsxs)("div",{className:"min-h-screen flex flex-col pb-16 lg:pb-0",children:[(0,Pa.jsx)(rn,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"10px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"},style:{background:"#10B981"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"},style:{background:"#EF4444"}},loading:{iconTheme:{primary:"#3B82F6",secondary:"#fff"}}}}),(0,Pa.jsxs)(ye,{children:[(0,Pa.jsx)(xe,{path:"/login",element:(0,Pa.jsx)(ms,{})}),(0,Pa.jsx)(xe,{path:"/first-setup",element:(0,Pa.jsx)(pg,{})}),(0,Pa.jsx)(xe,{path:"/dashboard",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(gf,{})]})})}),(0,Pa.jsx)(xe,{path:"/messages",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(sg,{})]})})}),(0,Pa.jsx)(xe,{path:"/waste",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(lg,{})]})})}),(0,Pa.jsx)(xe,{path:"/schedule",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(ug,{})]})})}),(0,Pa.jsx)(xe,{path:"/task-pool",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(Pg,{})]})})}),(0,Pa.jsx)(xe,{path:"/kanban",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(Pg,{})]})})}),(0,Pa.jsx)(xe,{path:"/profile/me",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(Mg,{})]})})}),(0,Pa.jsx)(xe,{path:"/profile/:userId",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(Mg,{})]})})}),(0,Pa.jsx)(xe,{path:"/users",element:(0,Pa.jsx)(Wg,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(fg,{})]})})}),(0,Pa.jsx)(xe,{path:"/admin",element:(0,Pa.jsx)(Wg,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(Sg,{})]})})}),(0,Pa.jsx)(xe,{path:"/waste-templates",element:(0,Pa.jsx)(Wg,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(Rg,{})]})})}),(0,Pa.jsx)(xe,{path:"/knowledge-base",element:(0,Pa.jsx)(Ug,{children:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(os,{}),(0,Pa.jsx)(Fg,{})]})})}),(0,Pa.jsx)(xe,{path:"/",element:(0,Pa.jsx)(be,{to:"/dashboard",replace:!0})})]}),(0,Pa.jsx)(ps,{})]})})})};const qg=function(){return(0,Pa.jsx)(Wa,{children:(0,Pa.jsx)(Ia,{children:(0,Pa.jsx)(Hg,{})})})};l.createRoot(document.getElementById("root")).render((0,Pa.jsx)(s.StrictMode,{children:(0,Pa.jsx)(qg,{})}))})();
//# sourceMappingURL=main.484ea521.js.map